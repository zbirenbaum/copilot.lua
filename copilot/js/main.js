"use strict";var xUe=Object.create;var Ix=Object.defineProperty;var X0e=Object.getOwnPropertyDescriptor;var bUe=Object.getOwnPropertyNames;var vUe=Object.getPrototypeOf,IUe=Object.prototype.hasOwnProperty;var K0e=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),J0e=e=>{throw TypeError(e)};var o=(e,t)=>Ix(e,"name",{value:t,configurable:!0});var TUe=(e,t)=>()=>(e&&(t=e(e=0)),t);var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Nh=(e,t)=>{for(var r in t)Ix(e,r,{get:t[r],enumerable:!0})},Z0e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bUe(t))!IUe.call(e,i)&&i!==r&&Ix(e,i,{get:()=>t[i],enumerable:!(n=X0e(t,i))||n.enumerable});return e};var ct=(e,t,r)=>(r=e!=null?xUe(vUe(e)):{},Z0e(t||!e||!e.__esModule?Ix(r,"default",{value:e,enumerable:!0}):r,e)),wUe=e=>Z0e(Ix({},"__esModule",{value:!0}),e),ru=(e,t,r,n)=>{for(var i=n>1?void 0:n?X0e(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&Ix(t,r,i),i},Aa=(e,t)=>(r,n)=>t(r,n,e);var vV=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&J0e("Object expected");var n,i;r&&(n=t[K0e("asyncDispose")]),n===void 0&&(n=t[K0e("dispose")],r&&(i=n)),typeof n!="function"&&J0e("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},IV=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var _Ue,importMetaUrlShim,d=TUe(()=>{"use strict";({pathToFileURL:_Ue}=require("node:url")),importMetaUrlShim=_Ue(__filename).href});var tce=V(TV=>{d();var ece="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");TV.encode=function(e){if(0<=e&&e<ece.length)return ece[e];throw new TypeError("Must be between 0 and 63: "+e)};TV.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var SV=V(_V=>{d();var rce=tce(),wV=5,nce=1<<wV,ice=nce-1,oce=nce;function SUe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(SUe,"toVLQSigned");function BUe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(BUe,"fromVLQSigned");_V.encode=o(function(t){var r="",n,i=SUe(t);do n=i&ice,i>>>=wV,i>0&&(n|=oce),r+=rce.encode(n);while(i>0);return r},"base64VLQ_encode");_V.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=rce.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&oce),c&=ice,s=s+(c<<a),a+=wV}while(l);n.value=BUe(s),n.rest=r},"base64VLQ_decode")});var _x=V(n0=>{d();function kUe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o(kUe,"getArg");n0.getArg=kUe;var sce=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,RUe=/^data:.+\,.+$/;function w9(e){var t=e.match(sce);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(w9,"urlParse");n0.urlParse=w9;function Tx(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(Tx,"urlGenerate");n0.urlGenerate=Tx;function BV(e){var t=e,r=w9(e);if(r){if(!r.path)return e;t=r.path}for(var n=n0.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,Tx(r)):t}o(BV,"normalize");n0.normalize=BV;function ace(e,t){e===""&&(e="."),t===""&&(t=".");var r=w9(t),n=w9(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Tx(r);if(r||t.match(RUe))return t;if(n&&!n.host&&!n.path)return n.host=t,Tx(n);var i=t.charAt(0)==="/"?t:BV(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,Tx(n)):i}o(ace,"join");n0.join=ace;n0.isAbsolute=function(e){return e.charAt(0)==="/"||sce.test(e)};function DUe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(DUe,"relative");n0.relative=DUe;var lce=function(){var e=Object.create(null);return!("__proto__"in e)}();function cce(e){return e}o(cce,"identity");function PUe(e){return uce(e)?"$"+e:e}o(PUe,"toSetString");n0.toSetString=lce?cce:PUe;function NUe(e){return uce(e)?e.slice(1):e}o(NUe,"fromSetString");n0.fromSetString=lce?cce:NUe;function uce(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(uce,"isProtoString");function FUe(e,t,r){var n=wx(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:wx(e.name,t.name)}o(FUe,"compareByOriginalPositions");n0.compareByOriginalPositions=FUe;function LUe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=wx(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:wx(e.name,t.name)}o(LUe,"compareByGeneratedPositionsDeflated");n0.compareByGeneratedPositionsDeflated=LUe;function wx(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(wx,"strcmp");function QUe(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=wx(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:wx(e.name,t.name)}o(QUe,"compareByGeneratedPositionsInflated");n0.compareByGeneratedPositionsInflated=QUe;function MUe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(MUe,"parseSourceMapInput");n0.parseSourceMapInput=MUe;function OUe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=w9(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=ace(Tx(n),t)}return BV(t)}o(OUe,"computeSourceURL");n0.computeSourceURL=OUe});var DV=V(fce=>{d();var kV=_x(),RV=Object.prototype.hasOwnProperty,R3=typeof Map<"u";function _g(){this._array=[],this._set=R3?new Map:Object.create(null)}o(_g,"ArraySet");_g.fromArray=o(function(t,r){for(var n=new _g,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");_g.prototype.size=o(function(){return R3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");_g.prototype.add=o(function(t,r){var n=R3?t:kV.toSetString(t),i=R3?this.has(t):RV.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(R3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");_g.prototype.has=o(function(t){if(R3)return this._set.has(t);var r=kV.toSetString(t);return RV.call(this._set,r)},"ArraySet_has");_g.prototype.indexOf=o(function(t){if(R3){var r=this._set.get(t);if(r>=0)return r}else{var n=kV.toSetString(t);if(RV.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");_g.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");_g.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");fce.ArraySet=_g});var hce=V(mce=>{d();var dce=_x();function UUe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||dce.compareByGeneratedPositionsInflated(e,t)<=0}o(UUe,"generatedPositionAfter");function KB(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(KB,"MappingList");KB.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");KB.prototype.add=o(function(t){UUe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");KB.prototype.toArray=o(function(){return this._sorted||(this._array.sort(dce.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");mce.MappingList=KB});var PV=V(pce=>{d();var _9=SV(),ya=_x(),JB=DV().ArraySet,qUe=hce().MappingList;function Cf(e){e||(e={}),this._file=ya.getArg(e,"file",null),this._sourceRoot=ya.getArg(e,"sourceRoot",null),this._skipValidation=ya.getArg(e,"skipValidation",!1),this._sources=new JB,this._names=new JB,this._mappings=new qUe,this._sourcesContents=null}o(Cf,"SourceMapGenerator");Cf.prototype._version=3;Cf.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Cf({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=ya.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=ya.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Cf.prototype.addMapping=o(function(t){var r=ya.getArg(t,"generated"),n=ya.getArg(t,"original",null),i=ya.getArg(t,"source",null),s=ya.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Cf.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=ya.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ya.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[ya.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Cf.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=ya.relative(s,i));var a=new JB,l=new JB;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=ya.join(n,c.source)),s!=null&&(c.source=ya.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=ya.join(n,c)),s!=null&&(c=ya.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Cf.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Cf.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,A=h.length;p<A;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!ya.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=_9.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=_9.encode(m-a),a=m,c+=_9.encode(u.originalLine-1-i),i=u.originalLine-1,c+=_9.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=_9.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Cf.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=ya.relative(r,n));var i=ya.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Cf.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Cf.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");pce.SourceMapGenerator=Cf});var gce=V(D3=>{d();D3.GREATEST_LOWER_BOUND=1;D3.LEAST_UPPER_BOUND=2;function NV(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?NV(a,t,r,n,i,s):s==D3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?NV(e,a,r,n,i,s):s==D3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(NV,"recursiveSearch");D3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=NV(-1,r.length,t,r,n,i||D3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var yce=V(Ace=>{d();function FV(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(FV,"swap");function GUe(e,t){return Math.round(e+Math.random()*(t-e))}o(GUe,"randomIntInRange");function LV(e,t,r,n){if(r<n){var i=GUe(r,n),s=r-1;FV(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,FV(e,s,l));FV(e,s+1,l);var c=s+1;LV(e,t,r,c-1),LV(e,t,c+1,n)}}o(LV,"doQuickSort");Ace.quickSort=function(e,t){LV(e,t,0,e.length-1)}});var Ece=V(XB=>{d();var Pr=_x(),QV=gce(),Sx=DV().ArraySet,WUe=SV(),S9=yce().quickSort;function Vo(e,t){var r=e;return typeof e=="string"&&(r=Pr.parseSourceMapInput(e)),r.sections!=null?new zd(r,t):new Pl(r,t)}o(Vo,"SourceMapConsumer");Vo.fromSourceMap=function(e,t){return Pl.fromSourceMap(e,t)};Vo.prototype._version=3;Vo.prototype.__generatedMappings=null;Object.defineProperty(Vo.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Vo.prototype.__originalMappings=null;Object.defineProperty(Vo.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Vo.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");Vo.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Vo.GENERATED_ORDER=1;Vo.ORIGINAL_ORDER=2;Vo.GREATEST_LOWER_BOUND=1;Vo.LEAST_UPPER_BOUND=2;Vo.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||Vo.GENERATED_ORDER,a;switch(s){case Vo.GENERATED_ORDER:a=this._generatedMappings;break;case Vo.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Pr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Vo.prototype.allGeneratedPositionsFor=o(function(t){var r=Pr.getArg(t,"line"),n={source:Pr.getArg(t,"source"),originalLine:r,originalColumn:Pr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,QV.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");XB.SourceMapConsumer=Vo;function Pl(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sources"),s=Pr.getArg(r,"names",[]),a=Pr.getArg(r,"sourceRoot",null),l=Pr.getArg(r,"sourcesContent",null),c=Pr.getArg(r,"mappings"),u=Pr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Pr.normalize(a)),i=i.map(String).map(Pr.normalize).map(function(f){return a&&Pr.isAbsolute(a)&&Pr.isAbsolute(f)?Pr.relative(a,f):f}),this._names=Sx.fromArray(s.map(String),!0),this._sources=Sx.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Pr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o(Pl,"BasicSourceMapConsumer");Pl.prototype=Object.create(Vo.prototype);Pl.prototype.consumer=Vo;Pl.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Pr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Pl.fromSourceMap=o(function(t,r){var n=Object.create(Pl.prototype),i=n._names=Sx.fromArray(t._names.toArray(),!0),s=n._sources=Sx.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Pr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new Cce;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return S9(n.__originalMappings,Pr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Pl.prototype._version=3;Object.defineProperty(Pl.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function Cce(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(Cce,"Mapping");Pl.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],A=[],E,x,v,b,S;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(E=new Cce,E.generatedLine=n,b=f;b<u&&!this._charIsMappingSeparator(t,b);b++);if(x=t.slice(f,b),v=m[x],v)f+=x.length;else{for(v=[];f<b;)WUe.decode(t,f,h),S=h.value,f=h.rest,v.push(S);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");m[x]=v}E.generatedColumn=i+v[0],i=E.generatedColumn,v.length>1&&(E.source=l+v[1],l+=v[1],E.originalLine=s+v[2],s=E.originalLine,E.originalLine+=1,E.originalColumn=a+v[3],a=E.originalColumn,v.length>4&&(E.name=c+v[4],c+=v[4])),A.push(E),typeof E.originalLine=="number"&&p.push(E)}S9(A,Pr.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,S9(p,Pr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Pl.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return QV.search(t,r,s,a)},"SourceMapConsumer_findMapping");Pl.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Pl.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Pr.compareByGeneratedPositionsDeflated,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Pr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Pr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Pr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Pr.getArg(i,"originalLine",null),column:Pr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Pl.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Pl.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Pr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Pr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Pl.prototype.generatedPositionFor=o(function(t){var r=Pr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Pr.getArg(t,"line"),originalColumn:Pr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Pr.getArg(s,"generatedLine",null),column:Pr.getArg(s,"generatedColumn",null),lastColumn:Pr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");XB.BasicSourceMapConsumer=Pl;function zd(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Sx,this._names=new Sx;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Pr.getArg(a,"offset"),c=Pr.getArg(l,"line"),u=Pr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new Vo(Pr.getArg(a,"map"),t)}})}o(zd,"IndexedSourceMapConsumer");zd.prototype=Object.create(Vo.prototype);zd.prototype.constructor=Vo;zd.prototype._version=3;Object.defineProperty(zd.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});zd.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=QV.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");zd.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");zd.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");zd.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Pr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");zd.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Pr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}S9(this.__generatedMappings,Pr.compareByGeneratedPositionsDeflated),S9(this.__originalMappings,Pr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");XB.IndexedSourceMapConsumer=zd});var bce=V(xce=>{d();var HUe=PV().SourceMapGenerator,ZB=_x(),VUe=/(\r?\n)/,jUe=10,Bx="$$$isSourceNode$$$";function nu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[Bx]=!0,n!=null&&this.add(n)}o(nu,"SourceNode");nu.fromStringWithSourceMap=o(function(t,r,n){var i=new nu,s=t.split(VUe),a=0,l=o(function(){var h=A(),p=A()||"";return h+p;function A(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",A=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,A),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=ZB.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var A=n?ZB.join(n,h.source):h.source;i.add(new nu(h.originalLine,h.originalColumn,A,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");nu.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Bx]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");nu.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Bx]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");nu.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Bx]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");nu.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");nu.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[Bx]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");nu.prototype.setSourceContent=o(function(t,r){this.sourceContents[ZB.toSetString(t)]=r},"SourceNode_setSourceContent");nu.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Bx]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(ZB.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");nu.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");nu.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new HUe(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===jUe?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");xce.SourceNode=nu});var vce=V(ek=>{d();ek.SourceMapGenerator=PV().SourceMapGenerator;ek.SourceMapConsumer=Ece().SourceMapConsumer;ek.SourceNode=bce().SourceNode});var Tce=V((_Rt,Ice)=>{d();var $Ue=Object.prototype.toString,MV=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function zUe(e){return $Ue.call(e).slice(8,-1)==="ArrayBuffer"}o(zUe,"isArrayBuffer");function YUe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return MV?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(YUe,"fromArrayBuffer");function KUe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return MV?Buffer.from(e,t):new Buffer(e,t)}o(KUe,"fromString");function JUe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return zUe(e)?YUe(e,t,r):typeof e=="string"?KUe(e,t):MV?Buffer.from(e):new Buffer(e)}o(JUe,"bufferFrom");Ice.exports=JUe});var Pce=V((N3,GV)=>{d();var XUe=vce().SourceMapConsumer,OV=require("path"),Fh;try{Fh=require("fs"),(!Fh.existsSync||!Fh.readFileSync)&&(Fh=null)}catch{}var ZUe=Tce();function wce(e,t){return e.require(t)}o(wce,"dynamicRequire");var _ce=!1,Sce=!1,UV=!1,B9="auto",P3={},k9={},eqe=/^data:application\/json[^,]+base64,/,E2=[],x2=[];function WV(){return B9==="browser"?!0:B9==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(WV,"isInBrowser");function tqe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(tqe,"hasGlobalProcessEventEmitter");function rqe(){return typeof process=="object"&&process!==null?process.version:""}o(rqe,"globalProcessVersion");function nqe(){if(typeof process=="object"&&process!==null)return process.stderr}o(nqe,"globalProcessStderr");function iqe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(iqe,"globalProcessExit");function tk(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(tk,"handlerExec");var HV=tk(E2);E2.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in P3)return P3[e];var t="";try{if(Fh)Fh.existsSync(e)&&(t=Fh.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return P3[e]=t});function qV(e,t){if(!e)return t;var r=OV.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+OV.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+OV.resolve(r.slice(i.length),t)}o(qV,"supportRelativeURL");function oqe(e){var t;if(WV())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=HV(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(oqe,"retrieveSourceMapURL");var VV=tk(x2);x2.push(function(e){var t=oqe(e);if(!t)return null;var r;if(eqe.test(t)){var n=t.slice(t.indexOf(",")+1);r=ZUe(n,"base64").toString(),t=e}else t=qV(e,t),r=HV(t);return r?{url:t,map:r}:null});function jV(e){var t=k9[e.source];if(!t){var r=VV(e.source);r?(t=k9[e.source]={url:r.url,map:new XUe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=qV(t.url,i);P3[l]=a}})):t=k9[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=qV(t.url,n.source),n}return e}o(jV,"mapSourcePosition");function kce(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=jV({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+kce(t[2])+")":e}o(kce,"mapEvalOrigin");function sqe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(sqe,"CallSiteToString");function Bce(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=sqe,t}o(Bce,"cloneCallSite");function Rce(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(rqe())?0:62;n===1&&i>a&&!WV()&&!e.isEval()&&(i-=a);var l=jV({source:r,line:n,column:i});t.curPosition=l,e=Bce(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=kce(u),e=Bce(e),e.getEvalOrigin=function(){return u}),e}o(Rce,"wrapCallSite");function aqe(e,t){UV&&(P3={},k9={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Rce(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(aqe,"prepareStackTrace");function Dce(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=P3[r];if(!s&&Fh&&Fh.existsSync(r))try{s=Fh.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(Dce,"getErrorSource");function lqe(e){var t=Dce(e),r=nqe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),iqe(1)}o(lqe,"printErrorAndExit");function cqe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return lqe(arguments[1])}return e.apply(this,arguments)}}o(cqe,"shimEmitUncaughtException");var uqe=E2.slice(0),fqe=x2.slice(0);N3.wrapCallSite=Rce;N3.getErrorSource=Dce;N3.mapSourcePosition=jV;N3.retrieveSourceMap=VV;N3.install=function(e){if(e=e||{},e.environment&&(B9=e.environment,["node","browser","auto"].indexOf(B9)===-1))throw new Error("environment "+B9+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(E2.length=0),E2.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(x2.length=0),x2.unshift(e.retrieveSourceMap)),e.hookRequire&&!WV()){var t=wce(GV,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return P3[a]=s,k9[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(UV||(UV="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),_ce||(_ce=!0,Error.prepareStackTrace=aqe),!Sce){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=wce(GV,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&tqe()&&(Sce=!0,cqe())}};N3.resetRetrieveHandlers=function(){E2.length=0,x2.length=0,E2=uqe.slice(0),x2=fqe.slice(0),VV=tk(x2),HV=tk(E2)}});var $V=V(()=>{d();Pce().install()});var xi=V((rk,Nce)=>{d();(function(e,t){typeof rk=="object"?Nce.exports=rk=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(rk,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function v(){}return o(v,"F"),function(b){var S;return v.prototype=b,S=new v,v.prototype=null,S}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(v){var b=s(this);return v&&b.mixIn(v),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},"extend"),create:o(function(){var v=this.extend();return v.init.apply(v,arguments),v},"create"),init:o(function(){},"init"),mixIn:o(function(v){for(var b in v)v.hasOwnProperty(b)&&(this[b]=v[b]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(v,b){v=this.words=v||[],b!=r?this.sigBytes=b:this.sigBytes=v.length*4},"init"),toString:o(function(v){return(v||m).stringify(this)},"toString"),concat:o(function(v){var b=this.words,S=v.words,k=this.sigBytes,P=v.sigBytes;if(this.clamp(),k%4)for(var N=0;N<P;N++){var W=S[N>>>2]>>>24-N%4*8&255;b[k+N>>>2]|=W<<24-(k+N)%4*8}else for(var te=0;te<P;te+=4)b[k+te>>>2]=S[te>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var v=this.words,b=this.sigBytes;v[b>>>2]&=4294967295<<32-b%4*8,v.length=t.ceil(b/4)},"clamp"),clone:o(function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},"clone"),random:o(function(v){for(var b=[],S=0;S<v;S+=4)b.push(i());return new u.init(b,v)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(v){for(var b=v.words,S=v.sigBytes,k=[],P=0;P<S;P++){var N=b[P>>>2]>>>24-P%4*8&255;k.push((N>>>4).toString(16)),k.push((N&15).toString(16))}return k.join("")},"stringify"),parse:o(function(v){for(var b=v.length,S=[],k=0;k<b;k+=2)S[k>>>3]|=parseInt(v.substr(k,2),16)<<24-k%8*4;return new u.init(S,b/2)},"parse")},h=f.Latin1={stringify:o(function(v){for(var b=v.words,S=v.sigBytes,k=[],P=0;P<S;P++){var N=b[P>>>2]>>>24-P%4*8&255;k.push(String.fromCharCode(N))}return k.join("")},"stringify"),parse:o(function(v){for(var b=v.length,S=[],k=0;k<b;k++)S[k>>>2]|=(v.charCodeAt(k)&255)<<24-k%4*8;return new u.init(S,b)},"parse")},p=f.Utf8={stringify:o(function(v){try{return decodeURIComponent(escape(h.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(v){return h.parse(unescape(encodeURIComponent(v)))},"parse")},A=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(v){typeof v=="string"&&(v=p.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},"_append"),_process:o(function(v){var b,S=this._data,k=S.words,P=S.sigBytes,N=this.blockSize,W=N*4,te=P/W;v?te=t.ceil(te):te=t.max((te|0)-this._minBufferSize,0);var ge=te*N,re=t.min(ge*4,P);if(ge){for(var G=0;G<ge;G+=N)this._doProcessBlock(k,G);b=k.splice(0,ge),S.sigBytes-=re}return new u.init(b,re)},"_process"),clone:o(function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},"clone"),_minBufferSize:0}),E=l.Hasher=A.extend({cfg:c.extend(),init:o(function(v){this.cfg=this.cfg.extend(v),this.reset()},"init"),reset:o(function(){A.reset.call(this),this._doReset()},"reset"),update:o(function(v){return this._append(v),this._process(),this},"update"),finalize:o(function(v){v&&this._append(v);var b=this._doFinalize();return b},"finalize"),blockSize:512/32,_createHelper:o(function(v){return function(b,S){return new v.init(S).finalize(b)}},"_createHelper"),_createHmacHelper:o(function(v){return function(b,S){return new x.HMAC.init(v,S).finalize(b)}},"_createHmacHelper")}),x=a.algo={};return a}(Math);return e})});var D9=V((nk,Fce)=>{d();(function(e,t){typeof nk=="object"?Fce.exports=nk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(nk,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var Qce=V((ik,Lce)=>{d();(function(e,t){typeof ik=="object"?Lce.exports=ik=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ik,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var Oce=V((ok,Mce)=>{d();(function(e,t){typeof ok=="object"?Mce.exports=ok=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ok,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var b2=V((sk,Uce)=>{d();(function(e,t){typeof sk=="object"?Uce.exports=sk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(sk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,A=c[h+1>>>2]>>>24-(h+1)%4*8&255,E=c[h+2>>>2]>>>24-(h+2)%4*8&255,x=p<<16|A<<8|E,v=0;v<4&&h+v*.75<u;v++)m.push(f.charAt(x>>>6*(3-v)&63));var b=f.charAt(64);if(b)for(;m.length%4;)m.push(b);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,E=p|A;f[m>>>2]|=E<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var Gce=V((ak,qce)=>{d();(function(e,t){typeof ak=="object"?qce.exports=ak=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ak,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var A=u[p>>>2]>>>24-p%4*8&255,E=u[p+1>>>2]>>>24-(p+1)%4*8&255,x=u[p+2>>>2]>>>24-(p+2)%4*8&255,v=A<<16|E<<8|x,b=0;b<4&&p+b*.75<f;b++)h.push(m.charAt(v>>>6*(3-b)&63));var S=m.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var A=l.indexOf(p);A!==-1&&(u=A)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,E=p|A;f[m>>>2]|=E<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var v2=V((lk,Wce)=>{d();(function(e,t){typeof lk=="object"?Wce.exports=lk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,A){for(var E=0;E<16;E++){var x=A+E,v=p[x];p[x]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var b=this._hash.words,S=p[A+0],k=p[A+1],P=p[A+2],N=p[A+3],W=p[A+4],te=p[A+5],ge=p[A+6],re=p[A+7],G=p[A+8],q=p[A+9],se=p[A+10],ne=p[A+11],H=p[A+12],O=p[A+13],j=p[A+14],J=p[A+15],le=b[0],Z=b[1],ae=b[2],ce=b[3];le=u(le,Z,ae,ce,S,7,l[0]),ce=u(ce,le,Z,ae,k,12,l[1]),ae=u(ae,ce,le,Z,P,17,l[2]),Z=u(Z,ae,ce,le,N,22,l[3]),le=u(le,Z,ae,ce,W,7,l[4]),ce=u(ce,le,Z,ae,te,12,l[5]),ae=u(ae,ce,le,Z,ge,17,l[6]),Z=u(Z,ae,ce,le,re,22,l[7]),le=u(le,Z,ae,ce,G,7,l[8]),ce=u(ce,le,Z,ae,q,12,l[9]),ae=u(ae,ce,le,Z,se,17,l[10]),Z=u(Z,ae,ce,le,ne,22,l[11]),le=u(le,Z,ae,ce,H,7,l[12]),ce=u(ce,le,Z,ae,O,12,l[13]),ae=u(ae,ce,le,Z,j,17,l[14]),Z=u(Z,ae,ce,le,J,22,l[15]),le=f(le,Z,ae,ce,k,5,l[16]),ce=f(ce,le,Z,ae,ge,9,l[17]),ae=f(ae,ce,le,Z,ne,14,l[18]),Z=f(Z,ae,ce,le,S,20,l[19]),le=f(le,Z,ae,ce,te,5,l[20]),ce=f(ce,le,Z,ae,se,9,l[21]),ae=f(ae,ce,le,Z,J,14,l[22]),Z=f(Z,ae,ce,le,W,20,l[23]),le=f(le,Z,ae,ce,q,5,l[24]),ce=f(ce,le,Z,ae,j,9,l[25]),ae=f(ae,ce,le,Z,N,14,l[26]),Z=f(Z,ae,ce,le,G,20,l[27]),le=f(le,Z,ae,ce,O,5,l[28]),ce=f(ce,le,Z,ae,P,9,l[29]),ae=f(ae,ce,le,Z,re,14,l[30]),Z=f(Z,ae,ce,le,H,20,l[31]),le=m(le,Z,ae,ce,te,4,l[32]),ce=m(ce,le,Z,ae,G,11,l[33]),ae=m(ae,ce,le,Z,ne,16,l[34]),Z=m(Z,ae,ce,le,j,23,l[35]),le=m(le,Z,ae,ce,k,4,l[36]),ce=m(ce,le,Z,ae,W,11,l[37]),ae=m(ae,ce,le,Z,re,16,l[38]),Z=m(Z,ae,ce,le,se,23,l[39]),le=m(le,Z,ae,ce,O,4,l[40]),ce=m(ce,le,Z,ae,S,11,l[41]),ae=m(ae,ce,le,Z,N,16,l[42]),Z=m(Z,ae,ce,le,ge,23,l[43]),le=m(le,Z,ae,ce,q,4,l[44]),ce=m(ce,le,Z,ae,H,11,l[45]),ae=m(ae,ce,le,Z,J,16,l[46]),Z=m(Z,ae,ce,le,P,23,l[47]),le=h(le,Z,ae,ce,S,6,l[48]),ce=h(ce,le,Z,ae,re,10,l[49]),ae=h(ae,ce,le,Z,j,15,l[50]),Z=h(Z,ae,ce,le,te,21,l[51]),le=h(le,Z,ae,ce,H,6,l[52]),ce=h(ce,le,Z,ae,N,10,l[53]),ae=h(ae,ce,le,Z,se,15,l[54]),Z=h(Z,ae,ce,le,k,21,l[55]),le=h(le,Z,ae,ce,G,6,l[56]),ce=h(ce,le,Z,ae,J,10,l[57]),ae=h(ae,ce,le,Z,ge,15,l[58]),Z=h(Z,ae,ce,le,O,21,l[59]),le=h(le,Z,ae,ce,W,6,l[60]),ce=h(ce,le,Z,ae,ne,10,l[61]),ae=h(ae,ce,le,Z,P,15,l[62]),Z=h(Z,ae,ce,le,q,21,l[63]),b[0]=b[0]+le|0,b[1]=b[1]+Z|0,b[2]=b[2]+ae|0,b[3]=b[3]+ce|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,A=p.words,E=this._nDataBytes*8,x=p.sigBytes*8;A[x>>>5]|=128<<24-x%32;var v=t.floor(E/4294967296),b=E;A[(x+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,A[(x+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var S=this._hash,k=S.words,P=0;P<4;P++){var N=k[P];k[P]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return S},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,A,E,x,v,b,S){var k=p+(A&E|~A&x)+v+S;return(k<<b|k>>>32-b)+A}o(u,"FF");function f(p,A,E,x,v,b,S){var k=p+(A&x|E&~x)+v+S;return(k<<b|k>>>32-b)+A}o(f,"GG");function m(p,A,E,x,v,b,S){var k=p+(A^E^x)+v+S;return(k<<b|k>>>32-b)+A}o(m,"HH");function h(p,A,E,x,v,b,S){var k=p+(E^(A|~x))+v+S;return(k<<b|k>>>32-b)+A}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var zV=V((ck,Hce)=>{d();(function(e,t){typeof ck=="object"?Hce.exports=ck=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ck,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],A=f[3],E=f[4],x=0;x<80;x++){if(x<16)a[x]=c[u+x]|0;else{var v=a[x-3]^a[x-8]^a[x-14]^a[x-16];a[x]=v<<1|v>>>31}var b=(m<<5|m>>>27)+E+a[x];x<20?b+=(h&p|~h&A)+1518500249:x<40?b+=(h^p^A)+1859775393:x<60?b+=(h&p|h&A|p&A)-1894007588:b+=(h^p^A)-899497514,E=A,A=p,p=h<<30|h>>>2,h=m,m=b}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+A|0,f[4]=f[4]+E|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var fk=V((uk,Vce)=>{d();(function(e,t){typeof uk=="object"?Vce.exports=uk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(uk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(E){for(var x=t.sqrt(E),v=2;v<=x;v++)if(!(E%v))return!1;return!0}o(m,"isPrime");function h(E){return(E-(E|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,A=0;A<64;)m(p)&&(A<8&&(l[A]=h(t.pow(p,1/2))),c[A]=h(t.pow(p,1/3)),A++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,A=p[0],E=p[1],x=p[2],v=p[3],b=p[4],S=p[5],k=p[6],P=p[7],N=0;N<64;N++){if(N<16)u[N]=m[h+N]|0;else{var W=u[N-15],te=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,ge=u[N-2],re=(ge<<15|ge>>>17)^(ge<<13|ge>>>19)^ge>>>10;u[N]=te+u[N-7]+re+u[N-16]}var G=b&S^~b&k,q=A&E^A&x^E&x,se=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),ne=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=P+ne+G+c[N]+u[N],O=se+q;P=k,k=S,S=b,b=v+H|0,v=x,x=E,E=A,A=H+O|0}p[0]=p[0]+A|0,p[1]=p[1]+E|0,p[2]=p[2]+x|0,p[3]=p[3]+v|0,p[4]=p[4]+b|0,p[5]=p[5]+S|0,p[6]=p[6]+k|0,p[7]=p[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,A=m.sigBytes*8;return h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=t.floor(p/4294967296),h[(A+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var $ce=V((dk,jce)=>{d();(function(e,t,r){typeof dk=="object"?jce.exports=dk=t(xi(),fk()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(dk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var YV=V((mk,zce)=>{d();(function(e,t,r){typeof mk=="object"?zce.exports=mk=t(xi(),D9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(mk,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var A=this._hash.words,E=A[0],x=A[1],v=A[2],b=A[3],S=A[4],k=A[5],P=A[6],N=A[7],W=E.high,te=E.low,ge=x.high,re=x.low,G=v.high,q=v.low,se=b.high,ne=b.low,H=S.high,O=S.low,j=k.high,J=k.low,le=P.high,Z=P.low,ae=N.high,ce=N.low,Re=W,ve=te,Ue=ge,Be=re,Je=G,ft=q,it=se,ot=ne,ie=H,Pe=O,Ae=j,Ge=J,z=le,ee=Z,Fe=ae,_e=ce,Ce=0;Ce<80;Ce++){var Oe,Ve,Ze=f[Ce];if(Ce<16)Ve=Ze.high=h[p+Ce*2]|0,Oe=Ze.low=h[p+Ce*2+1]|0;else{var yt=f[Ce-15],Rt=yt.high,At=yt.low,Ht=(Rt>>>1|At<<31)^(Rt>>>8|At<<24)^Rt>>>7,jt=(At>>>1|Rt<<31)^(At>>>8|Rt<<24)^(At>>>7|Rt<<25),ir=f[Ce-2],pe=ir.high,Le=ir.low,Ke=(pe>>>19|Le<<13)^(pe<<3|Le>>>29)^pe>>>6,et=(Le>>>19|pe<<13)^(Le<<3|pe>>>29)^(Le>>>6|pe<<26),_t=f[Ce-7],xt=_t.high,Ft=_t.low,Qt=f[Ce-16],Tt=Qt.high,St=Qt.low;Oe=jt+Ft,Ve=Ht+xt+(Oe>>>0<jt>>>0?1:0),Oe=Oe+et,Ve=Ve+Ke+(Oe>>>0<et>>>0?1:0),Oe=Oe+St,Ve=Ve+Tt+(Oe>>>0<St>>>0?1:0),Ze.high=Ve,Ze.low=Oe}var wt=ie&Ae^~ie&z,Ot=Pe&Ge^~Pe&ee,Gt=Re&Ue^Re&Je^Ue&Je,$t=ve&Be^ve&ft^Be&ft,lr=(Re>>>28|ve<<4)^(Re<<30|ve>>>2)^(Re<<25|ve>>>7),hr=(ve>>>28|Re<<4)^(ve<<30|Re>>>2)^(ve<<25|Re>>>7),sr=(ie>>>14|Pe<<18)^(ie>>>18|Pe<<14)^(ie<<23|Pe>>>9),cr=(Pe>>>14|ie<<18)^(Pe>>>18|ie<<14)^(Pe<<23|ie>>>9),Jt=u[Ce],ur=Jt.high,be=Jt.low,M=_e+cr,de=Fe+sr+(M>>>0<_e>>>0?1:0),M=M+Ot,de=de+wt+(M>>>0<Ot>>>0?1:0),M=M+be,de=de+ur+(M>>>0<be>>>0?1:0),M=M+Oe,de=de+Ve+(M>>>0<Oe>>>0?1:0),ye=hr+$t,Y=lr+Gt+(ye>>>0<hr>>>0?1:0);Fe=z,_e=ee,z=Ae,ee=Ge,Ae=ie,Ge=Pe,Pe=ot+M|0,ie=it+de+(Pe>>>0<ot>>>0?1:0)|0,it=Je,ot=ft,Je=Ue,ft=Be,Ue=Re,Be=ve,ve=M+ye|0,Re=de+Y+(ve>>>0<M>>>0?1:0)|0}te=E.low=te+ve,E.high=W+Re+(te>>>0<ve>>>0?1:0),re=x.low=re+Be,x.high=ge+Ue+(re>>>0<Be>>>0?1:0),q=v.low=q+ft,v.high=G+Je+(q>>>0<ft>>>0?1:0),ne=b.low=ne+ot,b.high=se+it+(ne>>>0<ot>>>0?1:0),O=S.low=O+Pe,S.high=H+ie+(O>>>0<Pe>>>0?1:0),J=k.low=J+Ge,k.high=j+Ae+(J>>>0<Ge>>>0?1:0),Z=P.low=Z+ee,P.high=le+z+(Z>>>0<ee>>>0?1:0),ce=N.low=ce+_e,N.high=ae+Fe+(ce>>>0<_e>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,A=this._nDataBytes*8,E=h.sigBytes*8;p[E>>>5]|=128<<24-E%32,p[(E+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(E+128>>>10<<5)+31]=A,h.sigBytes=p.length*4,this._process();var x=this._hash.toX32();return x},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var Kce=V((hk,Yce)=>{d();(function(e,t,r){typeof hk=="object"?Yce.exports=hk=t(xi(),D9(),YV()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(hk,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var Xce=V((pk,Jce)=>{d();(function(e,t,r){typeof pk=="object"?Jce.exports=pk=t(xi(),D9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(pk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var A=1,E=0,x=0;x<24;x++){u[A+5*E]=(x+1)*(x+2)/2%64;var v=E%5,b=(2*A+3*E)%5;A=v,E=b}for(var A=0;A<5;A++)for(var E=0;E<5;E++)f[A+5*E]=E+(2*A+3*E)%5*5;for(var S=1,k=0;k<24;k++){for(var P=0,N=0,W=0;W<7;W++){if(S&1){var te=(1<<W)-1;te<32?N^=1<<te:P^=1<<te-32}S&128?S=S<<1^113:S<<=1}m[k]=l.create(P,N)}})();var h=[];(function(){for(var A=0;A<25;A++)h[A]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var A=this._state=[],E=0;E<25;E++)A[E]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(A,E){for(var x=this._state,v=this.blockSize/2,b=0;b<v;b++){var S=A[E+2*b],k=A[E+2*b+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var P=x[b];P.high^=k,P.low^=S}for(var N=0;N<24;N++){for(var W=0;W<5;W++){for(var te=0,ge=0,re=0;re<5;re++){var P=x[W+5*re];te^=P.high,ge^=P.low}var G=h[W];G.high=te,G.low=ge}for(var W=0;W<5;W++)for(var q=h[(W+4)%5],se=h[(W+1)%5],ne=se.high,H=se.low,te=q.high^(ne<<1|H>>>31),ge=q.low^(H<<1|ne>>>31),re=0;re<5;re++){var P=x[W+5*re];P.high^=te,P.low^=ge}for(var O=1;O<25;O++){var te,ge,P=x[O],j=P.high,J=P.low,le=u[O];le<32?(te=j<<le|J>>>32-le,ge=J<<le|j>>>32-le):(te=J<<le-32|j>>>64-le,ge=j<<le-32|J>>>64-le);var Z=h[f[O]];Z.high=te,Z.low=ge}var ae=h[0],ce=x[0];ae.high=ce.high,ae.low=ce.low;for(var W=0;W<5;W++)for(var re=0;re<5;re++){var O=W+5*re,P=x[O],Re=h[O],ve=h[(W+1)%5+5*re],Ue=h[(W+2)%5+5*re];P.high=Re.high^~ve.high&Ue.high,P.low=Re.low^~ve.low&Ue.low}var P=x[0],Be=m[N];P.high^=Be.high,P.low^=Be.low}},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,E=A.words,x=this._nDataBytes*8,v=A.sigBytes*8,b=this.blockSize*32;E[v>>>5]|=1<<24-v%32,E[(t.ceil((v+1)/b)*b>>>5)-1]|=128,A.sigBytes=E.length*4,this._process();for(var S=this._state,k=this.cfg.outputLength/8,P=k/8,N=[],W=0;W<P;W++){var te=S[W],ge=te.high,re=te.low;ge=(ge<<8|ge>>>24)&16711935|(ge<<24|ge>>>8)&4278255360,re=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360,N.push(re),N.push(ge)}return new i.init(N,k)},"_doFinalize"),clone:o(function(){for(var A=s.clone.call(this),E=A._state=this._state.slice(0),x=0;x<25;x++)E[x]=E[x].clone();return A},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var eue=V((gk,Zce)=>{d();(function(e,t){typeof gk=="object"?Zce.exports=gk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(k,P){for(var N=0;N<16;N++){var W=P+N,te=k[W];k[W]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var ge=this._hash.words,re=m.words,G=h.words,q=l.words,se=c.words,ne=u.words,H=f.words,O,j,J,le,Z,ae,ce,Re,ve,Ue;ae=O=ge[0],ce=j=ge[1],Re=J=ge[2],ve=le=ge[3],Ue=Z=ge[4];for(var Be,N=0;N<80;N+=1)Be=O+k[P+q[N]]|0,N<16?Be+=A(j,J,le)+re[0]:N<32?Be+=E(j,J,le)+re[1]:N<48?Be+=x(j,J,le)+re[2]:N<64?Be+=v(j,J,le)+re[3]:Be+=b(j,J,le)+re[4],Be=Be|0,Be=S(Be,ne[N]),Be=Be+Z|0,O=Z,Z=le,le=S(J,10),J=j,j=Be,Be=ae+k[P+se[N]]|0,N<16?Be+=b(ce,Re,ve)+G[0]:N<32?Be+=v(ce,Re,ve)+G[1]:N<48?Be+=x(ce,Re,ve)+G[2]:N<64?Be+=E(ce,Re,ve)+G[3]:Be+=A(ce,Re,ve)+G[4],Be=Be|0,Be=S(Be,H[N]),Be=Be+Ue|0,ae=Ue,Ue=ve,ve=S(Re,10),Re=ce,ce=Be;Be=ge[1]+J+ve|0,ge[1]=ge[2]+le+Ue|0,ge[2]=ge[3]+Z+ae|0,ge[3]=ge[4]+O+ce|0,ge[4]=ge[0]+j+Re|0,ge[0]=Be},"_doProcessBlock"),_doFinalize:o(function(){var k=this._data,P=k.words,N=this._nDataBytes*8,W=k.sigBytes*8;P[W>>>5]|=128<<24-W%32,P[(W+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k.sigBytes=(P.length+1)*4,this._process();for(var te=this._hash,ge=te.words,re=0;re<5;re++){var G=ge[re];ge[re]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return te},"_doFinalize"),clone:o(function(){var k=s.clone.call(this);return k._hash=this._hash.clone(),k},"clone")});function A(k,P,N){return k^P^N}o(A,"f1");function E(k,P,N){return k&P|~k&N}o(E,"f2");function x(k,P,N){return(k|~P)^N}o(x,"f3");function v(k,P,N){return k&N|P&~N}o(v,"f4");function b(k,P,N){return k^(P|~N)}o(b,"f5");function S(k,P){return k<<P|k>>>32-P}o(S,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var yk=V((Ak,tue)=>{d();(function(e,t){typeof Ak=="object"?tue.exports=Ak=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ak,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),A=h.words,E=p.words,x=0;x<f;x++)A[x]^=1549556828,E[x]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var nue=V((Ck,rue)=>{d();(function(e,t,r){typeof Ck=="object"?rue.exports=Ck=t(xi(),fk(),yk()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Ck,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),A=i.create([1]),E=p.words,x=A.words,v=m.keySize,b=m.iterations;E.length<v;){var S=h.update(f).finalize(A);h.reset();for(var k=S.words,P=k.length,N=S,W=1;W<b;W++){N=h.finalize(N),h.reset();for(var te=N.words,ge=0;ge<P;ge++)k[ge]^=te[ge]}p.concat(S),x[0]++}return p.sigBytes=v*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var Sg=V((Ek,iue)=>{d();(function(e,t,r){typeof Ek=="object"?iue.exports=Ek=t(xi(),zV(),yk()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Ek,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),A=p.words,E=m.keySize,x=m.iterations;A.length<E;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var v=1;v<x;v++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=E*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var Ha=V((xk,oue)=>{d();(function(e,t,r){typeof xk=="object"?oue.exports=xk=t(xi(),Sg()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(xk,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(G,q){return this.create(this._ENC_XFORM_MODE,G,q)},"createEncryptor"),createDecryptor:o(function(G,q){return this.create(this._DEC_XFORM_MODE,G,q)},"createDecryptor"),init:o(function(G,q,se){this.cfg=this.cfg.extend(se),this._xformMode=G,this._key=q,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(G){return this._append(G),this._process()},"process"),finalize:o(function(G){G&&this._append(G);var q=this._doFinalize();return q},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(q){return typeof q=="string"?re:W}return o(G,"selectCipherStrategy"),function(q){return{encrypt:o(function(se,ne,H){return G(ne).encrypt(q,se,ne,H)},"encrypt"),decrypt:o(function(se,ne,H){return G(ne).decrypt(q,se,ne,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),A=r.mode={},E=n.BlockCipherMode=i.extend({createEncryptor:o(function(G,q){return this.Encryptor.create(G,q)},"createEncryptor"),createDecryptor:o(function(G,q){return this.Decryptor.create(G,q)},"createDecryptor"),init:o(function(G,q){this._cipher=G,this._iv=q},"init")}),x=A.CBC=function(){var G=E.extend();G.Encryptor=G.extend({processBlock:o(function(se,ne){var H=this._cipher,O=H.blockSize;q.call(this,se,ne,O),H.encryptBlock(se,ne),this._prevBlock=se.slice(ne,ne+O)},"processBlock")}),G.Decryptor=G.extend({processBlock:o(function(se,ne){var H=this._cipher,O=H.blockSize,j=se.slice(ne,ne+O);H.decryptBlock(se,ne),q.call(this,se,ne,O),this._prevBlock=j},"processBlock")});function q(se,ne,H){var O,j=this._iv;j?(O=j,this._iv=t):O=this._prevBlock;for(var J=0;J<H;J++)se[ne+J]^=O[J]}return o(q,"xorBlock"),G}(),v=r.pad={},b=v.Pkcs7={pad:o(function(G,q){for(var se=q*4,ne=se-G.sigBytes%se,H=ne<<24|ne<<16|ne<<8|ne,O=[],j=0;j<ne;j+=4)O.push(H);var J=s.create(O,ne);G.concat(J)},"pad"),unpad:o(function(G){var q=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=q},"unpad")},S=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:x,padding:b}),reset:o(function(){var G;h.reset.call(this);var q=this.cfg,se=q.iv,ne=q.mode;this._xformMode==this._ENC_XFORM_MODE?G=ne.createEncryptor:(G=ne.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,se&&se.words):(this._mode=G.call(ne,this,se&&se.words),this._mode.__creator=G)},"reset"),_doProcessBlock:o(function(G,q){this._mode.processBlock(G,q)},"_doProcessBlock"),_doFinalize:o(function(){var G,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),q.unpad(G)),G},"_doFinalize"),blockSize:128/32}),k=n.CipherParams=i.extend({init:o(function(G){this.mixIn(G)},"init"),toString:o(function(G){return(G||this.formatter).stringify(this)},"toString")}),P=r.format={},N=P.OpenSSL={stringify:o(function(G){var q,se=G.ciphertext,ne=G.salt;return ne?q=s.create([1398893684,1701076831]).concat(ne).concat(se):q=se,q.toString(u)},"stringify"),parse:o(function(G){var q,se=u.parse(G),ne=se.words;return ne[0]==1398893684&&ne[1]==1701076831&&(q=s.create(ne.slice(2,4)),ne.splice(0,4),se.sigBytes-=16),k.create({ciphertext:se,salt:q})},"parse")},W=n.SerializableCipher=i.extend({cfg:i.extend({format:N}),encrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne);var H=G.createEncryptor(se,ne),O=H.finalize(q),j=H.cfg;return k.create({ciphertext:O,key:se,iv:j.iv,algorithm:G,mode:j.mode,padding:j.padding,blockSize:G.blockSize,formatter:ne.format})},"encrypt"),decrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne),q=this._parse(q,ne.format);var H=G.createDecryptor(se,ne).finalize(q.ciphertext);return H},"decrypt"),_parse:o(function(G,q){return typeof G=="string"?q.parse(G,this):G},"_parse")}),te=r.kdf={},ge=te.OpenSSL={execute:o(function(G,q,se,ne,H){if(ne||(ne=s.random(64/8)),H)var O=m.create({keySize:q+se,hasher:H}).compute(G,ne);else var O=m.create({keySize:q+se}).compute(G,ne);var j=s.create(O.words.slice(q),se*4);return O.sigBytes=q*4,k.create({key:O,iv:j,salt:ne})},"execute")},re=n.PasswordBasedCipher=W.extend({cfg:W.cfg.extend({kdf:ge}),encrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne);var H=ne.kdf.execute(se,G.keySize,G.ivSize,ne.salt,ne.hasher);ne.iv=H.iv;var O=W.encrypt.call(this,G,q,H.key,ne);return O.mixIn(H),O},"encrypt"),decrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne),q=this._parse(q,ne.format);var H=ne.kdf.execute(se,G.keySize,G.ivSize,q.salt,ne.hasher);ne.iv=H.iv;var O=W.decrypt.call(this,G,q,H.key,ne);return O},"decrypt")})}()})});var aue=V((bk,sue)=>{d();(function(e,t,r){typeof bk=="object"?sue.exports=bk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(bk,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var cue=V((vk,lue)=>{d();(function(e,t,r){typeof vk=="object"?lue.exports=vk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(vk,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var fue=V((Ik,uue)=>{d();(function(e,t,r){typeof Ik=="object"?uue.exports=Ik=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ik,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var mue=V((Tk,due)=>{d();(function(e,t,r){typeof Tk=="object"?due.exports=Tk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Tk,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var pue=V((wk,hue)=>{d();(function(e,t,r){typeof wk=="object"?hue.exports=wk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(wk,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var Aue=V((_k,gue)=>{d();(function(e,t,r){typeof _k=="object"?gue.exports=_k=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(_k,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var Cue=V((Sk,yue)=>{d();(function(e,t,r){typeof Sk=="object"?yue.exports=Sk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Sk,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var xue=V((Bk,Eue)=>{d();(function(e,t,r){typeof Bk=="object"?Eue.exports=Bk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Bk,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var vue=V((kk,bue)=>{d();(function(e,t,r){typeof kk=="object"?bue.exports=kk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(kk,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Tue=V((Rk,Iue)=>{d();(function(e,t,r){typeof Rk=="object"?Iue.exports=Rk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Rk,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var _ue=V((Dk,wue)=>{d();(function(e,t,r){typeof Dk=="object"?wue.exports=Dk=t(xi(),Ha()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dk,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var Bue=V((Pk,Sue)=>{d();(function(e,t,r){typeof Pk=="object"?Sue.exports=Pk=t(xi(),b2(),v2(),Sg(),Ha()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Pk,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],A=[];(function(){for(var v=[],b=0;b<256;b++)b<128?v[b]=b<<1:v[b]=b<<1^283;for(var S=0,k=0,b=0;b<256;b++){var P=k^k<<1^k<<2^k<<3^k<<4;P=P>>>8^P&255^99,s[S]=P,a[P]=S;var N=v[S],W=v[N],te=v[W],ge=v[P]*257^P*16843008;l[S]=ge<<24|ge>>>8,c[S]=ge<<16|ge>>>16,u[S]=ge<<8|ge>>>24,f[S]=ge;var ge=te*16843009^W*65537^N*257^S*16843008;m[P]=ge<<24|ge>>>8,h[P]=ge<<16|ge>>>16,p[P]=ge<<8|ge>>>24,A[P]=ge,S?(S=N^v[v[v[te^N]]],k^=v[v[k]]):S=k=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],x=i.AES=n.extend({_doReset:o(function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,S=b.words,k=b.sigBytes/4,P=this._nRounds=k+6,N=(P+1)*4,W=this._keySchedule=[],te=0;te<N;te++)te<k?W[te]=S[te]:(v=W[te-1],te%k?k>6&&te%k==4&&(v=s[v>>>24]<<24|s[v>>>16&255]<<16|s[v>>>8&255]<<8|s[v&255]):(v=v<<8|v>>>24,v=s[v>>>24]<<24|s[v>>>16&255]<<16|s[v>>>8&255]<<8|s[v&255],v^=E[te/k|0]<<24),W[te]=W[te-k]^v);for(var ge=this._invKeySchedule=[],re=0;re<N;re++){var te=N-re;if(re%4)var v=W[te];else var v=W[te-4];re<4||te<=4?ge[re]=v:ge[re]=m[s[v>>>24]]^h[s[v>>>16&255]]^p[s[v>>>8&255]]^A[s[v&255]]}}},"_doReset"),encryptBlock:o(function(v,b){this._doCryptBlock(v,b,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(v,b){var S=v[b+1];v[b+1]=v[b+3],v[b+3]=S,this._doCryptBlock(v,b,this._invKeySchedule,m,h,p,A,a);var S=v[b+1];v[b+1]=v[b+3],v[b+3]=S},"decryptBlock"),_doCryptBlock:o(function(v,b,S,k,P,N,W,te){for(var ge=this._nRounds,re=v[b]^S[0],G=v[b+1]^S[1],q=v[b+2]^S[2],se=v[b+3]^S[3],ne=4,H=1;H<ge;H++){var O=k[re>>>24]^P[G>>>16&255]^N[q>>>8&255]^W[se&255]^S[ne++],j=k[G>>>24]^P[q>>>16&255]^N[se>>>8&255]^W[re&255]^S[ne++],J=k[q>>>24]^P[se>>>16&255]^N[re>>>8&255]^W[G&255]^S[ne++],le=k[se>>>24]^P[re>>>16&255]^N[G>>>8&255]^W[q&255]^S[ne++];re=O,G=j,q=J,se=le}var O=(te[re>>>24]<<24|te[G>>>16&255]<<16|te[q>>>8&255]<<8|te[se&255])^S[ne++],j=(te[G>>>24]<<24|te[q>>>16&255]<<16|te[se>>>8&255]<<8|te[re&255])^S[ne++],J=(te[q>>>24]<<24|te[se>>>16&255]<<16|te[re>>>8&255]<<8|te[G&255])^S[ne++],le=(te[se>>>24]<<24|te[re>>>16&255]<<16|te[G>>>8&255]<<8|te[q&255])^S[ne++];v[b]=O,v[b+1]=j,v[b+2]=J,v[b+3]=le},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(x)}(),e.AES})});var Rue=V((Nk,kue)=>{d();(function(e,t,r){typeof Nk=="object"?kue.exports=Nk=t(xi(),b2(),v2(),Sg(),Ha()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Nk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var E=this._key,x=E.words,v=[],b=0;b<56;b++){var S=a[b]-1;v[b]=x[S>>>5]>>>31-S%32&1}for(var k=this._subKeys=[],P=0;P<16;P++){for(var N=k[P]=[],W=c[P],b=0;b<24;b++)N[b/6|0]|=v[(l[b]-1+W)%28]<<31-b%6,N[4+(b/6|0)]|=v[28+(l[b+24]-1+W)%28]<<31-b%6;N[0]=N[0]<<1|N[0]>>>31;for(var b=1;b<7;b++)N[b]=N[b]>>>(b-1)*4+3;N[7]=N[7]<<5|N[7]>>>27}for(var te=this._invSubKeys=[],b=0;b<16;b++)te[b]=k[15-b]},"_doReset"),encryptBlock:o(function(E,x){this._doCryptBlock(E,x,this._subKeys)},"encryptBlock"),decryptBlock:o(function(E,x){this._doCryptBlock(E,x,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(E,x,v){this._lBlock=E[x],this._rBlock=E[x+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var b=0;b<16;b++){for(var S=v[b],k=this._lBlock,P=this._rBlock,N=0,W=0;W<8;W++)N|=u[W][((P^S[W])&f[W])>>>0];this._lBlock=P,this._rBlock=k^N}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),E[x]=this._lBlock,E[x+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(E,x){var v=(this._lBlock>>>E^this._rBlock)&x;this._rBlock^=v,this._lBlock^=v<<E}o(h,"exchangeLR");function p(E,x){var v=(this._rBlock>>>E^this._lBlock)&x;this._lBlock^=v,this._rBlock^=v<<E}o(p,"exchangeRL"),t.DES=i._createHelper(m);var A=s.TripleDES=i.extend({_doReset:o(function(){var E=this._key,x=E.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=x.slice(0,2),b=x.length<4?x.slice(0,2):x.slice(2,4),S=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=m.createEncryptor(n.create(v)),this._des2=m.createEncryptor(n.create(b)),this._des3=m.createEncryptor(n.create(S))},"_doReset"),encryptBlock:o(function(E,x){this._des1.encryptBlock(E,x),this._des2.decryptBlock(E,x),this._des3.encryptBlock(E,x)},"encryptBlock"),decryptBlock:o(function(E,x){this._des3.decryptBlock(E,x),this._des2.encryptBlock(E,x),this._des1.decryptBlock(E,x)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(A)}(),e.TripleDES})});var Pue=V((Fk,Due)=>{d();(function(e,t,r){typeof Fk=="object"?Due.exports=Fk=t(xi(),b2(),v2(),Sg(),Ha()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Fk,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var A=h%f,E=u[A>>>2]>>>24-A%4*8&255;p=(p+m[h]+E)%256;var x=m[h];m[h]=m[p],m[p]=x}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Fue=V((Lk,Nue)=>{d();(function(e,t,r){typeof Lk=="object"?Nue.exports=Lk=t(xi(),b2(),v2(),Sg(),Ha()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Lk,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],A=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)A[h]^=p[h+4&7];if(m){var E=m.words,x=E[0],v=E[1],b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,k=b>>>16|S&4294901760,P=S<<16|b&65535;A[0]^=b,A[1]^=k,A[2]^=S,A[3]^=P,A[4]^=b,A[5]^=k,A[6]^=S,A[7]^=P;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,E=p>>>16,x=((A*A>>>17)+A*E>>>15)+E*E,v=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^v}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var Que=V((Qk,Lue)=>{d();(function(e,t,r){typeof Qk=="object"?Lue.exports=Qk=t(xi(),b2(),v2(),Sg(),Ha()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Qk,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var A=0;A<4;A++)u.call(this);for(var A=0;A<8;A++)p[A]^=h[A+4&7];if(m){var E=m.words,x=E[0],v=E[1],b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,k=b>>>16|S&4294901760,P=S<<16|b&65535;p[0]^=b,p[1]^=k,p[2]^=S,p[3]^=P,p[4]^=b,p[5]^=k,p[6]^=S,p[7]^=P;for(var A=0;A<4;A++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,E=p>>>16,x=((A*A>>>17)+A*E>>>15)+E*E,v=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^v}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Oue=V((Mk,Mue)=>{d();(function(e,t,r){typeof Mk=="object"?Mue.exports=Mk=t(xi(),b2(),v2(),Sg(),Ha()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Mk,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(A,E){let x=E>>24&255,v=E>>16&255,b=E>>8&255,S=E&255,k=A.sbox[0][x]+A.sbox[1][v];return k=k^A.sbox[2][b],k=k+A.sbox[3][S],k}o(u,"F");function f(A,E,x){let v=E,b=x,S;for(let k=0;k<s;++k)v=v^A.pbox[k],b=u(A,v)^b,S=v,v=b,b=S;return S=v,v=b,b=S,b=b^A.pbox[s],v=v^A.pbox[s+1],{left:v,right:b}}o(f,"BlowFish_Encrypt");function m(A,E,x){let v=E,b=x,S;for(let k=s+1;k>1;--k)v=v^A.pbox[k],b=u(A,v)^b,S=v,v=b,b=S;return S=v,v=b,b=S,b=b^A.pbox[1],v=v^A.pbox[0],{left:v,right:b}}o(m,"BlowFish_Decrypt");function h(A,E,x){for(let P=0;P<4;P++){A.sbox[P]=[];for(let N=0;N<256;N++)A.sbox[P][N]=l[P][N]}let v=0;for(let P=0;P<s+2;P++)A.pbox[P]=a[P]^E[v],v++,v>=x&&(v=0);let b=0,S=0,k=0;for(let P=0;P<s+2;P+=2)k=f(A,b,S),b=k.left,S=k.right,A.pbox[P]=b,A.pbox[P+1]=S;for(let P=0;P<4;P++)for(let N=0;N<256;N+=2)k=f(A,b,S),b=k.left,S=k.right,A.sbox[P][N]=b,A.sbox[P][N+1]=S;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,E=A.words,x=A.sigBytes/4;h(c,E,x)}},"_doReset"),encryptBlock:o(function(A,E){var x=f(c,A[E],A[E+1]);A[E]=x.left,A[E+1]=x.right},"encryptBlock"),decryptBlock:o(function(A,E){var x=m(c,A[E],A[E+1]);A[E]=x.left,A[E+1]=x.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var I2=V((Ok,Uue)=>{d();(function(e,t,r){typeof Ok=="object"?Uue.exports=Ok=t(xi(),D9(),Qce(),Oce(),b2(),Gce(),v2(),zV(),fk(),$ce(),YV(),Kce(),Xce(),eue(),yk(),nue(),Sg(),Ha(),aue(),cue(),fue(),mue(),pue(),Aue(),Cue(),xue(),vue(),Tue(),_ue(),Bue(),Rue(),Pue(),Fue(),Que(),Oue()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Ok,function(e){return e})});var Gue=V((mPt,que)=>{d();var kx=1e3,Rx=kx*60,Dx=Rx*60,L3=Dx*24,mqe=L3*7,hqe=L3*365.25;que.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return pqe(e);if(r==="number"&&isFinite(e))return t.long?Aqe(e):gqe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function pqe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*hqe;case"weeks":case"week":case"w":return r*mqe;case"days":case"day":case"d":return r*L3;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Dx;case"minutes":case"minute":case"mins":case"min":case"m":return r*Rx;case"seconds":case"second":case"secs":case"sec":case"s":return r*kx;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(pqe,"parse");function gqe(e){var t=Math.abs(e);return t>=L3?Math.round(e/L3)+"d":t>=Dx?Math.round(e/Dx)+"h":t>=Rx?Math.round(e/Rx)+"m":t>=kx?Math.round(e/kx)+"s":e+"ms"}o(gqe,"fmtShort");function Aqe(e){var t=Math.abs(e);return t>=L3?qk(e,t,L3,"day"):t>=Dx?qk(e,t,Dx,"hour"):t>=Rx?qk(e,t,Rx,"minute"):t>=kx?qk(e,t,kx,"second"):e+" ms"}o(Aqe,"fmtLong");function qk(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(qk,"plural")});var JV=V((gPt,Wue)=>{d();function yqe(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Gue(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,A;function E(...x){if(!E.enabled)return;let v=E,b=Number(new Date),S=b-(m||b);v.diff=S,v.prev=m,v.curr=b,m=b,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let k=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(N,W)=>{if(N==="%%")return"%";k++;let te=r.formatters[W];if(typeof te=="function"){let ge=x[k];N=te.call(v,ge),x.splice(k,1),k--}return N}),r.formatArgs.call(v,x),(v.log||r.log).apply(v,x)}return o(E,"debug"),E.namespace=f,E.useColors=r.useColors(),E.color=r.selectColor(f),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,A=r.enabled(f)),A),"get"),set:o(x=>{h=x},"set")}),typeof r.init=="function"&&r.init(E),E}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(yqe,"setup");Wue.exports=yqe});var Hue=V((iu,Gk)=>{d();iu.formatArgs=Eqe;iu.save=xqe;iu.load=bqe;iu.useColors=Cqe;iu.storage=vqe();iu.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();iu.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Cqe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(Cqe,"useColors");function Eqe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Gk.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(Eqe,"formatArgs");iu.log=console.debug||console.log||(()=>{});function xqe(e){try{e?iu.storage.setItem("debug",e):iu.storage.removeItem("debug")}catch{}}o(xqe,"save");function bqe(){let e;try{e=iu.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(bqe,"load");function vqe(){try{return localStorage}catch{}}o(vqe,"localstorage");Gk.exports=JV()(iu);var{formatters:Iqe}=Gk.exports;Iqe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var jue=V((xPt,Vue)=>{"use strict";d();Vue.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Yue=V((vPt,zue)=>{"use strict";d();var Tqe=require("os"),$ue=require("tty"),xf=jue(),{env:al}=process,T2;xf("no-color")||xf("no-colors")||xf("color=false")||xf("color=never")?T2=0:(xf("color")||xf("colors")||xf("color=true")||xf("color=always"))&&(T2=1);"FORCE_COLOR"in al&&(al.FORCE_COLOR==="true"?T2=1:al.FORCE_COLOR==="false"?T2=0:T2=al.FORCE_COLOR.length===0?1:Math.min(parseInt(al.FORCE_COLOR,10),3));function XV(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(XV,"translateLevel");function ZV(e,t){if(T2===0)return 0;if(xf("color=16m")||xf("color=full")||xf("color=truecolor"))return 3;if(xf("color=256"))return 2;if(e&&!t&&T2===void 0)return 0;let r=T2||0;if(al.TERM==="dumb")return r;if(process.platform==="win32"){let n=Tqe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in al)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in al)||al.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in al)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(al.TEAMCITY_VERSION)?1:0;if(al.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in al){let n=parseInt((al.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(al.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(al.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(al.TERM)||"COLORTERM"in al?1:r}o(ZV,"supportsColor");function wqe(e){let t=ZV(e,e&&e.isTTY);return XV(t)}o(wqe,"getSupportLevel");zue.exports={supportsColor:wqe,stdout:XV(ZV(!0,$ue.isatty(1))),stderr:XV(ZV(!0,$ue.isatty(2)))}});var Jue=V((Nl,Hk)=>{d();var _qe=require("tty"),Wk=require("util");Nl.init=Nqe;Nl.log=Rqe;Nl.formatArgs=Bqe;Nl.save=Dqe;Nl.load=Pqe;Nl.useColors=Sqe;Nl.destroy=Wk.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Nl.colors=[6,2,3,4,5,1];try{let e=Yue();e&&(e.stderr||e).level>=2&&(Nl.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Nl.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Sqe(){return"colors"in Nl.inspectOpts?!!Nl.inspectOpts.colors:_qe.isatty(process.stderr.fd)}o(Sqe,"useColors");function Bqe(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Hk.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=kqe()+t+" "+e[0]}o(Bqe,"formatArgs");function kqe(){return Nl.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(kqe,"getDate");function Rqe(...e){return process.stderr.write(Wk.format(...e)+`
`)}o(Rqe,"log");function Dqe(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(Dqe,"save");function Pqe(){return process.env.DEBUG}o(Pqe,"load");function Nqe(e){e.inspectOpts={};let t=Object.keys(Nl.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Nl.inspectOpts[t[r]]}o(Nqe,"init");Hk.exports=JV()(Nl);var{formatters:Kue}=Hk.exports;Kue.o=function(e){return this.inspectOpts.colors=this.useColors,Wk.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Kue.O=function(e){return this.inspectOpts.colors=this.useColors,Wk.inspect(e,this.inspectOpts)}});var Q3=V((SPt,ej)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ej.exports=Hue():ej.exports=Jue()});var sj=V((DPt,tfe)=>{d();var N9=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Fqe=typeof AbortController=="function",Vk=Fqe?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new Xue}abort(){this.signal.dispatchEvent("abort")}},Lqe=typeof AbortSignal=="function",Qqe=typeof Vk.AbortSignal=="function",Xue=Lqe?AbortSignal:Qqe?Vk.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},ij=new Set,tj=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;jk(r)&&oj(r,`${e} option`,`options.${t}`,Nx)},"deprecatedOption"),rj=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(jk(r)){let{prototype:n}=Nx,{get:i}=Object.getOwnPropertyDescriptor(n,e);oj(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),Mqe=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(jk(r)){let{prototype:n}=Nx,{get:i}=Object.getOwnPropertyDescriptor(n,e);oj(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),Zue=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),jk=o(e=>!ij.has(e),"shouldWarn"),oj=o((e,t,r,n)=>{ij.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;Zue(i,"DeprecationWarning",e,n)},"warn"),M3=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),efe=o(e=>M3(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Px:null:null,"getUintArray"),Px=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},nj=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=efe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Nx=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:A,fetchMethod:E,fetchContext:x,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:b}=t,{length:S,maxAge:k,stale:P}=t instanceof e?{}:t;if(r!==0&&!M3(r))throw new TypeError("max option must be a nonnegative integer");let N=r?efe(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=A||S,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=E||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=x,!this.fetchMethod&&x!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new N(r),this.prev=new N(r),this.head=0,this.tail=0,this.free=new nj(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.maxSize!==0){if(!M3(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!P,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=M3(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||k||0,this.ttl){if(!M3(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let W="LRU_CACHE_UNBOUNDED";jk(W)&&(ij.add(W),Zue("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,e))}P&&tj("stale","allowStale"),k&&tj("maxAge","ttl"),S&&tj("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Px(this.max),this.starts=new Px(this.max),this.setItemTTL=(n,i,s=N9.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?N9.now():0};let t=0,r=o(()=>{let n=N9.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Px(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!M3(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!M3(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return rj("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=N9.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=N9.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new Vk,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},A=this.keyMap.get(t);if(A===void 0){let E=this.backgroundFetch(t,A,p,m);return E.__returned=E}else{let E=this.valList[A];if(this.isBackgroundFetch(E))return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E;if(!h&&!this.isStale(A))return this.moveToTail(A),n&&this.updateItemAge(A),E;let x=this.backgroundFetch(t,A,p,m);return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return rj("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return rj("reset","clear"),this.clear}get length(){return Mqe("length","size"),this.size}static get AbortController(){return Vk}static get AbortSignal(){return Xue}};tfe.exports=Nx});var cj=V((FPt,rfe)=>{"use strict";d();var F9=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},aj=class extends F9{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},lj=class extends F9{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};rfe.exports={FetchBaseError:F9,FetchError:aj,AbortError:lj}});var Bg=V((MPt,ife)=>{"use strict";d();var{constants:{MAX_LENGTH:Oqe}}=require("buffer"),{pipeline:$k,PassThrough:Uqe}=require("stream"),{promisify:qqe}=require("util"),{createGunzip:Gqe,createInflate:Wqe,createBrotliDecompress:Hqe,constants:{Z_SYNC_FLUSH:nfe}}=require("zlib"),Vqe=Q3()("helix-fetch:utils"),jqe=qqe($k),$qe=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),zqe=o((e,t,r,n)=>{if(!$qe(e,t))return r;let i=o(s=>{s&&(Vqe(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return $k(r,Gqe({flush:nfe,finishFlush:nfe}),i);case"deflate":case"x-deflate":return $k(r,Wqe(),i);case"br":return $k(r,Hqe(),i);default:return r}},"decodeStream"),Yqe=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),zk=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?Kqe(e,t):Jqe(e,t);default:return 0}},"calcSize"),Kqe=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:zk(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),Jqe=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=zk(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=zk(e[i],t)}),r},"calcObjectSize"),Xqe=o(e=>zk(e,new WeakSet),"sizeof"),Zqe=o(async e=>{let t=new Uqe,r=0,n=[];return t.on("data",i=>{if(r+i.length>Oqe)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await jqe(e,t),Buffer.concat(n,r)},"streamToBuffer");ife.exports={decodeStream:zqe,isPlainObject:Yqe,sizeof:Xqe,streamToBuffer:Zqe}});var Kk=V((qPt,lfe)=>{"use strict";d();var{PassThrough:ofe,Readable:kg}=require("stream"),{types:{isAnyArrayBuffer:afe}}=require("util"),{FetchError:eGe,FetchBaseError:tGe}=cj(),{streamToBuffer:rGe}=Bg(),nGe=Buffer.alloc(0),bf=Symbol("Body internals"),iGe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),sfe=o(async e=>{if(e[bf].disturbed)throw new TypeError("Already read");if(e[bf].error)throw new TypeError(`Stream had error: ${e[bf].error.message}`);e[bf].disturbed=!0;let{stream:t}=e[bf];return t===null?nGe:rGe(t)},"consume"),Yk=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=kg.from(t.toString()):t instanceof kg?r=t:Buffer.isBuffer(t)?r=kg.from(t):afe(t)?r=kg.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=kg.from(t):r=kg.from(String(t)),this[bf]={stream:r,disturbed:!1,error:null},t instanceof kg&&r.on("error",n=>{let i=n instanceof tGe?n:new eGe(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[bf].error=i})}get body(){return this[bf].stream}get bodyUsed(){return this[bf].disturbed}async buffer(){return sfe(this)}async arrayBuffer(){return iGe(await this.buffer())}async text(){return(await sfe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(Yk.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var oGe=o(e=>{if(e[bf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[bf],r=t;if(t instanceof kg){r=new ofe;let n=new ofe;t.pipe(r),t.pipe(n),e[bf].stream=n}return r},"cloneStream"),sGe=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||afe(e)||e instanceof kg?null:"text/plain; charset=utf-8","guessContentType");lfe.exports={Body:Yk,cloneStream:oGe,guessContentType:sGe}});var Fx=V((HPt,dfe)=>{"use strict";d();var{validateHeaderName:cfe,validateHeaderValue:ufe}=require("http"),{isPlainObject:aGe}=Bg(),Rg=Symbol("Headers internals"),L9=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof cfe=="function")cfe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),ffe=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof ufe=="function")ufe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),Jk=class e{static{o(this,"Headers")}constructor(t={}){if(this[Rg]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(aGe(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Rg].map.set(L9(t),ffe(r,t))}has(t){return this[Rg].map.has(L9(t))}get(t){let r=this[Rg].map.get(L9(t));return r===void 0?null:r}append(t,r){let n=L9(t),i=ffe(r,t),s=this[Rg].map.get(n);this[Rg].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[Rg].map.delete(L9(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Rg].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Rg].map)}};Object.defineProperties(Jk.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));dfe.exports={Headers:Jk}});var uj=V(($Pt,mfe)=>{"use strict";d();var{EventEmitter:lGe}=require("events"),Yd=Symbol("AbortSignal internals"),Lx=class{static{o(this,"AbortSignal")}constructor(){this[Yd]={eventEmitter:new lGe,onabort:null,aborted:!1}}get aborted(){return this[Yd].aborted}get onabort(){return this[Yd].onabort}set onabort(t){this[Yd].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Yd].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Yd].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Yd][n]=="function"&&this[n](r),this[Yd].eventEmitter.emit(t,r)}fire(){this[Yd].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(Lx.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var Zk=class extends Lx{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Yd].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Yd].timerId)}};Object.defineProperties(Zk.prototype,{clear:{enumerable:!0}});var Xk=Symbol("AbortController internals"),eR=class{static{o(this,"AbortController")}constructor(){this[Xk]={signal:new Lx}}get signal(){return this[Xk].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[Xk].signal.aborted||this[Xk].signal.fire()}};Object.defineProperties(eR.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});mfe.exports={AbortController:eR,AbortSignal:Lx,TimeoutSignal:Zk}});var Q9=V((KPt,gfe)=>{"use strict";d();var{randomBytes:cGe}=require("crypto"),{Readable:uGe}=require("stream"),dj=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),fGe=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),hfe=o(e=>`--${e}--\r
\r
`,"getFooter"),pfe=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,dj(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*dGe(e,t){for(let[r,n]of e)yield pfe(t,r,n),dj(n)?yield*n.stream():yield n,yield`\r
`;yield hfe(t)}o(dGe,"formDataIterator");var mGe=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(pfe(t,n,i)),r+=dj(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(hfe(t)),r},"getFormDataLength"),fj=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=cGe(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=mGe(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return uGe.from(dGe(this.fd,this.boundary))}};gfe.exports={isFormData:fGe,FormDataSerializer:fj}});var yfe=V((ZPt,Afe)=>{"use strict";d();var{AbortSignal:hGe}=uj(),{Body:pGe,cloneStream:gGe,guessContentType:AGe}=Kk(),{Headers:yGe}=Fx(),{isPlainObject:CGe}=Bg(),{isFormData:EGe,FormDataSerializer:xGe}=Q9(),bGe=20,w2=Symbol("Request internals"),tR=class e extends pGe{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?gGe(n):null),l=new yGe(r.headers||n&&n.headers||{});if(EGe(a)&&!l.has("content-type")){let m=new xGe(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(CGe(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=AGe(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof hGe))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[w2]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=bGe:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[w2].method}get url(){return this[w2].parsedURL.toString()}get headers(){return this[w2].headers}get redirect(){return this[w2].redirect}get cache(){return this[w2].cache}get signal(){return this[w2].signal}clone(){return new e(this)}get init(){return this[w2].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(tR.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});Afe.exports={Request:tR}});var mj=V((rNt,Cfe)=>{"use strict";d();var{Body:vGe,cloneStream:IGe,guessContentType:TGe}=Kk(),{Headers:wGe}=Fx(),{isPlainObject:_Ge}=Bg(),{isFormData:SGe,FormDataSerializer:BGe}=Q9(),Kd=Symbol("Response internals"),rR=class e extends vGe{static{o(this,"Response")}constructor(t=null,r={}){let n=new wGe(r.headers),i=t;if(SGe(i)&&!n.has("content-type")){let s=new BGe(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(_Ge(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=TGe(i);s&&n.set("content-type",s)}super(i),this[Kd]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Kd].url||""}get status(){return this[Kd].status}get statusText(){return this[Kd].statusText}get ok(){return this[Kd].status>=200&&this[Kd].status<300}get redirected(){return this[Kd].counter>0}get headers(){return this[Kd].headers}get httpVersion(){return this[Kd].httpVersion}get decoded(){return this[Kd].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(IGe(this),{...this[Kd]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(rR.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Cfe.exports={Response:rR}});var xfe=V((sNt,Efe)=>{"use strict";d();var kGe=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),RGe=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),DGe=new Set([500,502,503,504]),PGe={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},NGe={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function O3(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(O3,"toNumberOrZero");function FGe(e){return e?DGe.has(e.status):!0}o(FGe,"isErrorResponse");function hj(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o(hj,"parseCacheControl");function LGe(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(LGe,"formatCacheControl");Efe.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=hj(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=hj(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":LGe(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&RGe.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||kGe.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=hj(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)PGe[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return O3(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return O3(this._rescc["s-maxage"])}if(this._rescc["max-age"])return O3(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+O3(this._rescc["stale-if-error"]),n=t+O3(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+O3(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+O3(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&FGe(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!NGe[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Tfe=V((cNt,Ife)=>{"use strict";d();var QGe=xfe(),{Headers:MGe}=Fx(),bfe=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),vfe=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),pj=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new QGe(bfe(t),vfe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(bfe(t))}responseHeaders(t){return new MGe(this.policy.responseHeaders(vfe(t)))}timeToLive(){return this.policy.timeToLive()}};Ife.exports=pj});var Sfe=V((dNt,_fe)=>{"use strict";d();var{Readable:OGe}=require("stream"),{Headers:wfe}=Fx(),{Response:UGe}=mj(),_2=Symbol("CacheableResponse internals"),qGe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),gj=class e extends UGe{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new wfe(r.headers);this[_2]={headers:n,bufferedBody:t}}get headers(){return this[_2].headers}set headers(t){if(t instanceof wfe)this[_2].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return OGe.from(this[_2].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[_2].bufferedBody}async arrayBuffer(){return qGe(this[_2].bufferedBody)}async text(){return this[_2].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[_2].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},GGe=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new gj(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");_fe.exports={cacheableResponse:GGe}});var nR=V((pNt,Bfe)=>{"use strict";d();var Aj=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};Bfe.exports={RequestAbortedError:Aj}});var Nfe=V((yNt,Pfe)=>{"use strict";d();var Rfe=require("http"),Dfe=require("https"),{Readable:WGe}=require("stream"),Dg=Q3()("helix-fetch:h1"),{RequestAbortedError:kfe}=nR(),{decodeStream:HGe}=Bg(),VGe=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new Dfe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new Rfe.Agent(n),r.httpAgent):void 0},"getAgent"),jGe=o(e=>{e.h1={}},"setupContext"),$Ge=o(async({h1:e})=>{e.httpAgent&&(Dg("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Dg("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),zGe=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?HGe(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),YGe=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?Dfe:Rfe,i=VGe(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{Dg(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{Dg(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{Dg(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(Dg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new kfe),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new kfe);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(Dg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(zGe(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(Dg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(Dg(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof WGe?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");Pfe.exports={request:YGe,setupContext:jGe,resetContext:$Ge}});var Mfe=V((xNt,Qfe)=>{"use strict";d();var{connect:KGe,constants:JGe}=require("http2"),{Readable:XGe}=require("stream"),jo=Q3()("helix-fetch:h2"),{RequestAbortedError:Ffe}=nR(),{decodeStream:ZGe}=Bg(),{NGHTTP2_CANCEL:M9}=JGe,eWe=5*60*1e3,tWe=5e3,rWe=o(e=>{e.h2={sessionCache:{}}},"setupContext"),nWe=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),jo(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),Lfe=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?ZGe(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),iWe=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=tWe}}}=e,u=i[":path"],f=`${t}${u}`;jo(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(M9)},"rejectPush")),n.on("push",(m,h)=>{jo(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{jo(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(M9)}),l&&l(f,i,Lfe(m,n,r))}),n.on("aborted",()=>{jo(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{jo(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{jo(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),oWe=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=eWe,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:A,headers:E,socket:x,body:v,decode:b}=p;return x&&delete p.socket,E.host&&(E[":authority"]=E.host,delete E.host),new Promise((S,k)=>{let P=u[n];if(!P||P.closed||P.destroyed){let re=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:re};x&&!x.inUse&&(G.createConnection=()=>(jo(`reusing socket #${x.id} (${x.servername})`),x.inUse=!0,x)),P=KGe(n,{...G,settings:{enablePush:!!(m||h)}}),P.setMaxListeners(1e3),P.setTimeout(f,()=>{jo(`closing session ${n} after ${f} ms of inactivity`),P.close()}),P.once("connect",()=>{jo(`session ${n} established`),jo(`caching session ${n}`),u[n]=P}),P.on("localSettings",se=>{jo(`session ${n} localSettings: ${JSON.stringify(se)}`)}),P.on("remoteSettings",se=>{jo(`session ${n} remoteSettings: ${JSON.stringify(se)}`)}),P.once("close",()=>{jo(`session ${n} closed`),u[n]===P&&(jo(`discarding cached session ${n}`),delete u[n])}),P.once("error",se=>{jo(`session ${n} encountered error: ${se}`),u[n]===P&&(jo(`discarding cached session ${n}`),delete u[n])}),P.on("frameError",(se,ne,H)=>{jo(`session ${n} encountered frameError: type: ${se}, code: ${ne}, id: ${H}`)}),P.once("goaway",(se,ne,H)=>{jo(`session ${n} received GOAWAY frame: errorCode: ${se}, lastStreamID: ${ne}, opaqueData: ${H?H.toString():void 0}`)}),P.on("stream",(se,ne,H)=>{iWe(e,n,b,se,ne,H)})}else x&&x.id!==P.socket.id&&!x.inUse&&(jo(`discarding redundant socket used for ALPN: #${x.id} ${x.servername}`),x.destroy());jo(`${A} ${t.host}${l}`);let N,{signal:W}=p,te=o(()=>{W.removeEventListener("abort",te),k(new Ffe),N&&N.close(M9)},"onAbortSignal");if(W){if(W.aborted){k(new Ffe);return}W.addEventListener("abort",te)}let ge=o(re=>{jo(`session ${n} encountered error during ${p.method} ${t.href}: ${re}`),k(re)},"onSessionError");P.once("error",ge),N=P.request({":method":A,":path":l,...E}),N.once("response",re=>{P.off("error",ge),W&&W.removeEventListener("abort",te),S(Lfe(re,N,p.decode,k))}),N.once("error",re=>{P.off("error",ge),W&&W.removeEventListener("abort",te),N.rstCode!==M9&&(jo(`${p.method} ${t.href} failed with: ${re.message}`),N.close(M9),k(re))}),N.once("frameError",(re,G,q)=>{P.off("error",ge),jo(`encountered frameError during ${p.method} ${t.href}: type: ${re}, code: ${G}, id: ${q}`)}),N.on("push",(re,G)=>{jo(`received 'push' event: headers: ${JSON.stringify(re)}, flags: ${G}`)}),v instanceof XGe?v.pipe(N):(v&&N.write(v),N.end())})},"request");Qfe.exports={request:oWe,setupContext:rWe,resetContext:nWe}});var Ufe=V((INt,Ofe)=>{"use strict";d();var{EventEmitter:sWe}=require("events"),aWe=o(()=>{let e={},t=new sWe;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");Ofe.exports=aWe});var qfe=V((_Nt,lWe)=>{lWe.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var jfe=V((SNt,Vfe)=>{"use strict";d();var{Readable:cWe}=require("stream"),uWe=require("tls"),{types:{isAnyArrayBuffer:fWe}}=require("util"),dWe=sj(),yj=Q3()("helix-fetch:core"),{RequestAbortedError:iR}=nR(),Cj=Nfe(),oR=Mfe(),mWe=Ufe(),{isPlainObject:hWe}=Bg(),{isFormData:pWe,FormDataSerializer:gWe}=Q9(),{version:AWe}=qfe(),Ej="h2",xj="h2c",bj="http/1.0",U3="http/1.1",yWe=100,CWe=60*60*1e3,EWe=[Ej,U3,bj],xWe=`helix-fetch/${AWe}`,bWe={method:"GET",compress:!0,decode:!0},Gfe=0,Wfe=mWe(),Hfe=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new iR;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new iR);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof iR||(yj(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=uWe.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),Gfe+=1,s.id=Gfe,s.secureConnecting=!1,yj(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),vWe=o(async(e,t)=>{let r=await Wfe.acquire(e.origin);try{return r||(r=await Hfe(e,t)),r}finally{Wfe.release(e.origin,r)}},"connect"),IWe=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=U3,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=xj,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await vWe(t,u);return i=f.alpnProtocol,i||(i=U3),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),TWe=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),wWe=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await Hfe(t,u);return{protocol:f.alpnProtocol||U3,socket:f}}return{protocol:l.alpnProtocol||U3,socket:l}},"getProtocolAndSocketFromFactory"),_We=o(async(e,t,r)=>{let n=new URL(t),i={...bWe,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=TWe(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(pWe(i.body)){let u=new gWe(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":hWe(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):fWe(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof cWe||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await wWe(e.socketFactory,n,i,e.alpnProtocols):await IWe(e,n,a);switch(yj(`${n.host} -> ${l}`),l){case Ej:try{return await oR.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case xj:return oR.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case bj:case U3:return Cj.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),SWe=o(async e=>(e.alpnCache.clear(),Promise.all([Cj.resetContext(e),oR.resetContext(e)])),"resetContext"),BWe=o(e=>{let{options:{alpnProtocols:t=EWe,alpnCacheTTL:r=CWe,alpnCacheSize:n=yWe,userAgent:i=xWe,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new dWe({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,Cj.setupContext(e),oR.setupContext(e)},"setupContext");Vfe.exports={request:_We,setupContext:BWe,resetContext:SWe,RequestAbortedError:iR,ALPN_HTTP2:Ej,ALPN_HTTP2C:xj,ALPN_HTTP1_1:U3,ALPN_HTTP1_0:bj}});var zfe=V((RNt,$fe)=>{"use strict";d();var kWe=Q3()("helix-fetch:core"),{request:RWe,setupContext:DWe,resetContext:PWe,RequestAbortedError:NWe,ALPN_HTTP2:FWe,ALPN_HTTP2C:LWe,ALPN_HTTP1_1:QWe,ALPN_HTTP1_0:MWe}=jfe(),vj=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},DWe(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:NWe,ALPN_HTTP2:FWe,ALPN_HTTP2C:LWe,ALPN_HTTP1_1:QWe,ALPN_HTTP1_0:MWe}}async request(t,r){return RWe(this,t,r)}setCA(t){this.options.ca=t}async reset(){return kWe("resetting context"),PWe(this)}};$fe.exports=new vj().api()});var Zfe=V((NNt,Xfe)=>{"use strict";d();var{EventEmitter:OWe}=require("events"),{Readable:O9}=require("stream"),Ij=Q3()("helix-fetch"),UWe=sj(),{Body:qWe}=Kk(),{Headers:Sj}=Fx(),{Request:q3}=yfe(),{Response:wj}=mj(),{FetchBaseError:GWe,FetchError:U9,AbortError:sR}=cj(),{AbortController:WWe,AbortSignal:HWe,TimeoutSignal:VWe}=uj(),jWe=Tfe(),{cacheableResponse:$We}=Sfe(),{sizeof:zWe}=Bg(),{isFormData:YWe}=Q9(),{context:KWe,RequestAbortedError:JWe}=zfe(),Yfe=["GET","HEAD"],XWe=500,ZWe=100*1024*1024,Tj="push",Kfe=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof q3&&typeof r>"u"?t:new q3(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let P=new sR("The operation was aborted.");throw i.init.body instanceof O9&&i.init.body.destroy(P),P}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof O9)&&!YWe(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(P){throw h instanceof O9&&h.destroy(P),P instanceof TypeError?P:P instanceof JWe?new sR("The operation was aborted."):new U9(P.message,"system",P)}let A=o(()=>{l.removeEventListener("abort",A);let P=new sR("The operation was aborted.");i.init.body instanceof O9&&i.init.body.destroy(P),p.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",A);let{statusCode:E,statusText:x,httpVersion:v,headers:b,readable:S,decoded:k}=p;if([301,302,303,307,308].includes(E)){let{location:P}=b,N=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",A),new U9(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(N===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",A),new U9(`maximum redirect reached at: ${i.url}`,"max-redirect");let W={headers:new Sj(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(E!==303&&i.body&&i.init.body instanceof O9)throw l&&l.removeEventListener("abort",A),new U9("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(E===303||(E===301||E===302)&&i.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length")),l&&l.removeEventListener("abort",A),Kfe(e,new q3(N,W))}default:}}return l&&(S.once("end",()=>{l.removeEventListener("abort",A)}),S.once("error",()=>{l.removeEventListener("abort",A)})),new wj(S,{url:i.url,status:E,statusText:x,headers:b,httpVersion:v,decoded:k,counter:i.counter})},"fetch"),Jfe=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!Yfe.includes(t.method))return r;let n=new jWe(t,r,{shared:!1});if(n.storable()){let i=await $We(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),eHe=o(async(e,t,r)=>{let n=new q3(t,r);if(e.options.maxCacheSize!==0&&Yfe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new Sj(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await Kfe(e,n);return n.cache!=="no-store"?Jfe(e,n,s):s},"cachingFetch"),tHe=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),rHe=o(e=>new VWe(e),"timeoutSignal"),_j=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:ZWe,i=XWe;n===0&&(n=1,i=1);let s=o(({response:l},c)=>zWe(l),"sizeCalculation");this.cache=new UWe({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new OWe,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(v=>v.startsWith(":")).forEach(v=>delete f[v]);let{statusCode:m,statusText:h,httpVersion:p,headers:A,readable:E,decoded:x}=u;this.pushHandler(l,f,new wj(E,{url:l,status:m,statusText:h,headers:A,httpVersion:p,decoded:x}))}),this.context=KWe(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:qWe,Headers:Sj,Request:q3,Response:wj,AbortController:WWe,AbortSignal:HWe,FetchBaseError:GWe,FetchError:U9,AbortError:sR,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:tHe,timeoutSignal:rHe,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return eHe(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(Tj,t)}offPush(t){return this.eventEmitter.off(Tj,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){Ij(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new q3(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(Ij(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){Ij(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await Jfe(this,new q3(t,{headers:r}),n);this.eventEmitter.emit(Tj,t,i)}};Xfe.exports=new _j().api()});var tde=V((QNt,ede)=>{"use strict";d();ede.exports=Zfe()});var lb=V(c0=>{"use strict";d();Object.defineProperty(c0,"__esModule",{value:!0});c0.stringArray=c0.array=c0.func=c0.error=c0.number=c0.string=c0.boolean=void 0;function zze(e){return e===!0||e===!1}o(zze,"boolean");c0.boolean=zze;function Ehe(e){return typeof e=="string"||e instanceof String}o(Ehe,"string");c0.string=Ehe;function Yze(e){return typeof e=="number"||e instanceof Number}o(Yze,"number");c0.number=Yze;function Kze(e){return e instanceof Error}o(Kze,"error");c0.error=Kze;function Jze(e){return typeof e=="function"}o(Jze,"func");c0.func=Jze;function xhe(e){return Array.isArray(e)}o(xhe,"array");c0.array=xhe;function Xze(e){return xhe(e)&&e.every(t=>Ehe(t))}o(Xze,"stringArray");c0.stringArray=Xze});var Q$=V($r=>{"use strict";d();Object.defineProperty($r,"__esModule",{value:!0});$r.Message=$r.NotificationType9=$r.NotificationType8=$r.NotificationType7=$r.NotificationType6=$r.NotificationType5=$r.NotificationType4=$r.NotificationType3=$r.NotificationType2=$r.NotificationType1=$r.NotificationType0=$r.NotificationType=$r.RequestType9=$r.RequestType8=$r.RequestType7=$r.RequestType6=$r.RequestType5=$r.RequestType4=$r.RequestType3=$r.RequestType2=$r.RequestType1=$r.RequestType=$r.RequestType0=$r.AbstractMessageSignature=$r.ParameterStructures=$r.ResponseError=$r.ErrorCodes=void 0;var X3=lb(),m$;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(m$||($r.ErrorCodes=m$={}));var h$=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=X3.number(t)?t:m$.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};$r.ResponseError=h$;var Ac=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};$r.ParameterStructures=Ac;Ac.auto=new Ac("auto");Ac.byPosition=new Ac("byPosition");Ac.byName=new Ac("byName");var Jo=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Ac.auto}};$r.AbstractMessageSignature=Jo;var p$=class extends Jo{static{o(this,"RequestType0")}constructor(t){super(t,0)}};$r.RequestType0=p$;var g$=class extends Jo{static{o(this,"RequestType")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType=g$;var A$=class extends Jo{static{o(this,"RequestType1")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType1=A$;var y$=class extends Jo{static{o(this,"RequestType2")}constructor(t){super(t,2)}};$r.RequestType2=y$;var C$=class extends Jo{static{o(this,"RequestType3")}constructor(t){super(t,3)}};$r.RequestType3=C$;var E$=class extends Jo{static{o(this,"RequestType4")}constructor(t){super(t,4)}};$r.RequestType4=E$;var x$=class extends Jo{static{o(this,"RequestType5")}constructor(t){super(t,5)}};$r.RequestType5=x$;var b$=class extends Jo{static{o(this,"RequestType6")}constructor(t){super(t,6)}};$r.RequestType6=b$;var v$=class extends Jo{static{o(this,"RequestType7")}constructor(t){super(t,7)}};$r.RequestType7=v$;var I$=class extends Jo{static{o(this,"RequestType8")}constructor(t){super(t,8)}};$r.RequestType8=I$;var T$=class extends Jo{static{o(this,"RequestType9")}constructor(t){super(t,9)}};$r.RequestType9=T$;var w$=class extends Jo{static{o(this,"NotificationType")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType=w$;var _$=class extends Jo{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};$r.NotificationType0=_$;var S$=class extends Jo{static{o(this,"NotificationType1")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType1=S$;var B$=class extends Jo{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};$r.NotificationType2=B$;var k$=class extends Jo{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};$r.NotificationType3=k$;var R$=class extends Jo{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};$r.NotificationType4=R$;var D$=class extends Jo{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};$r.NotificationType5=D$;var P$=class extends Jo{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};$r.NotificationType6=P$;var N$=class extends Jo{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};$r.NotificationType7=N$;var F$=class extends Jo{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};$r.NotificationType8=F$;var L$=class extends Jo{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};$r.NotificationType9=L$;var bhe;(function(e){function t(i){let s=i;return s&&X3.string(s.method)&&(X3.string(s.id)||X3.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&X3.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(X3.string(s.id)||X3.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(bhe||($r.Message=bhe={}))});var O$=V(Q2=>{"use strict";d();var vhe;Object.defineProperty(Q2,"__esModule",{value:!0});Q2.LRUCache=Q2.LinkedMap=Q2.Touch=void 0;var u0;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(u0||(Q2.Touch=u0={}));var FR=class{static{o(this,"LinkedMap")}constructor(){this[vhe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=u0.None){let n=this._map.get(t);if(n)return r!==u0.None&&this.touch(n,r),n.value}set(t,r,n=u0.None){let i=this._map.get(t);if(i)i.value=r,n!==u0.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case u0.None:this.addItemLast(i);break;case u0.First:this.addItemFirst(i);break;case u0.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(vhe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==u0.First&&r!==u0.Last)){if(r===u0.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===u0.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Q2.LinkedMap=FR;var M$=class extends FR{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=u0.AsNew){return super.get(t,r)}peek(t){return super.get(t,u0.None)}set(t,r){return super.set(t,r,u0.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Q2.LRUCache=M$});var The=V(LR=>{"use strict";d();Object.defineProperty(LR,"__esModule",{value:!0});LR.Disposable=void 0;var Ihe;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(Ihe||(LR.Disposable=Ihe={}))});var M2=V(G$=>{"use strict";d();Object.defineProperty(G$,"__esModule",{value:!0});var U$;function q$(){if(U$===void 0)throw new Error("No runtime abstraction layer installed");return U$}o(q$,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");U$=r}o(t,"install"),e.install=t})(q$||(q$={}));G$.default=q$});var ub=V(cb=>{"use strict";d();Object.defineProperty(cb,"__esModule",{value:!0});cb.Emitter=cb.Event=void 0;var Zze=M2(),whe;(function(e){let t={dispose(){}};e.None=function(){return t}})(whe||(cb.Event=whe={}));var W$=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,Zze.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},QR=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new W$),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};cb.Emitter=QR;QR._noop=function(){}});var UR=V(fb=>{"use strict";d();Object.defineProperty(fb,"__esModule",{value:!0});fb.CancellationTokenSource=fb.CancellationToken=void 0;var eYe=M2(),tYe=lb(),H$=ub(),MR;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:H$.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:H$.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||tYe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(MR||(fb.CancellationToken=MR={}));var rYe=Object.freeze(function(e,t){let r=(0,eYe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),OR=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?rYe:(this._emitter||(this._emitter=new H$.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},V$=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new OR),this._token}cancel(){this._token?this._token.cancel():this._token=MR.Cancelled}dispose(){this._token?this._token instanceof OR&&this._token.dispose():this._token=MR.None}};fb.CancellationTokenSource=V$});var _he=V(db=>{"use strict";d();Object.defineProperty(db,"__esModule",{value:!0});db.SharedArrayReceiverStrategy=db.SharedArraySenderStrategy=void 0;var nYe=UR(),s7;(function(e){e.Continue=0,e.Cancelled=1})(s7||(s7={}));var j$=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=s7.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,s7.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};db.SharedArraySenderStrategy=j$;var $$=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===s7.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},z$=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new $$(t)}cancel(){}dispose(){}},Y$=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new nYe.CancellationTokenSource:new z$(r)}};db.SharedArrayReceiverStrategy=Y$});var J$=V(qR=>{"use strict";d();Object.defineProperty(qR,"__esModule",{value:!0});qR.Semaphore=void 0;var iYe=M2(),K$=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,iYe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};qR.Semaphore=K$});var Bhe=V(O2=>{"use strict";d();Object.defineProperty(O2,"__esModule",{value:!0});O2.ReadableStreamMessageReader=O2.AbstractMessageReader=O2.MessageReader=void 0;var Z$=M2(),mb=lb(),X$=ub(),oYe=J$(),She;(function(e){function t(r){let n=r;return n&&mb.func(n.listen)&&mb.func(n.dispose)&&mb.func(n.onError)&&mb.func(n.onClose)&&mb.func(n.onPartialMessage)}o(t,"is"),e.is=t})(She||(O2.MessageReader=She={}));var GR=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new X$.Emitter,this.closeEmitter=new X$.Emitter,this.partialMessageEmitter=new X$.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${mb.string(t.message)?t.message:"unknown"}`)}};O2.AbstractMessageReader=GR;var ez;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,Z$.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(ez||(ez={}));var tz=class extends GR{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=ez.fromOptions(r),this.buffer=(0,Z$.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new oYe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Z$.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};O2.ReadableStreamMessageReader=tz});var Nhe=V(U2=>{"use strict";d();Object.defineProperty(U2,"__esModule",{value:!0});U2.WriteableStreamMessageWriter=U2.AbstractMessageWriter=U2.MessageWriter=void 0;var khe=M2(),a7=lb(),sYe=J$(),Rhe=ub(),aYe="Content-Length: ",Dhe=`\r
`,Phe;(function(e){function t(r){let n=r;return n&&a7.func(n.dispose)&&a7.func(n.onClose)&&a7.func(n.onError)&&a7.func(n.write)}o(t,"is"),e.is=t})(Phe||(U2.MessageWriter=Phe={}));var WR=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Rhe.Emitter,this.closeEmitter=new Rhe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${a7.string(t.message)?t.message:"unknown"}`)}};U2.AbstractMessageWriter=WR;var rz;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,khe.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,khe.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(rz||(rz={}));var nz=class extends WR{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=rz.fromOptions(r),this.errorCount=0,this.writeSemaphore=new sYe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(aYe,n.byteLength.toString(),Dhe),i.push(Dhe),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};U2.WriteableStreamMessageWriter=nz});var Fhe=V(HR=>{"use strict";d();Object.defineProperty(HR,"__esModule",{value:!0});HR.AbstractMessageBuffer=void 0;var lYe=13,cYe=10,uYe=`\r
`,iz=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case lYe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case cYe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(uYe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};HR.AbstractMessageBuffer=iz});var Uhe=V(Mn=>{"use strict";d();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.createMessageConnection=Mn.ConnectionOptions=Mn.MessageStrategy=Mn.CancellationStrategy=Mn.CancellationSenderStrategy=Mn.CancellationReceiverStrategy=Mn.RequestCancellationReceiverStrategy=Mn.IdCancellationReceiverStrategy=Mn.ConnectionStrategy=Mn.ConnectionError=Mn.ConnectionErrors=Mn.LogTraceNotification=Mn.SetTraceNotification=Mn.TraceFormat=Mn.TraceValues=Mn.Trace=Mn.NullLogger=Mn.ProgressType=Mn.ProgressToken=void 0;var Lhe=M2(),Bs=lb(),yn=Q$(),Qhe=O$(),l7=ub(),oz=UR(),f7;(function(e){e.type=new yn.NotificationType("$/cancelRequest")})(f7||(f7={}));var sz;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(sz||(Mn.ProgressToken=sz={}));var c7;(function(e){e.type=new yn.NotificationType("$/progress")})(c7||(c7={}));var az=class{static{o(this,"ProgressType")}constructor(){}};Mn.ProgressType=az;var lz;(function(e){function t(r){return Bs.func(r)}o(t,"is"),e.is=t})(lz||(lz={}));Mn.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var no;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(no||(Mn.Trace=no={}));var Mhe;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Mhe||(Mn.TraceValues=Mhe={}));(function(e){function t(n){if(!Bs.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(no||(Mn.Trace=no={}));var mu;(function(e){e.Text="text",e.JSON="json"})(mu||(Mn.TraceFormat=mu={}));(function(e){function t(r){return Bs.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(mu||(Mn.TraceFormat=mu={}));var cz;(function(e){e.type=new yn.NotificationType("$/setTrace")})(cz||(Mn.SetTraceNotification=cz={}));var VR;(function(e){e.type=new yn.NotificationType("$/logTrace")})(VR||(Mn.LogTraceNotification=VR={}));var u7;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(u7||(Mn.ConnectionErrors=u7={}));var hb=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Mn.ConnectionError=hb;var uz;(function(e){function t(r){let n=r;return n&&Bs.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(uz||(Mn.ConnectionStrategy=uz={}));var jR;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Bs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Bs.func(n.dispose))}o(t,"is"),e.is=t})(jR||(Mn.IdCancellationReceiverStrategy=jR={}));var fz;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Bs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Bs.func(n.dispose))}o(t,"is"),e.is=t})(fz||(Mn.RequestCancellationReceiverStrategy=fz={}));var $R;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new oz.CancellationTokenSource}});function t(r){return jR.is(r)||fz.is(r)}o(t,"is"),e.is=t})($R||(Mn.CancellationReceiverStrategy=$R={}));var zR;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(f7.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Bs.func(n.sendCancellation)&&Bs.func(n.cleanup)}o(t,"is"),e.is=t})(zR||(Mn.CancellationSenderStrategy=zR={}));var YR;(function(e){e.Message=Object.freeze({receiver:$R.Message,sender:zR.Message});function t(r){let n=r;return n&&$R.is(n.receiver)&&zR.is(n.sender)}o(t,"is"),e.is=t})(YR||(Mn.CancellationStrategy=YR={}));var KR;(function(e){function t(r){let n=r;return n&&Bs.func(n.handleMessage)}o(t,"is"),e.is=t})(KR||(Mn.MessageStrategy=KR={}));var Ohe;(function(e){function t(r){let n=r;return n&&(YR.is(n.cancellationStrategy)||uz.is(n.connectionStrategy)||KR.is(n.messageStrategy))}o(t,"is"),e.is=t})(Ohe||(Mn.ConnectionOptions=Ohe={}));var lm;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(lm||(lm={}));function fYe(e,t,r,n){let i=r!==void 0?r:Mn.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,A,E=new Qhe.LinkedMap,x=new Map,v=new Set,b=new Map,S=no.Off,k=mu.Text,P,N=lm.New,W=new l7.Emitter,te=new l7.Emitter,ge=new l7.Emitter,re=new l7.Emitter,G=new l7.Emitter,q=n&&n.cancellationStrategy?n.cancellationStrategy:YR.Message;function se(pe){if(pe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+pe.toString()}o(se,"createRequestQueueKey");function ne(pe){return pe===null?"res-unknown-"+(++l).toString():"res-"+pe.toString()}o(ne,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}o(H,"createNotificationQueueKey");function O(pe,Le){yn.Message.isRequest(Le)?pe.set(se(Le.id),Le):yn.Message.isResponse(Le)?pe.set(ne(Le.id),Le):pe.set(H(),Le)}o(O,"addMessageToQueue");function j(pe){}o(j,"cancelUndispatched");function J(){return N===lm.Listening}o(J,"isListening");function le(){return N===lm.Closed}o(le,"isClosed");function Z(){return N===lm.Disposed}o(Z,"isDisposed");function ae(){(N===lm.New||N===lm.Listening)&&(N=lm.Closed,te.fire(void 0))}o(ae,"closeHandler");function ce(pe){W.fire([pe,void 0,void 0])}o(ce,"readErrorHandler");function Re(pe){W.fire(pe)}o(Re,"writeErrorHandler"),e.onClose(ae),e.onError(ce),t.onClose(ae),t.onError(Re);function ve(){A||E.size===0||(A=(0,Lhe.default)().timer.setImmediate(()=>{A=void 0,Be()}))}o(ve,"triggerMessageQueue");function Ue(pe){yn.Message.isRequest(pe)?ft(pe):yn.Message.isNotification(pe)?ot(pe):yn.Message.isResponse(pe)?it(pe):ie(pe)}o(Ue,"handleMessage");function Be(){if(E.size===0)return;let pe=E.shift();try{let Le=n?.messageStrategy;KR.is(Le)?Le.handleMessage(pe,Ue):Ue(pe)}finally{ve()}}o(Be,"processMessageQueue");let Je=o(pe=>{try{if(yn.Message.isNotification(pe)&&pe.method===f7.type.method){let Le=pe.params.id,Ke=se(Le),et=E.get(Ke);if(yn.Message.isRequest(et)){let xt=n?.connectionStrategy,Ft=xt&&xt.cancelUndispatched?xt.cancelUndispatched(et,j):void 0;if(Ft&&(Ft.error!==void 0||Ft.result!==void 0)){E.delete(Ke),b.delete(Le),Ft.id=et.id,z(Ft,pe.method,Date.now()),t.write(Ft).catch(()=>i.error("Sending response for canceled message failed."));return}}let _t=b.get(Le);if(_t!==void 0){_t.cancel(),Fe(pe);return}else v.add(Le)}O(E,pe)}finally{ve()}},"callback");function ft(pe){if(Z())return;function Le(Tt,St,wt){let Ot={jsonrpc:c,id:pe.id};Tt instanceof yn.ResponseError?Ot.error=Tt.toJson():Ot.result=Tt===void 0?null:Tt,z(Ot,St,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(Le,"reply");function Ke(Tt,St,wt){let Ot={jsonrpc:c,id:pe.id,error:Tt.toJson()};z(Ot,St,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(Ke,"replyError");function et(Tt,St,wt){Tt===void 0&&(Tt=null);let Ot={jsonrpc:c,id:pe.id,result:Tt};z(Ot,St,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(et,"replySuccess"),ee(pe);let _t=f.get(pe.method),xt,Ft;_t&&(xt=_t.type,Ft=_t.handler);let Qt=Date.now();if(Ft||u){let Tt=pe.id??String(Date.now()),St=jR.is(q.receiver)?q.receiver.createCancellationTokenSource(Tt):q.receiver.createCancellationTokenSource(pe);pe.id!==null&&v.has(pe.id)&&St.cancel(),pe.id!==null&&b.set(Tt,St);try{let wt;if(Ft)if(pe.params===void 0){if(xt!==void 0&&xt.numberOfParams!==0){Ke(new yn.ResponseError(yn.ErrorCodes.InvalidParams,`Request ${pe.method} defines ${xt.numberOfParams} params but received none.`),pe.method,Qt);return}wt=Ft(St.token)}else if(Array.isArray(pe.params)){if(xt!==void 0&&xt.parameterStructures===yn.ParameterStructures.byName){Ke(new yn.ResponseError(yn.ErrorCodes.InvalidParams,`Request ${pe.method} defines parameters by name but received parameters by position`),pe.method,Qt);return}wt=Ft(...pe.params,St.token)}else{if(xt!==void 0&&xt.parameterStructures===yn.ParameterStructures.byPosition){Ke(new yn.ResponseError(yn.ErrorCodes.InvalidParams,`Request ${pe.method} defines parameters by position but received parameters by name`),pe.method,Qt);return}wt=Ft(pe.params,St.token)}else u&&(wt=u(pe.method,pe.params,St.token));let Ot=wt;wt?Ot.then?Ot.then(Gt=>{b.delete(Tt),Le(Gt,pe.method,Qt)},Gt=>{b.delete(Tt),Gt instanceof yn.ResponseError?Ke(Gt,pe.method,Qt):Gt&&Bs.string(Gt.message)?Ke(new yn.ResponseError(yn.ErrorCodes.InternalError,`Request ${pe.method} failed with message: ${Gt.message}`),pe.method,Qt):Ke(new yn.ResponseError(yn.ErrorCodes.InternalError,`Request ${pe.method} failed unexpectedly without providing any details.`),pe.method,Qt)}):(b.delete(Tt),Le(wt,pe.method,Qt)):(b.delete(Tt),et(wt,pe.method,Qt))}catch(wt){b.delete(Tt),wt instanceof yn.ResponseError?Le(wt,pe.method,Qt):wt&&Bs.string(wt.message)?Ke(new yn.ResponseError(yn.ErrorCodes.InternalError,`Request ${pe.method} failed with message: ${wt.message}`),pe.method,Qt):Ke(new yn.ResponseError(yn.ErrorCodes.InternalError,`Request ${pe.method} failed unexpectedly without providing any details.`),pe.method,Qt)}}else Ke(new yn.ResponseError(yn.ErrorCodes.MethodNotFound,`Unhandled method ${pe.method}`),pe.method,Qt)}o(ft,"handleRequest");function it(pe){if(!Z())if(pe.id===null)pe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(pe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Le=pe.id,Ke=x.get(Le);if(_e(pe,Ke),Ke!==void 0){x.delete(Le);try{if(pe.error){let et=pe.error;Ke.reject(new yn.ResponseError(et.code,et.message,et.data))}else if(pe.result!==void 0)Ke.resolve(pe.result);else throw new Error("Should never happen.")}catch(et){et.message?i.error(`Response handler '${Ke.method}' failed with message: ${et.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}o(it,"handleResponse");function ot(pe){if(Z())return;let Le,Ke;if(pe.method===f7.type.method){let et=pe.params.id;v.delete(et),Fe(pe);return}else{let et=h.get(pe.method);et&&(Ke=et.handler,Le=et.type)}if(Ke||m)try{if(Fe(pe),Ke)if(pe.params===void 0)Le!==void 0&&Le.numberOfParams!==0&&Le.parameterStructures!==yn.ParameterStructures.byName&&i.error(`Notification ${pe.method} defines ${Le.numberOfParams} params but received none.`),Ke();else if(Array.isArray(pe.params)){let et=pe.params;pe.method===c7.type.method&&et.length===2&&sz.is(et[0])?Ke({token:et[0],value:et[1]}):(Le!==void 0&&(Le.parameterStructures===yn.ParameterStructures.byName&&i.error(`Notification ${pe.method} defines parameters by name but received parameters by position`),Le.numberOfParams!==pe.params.length&&i.error(`Notification ${pe.method} defines ${Le.numberOfParams} params but received ${et.length} arguments`)),Ke(...et))}else Le!==void 0&&Le.parameterStructures===yn.ParameterStructures.byPosition&&i.error(`Notification ${pe.method} defines parameters by position but received parameters by name`),Ke(pe.params);else m&&m(pe.method,pe.params)}catch(et){et.message?i.error(`Notification handler '${pe.method}' failed with message: ${et.message}`):i.error(`Notification handler '${pe.method}' failed unexpectedly.`)}else ge.fire(pe)}o(ot,"handleNotification");function ie(pe){if(!pe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(pe,null,4)}`);let Le=pe;if(Bs.string(Le.id)||Bs.number(Le.id)){let Ke=Le.id,et=x.get(Ke);et&&et.reject(new Error("The received response has neither a result nor an error property."))}}o(ie,"handleInvalidMessage");function Pe(pe){if(pe!=null)switch(S){case no.Verbose:return JSON.stringify(pe,null,4);case no.Compact:return JSON.stringify(pe);default:return}}o(Pe,"stringifyTrace");function Ae(pe){if(!(S===no.Off||!P))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&pe.params&&(Le=`Params: ${Pe(pe.params)}

`),P.log(`Sending request '${pe.method} - (${pe.id})'.`,Le)}else Ce("send-request",pe)}o(Ae,"traceSendingRequest");function Ge(pe){if(!(S===no.Off||!P))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&(pe.params?Le=`Params: ${Pe(pe.params)}

`:Le=`No parameters provided.

`),P.log(`Sending notification '${pe.method}'.`,Le)}else Ce("send-notification",pe)}o(Ge,"traceSendingNotification");function z(pe,Le,Ke){if(!(S===no.Off||!P))if(k===mu.Text){let et;(S===no.Verbose||S===no.Compact)&&(pe.error&&pe.error.data?et=`Error data: ${Pe(pe.error.data)}

`:pe.result?et=`Result: ${Pe(pe.result)}

`:pe.error===void 0&&(et=`No result returned.

`)),P.log(`Sending response '${Le} - (${pe.id})'. Processing request took ${Date.now()-Ke}ms`,et)}else Ce("send-response",pe)}o(z,"traceSendingResponse");function ee(pe){if(!(S===no.Off||!P))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&pe.params&&(Le=`Params: ${Pe(pe.params)}

`),P.log(`Received request '${pe.method} - (${pe.id})'.`,Le)}else Ce("receive-request",pe)}o(ee,"traceReceivedRequest");function Fe(pe){if(!(S===no.Off||!P||pe.method===VR.type.method))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&(pe.params?Le=`Params: ${Pe(pe.params)}

`:Le=`No parameters provided.

`),P.log(`Received notification '${pe.method}'.`,Le)}else Ce("receive-notification",pe)}o(Fe,"traceReceivedNotification");function _e(pe,Le){if(!(S===no.Off||!P))if(k===mu.Text){let Ke;if((S===no.Verbose||S===no.Compact)&&(pe.error&&pe.error.data?Ke=`Error data: ${Pe(pe.error.data)}

`:pe.result?Ke=`Result: ${Pe(pe.result)}

`:pe.error===void 0&&(Ke=`No result returned.

`)),Le){let et=pe.error?` Request failed: ${pe.error.message} (${pe.error.code}).`:"";P.log(`Received response '${Le.method} - (${pe.id})' in ${Date.now()-Le.timerStart}ms.${et}`,Ke)}else P.log(`Received response ${pe.id} without active response promise.`,Ke)}else Ce("receive-response",pe)}o(_e,"traceReceivedResponse");function Ce(pe,Le){if(!P||S===no.Off)return;let Ke={isLSPMessage:!0,type:pe,message:Le,timestamp:Date.now()};P.log(Ke)}o(Ce,"logLSPMessage");function Oe(){if(le())throw new hb(u7.Closed,"Connection is closed.");if(Z())throw new hb(u7.Disposed,"Connection is disposed.")}o(Oe,"throwIfClosedOrDisposed");function Ve(){if(J())throw new hb(u7.AlreadyListening,"Connection is already listening")}o(Ve,"throwIfListening");function Ze(){if(!J())throw new Error("Call listen() first.")}o(Ze,"throwIfNotListening");function yt(pe){return pe===void 0?null:pe}o(yt,"undefinedToNull");function Rt(pe){if(pe!==null)return pe}o(Rt,"nullToUndefined");function At(pe){return pe!=null&&!Array.isArray(pe)&&typeof pe=="object"}o(At,"isNamedParam");function Ht(pe,Le){switch(pe){case yn.ParameterStructures.auto:return At(Le)?Rt(Le):[yt(Le)];case yn.ParameterStructures.byName:if(!At(Le))throw new Error("Received parameters by name but param is not an object literal.");return Rt(Le);case yn.ParameterStructures.byPosition:return[yt(Le)];default:throw new Error(`Unknown parameter structure ${pe.toString()}`)}}o(Ht,"computeSingleParam");function jt(pe,Le){let Ke,et=pe.numberOfParams;switch(et){case 0:Ke=void 0;break;case 1:Ke=Ht(pe.parameterStructures,Le[0]);break;default:Ke=[];for(let _t=0;_t<Le.length&&_t<et;_t++)Ke.push(yt(Le[_t]));if(Le.length<et)for(let _t=Le.length;_t<et;_t++)Ke.push(null);break}return Ke}o(jt,"computeMessageParams");let ir={sendNotification:o((pe,...Le)=>{Oe();let Ke,et;if(Bs.string(pe)){Ke=pe;let xt=Le[0],Ft=0,Qt=yn.ParameterStructures.auto;yn.ParameterStructures.is(xt)&&(Ft=1,Qt=xt);let Tt=Le.length,St=Tt-Ft;switch(St){case 0:et=void 0;break;case 1:et=Ht(Qt,Le[Ft]);break;default:if(Qt===yn.ParameterStructures.byName)throw new Error(`Received ${St} parameters for 'by Name' notification parameter structure.`);et=Le.slice(Ft,Tt).map(wt=>yt(wt));break}}else{let xt=Le;Ke=pe.method,et=jt(pe,xt)}let _t={jsonrpc:c,method:Ke,params:et};return Ge(_t),t.write(_t).catch(xt=>{throw i.error("Sending notification failed."),xt})},"sendNotification"),onNotification:o((pe,Le)=>{Oe();let Ke;return Bs.func(pe)?m=pe:Le&&(Bs.string(pe)?(Ke=pe,h.set(pe,{type:void 0,handler:Le})):(Ke=pe.method,h.set(pe.method,{type:pe,handler:Le}))),{dispose:o(()=>{Ke!==void 0?h.delete(Ke):m=void 0},"dispose")}},"onNotification"),onProgress:o((pe,Le,Ke)=>{if(p.has(Le))throw new Error(`Progress handler for token ${Le} already registered`);return p.set(Le,Ke),{dispose:o(()=>{p.delete(Le)},"dispose")}},"onProgress"),sendProgress:o((pe,Le,Ke)=>ir.sendNotification(c7.type,{token:Le,value:Ke}),"sendProgress"),onUnhandledProgress:re.event,sendRequest:o((pe,...Le)=>{Oe(),Ze();let Ke,et,_t;if(Bs.string(pe)){Ke=pe;let Tt=Le[0],St=Le[Le.length-1],wt=0,Ot=yn.ParameterStructures.auto;yn.ParameterStructures.is(Tt)&&(wt=1,Ot=Tt);let Gt=Le.length;oz.CancellationToken.is(St)&&(Gt=Gt-1,_t=St);let $t=Gt-wt;switch($t){case 0:et=void 0;break;case 1:et=Ht(Ot,Le[wt]);break;default:if(Ot===yn.ParameterStructures.byName)throw new Error(`Received ${$t} parameters for 'by Name' request parameter structure.`);et=Le.slice(wt,Gt).map(lr=>yt(lr));break}}else{let Tt=Le;Ke=pe.method,et=jt(pe,Tt);let St=pe.numberOfParams;_t=oz.CancellationToken.is(Tt[St])?Tt[St]:void 0}let xt=s++,Ft;_t&&(Ft=_t.onCancellationRequested(()=>{let Tt=q.sender.sendCancellation(ir,xt);return Tt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${xt}`),Promise.resolve()):Tt.catch(()=>{i.log(`Sending cancellation messages for id ${xt} failed`)})}));let Qt={jsonrpc:c,id:xt,method:Ke,params:et};return Ae(Qt),typeof q.sender.enableCancellation=="function"&&q.sender.enableCancellation(Qt),new Promise(async(Tt,St)=>{let wt=o($t=>{Tt($t),q.sender.cleanup(xt),Ft?.dispose()},"resolveWithCleanup"),Ot=o($t=>{St($t),q.sender.cleanup(xt),Ft?.dispose()},"rejectWithCleanup"),Gt={method:Ke,timerStart:Date.now(),resolve:wt,reject:Ot};try{await t.write(Qt),x.set(xt,Gt)}catch($t){throw i.error("Sending request failed."),Gt.reject(new yn.ResponseError(yn.ErrorCodes.MessageWriteError,$t.message?$t.message:"Unknown reason")),$t}})},"sendRequest"),onRequest:o((pe,Le)=>{Oe();let Ke=null;return lz.is(pe)?(Ke=void 0,u=pe):Bs.string(pe)?(Ke=null,Le!==void 0&&(Ke=pe,f.set(pe,{handler:Le,type:void 0}))):Le!==void 0&&(Ke=pe.method,f.set(pe.method,{type:pe,handler:Le})),{dispose:o(()=>{Ke!==null&&(Ke!==void 0?f.delete(Ke):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>x.size>0,"hasPendingResponse"),trace:o(async(pe,Le,Ke)=>{let et=!1,_t=mu.Text;Ke!==void 0&&(Bs.boolean(Ke)?et=Ke:(et=Ke.sendNotification||!1,_t=Ke.traceFormat||mu.Text)),S=pe,k=_t,S===no.Off?P=void 0:P=Le,et&&!le()&&!Z()&&await ir.sendNotification(cz.type,{value:no.toString(pe)})},"trace"),onError:W.event,onClose:te.event,onUnhandledNotification:ge.event,onDispose:G.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(Z())return;N=lm.Disposed,G.fire(void 0);let pe=new yn.ResponseError(yn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Le of x.values())Le.reject(pe);x=new Map,b=new Map,v=new Set,E=new Qhe.LinkedMap,Bs.func(t.dispose)&&t.dispose(),Bs.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{Oe(),Ve(),N=lm.Listening,e.listen(Je)},"listen"),inspect:o(()=>{(0,Lhe.default)().console.log("inspect")},"inspect")};return ir.onNotification(VR.type,pe=>{if(S===no.Off||!P)return;let Le=S===no.Verbose||S===no.Compact;P.log(pe.message,Le?pe.verbose:void 0)}),ir.onNotification(c7.type,pe=>{let Le=p.get(pe.token);Le?Le(pe.value):re.fire(pe)}),ir}o(fYe,"createMessageConnection");Mn.createMessageConnection=fYe});var JR=V(pt=>{"use strict";d();Object.defineProperty(pt,"__esModule",{value:!0});pt.ProgressType=pt.ProgressToken=pt.createMessageConnection=pt.NullLogger=pt.ConnectionOptions=pt.ConnectionStrategy=pt.AbstractMessageBuffer=pt.WriteableStreamMessageWriter=pt.AbstractMessageWriter=pt.MessageWriter=pt.ReadableStreamMessageReader=pt.AbstractMessageReader=pt.MessageReader=pt.SharedArrayReceiverStrategy=pt.SharedArraySenderStrategy=pt.CancellationToken=pt.CancellationTokenSource=pt.Emitter=pt.Event=pt.Disposable=pt.LRUCache=pt.Touch=pt.LinkedMap=pt.ParameterStructures=pt.NotificationType9=pt.NotificationType8=pt.NotificationType7=pt.NotificationType6=pt.NotificationType5=pt.NotificationType4=pt.NotificationType3=pt.NotificationType2=pt.NotificationType1=pt.NotificationType0=pt.NotificationType=pt.ErrorCodes=pt.ResponseError=pt.RequestType9=pt.RequestType8=pt.RequestType7=pt.RequestType6=pt.RequestType5=pt.RequestType4=pt.RequestType3=pt.RequestType2=pt.RequestType1=pt.RequestType0=pt.RequestType=pt.Message=pt.RAL=void 0;pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=void 0;var Fo=Q$();Object.defineProperty(pt,"Message",{enumerable:!0,get:o(function(){return Fo.Message},"get")});Object.defineProperty(pt,"RequestType",{enumerable:!0,get:o(function(){return Fo.RequestType},"get")});Object.defineProperty(pt,"RequestType0",{enumerable:!0,get:o(function(){return Fo.RequestType0},"get")});Object.defineProperty(pt,"RequestType1",{enumerable:!0,get:o(function(){return Fo.RequestType1},"get")});Object.defineProperty(pt,"RequestType2",{enumerable:!0,get:o(function(){return Fo.RequestType2},"get")});Object.defineProperty(pt,"RequestType3",{enumerable:!0,get:o(function(){return Fo.RequestType3},"get")});Object.defineProperty(pt,"RequestType4",{enumerable:!0,get:o(function(){return Fo.RequestType4},"get")});Object.defineProperty(pt,"RequestType5",{enumerable:!0,get:o(function(){return Fo.RequestType5},"get")});Object.defineProperty(pt,"RequestType6",{enumerable:!0,get:o(function(){return Fo.RequestType6},"get")});Object.defineProperty(pt,"RequestType7",{enumerable:!0,get:o(function(){return Fo.RequestType7},"get")});Object.defineProperty(pt,"RequestType8",{enumerable:!0,get:o(function(){return Fo.RequestType8},"get")});Object.defineProperty(pt,"RequestType9",{enumerable:!0,get:o(function(){return Fo.RequestType9},"get")});Object.defineProperty(pt,"ResponseError",{enumerable:!0,get:o(function(){return Fo.ResponseError},"get")});Object.defineProperty(pt,"ErrorCodes",{enumerable:!0,get:o(function(){return Fo.ErrorCodes},"get")});Object.defineProperty(pt,"NotificationType",{enumerable:!0,get:o(function(){return Fo.NotificationType},"get")});Object.defineProperty(pt,"NotificationType0",{enumerable:!0,get:o(function(){return Fo.NotificationType0},"get")});Object.defineProperty(pt,"NotificationType1",{enumerable:!0,get:o(function(){return Fo.NotificationType1},"get")});Object.defineProperty(pt,"NotificationType2",{enumerable:!0,get:o(function(){return Fo.NotificationType2},"get")});Object.defineProperty(pt,"NotificationType3",{enumerable:!0,get:o(function(){return Fo.NotificationType3},"get")});Object.defineProperty(pt,"NotificationType4",{enumerable:!0,get:o(function(){return Fo.NotificationType4},"get")});Object.defineProperty(pt,"NotificationType5",{enumerable:!0,get:o(function(){return Fo.NotificationType5},"get")});Object.defineProperty(pt,"NotificationType6",{enumerable:!0,get:o(function(){return Fo.NotificationType6},"get")});Object.defineProperty(pt,"NotificationType7",{enumerable:!0,get:o(function(){return Fo.NotificationType7},"get")});Object.defineProperty(pt,"NotificationType8",{enumerable:!0,get:o(function(){return Fo.NotificationType8},"get")});Object.defineProperty(pt,"NotificationType9",{enumerable:!0,get:o(function(){return Fo.NotificationType9},"get")});Object.defineProperty(pt,"ParameterStructures",{enumerable:!0,get:o(function(){return Fo.ParameterStructures},"get")});var dz=O$();Object.defineProperty(pt,"LinkedMap",{enumerable:!0,get:o(function(){return dz.LinkedMap},"get")});Object.defineProperty(pt,"LRUCache",{enumerable:!0,get:o(function(){return dz.LRUCache},"get")});Object.defineProperty(pt,"Touch",{enumerable:!0,get:o(function(){return dz.Touch},"get")});var dYe=The();Object.defineProperty(pt,"Disposable",{enumerable:!0,get:o(function(){return dYe.Disposable},"get")});var qhe=ub();Object.defineProperty(pt,"Event",{enumerable:!0,get:o(function(){return qhe.Event},"get")});Object.defineProperty(pt,"Emitter",{enumerable:!0,get:o(function(){return qhe.Emitter},"get")});var Ghe=UR();Object.defineProperty(pt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return Ghe.CancellationTokenSource},"get")});Object.defineProperty(pt,"CancellationToken",{enumerable:!0,get:o(function(){return Ghe.CancellationToken},"get")});var Whe=_he();Object.defineProperty(pt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return Whe.SharedArraySenderStrategy},"get")});Object.defineProperty(pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return Whe.SharedArrayReceiverStrategy},"get")});var mz=Bhe();Object.defineProperty(pt,"MessageReader",{enumerable:!0,get:o(function(){return mz.MessageReader},"get")});Object.defineProperty(pt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return mz.AbstractMessageReader},"get")});Object.defineProperty(pt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return mz.ReadableStreamMessageReader},"get")});var hz=Nhe();Object.defineProperty(pt,"MessageWriter",{enumerable:!0,get:o(function(){return hz.MessageWriter},"get")});Object.defineProperty(pt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return hz.AbstractMessageWriter},"get")});Object.defineProperty(pt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return hz.WriteableStreamMessageWriter},"get")});var mYe=Fhe();Object.defineProperty(pt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return mYe.AbstractMessageBuffer},"get")});var Ql=Uhe();Object.defineProperty(pt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Ql.ConnectionStrategy},"get")});Object.defineProperty(pt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Ql.ConnectionOptions},"get")});Object.defineProperty(pt,"NullLogger",{enumerable:!0,get:o(function(){return Ql.NullLogger},"get")});Object.defineProperty(pt,"createMessageConnection",{enumerable:!0,get:o(function(){return Ql.createMessageConnection},"get")});Object.defineProperty(pt,"ProgressToken",{enumerable:!0,get:o(function(){return Ql.ProgressToken},"get")});Object.defineProperty(pt,"ProgressType",{enumerable:!0,get:o(function(){return Ql.ProgressType},"get")});Object.defineProperty(pt,"Trace",{enumerable:!0,get:o(function(){return Ql.Trace},"get")});Object.defineProperty(pt,"TraceValues",{enumerable:!0,get:o(function(){return Ql.TraceValues},"get")});Object.defineProperty(pt,"TraceFormat",{enumerable:!0,get:o(function(){return Ql.TraceFormat},"get")});Object.defineProperty(pt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Ql.SetTraceNotification},"get")});Object.defineProperty(pt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Ql.LogTraceNotification},"get")});Object.defineProperty(pt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Ql.ConnectionErrors},"get")});Object.defineProperty(pt,"ConnectionError",{enumerable:!0,get:o(function(){return Ql.ConnectionError},"get")});Object.defineProperty(pt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Ql.CancellationReceiverStrategy},"get")});Object.defineProperty(pt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Ql.CancellationSenderStrategy},"get")});Object.defineProperty(pt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Ql.CancellationStrategy},"get")});Object.defineProperty(pt,"MessageStrategy",{enumerable:!0,get:o(function(){return Ql.MessageStrategy},"get")});var hYe=M2();pt.RAL=hYe.default});var jhe=V(yz=>{"use strict";d();Object.defineProperty(yz,"__esModule",{value:!0});var Hhe=require("util"),Hg=JR(),XR=class e extends Hg.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new Hhe.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};XR.emptyBuffer=Buffer.allocUnsafe(0);var pz=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Hg.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Hg.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Hg.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Hg.Disposable.create(()=>this.stream.off("data",t))}},gz=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Hg.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Hg.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Hg.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},Vhe=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new XR(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Hhe.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new pz(e),"asReadableStream"),asWritableStream:o(e=>new gz(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function Az(){return Vhe}o(Az,"RIL");(function(e){function t(){Hg.RAL.install(Vhe)}o(t,"install"),e.install=t})(Az||(Az={}));yz.default=Az});var tC=V(Ri=>{"use strict";d();var pYe=Ri&&Ri.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gYe=Ri&&Ri.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pYe(t,e,r)};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.createMessageConnection=Ri.createServerSocketTransport=Ri.createClientSocketTransport=Ri.createServerPipeTransport=Ri.createClientPipeTransport=Ri.generateRandomPipeName=Ri.StreamMessageWriter=Ri.StreamMessageReader=Ri.SocketMessageWriter=Ri.SocketMessageReader=Ri.PortMessageWriter=Ri.PortMessageReader=Ri.IPCMessageWriter=Ri.IPCMessageReader=void 0;var pb=jhe();pb.default.install();var $he=require("path"),AYe=require("os"),yYe=require("crypto"),tD=require("net"),hu=JR();gYe(JR(),Ri);var Cz=class extends hu.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),hu.Disposable.create(()=>this.process.off("message",t))}};Ri.IPCMessageReader=Cz;var Ez=class extends hu.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Ri.IPCMessageWriter=Ez;var xz=class extends hu.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new hu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};Ri.PortMessageReader=xz;var bz=class extends hu.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Ri.PortMessageWriter=bz;var Z3=class extends hu.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,pb.default)().stream.asReadableStream(t),r)}};Ri.SocketMessageReader=Z3;var eC=class extends hu.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,pb.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Ri.SocketMessageWriter=eC;var ZR=class extends hu.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,pb.default)().stream.asReadableStream(t),r)}};Ri.StreamMessageReader=ZR;var eD=class extends hu.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,pb.default)().stream.asWritableStream(t),r)}};Ri.StreamMessageWriter=eD;var zhe=process.env.XDG_RUNTIME_DIR,CYe=new Map([["linux",107],["darwin",103]]);function EYe(){let e=(0,yYe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;zhe?t=$he.join(zhe,`vscode-ipc-${e}.sock`):t=$he.join(AYe.tmpdir(),`vscode-${e}.sock`);let r=CYe.get(process.platform);return r!==void 0&&t.length>r&&(0,pb.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(EYe,"generateRandomPipeName");Ri.generateRandomPipeName=EYe;function xYe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,tD.createServer)(l=>{a.close(),r([new Z3(l,t),new eC(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(xYe,"createClientPipeTransport");Ri.createClientPipeTransport=xYe;function bYe(e,t="utf-8"){let r=(0,tD.createConnection)(e);return[new Z3(r,t),new eC(r,t)]}o(bYe,"createServerPipeTransport");Ri.createServerPipeTransport=bYe;function vYe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,tD.createServer)(l=>{a.close(),r([new Z3(l,t),new eC(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(vYe,"createClientSocketTransport");Ri.createClientSocketTransport=vYe;function IYe(e,t="utf-8"){let r=(0,tD.createConnection)(e,"127.0.0.1");return[new Z3(r,t),new eC(r,t)]}o(IYe,"createServerSocketTransport");Ri.createServerSocketTransport=IYe;function TYe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(TYe,"isReadableStream");function wYe(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(wYe,"isWritableStream");function _Ye(e,t,r,n){r||(r=hu.NullLogger);let i=TYe(e)?new ZR(e):e,s=wYe(t)?new eD(t):t;return hu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,hu.createMessageConnection)(i,s,r,n)}o(_Ye,"createMessageConnection");Ri.createMessageConnection=_Ye});var vz=V((sJt,Yhe)=>{"use strict";d();Yhe.exports=tC()});var nD=V((Khe,rD)=>{d();(function(e){if(typeof rD=="object"&&typeof rD.exports=="object"){var t=e(require,Khe);t!==void 0&&(rD.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(r||(t.DocumentUri=r={}));var n;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(i||(t.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(s||(t.uinteger=s={}));var a;(function(M){function de(Y,L){return Y===Number.MAX_VALUE&&(Y=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:Y,character:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.uinteger(L.line)&&be.uinteger(L.character)}o(ye,"is"),M.is=ye})(a||(t.Position=a={}));var l;(function(M){function de(Y,L,Ie,Me){if(be.uinteger(Y)&&be.uinteger(L)&&be.uinteger(Ie)&&be.uinteger(Me))return{start:a.create(Y,L),end:a.create(Ie,Me)};if(a.is(Y)&&a.is(L))return{start:Y,end:L};throw new Error("Range#create called with invalid arguments[".concat(Y,", ").concat(L,", ").concat(Ie,", ").concat(Me,"]"))}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),M.is=ye})(l||(t.Range=l={}));var c;(function(M){function de(Y,L){return{uri:Y,range:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.range)&&(be.string(L.uri)||be.undefined(L.uri))}o(ye,"is"),M.is=ye})(c||(t.Location=c={}));var u;(function(M){function de(Y,L,Ie,Me){return{targetUri:Y,targetRange:L,targetSelectionRange:Ie,originSelectionRange:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.targetRange)&&be.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||be.undefined(L.originSelectionRange))}o(ye,"is"),M.is=ye})(u||(t.LocationLink=u={}));var f;(function(M){function de(Y,L,Ie,Me){return{red:Y,green:L,blue:Ie,alpha:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.numberRange(L.red,0,1)&&be.numberRange(L.green,0,1)&&be.numberRange(L.blue,0,1)&&be.numberRange(L.alpha,0,1)}o(ye,"is"),M.is=ye})(f||(t.Color=f={}));var m;(function(M){function de(Y,L){return{range:Y,color:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),M.is=ye})(m||(t.ColorInformation=m={}));var h;(function(M){function de(Y,L,Ie){return{label:Y,textEdit:L,additionalTextEdits:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.string(L.label)&&(be.undefined(L.textEdit)||P.is(L))&&(be.undefined(L.additionalTextEdits)||be.typedArray(L.additionalTextEdits,P.is))}o(ye,"is"),M.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var A;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={startLine:Y,endLine:L};return be.defined(Ie)&&(Pt.startCharacter=Ie),be.defined(Me)&&(Pt.endCharacter=Me),be.defined(Ct)&&(Pt.kind=Ct),be.defined(Ut)&&(Pt.collapsedText=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.uinteger(L.startLine)&&be.uinteger(L.startLine)&&(be.undefined(L.startCharacter)||be.uinteger(L.startCharacter))&&(be.undefined(L.endCharacter)||be.uinteger(L.endCharacter))&&(be.undefined(L.kind)||be.string(L.kind))}o(ye,"is"),M.is=ye})(A||(t.FoldingRange=A={}));var E;(function(M){function de(Y,L){return{location:Y,message:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&c.is(L.location)&&be.string(L.message)}o(ye,"is"),M.is=ye})(E||(t.DiagnosticRelatedInformation=E={}));var x;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(x||(t.DiagnosticSeverity=x={}));var v;(function(M){M.Unnecessary=1,M.Deprecated=2})(v||(t.DiagnosticTag=v={}));var b;(function(M){function de(ye){var Y=ye;return be.objectLiteral(Y)&&be.string(Y.href)}o(de,"is"),M.is=de})(b||(t.CodeDescription=b={}));var S;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={range:Y,message:L};return be.defined(Ie)&&(Pt.severity=Ie),be.defined(Me)&&(Pt.code=Me),be.defined(Ct)&&(Pt.source=Ct),be.defined(Ut)&&(Pt.relatedInformation=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L,Ie=Y;return be.defined(Ie)&&l.is(Ie.range)&&be.string(Ie.message)&&(be.number(Ie.severity)||be.undefined(Ie.severity))&&(be.integer(Ie.code)||be.string(Ie.code)||be.undefined(Ie.code))&&(be.undefined(Ie.codeDescription)||be.string((L=Ie.codeDescription)===null||L===void 0?void 0:L.href))&&(be.string(Ie.source)||be.undefined(Ie.source))&&(be.undefined(Ie.relatedInformation)||be.typedArray(Ie.relatedInformation,E.is))}o(ye,"is"),M.is=ye})(S||(t.Diagnostic=S={}));var k;(function(M){function de(Y,L){for(var Ie=[],Me=2;Me<arguments.length;Me++)Ie[Me-2]=arguments[Me];var Ct={title:Y,command:L};return be.defined(Ie)&&Ie.length>0&&(Ct.arguments=Ie),Ct}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.title)&&be.string(L.command)}o(ye,"is"),M.is=ye})(k||(t.Command=k={}));var P;(function(M){function de(Ie,Me){return{range:Ie,newText:Me}}o(de,"replace"),M.replace=de;function ye(Ie,Me){return{range:{start:Ie,end:Ie},newText:Me}}o(ye,"insert"),M.insert=ye;function Y(Ie){return{range:Ie,newText:""}}o(Y,"del"),M.del=Y;function L(Ie){var Me=Ie;return be.objectLiteral(Me)&&be.string(Me.newText)&&l.is(Me.range)}o(L,"is"),M.is=L})(P||(t.TextEdit=P={}));var N;(function(M){function de(Y,L,Ie){var Me={label:Y};return L!==void 0&&(Me.needsConfirmation=L),Ie!==void 0&&(Me.description=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.string(L.label)&&(be.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(be.string(L.description)||L.description===void 0)}o(ye,"is"),M.is=ye})(N||(t.ChangeAnnotation=N={}));var W;(function(M){function de(ye){var Y=ye;return be.string(Y)}o(de,"is"),M.is=de})(W||(t.ChangeAnnotationIdentifier=W={}));var te;(function(M){function de(Ie,Me,Ct){return{range:Ie,newText:Me,annotationId:Ct}}o(de,"replace"),M.replace=de;function ye(Ie,Me,Ct){return{range:{start:Ie,end:Ie},newText:Me,annotationId:Ct}}o(ye,"insert"),M.insert=ye;function Y(Ie,Me){return{range:Ie,newText:"",annotationId:Me}}o(Y,"del"),M.del=Y;function L(Ie){var Me=Ie;return P.is(Me)&&(N.is(Me.annotationId)||W.is(Me.annotationId))}o(L,"is"),M.is=L})(te||(t.AnnotatedTextEdit=te={}));var ge;(function(M){function de(Y,L){return{textDocument:Y,edits:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&le.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),M.is=ye})(ge||(t.TextDocumentEdit=ge={}));var re;(function(M){function de(Y,L,Ie){var Me={kind:"create",uri:Y};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="create"&&be.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||be.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||be.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(re||(t.CreateFile=re={}));var G;(function(M){function de(Y,L,Ie,Me){var Ct={kind:"rename",oldUri:Y,newUri:L};return Ie!==void 0&&(Ie.overwrite!==void 0||Ie.ignoreIfExists!==void 0)&&(Ct.options=Ie),Me!==void 0&&(Ct.annotationId=Me),Ct}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="rename"&&be.string(L.oldUri)&&be.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||be.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||be.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(G||(t.RenameFile=G={}));var q;(function(M){function de(Y,L,Ie){var Me={kind:"delete",uri:Y};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="delete"&&be.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||be.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||be.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(q||(t.DeleteFile=q={}));var se;(function(M){function de(ye){var Y=ye;return Y&&(Y.changes!==void 0||Y.documentChanges!==void 0)&&(Y.documentChanges===void 0||Y.documentChanges.every(function(L){return be.string(L.kind)?re.is(L)||G.is(L)||q.is(L):ge.is(L)}))}o(de,"is"),M.is=de})(se||(t.WorkspaceEdit=se={}));var ne=function(){function M(de,ye){this.edits=de,this.changeAnnotations=ye}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(de,ye,Y){var L,Ie;if(Y===void 0?L=P.insert(de,ye):W.is(Y)?(Ie=Y,L=te.insert(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=te.insert(de,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},M.prototype.replace=function(de,ye,Y){var L,Ie;if(Y===void 0?L=P.replace(de,ye):W.is(Y)?(Ie=Y,L=te.replace(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=te.replace(de,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},M.prototype.delete=function(de,ye){var Y,L;if(ye===void 0?Y=P.del(de):W.is(ye)?(L=ye,Y=te.del(de,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),Y=te.del(de,L)),this.edits.push(Y),L!==void 0)return L},M.prototype.add=function(de){this.edits.push(de)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(de){if(de===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),H=function(){function M(de){this._annotations=de===void 0?Object.create(null):de,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(de,ye){var Y;if(W.is(de)?Y=de:(Y=this.nextId(),ye=de),this._annotations[Y]!==void 0)throw new Error("Id ".concat(Y," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(Y));return this._annotations[Y]=ye,this._size++,Y},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),O=function(){function M(de){var ye=this;this._textEditChanges=Object.create(null),de!==void 0?(this._workspaceEdit=de,de.documentChanges?(this._changeAnnotations=new H(de.changeAnnotations),de.changeAnnotations=this._changeAnnotations.all(),de.documentChanges.forEach(function(Y){if(ge.is(Y)){var L=new ne(Y.edits,ye._changeAnnotations);ye._textEditChanges[Y.textDocument.uri]=L}})):de.changes&&Object.keys(de.changes).forEach(function(Y){var L=new ne(de.changes[Y]);ye._textEditChanges[Y]=L})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(de){if(le.is(de)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:de.uri,version:de.version},Y=this._textEditChanges[ye.uri];if(!Y){var L=[],Ie={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Ie),Y=new ne(L,this._changeAnnotations),this._textEditChanges[ye.uri]=Y}return Y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Y=this._textEditChanges[de];if(!Y){var L=[];this._workspaceEdit.changes[de]=L,Y=new ne(L),this._textEditChanges[de]=Y}return Y}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;N.is(ye)||W.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=re.create(de,Y):(Me=W.is(L)?L:this._changeAnnotations.manage(L),Ie=re.create(de,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},M.prototype.renameFile=function(de,ye,Y,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ie;N.is(Y)||W.is(Y)?Ie=Y:L=Y;var Me,Ct;if(Ie===void 0?Me=G.create(de,ye,L):(Ct=W.is(Ie)?Ie:this._changeAnnotations.manage(Ie),Me=G.create(de,ye,L,Ct)),this._workspaceEdit.documentChanges.push(Me),Ct!==void 0)return Ct},M.prototype.deleteFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;N.is(ye)||W.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=q.create(de,Y):(Me=W.is(L)?L:this._changeAnnotations.manage(L),Ie=q.create(de,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},M}();t.WorkspaceChange=O;var j;(function(M){function de(Y){return{uri:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)}o(ye,"is"),M.is=ye})(j||(t.TextDocumentIdentifier=j={}));var J;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)&&be.integer(L.version)}o(ye,"is"),M.is=ye})(J||(t.VersionedTextDocumentIdentifier=J={}));var le;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)&&(L.version===null||be.integer(L.version))}o(ye,"is"),M.is=ye})(le||(t.OptionalVersionedTextDocumentIdentifier=le={}));var Z;(function(M){function de(Y,L,Ie,Me){return{uri:Y,languageId:L,version:Ie,text:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)&&be.string(L.languageId)&&be.integer(L.version)&&be.string(L.text)}o(ye,"is"),M.is=ye})(Z||(t.TextDocumentItem=Z={}));var ae;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function de(ye){var Y=ye;return Y===M.PlainText||Y===M.Markdown}o(de,"is"),M.is=de})(ae||(t.MarkupKind=ae={}));var ce;(function(M){function de(ye){var Y=ye;return be.objectLiteral(ye)&&ae.is(Y.kind)&&be.string(Y.value)}o(de,"is"),M.is=de})(ce||(t.MarkupContent=ce={}));var Re;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Re||(t.CompletionItemKind=Re={}));var ve;(function(M){M.PlainText=1,M.Snippet=2})(ve||(t.InsertTextFormat=ve={}));var Ue;(function(M){M.Deprecated=1})(Ue||(t.CompletionItemTag=Ue={}));var Be;(function(M){function de(Y,L,Ie){return{newText:Y,insert:L,replace:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&be.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),M.is=ye})(Be||(t.InsertReplaceEdit=Be={}));var Je;(function(M){M.asIs=1,M.adjustIndentation=2})(Je||(t.InsertTextMode=Je={}));var ft;(function(M){function de(ye){var Y=ye;return Y&&(be.string(Y.detail)||Y.detail===void 0)&&(be.string(Y.description)||Y.description===void 0)}o(de,"is"),M.is=de})(ft||(t.CompletionItemLabelDetails=ft={}));var it;(function(M){function de(ye){return{label:ye}}o(de,"create"),M.create=de})(it||(t.CompletionItem=it={}));var ot;(function(M){function de(ye,Y){return{items:ye||[],isIncomplete:!!Y}}o(de,"create"),M.create=de})(ot||(t.CompletionList=ot={}));var ie;(function(M){function de(Y){return Y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(de,"fromPlainText"),M.fromPlainText=de;function ye(Y){var L=Y;return be.string(L)||be.objectLiteral(L)&&be.string(L.language)&&be.string(L.value)}o(ye,"is"),M.is=ye})(ie||(t.MarkedString=ie={}));var Pe;(function(M){function de(ye){var Y=ye;return!!Y&&be.objectLiteral(Y)&&(ce.is(Y.contents)||ie.is(Y.contents)||be.typedArray(Y.contents,ie.is))&&(ye.range===void 0||l.is(ye.range))}o(de,"is"),M.is=de})(Pe||(t.Hover=Pe={}));var Ae;(function(M){function de(ye,Y){return Y?{label:ye,documentation:Y}:{label:ye}}o(de,"create"),M.create=de})(Ae||(t.ParameterInformation=Ae={}));var Ge;(function(M){function de(ye,Y){for(var L=[],Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];var Me={label:ye};return be.defined(Y)&&(Me.documentation=Y),be.defined(L)?Me.parameters=L:Me.parameters=[],Me}o(de,"create"),M.create=de})(Ge||(t.SignatureInformation=Ge={}));var z;(function(M){M.Text=1,M.Read=2,M.Write=3})(z||(t.DocumentHighlightKind=z={}));var ee;(function(M){function de(ye,Y){var L={range:ye};return be.number(Y)&&(L.kind=Y),L}o(de,"create"),M.create=de})(ee||(t.DocumentHighlight=ee={}));var Fe;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Fe||(t.SymbolKind=Fe={}));var _e;(function(M){M.Deprecated=1})(_e||(t.SymbolTag=_e={}));var Ce;(function(M){function de(ye,Y,L,Ie,Me){var Ct={name:ye,kind:Y,location:{uri:Ie,range:L}};return Me&&(Ct.containerName=Me),Ct}o(de,"create"),M.create=de})(Ce||(t.SymbolInformation=Ce={}));var Oe;(function(M){function de(ye,Y,L,Ie){return Ie!==void 0?{name:ye,kind:Y,location:{uri:L,range:Ie}}:{name:ye,kind:Y,location:{uri:L}}}o(de,"create"),M.create=de})(Oe||(t.WorkspaceSymbol=Oe={}));var Ve;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={name:Y,detail:L,kind:Ie,range:Me,selectionRange:Ct};return Ut!==void 0&&(Pt.children=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&be.string(L.name)&&be.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||be.string(L.detail))&&(L.deprecated===void 0||be.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),M.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var Ze;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Ze||(t.CodeActionKind=Ze={}));var yt;(function(M){M.Invoked=1,M.Automatic=2})(yt||(t.CodeActionTriggerKind=yt={}));var Rt;(function(M){function de(Y,L,Ie){var Me={diagnostics:Y};return L!=null&&(Me.only=L),Ie!=null&&(Me.triggerKind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.typedArray(L.diagnostics,S.is)&&(L.only===void 0||be.typedArray(L.only,be.string))&&(L.triggerKind===void 0||L.triggerKind===yt.Invoked||L.triggerKind===yt.Automatic)}o(ye,"is"),M.is=ye})(Rt||(t.CodeActionContext=Rt={}));var At;(function(M){function de(Y,L,Ie){var Me={title:Y},Ct=!0;return typeof L=="string"?(Ct=!1,Me.kind=L):k.is(L)?Me.command=L:Me.edit=L,Ct&&Ie!==void 0&&(Me.kind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&be.string(L.title)&&(L.diagnostics===void 0||be.typedArray(L.diagnostics,S.is))&&(L.kind===void 0||be.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||k.is(L.command))&&(L.isPreferred===void 0||be.boolean(L.isPreferred))&&(L.edit===void 0||se.is(L.edit))}o(ye,"is"),M.is=ye})(At||(t.CodeAction=At={}));var Ht;(function(M){function de(Y,L){var Ie={range:Y};return be.defined(L)&&(Ie.data=L),Ie}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&l.is(L.range)&&(be.undefined(L.command)||k.is(L.command))}o(ye,"is"),M.is=ye})(Ht||(t.CodeLens=Ht={}));var jt;(function(M){function de(Y,L){return{tabSize:Y,insertSpaces:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.uinteger(L.tabSize)&&be.boolean(L.insertSpaces)}o(ye,"is"),M.is=ye})(jt||(t.FormattingOptions=jt={}));var ir;(function(M){function de(Y,L,Ie){return{range:Y,target:L,data:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&l.is(L.range)&&(be.undefined(L.target)||be.string(L.target))}o(ye,"is"),M.is=ye})(ir||(t.DocumentLink=ir={}));var pe;(function(M){function de(Y,L){return{range:Y,parent:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}o(ye,"is"),M.is=ye})(pe||(t.SelectionRange=pe={}));var Le;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Le||(t.SemanticTokenTypes=Le={}));var Ke;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(Ke||(t.SemanticTokenModifiers=Ke={}));var et;(function(M){function de(ye){var Y=ye;return be.objectLiteral(Y)&&(Y.resultId===void 0||typeof Y.resultId=="string")&&Array.isArray(Y.data)&&(Y.data.length===0||typeof Y.data[0]=="number")}o(de,"is"),M.is=de})(et||(t.SemanticTokens=et={}));var _t;(function(M){function de(Y,L){return{range:Y,text:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&be.string(L.text)}o(ye,"is"),M.is=ye})(_t||(t.InlineValueText=_t={}));var xt;(function(M){function de(Y,L,Ie){return{range:Y,variableName:L,caseSensitiveLookup:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&be.boolean(L.caseSensitiveLookup)&&(be.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),M.is=ye})(xt||(t.InlineValueVariableLookup=xt={}));var Ft;(function(M){function de(Y,L){return{range:Y,expression:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&(be.string(L.expression)||L.expression===void 0)}o(ye,"is"),M.is=ye})(Ft||(t.InlineValueEvaluatableExpression=Ft={}));var Qt;(function(M){function de(Y,L){return{frameId:Y,stoppedLocation:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&l.is(Y.stoppedLocation)}o(ye,"is"),M.is=ye})(Qt||(t.InlineValueContext=Qt={}));var Tt;(function(M){M.Type=1,M.Parameter=2;function de(ye){return ye===1||ye===2}o(de,"is"),M.is=de})(Tt||(t.InlayHintKind=Tt={}));var St;(function(M){function de(Y){return{value:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&(L.tooltip===void 0||be.string(L.tooltip)||ce.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||k.is(L.command))}o(ye,"is"),M.is=ye})(St||(t.InlayHintLabelPart=St={}));var wt;(function(M){function de(Y,L,Ie){var Me={position:Y,label:L};return Ie!==void 0&&(Me.kind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&a.is(L.position)&&(be.string(L.label)||be.typedArray(L.label,St.is))&&(L.kind===void 0||Tt.is(L.kind))&&L.textEdits===void 0||be.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||be.string(L.tooltip)||ce.is(L.tooltip))&&(L.paddingLeft===void 0||be.boolean(L.paddingLeft))&&(L.paddingRight===void 0||be.boolean(L.paddingRight))}o(ye,"is"),M.is=ye})(wt||(t.InlayHint=wt={}));var Ot;(function(M){function de(ye){return{kind:"snippet",value:ye}}o(de,"createSnippet"),M.createSnippet=de})(Ot||(t.StringValue=Ot={}));var Gt;(function(M){function de(ye,Y,L,Ie){return{insertText:ye,filterText:Y,range:L,command:Ie}}o(de,"create"),M.create=de})(Gt||(t.InlineCompletionItem=Gt={}));var $t;(function(M){function de(ye){return{items:ye}}o(de,"create"),M.create=de})($t||(t.InlineCompletionList=$t={}));var lr;(function(M){M.Invoked=0,M.Automatic=1})(lr||(t.InlineCompletionTriggerKind=lr={}));var hr;(function(M){function de(ye,Y){return{range:ye,text:Y}}o(de,"create"),M.create=de})(hr||(t.SelectedCompletionInfo=hr={}));var sr;(function(M){function de(ye,Y){return{triggerKind:ye,selectedCompletionInfo:Y}}o(de,"create"),M.create=de})(sr||(t.InlineCompletionContext=sr={}));var cr;(function(M){function de(ye){var Y=ye;return be.objectLiteral(Y)&&n.is(Y.uri)&&be.string(Y.name)}o(de,"is"),M.is=de})(cr||(t.WorkspaceFolder=cr={})),t.EOL=[`
`,`\r
`,"\r"];var Jt;(function(M){function de(Ie,Me,Ct,Ut){return new ur(Ie,Me,Ct,Ut)}o(de,"create"),M.create=de;function ye(Ie){var Me=Ie;return!!(be.defined(Me)&&be.string(Me.uri)&&(be.undefined(Me.languageId)||be.string(Me.languageId))&&be.uinteger(Me.lineCount)&&be.func(Me.getText)&&be.func(Me.positionAt)&&be.func(Me.offsetAt))}o(ye,"is"),M.is=ye;function Y(Ie,Me){for(var Ct=Ie.getText(),Ut=L(Me,function(ar,Do){var Bd=ar.range.start.line-Do.range.start.line;return Bd===0?ar.range.start.character-Do.range.start.character:Bd}),Pt=Ct.length,tr=Ut.length-1;tr>=0;tr--){var or=Ut[tr],Mt=Ie.offsetAt(or.range.start),vt=Ie.offsetAt(or.range.end);if(vt<=Pt)Ct=Ct.substring(0,Mt)+or.newText+Ct.substring(vt,Ct.length);else throw new Error("Overlapping edit");Pt=Mt}return Ct}o(Y,"applyEdits"),M.applyEdits=Y;function L(Ie,Me){if(Ie.length<=1)return Ie;var Ct=Ie.length/2|0,Ut=Ie.slice(0,Ct),Pt=Ie.slice(Ct);L(Ut,Me),L(Pt,Me);for(var tr=0,or=0,Mt=0;tr<Ut.length&&or<Pt.length;){var vt=Me(Ut[tr],Pt[or]);vt<=0?Ie[Mt++]=Ut[tr++]:Ie[Mt++]=Pt[or++]}for(;tr<Ut.length;)Ie[Mt++]=Ut[tr++];for(;or<Pt.length;)Ie[Mt++]=Pt[or++];return Ie}o(L,"mergeSort")})(Jt||(t.TextDocument=Jt={}));var ur=function(){function M(de,ye,Y,L){this._uri=de,this._languageId=ye,this._version=Y,this._content=L,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(de){if(de){var ye=this.offsetAt(de.start),Y=this.offsetAt(de.end);return this._content.substring(ye,Y)}return this._content},M.prototype.update=function(de,ye){this._content=de.text,this._version=ye,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var de=[],ye=this._content,Y=!0,L=0;L<ye.length;L++){Y&&(de.push(L),Y=!1);var Ie=ye.charAt(L);Y=Ie==="\r"||Ie===`
`,Ie==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}Y&&ye.length>0&&de.push(ye.length),this._lineOffsets=de}return this._lineOffsets},M.prototype.positionAt=function(de){de=Math.max(Math.min(de,this._content.length),0);var ye=this.getLineOffsets(),Y=0,L=ye.length;if(L===0)return a.create(0,de);for(;Y<L;){var Ie=Math.floor((Y+L)/2);ye[Ie]>de?L=Ie:Y=Ie+1}var Me=Y-1;return a.create(Me,de-ye[Me])},M.prototype.offsetAt=function(de){var ye=this.getLineOffsets();if(de.line>=ye.length)return this._content.length;if(de.line<0)return 0;var Y=ye[de.line],L=de.line+1<ye.length?ye[de.line+1]:this._content.length;return Math.max(Math.min(Y+de.character,L),Y)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),be;(function(M){var de=Object.prototype.toString;function ye(vt){return typeof vt<"u"}o(ye,"defined"),M.defined=ye;function Y(vt){return typeof vt>"u"}o(Y,"undefined"),M.undefined=Y;function L(vt){return vt===!0||vt===!1}o(L,"boolean"),M.boolean=L;function Ie(vt){return de.call(vt)==="[object String]"}o(Ie,"string"),M.string=Ie;function Me(vt){return de.call(vt)==="[object Number]"}o(Me,"number"),M.number=Me;function Ct(vt,ar,Do){return de.call(vt)==="[object Number]"&&ar<=vt&&vt<=Do}o(Ct,"numberRange"),M.numberRange=Ct;function Ut(vt){return de.call(vt)==="[object Number]"&&-2147483648<=vt&&vt<=2147483647}o(Ut,"integer"),M.integer=Ut;function Pt(vt){return de.call(vt)==="[object Number]"&&0<=vt&&vt<=2147483647}o(Pt,"uinteger"),M.uinteger=Pt;function tr(vt){return de.call(vt)==="[object Function]"}o(tr,"func"),M.func=tr;function or(vt){return vt!==null&&typeof vt=="object"}o(or,"objectLiteral"),M.objectLiteral=or;function Mt(vt,ar){return Array.isArray(vt)&&vt.every(ar)}o(Mt,"typedArray"),M.typedArray=Mt})(be||(be={}))})});var hs=V(yc=>{"use strict";d();Object.defineProperty(yc,"__esModule",{value:!0});yc.ProtocolNotificationType=yc.ProtocolNotificationType0=yc.ProtocolRequestType=yc.ProtocolRequestType0=yc.RegistrationType=yc.MessageDirection=void 0;var gb=tC(),Jhe;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Jhe||(yc.MessageDirection=Jhe={}));var Iz=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};yc.RegistrationType=Iz;var Tz=class extends gb.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};yc.ProtocolRequestType0=Tz;var wz=class extends gb.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,gb.ParameterStructures.byName)}};yc.ProtocolRequestType=wz;var _z=class extends gb.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};yc.ProtocolNotificationType0=_z;var Sz=class extends gb.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,gb.ParameterStructures.byName)}};yc.ProtocolNotificationType=Sz});var iD=V(xa=>{"use strict";d();Object.defineProperty(xa,"__esModule",{value:!0});xa.objectLiteral=xa.typedArray=xa.stringArray=xa.array=xa.func=xa.error=xa.number=xa.string=xa.boolean=void 0;function SYe(e){return e===!0||e===!1}o(SYe,"boolean");xa.boolean=SYe;function Xhe(e){return typeof e=="string"||e instanceof String}o(Xhe,"string");xa.string=Xhe;function BYe(e){return typeof e=="number"||e instanceof Number}o(BYe,"number");xa.number=BYe;function kYe(e){return e instanceof Error}o(kYe,"error");xa.error=kYe;function RYe(e){return typeof e=="function"}o(RYe,"func");xa.func=RYe;function Zhe(e){return Array.isArray(e)}o(Zhe,"array");xa.array=Zhe;function DYe(e){return Zhe(e)&&e.every(t=>Xhe(t))}o(DYe,"stringArray");xa.stringArray=DYe;function PYe(e,t){return Array.isArray(e)&&e.every(t)}o(PYe,"typedArray");xa.typedArray=PYe;function NYe(e){return e!==null&&typeof e=="object"}o(NYe,"objectLiteral");xa.objectLiteral=NYe});var rpe=V(oD=>{"use strict";d();Object.defineProperty(oD,"__esModule",{value:!0});oD.ImplementationRequest=void 0;var epe=hs(),tpe;(function(e){e.method="textDocument/implementation",e.messageDirection=epe.MessageDirection.clientToServer,e.type=new epe.ProtocolRequestType(e.method)})(tpe||(oD.ImplementationRequest=tpe={}))});var ope=V(sD=>{"use strict";d();Object.defineProperty(sD,"__esModule",{value:!0});sD.TypeDefinitionRequest=void 0;var npe=hs(),ipe;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=npe.MessageDirection.clientToServer,e.type=new npe.ProtocolRequestType(e.method)})(ipe||(sD.TypeDefinitionRequest=ipe={}))});var lpe=V(Ab=>{"use strict";d();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.DidChangeWorkspaceFoldersNotification=Ab.WorkspaceFoldersRequest=void 0;var aD=hs(),spe;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=aD.MessageDirection.serverToClient,e.type=new aD.ProtocolRequestType0(e.method)})(spe||(Ab.WorkspaceFoldersRequest=spe={}));var ape;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=aD.MessageDirection.clientToServer,e.type=new aD.ProtocolNotificationType(e.method)})(ape||(Ab.DidChangeWorkspaceFoldersNotification=ape={}))});var fpe=V(lD=>{"use strict";d();Object.defineProperty(lD,"__esModule",{value:!0});lD.ConfigurationRequest=void 0;var cpe=hs(),upe;(function(e){e.method="workspace/configuration",e.messageDirection=cpe.MessageDirection.serverToClient,e.type=new cpe.ProtocolRequestType(e.method)})(upe||(lD.ConfigurationRequest=upe={}))});var hpe=V(yb=>{"use strict";d();Object.defineProperty(yb,"__esModule",{value:!0});yb.ColorPresentationRequest=yb.DocumentColorRequest=void 0;var cD=hs(),dpe;(function(e){e.method="textDocument/documentColor",e.messageDirection=cD.MessageDirection.clientToServer,e.type=new cD.ProtocolRequestType(e.method)})(dpe||(yb.DocumentColorRequest=dpe={}));var mpe;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=cD.MessageDirection.clientToServer,e.type=new cD.ProtocolRequestType(e.method)})(mpe||(yb.ColorPresentationRequest=mpe={}))});var Ape=V(Cb=>{"use strict";d();Object.defineProperty(Cb,"__esModule",{value:!0});Cb.FoldingRangeRefreshRequest=Cb.FoldingRangeRequest=void 0;var uD=hs(),ppe;(function(e){e.method="textDocument/foldingRange",e.messageDirection=uD.MessageDirection.clientToServer,e.type=new uD.ProtocolRequestType(e.method)})(ppe||(Cb.FoldingRangeRequest=ppe={}));var gpe;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=uD.MessageDirection.serverToClient,e.type=new uD.ProtocolRequestType0(e.method)})(gpe||(Cb.FoldingRangeRefreshRequest=gpe={}))});var Epe=V(fD=>{"use strict";d();Object.defineProperty(fD,"__esModule",{value:!0});fD.DeclarationRequest=void 0;var ype=hs(),Cpe;(function(e){e.method="textDocument/declaration",e.messageDirection=ype.MessageDirection.clientToServer,e.type=new ype.ProtocolRequestType(e.method)})(Cpe||(fD.DeclarationRequest=Cpe={}))});var vpe=V(dD=>{"use strict";d();Object.defineProperty(dD,"__esModule",{value:!0});dD.SelectionRangeRequest=void 0;var xpe=hs(),bpe;(function(e){e.method="textDocument/selectionRange",e.messageDirection=xpe.MessageDirection.clientToServer,e.type=new xpe.ProtocolRequestType(e.method)})(bpe||(dD.SelectionRangeRequest=bpe={}))});var _pe=V(q2=>{"use strict";d();Object.defineProperty(q2,"__esModule",{value:!0});q2.WorkDoneProgressCancelNotification=q2.WorkDoneProgressCreateRequest=q2.WorkDoneProgress=void 0;var FYe=tC(),mD=hs(),Ipe;(function(e){e.type=new FYe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(Ipe||(q2.WorkDoneProgress=Ipe={}));var Tpe;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=mD.MessageDirection.serverToClient,e.type=new mD.ProtocolRequestType(e.method)})(Tpe||(q2.WorkDoneProgressCreateRequest=Tpe={}));var wpe;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=mD.MessageDirection.clientToServer,e.type=new mD.ProtocolNotificationType(e.method)})(wpe||(q2.WorkDoneProgressCancelNotification=wpe={}))});var Rpe=V(G2=>{"use strict";d();Object.defineProperty(G2,"__esModule",{value:!0});G2.CallHierarchyOutgoingCallsRequest=G2.CallHierarchyIncomingCallsRequest=G2.CallHierarchyPrepareRequest=void 0;var Eb=hs(),Spe;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Eb.MessageDirection.clientToServer,e.type=new Eb.ProtocolRequestType(e.method)})(Spe||(G2.CallHierarchyPrepareRequest=Spe={}));var Bpe;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Eb.MessageDirection.clientToServer,e.type=new Eb.ProtocolRequestType(e.method)})(Bpe||(G2.CallHierarchyIncomingCallsRequest=Bpe={}));var kpe;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Eb.MessageDirection.clientToServer,e.type=new Eb.ProtocolRequestType(e.method)})(kpe||(G2.CallHierarchyOutgoingCallsRequest=kpe={}))});var Qpe=V(Cc=>{"use strict";d();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.SemanticTokensRefreshRequest=Cc.SemanticTokensRangeRequest=Cc.SemanticTokensDeltaRequest=Cc.SemanticTokensRequest=Cc.SemanticTokensRegistrationType=Cc.TokenFormat=void 0;var Vg=hs(),Dpe;(function(e){e.Relative="relative"})(Dpe||(Cc.TokenFormat=Dpe={}));var d7;(function(e){e.method="textDocument/semanticTokens",e.type=new Vg.RegistrationType(e.method)})(d7||(Cc.SemanticTokensRegistrationType=d7={}));var Ppe;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Vg.MessageDirection.clientToServer,e.type=new Vg.ProtocolRequestType(e.method),e.registrationMethod=d7.method})(Ppe||(Cc.SemanticTokensRequest=Ppe={}));var Npe;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Vg.MessageDirection.clientToServer,e.type=new Vg.ProtocolRequestType(e.method),e.registrationMethod=d7.method})(Npe||(Cc.SemanticTokensDeltaRequest=Npe={}));var Fpe;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Vg.MessageDirection.clientToServer,e.type=new Vg.ProtocolRequestType(e.method),e.registrationMethod=d7.method})(Fpe||(Cc.SemanticTokensRangeRequest=Fpe={}));var Lpe;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Vg.MessageDirection.serverToClient,e.type=new Vg.ProtocolRequestType0(e.method)})(Lpe||(Cc.SemanticTokensRefreshRequest=Lpe={}))});var Upe=V(hD=>{"use strict";d();Object.defineProperty(hD,"__esModule",{value:!0});hD.ShowDocumentRequest=void 0;var Mpe=hs(),Ope;(function(e){e.method="window/showDocument",e.messageDirection=Mpe.MessageDirection.serverToClient,e.type=new Mpe.ProtocolRequestType(e.method)})(Ope||(hD.ShowDocumentRequest=Ope={}))});var Wpe=V(pD=>{"use strict";d();Object.defineProperty(pD,"__esModule",{value:!0});pD.LinkedEditingRangeRequest=void 0;var qpe=hs(),Gpe;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=qpe.MessageDirection.clientToServer,e.type=new qpe.ProtocolRequestType(e.method)})(Gpe||(pD.LinkedEditingRangeRequest=Gpe={}))});var Jpe=V(f0=>{"use strict";d();Object.defineProperty(f0,"__esModule",{value:!0});f0.WillDeleteFilesRequest=f0.DidDeleteFilesNotification=f0.DidRenameFilesNotification=f0.WillRenameFilesRequest=f0.DidCreateFilesNotification=f0.WillCreateFilesRequest=f0.FileOperationPatternKind=void 0;var Rf=hs(),Hpe;(function(e){e.file="file",e.folder="folder"})(Hpe||(f0.FileOperationPatternKind=Hpe={}));var Vpe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolRequestType(e.method)})(Vpe||(f0.WillCreateFilesRequest=Vpe={}));var jpe;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolNotificationType(e.method)})(jpe||(f0.DidCreateFilesNotification=jpe={}));var $pe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolRequestType(e.method)})($pe||(f0.WillRenameFilesRequest=$pe={}));var zpe;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolNotificationType(e.method)})(zpe||(f0.DidRenameFilesNotification=zpe={}));var Ype;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolNotificationType(e.method)})(Ype||(f0.DidDeleteFilesNotification=Ype={}));var Kpe;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolRequestType(e.method)})(Kpe||(f0.WillDeleteFilesRequest=Kpe={}))});var rge=V(W2=>{"use strict";d();Object.defineProperty(W2,"__esModule",{value:!0});W2.MonikerRequest=W2.MonikerKind=W2.UniquenessLevel=void 0;var Xpe=hs(),Zpe;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Zpe||(W2.UniquenessLevel=Zpe={}));var ege;(function(e){e.$import="import",e.$export="export",e.local="local"})(ege||(W2.MonikerKind=ege={}));var tge;(function(e){e.method="textDocument/moniker",e.messageDirection=Xpe.MessageDirection.clientToServer,e.type=new Xpe.ProtocolRequestType(e.method)})(tge||(W2.MonikerRequest=tge={}))});var sge=V(H2=>{"use strict";d();Object.defineProperty(H2,"__esModule",{value:!0});H2.TypeHierarchySubtypesRequest=H2.TypeHierarchySupertypesRequest=H2.TypeHierarchyPrepareRequest=void 0;var xb=hs(),nge;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=xb.MessageDirection.clientToServer,e.type=new xb.ProtocolRequestType(e.method)})(nge||(H2.TypeHierarchyPrepareRequest=nge={}));var ige;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=xb.MessageDirection.clientToServer,e.type=new xb.ProtocolRequestType(e.method)})(ige||(H2.TypeHierarchySupertypesRequest=ige={}));var oge;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=xb.MessageDirection.clientToServer,e.type=new xb.ProtocolRequestType(e.method)})(oge||(H2.TypeHierarchySubtypesRequest=oge={}))});var cge=V(bb=>{"use strict";d();Object.defineProperty(bb,"__esModule",{value:!0});bb.InlineValueRefreshRequest=bb.InlineValueRequest=void 0;var gD=hs(),age;(function(e){e.method="textDocument/inlineValue",e.messageDirection=gD.MessageDirection.clientToServer,e.type=new gD.ProtocolRequestType(e.method)})(age||(bb.InlineValueRequest=age={}));var lge;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=gD.MessageDirection.serverToClient,e.type=new gD.ProtocolRequestType0(e.method)})(lge||(bb.InlineValueRefreshRequest=lge={}))});var mge=V(V2=>{"use strict";d();Object.defineProperty(V2,"__esModule",{value:!0});V2.InlayHintRefreshRequest=V2.InlayHintResolveRequest=V2.InlayHintRequest=void 0;var vb=hs(),uge;(function(e){e.method="textDocument/inlayHint",e.messageDirection=vb.MessageDirection.clientToServer,e.type=new vb.ProtocolRequestType(e.method)})(uge||(V2.InlayHintRequest=uge={}));var fge;(function(e){e.method="inlayHint/resolve",e.messageDirection=vb.MessageDirection.clientToServer,e.type=new vb.ProtocolRequestType(e.method)})(fge||(V2.InlayHintResolveRequest=fge={}));var dge;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=vb.MessageDirection.serverToClient,e.type=new vb.ProtocolRequestType0(e.method)})(dge||(V2.InlayHintRefreshRequest=dge={}))});var Ege=V(Df=>{"use strict";d();Object.defineProperty(Df,"__esModule",{value:!0});Df.DiagnosticRefreshRequest=Df.WorkspaceDiagnosticRequest=Df.DocumentDiagnosticRequest=Df.DocumentDiagnosticReportKind=Df.DiagnosticServerCancellationData=void 0;var Cge=tC(),LYe=iD(),Ib=hs(),hge;(function(e){function t(r){let n=r;return n&&LYe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(hge||(Df.DiagnosticServerCancellationData=hge={}));var pge;(function(e){e.Full="full",e.Unchanged="unchanged"})(pge||(Df.DocumentDiagnosticReportKind=pge={}));var gge;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Ib.MessageDirection.clientToServer,e.type=new Ib.ProtocolRequestType(e.method),e.partialResult=new Cge.ProgressType})(gge||(Df.DocumentDiagnosticRequest=gge={}));var Age;(function(e){e.method="workspace/diagnostic",e.messageDirection=Ib.MessageDirection.clientToServer,e.type=new Ib.ProtocolRequestType(e.method),e.partialResult=new Cge.ProgressType})(Age||(Df.WorkspaceDiagnosticRequest=Age={}));var yge;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Ib.MessageDirection.serverToClient,e.type=new Ib.ProtocolRequestType0(e.method)})(yge||(Df.DiagnosticRefreshRequest=yge={}))});var _ge=V(Ls=>{"use strict";d();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.DidCloseNotebookDocumentNotification=Ls.DidSaveNotebookDocumentNotification=Ls.DidChangeNotebookDocumentNotification=Ls.NotebookCellArrayChange=Ls.DidOpenNotebookDocumentNotification=Ls.NotebookDocumentSyncRegistrationType=Ls.NotebookDocument=Ls.NotebookCell=Ls.ExecutionSummary=Ls.NotebookCellKind=void 0;var m7=nD(),cm=iD(),Gh=hs(),Bz;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(Bz||(Ls.NotebookCellKind=Bz={}));var kz;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return cm.objectLiteral(s)&&m7.uinteger.is(s.executionOrder)&&(s.success===void 0||cm.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(kz||(Ls.ExecutionSummary=kz={}));var AD;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return cm.objectLiteral(a)&&Bz.is(a.kind)&&m7.DocumentUri.is(a.document)&&(a.metadata===void 0||cm.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!kz.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(cm.objectLiteral(s)&&cm.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(AD||(Ls.NotebookCell=AD={}));var xge;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return cm.objectLiteral(i)&&cm.string(i.uri)&&m7.integer.is(i.version)&&cm.typedArray(i.cells,AD.is)}o(r,"is"),e.is=r})(xge||(Ls.NotebookDocument=xge={}));var Tb;(function(e){e.method="notebookDocument/sync",e.messageDirection=Gh.MessageDirection.clientToServer,e.type=new Gh.RegistrationType(e.method)})(Tb||(Ls.NotebookDocumentSyncRegistrationType=Tb={}));var bge;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Gh.MessageDirection.clientToServer,e.type=new Gh.ProtocolNotificationType(e.method),e.registrationMethod=Tb.method})(bge||(Ls.DidOpenNotebookDocumentNotification=bge={}));var vge;(function(e){function t(n){let i=n;return cm.objectLiteral(i)&&m7.uinteger.is(i.start)&&m7.uinteger.is(i.deleteCount)&&(i.cells===void 0||cm.typedArray(i.cells,AD.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(vge||(Ls.NotebookCellArrayChange=vge={}));var Ige;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Gh.MessageDirection.clientToServer,e.type=new Gh.ProtocolNotificationType(e.method),e.registrationMethod=Tb.method})(Ige||(Ls.DidChangeNotebookDocumentNotification=Ige={}));var Tge;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Gh.MessageDirection.clientToServer,e.type=new Gh.ProtocolNotificationType(e.method),e.registrationMethod=Tb.method})(Tge||(Ls.DidSaveNotebookDocumentNotification=Tge={}));var wge;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Gh.MessageDirection.clientToServer,e.type=new Gh.ProtocolNotificationType(e.method),e.registrationMethod=Tb.method})(wge||(Ls.DidCloseNotebookDocumentNotification=wge={}))});var kge=V(yD=>{"use strict";d();Object.defineProperty(yD,"__esModule",{value:!0});yD.InlineCompletionRequest=void 0;var Sge=hs(),Bge;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=Sge.MessageDirection.clientToServer,e.type=new Sge.ProtocolRequestType(e.method)})(Bge||(yD.InlineCompletionRequest=Bge={}))});var W1e=V(xe=>{"use strict";d();Object.defineProperty(xe,"__esModule",{value:!0});xe.WorkspaceSymbolRequest=xe.CodeActionResolveRequest=xe.CodeActionRequest=xe.DocumentSymbolRequest=xe.DocumentHighlightRequest=xe.ReferencesRequest=xe.DefinitionRequest=xe.SignatureHelpRequest=xe.SignatureHelpTriggerKind=xe.HoverRequest=xe.CompletionResolveRequest=xe.CompletionRequest=xe.CompletionTriggerKind=xe.PublishDiagnosticsNotification=xe.WatchKind=xe.RelativePattern=xe.FileChangeType=xe.DidChangeWatchedFilesNotification=xe.WillSaveTextDocumentWaitUntilRequest=xe.WillSaveTextDocumentNotification=xe.TextDocumentSaveReason=xe.DidSaveTextDocumentNotification=xe.DidCloseTextDocumentNotification=xe.DidChangeTextDocumentNotification=xe.TextDocumentContentChangeEvent=xe.DidOpenTextDocumentNotification=xe.TextDocumentSyncKind=xe.TelemetryEventNotification=xe.LogMessageNotification=xe.ShowMessageRequest=xe.ShowMessageNotification=xe.MessageType=xe.DidChangeConfigurationNotification=xe.ExitNotification=xe.ShutdownRequest=xe.InitializedNotification=xe.InitializeErrorCodes=xe.InitializeRequest=xe.WorkDoneProgressOptions=xe.TextDocumentRegistrationOptions=xe.StaticRegistrationOptions=xe.PositionEncodingKind=xe.FailureHandlingKind=xe.ResourceOperationKind=xe.UnregistrationRequest=xe.RegistrationRequest=xe.DocumentSelector=xe.NotebookCellTextDocumentFilter=xe.NotebookDocumentFilter=xe.TextDocumentFilter=void 0;xe.MonikerRequest=xe.MonikerKind=xe.UniquenessLevel=xe.WillDeleteFilesRequest=xe.DidDeleteFilesNotification=xe.WillRenameFilesRequest=xe.DidRenameFilesNotification=xe.WillCreateFilesRequest=xe.DidCreateFilesNotification=xe.FileOperationPatternKind=xe.LinkedEditingRangeRequest=xe.ShowDocumentRequest=xe.SemanticTokensRegistrationType=xe.SemanticTokensRefreshRequest=xe.SemanticTokensRangeRequest=xe.SemanticTokensDeltaRequest=xe.SemanticTokensRequest=xe.TokenFormat=xe.CallHierarchyPrepareRequest=xe.CallHierarchyOutgoingCallsRequest=xe.CallHierarchyIncomingCallsRequest=xe.WorkDoneProgressCancelNotification=xe.WorkDoneProgressCreateRequest=xe.WorkDoneProgress=xe.SelectionRangeRequest=xe.DeclarationRequest=xe.FoldingRangeRefreshRequest=xe.FoldingRangeRequest=xe.ColorPresentationRequest=xe.DocumentColorRequest=xe.ConfigurationRequest=xe.DidChangeWorkspaceFoldersNotification=xe.WorkspaceFoldersRequest=xe.TypeDefinitionRequest=xe.ImplementationRequest=xe.ApplyWorkspaceEditRequest=xe.ExecuteCommandRequest=xe.PrepareRenameRequest=xe.RenameRequest=xe.PrepareSupportDefaultBehavior=xe.DocumentOnTypeFormattingRequest=xe.DocumentRangesFormattingRequest=xe.DocumentRangeFormattingRequest=xe.DocumentFormattingRequest=xe.DocumentLinkResolveRequest=xe.DocumentLinkRequest=xe.CodeLensRefreshRequest=xe.CodeLensResolveRequest=xe.CodeLensRequest=xe.WorkspaceSymbolResolveRequest=void 0;xe.InlineCompletionRequest=xe.DidCloseNotebookDocumentNotification=xe.DidSaveNotebookDocumentNotification=xe.DidChangeNotebookDocumentNotification=xe.NotebookCellArrayChange=xe.DidOpenNotebookDocumentNotification=xe.NotebookDocumentSyncRegistrationType=xe.NotebookDocument=xe.NotebookCell=xe.ExecutionSummary=xe.NotebookCellKind=xe.DiagnosticRefreshRequest=xe.WorkspaceDiagnosticRequest=xe.DocumentDiagnosticRequest=xe.DocumentDiagnosticReportKind=xe.DiagnosticServerCancellationData=xe.InlayHintRefreshRequest=xe.InlayHintResolveRequest=xe.InlayHintRequest=xe.InlineValueRefreshRequest=xe.InlineValueRequest=xe.TypeHierarchySupertypesRequest=xe.TypeHierarchySubtypesRequest=xe.TypeHierarchyPrepareRequest=void 0;var Yt=hs(),Rge=nD(),ll=iD(),QYe=rpe();Object.defineProperty(xe,"ImplementationRequest",{enumerable:!0,get:o(function(){return QYe.ImplementationRequest},"get")});var MYe=ope();Object.defineProperty(xe,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return MYe.TypeDefinitionRequest},"get")});var O1e=lpe();Object.defineProperty(xe,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return O1e.WorkspaceFoldersRequest},"get")});Object.defineProperty(xe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return O1e.DidChangeWorkspaceFoldersNotification},"get")});var OYe=fpe();Object.defineProperty(xe,"ConfigurationRequest",{enumerable:!0,get:o(function(){return OYe.ConfigurationRequest},"get")});var U1e=hpe();Object.defineProperty(xe,"DocumentColorRequest",{enumerable:!0,get:o(function(){return U1e.DocumentColorRequest},"get")});Object.defineProperty(xe,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return U1e.ColorPresentationRequest},"get")});var q1e=Ape();Object.defineProperty(xe,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return q1e.FoldingRangeRequest},"get")});Object.defineProperty(xe,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return q1e.FoldingRangeRefreshRequest},"get")});var UYe=Epe();Object.defineProperty(xe,"DeclarationRequest",{enumerable:!0,get:o(function(){return UYe.DeclarationRequest},"get")});var qYe=vpe();Object.defineProperty(xe,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return qYe.SelectionRangeRequest},"get")});var Fz=_pe();Object.defineProperty(xe,"WorkDoneProgress",{enumerable:!0,get:o(function(){return Fz.WorkDoneProgress},"get")});Object.defineProperty(xe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return Fz.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(xe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return Fz.WorkDoneProgressCancelNotification},"get")});var Lz=Rpe();Object.defineProperty(xe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return Lz.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(xe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return Lz.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(xe,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Lz.CallHierarchyPrepareRequest},"get")});var wb=Qpe();Object.defineProperty(xe,"TokenFormat",{enumerable:!0,get:o(function(){return wb.TokenFormat},"get")});Object.defineProperty(xe,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return wb.SemanticTokensRequest},"get")});Object.defineProperty(xe,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return wb.SemanticTokensDeltaRequest},"get")});Object.defineProperty(xe,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return wb.SemanticTokensRangeRequest},"get")});Object.defineProperty(xe,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return wb.SemanticTokensRefreshRequest},"get")});Object.defineProperty(xe,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return wb.SemanticTokensRegistrationType},"get")});var GYe=Upe();Object.defineProperty(xe,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return GYe.ShowDocumentRequest},"get")});var WYe=Wpe();Object.defineProperty(xe,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return WYe.LinkedEditingRangeRequest},"get")});var rC=Jpe();Object.defineProperty(xe,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return rC.FileOperationPatternKind},"get")});Object.defineProperty(xe,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return rC.DidCreateFilesNotification},"get")});Object.defineProperty(xe,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return rC.WillCreateFilesRequest},"get")});Object.defineProperty(xe,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return rC.DidRenameFilesNotification},"get")});Object.defineProperty(xe,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return rC.WillRenameFilesRequest},"get")});Object.defineProperty(xe,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return rC.DidDeleteFilesNotification},"get")});Object.defineProperty(xe,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return rC.WillDeleteFilesRequest},"get")});var Qz=rge();Object.defineProperty(xe,"UniquenessLevel",{enumerable:!0,get:o(function(){return Qz.UniquenessLevel},"get")});Object.defineProperty(xe,"MonikerKind",{enumerable:!0,get:o(function(){return Qz.MonikerKind},"get")});Object.defineProperty(xe,"MonikerRequest",{enumerable:!0,get:o(function(){return Qz.MonikerRequest},"get")});var Mz=sge();Object.defineProperty(xe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Mz.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(xe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return Mz.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(xe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return Mz.TypeHierarchySupertypesRequest},"get")});var G1e=cge();Object.defineProperty(xe,"InlineValueRequest",{enumerable:!0,get:o(function(){return G1e.InlineValueRequest},"get")});Object.defineProperty(xe,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return G1e.InlineValueRefreshRequest},"get")});var Oz=mge();Object.defineProperty(xe,"InlayHintRequest",{enumerable:!0,get:o(function(){return Oz.InlayHintRequest},"get")});Object.defineProperty(xe,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return Oz.InlayHintResolveRequest},"get")});Object.defineProperty(xe,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return Oz.InlayHintRefreshRequest},"get")});var h7=Ege();Object.defineProperty(xe,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return h7.DiagnosticServerCancellationData},"get")});Object.defineProperty(xe,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return h7.DocumentDiagnosticReportKind},"get")});Object.defineProperty(xe,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return h7.DocumentDiagnosticRequest},"get")});Object.defineProperty(xe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return h7.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(xe,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return h7.DiagnosticRefreshRequest},"get")});var Wh=_ge();Object.defineProperty(xe,"NotebookCellKind",{enumerable:!0,get:o(function(){return Wh.NotebookCellKind},"get")});Object.defineProperty(xe,"ExecutionSummary",{enumerable:!0,get:o(function(){return Wh.ExecutionSummary},"get")});Object.defineProperty(xe,"NotebookCell",{enumerable:!0,get:o(function(){return Wh.NotebookCell},"get")});Object.defineProperty(xe,"NotebookDocument",{enumerable:!0,get:o(function(){return Wh.NotebookDocument},"get")});Object.defineProperty(xe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return Wh.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(xe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Wh.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(xe,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return Wh.NotebookCellArrayChange},"get")});Object.defineProperty(xe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Wh.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(xe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Wh.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(xe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Wh.DidCloseNotebookDocumentNotification},"get")});var HYe=kge();Object.defineProperty(xe,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return HYe.InlineCompletionRequest},"get")});var Rz;(function(e){function t(r){let n=r;return ll.string(n)||ll.string(n.language)||ll.string(n.scheme)||ll.string(n.pattern)}o(t,"is"),e.is=t})(Rz||(xe.TextDocumentFilter=Rz={}));var Dz;(function(e){function t(r){let n=r;return ll.objectLiteral(n)&&(ll.string(n.notebookType)||ll.string(n.scheme)||ll.string(n.pattern))}o(t,"is"),e.is=t})(Dz||(xe.NotebookDocumentFilter=Dz={}));var Pz;(function(e){function t(r){let n=r;return ll.objectLiteral(n)&&(ll.string(n.notebook)||Dz.is(n.notebook))&&(n.language===void 0||ll.string(n.language))}o(t,"is"),e.is=t})(Pz||(xe.NotebookCellTextDocumentFilter=Pz={}));var Nz;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!ll.string(n)&&!Rz.is(n)&&!Pz.is(n))return!1;return!0}o(t,"is"),e.is=t})(Nz||(xe.DocumentSelector=Nz={}));var Dge;(function(e){e.method="client/registerCapability",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType(e.method)})(Dge||(xe.RegistrationRequest=Dge={}));var Pge;(function(e){e.method="client/unregisterCapability",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType(e.method)})(Pge||(xe.UnregistrationRequest=Pge={}));var Nge;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Nge||(xe.ResourceOperationKind=Nge={}));var Fge;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Fge||(xe.FailureHandlingKind=Fge={}));var Lge;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(Lge||(xe.PositionEncodingKind=Lge={}));var Qge;(function(e){function t(r){let n=r;return n&&ll.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(Qge||(xe.StaticRegistrationOptions=Qge={}));var Mge;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||Nz.is(n.documentSelector))}o(t,"is"),e.is=t})(Mge||(xe.TextDocumentRegistrationOptions=Mge={}));var Oge;(function(e){function t(n){let i=n;return ll.objectLiteral(i)&&(i.workDoneProgress===void 0||ll.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&ll.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(Oge||(xe.WorkDoneProgressOptions=Oge={}));var Uge;(function(e){e.method="initialize",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(Uge||(xe.InitializeRequest=Uge={}));var qge;(function(e){e.unknownProtocolVersion=1})(qge||(xe.InitializeErrorCodes=qge={}));var Gge;(function(e){e.method="initialized",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(Gge||(xe.InitializedNotification=Gge={}));var Wge;(function(e){e.method="shutdown",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType0(e.method)})(Wge||(xe.ShutdownRequest=Wge={}));var Hge;(function(e){e.method="exit",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType0(e.method)})(Hge||(xe.ExitNotification=Hge={}));var Vge;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(Vge||(xe.DidChangeConfigurationNotification=Vge={}));var jge;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(jge||(xe.MessageType=jge={}));var $ge;(function(e){e.method="window/showMessage",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})($ge||(xe.ShowMessageNotification=$ge={}));var zge;(function(e){e.method="window/showMessageRequest",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType(e.method)})(zge||(xe.ShowMessageRequest=zge={}));var Yge;(function(e){e.method="window/logMessage",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(Yge||(xe.LogMessageNotification=Yge={}));var Kge;(function(e){e.method="telemetry/event",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(Kge||(xe.TelemetryEventNotification=Kge={}));var Jge;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Jge||(xe.TextDocumentSyncKind=Jge={}));var Xge;(function(e){e.method="textDocument/didOpen",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(Xge||(xe.DidOpenTextDocumentNotification=Xge={}));var Zge;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(Zge||(xe.TextDocumentContentChangeEvent=Zge={}));var e1e;(function(e){e.method="textDocument/didChange",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(e1e||(xe.DidChangeTextDocumentNotification=e1e={}));var t1e;(function(e){e.method="textDocument/didClose",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(t1e||(xe.DidCloseTextDocumentNotification=t1e={}));var r1e;(function(e){e.method="textDocument/didSave",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(r1e||(xe.DidSaveTextDocumentNotification=r1e={}));var n1e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(n1e||(xe.TextDocumentSaveReason=n1e={}));var i1e;(function(e){e.method="textDocument/willSave",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(i1e||(xe.WillSaveTextDocumentNotification=i1e={}));var o1e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(o1e||(xe.WillSaveTextDocumentWaitUntilRequest=o1e={}));var s1e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(s1e||(xe.DidChangeWatchedFilesNotification=s1e={}));var a1e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(a1e||(xe.FileChangeType=a1e={}));var l1e;(function(e){function t(r){let n=r;return ll.objectLiteral(n)&&(Rge.URI.is(n.baseUri)||Rge.WorkspaceFolder.is(n.baseUri))&&ll.string(n.pattern)}o(t,"is"),e.is=t})(l1e||(xe.RelativePattern=l1e={}));var c1e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(c1e||(xe.WatchKind=c1e={}));var u1e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(u1e||(xe.PublishDiagnosticsNotification=u1e={}));var f1e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(f1e||(xe.CompletionTriggerKind=f1e={}));var d1e;(function(e){e.method="textDocument/completion",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(d1e||(xe.CompletionRequest=d1e={}));var m1e;(function(e){e.method="completionItem/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(m1e||(xe.CompletionResolveRequest=m1e={}));var h1e;(function(e){e.method="textDocument/hover",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(h1e||(xe.HoverRequest=h1e={}));var p1e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(p1e||(xe.SignatureHelpTriggerKind=p1e={}));var g1e;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(g1e||(xe.SignatureHelpRequest=g1e={}));var A1e;(function(e){e.method="textDocument/definition",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(A1e||(xe.DefinitionRequest=A1e={}));var y1e;(function(e){e.method="textDocument/references",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(y1e||(xe.ReferencesRequest=y1e={}));var C1e;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(C1e||(xe.DocumentHighlightRequest=C1e={}));var E1e;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(E1e||(xe.DocumentSymbolRequest=E1e={}));var x1e;(function(e){e.method="textDocument/codeAction",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(x1e||(xe.CodeActionRequest=x1e={}));var b1e;(function(e){e.method="codeAction/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(b1e||(xe.CodeActionResolveRequest=b1e={}));var v1e;(function(e){e.method="workspace/symbol",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(v1e||(xe.WorkspaceSymbolRequest=v1e={}));var I1e;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(I1e||(xe.WorkspaceSymbolResolveRequest=I1e={}));var T1e;(function(e){e.method="textDocument/codeLens",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(T1e||(xe.CodeLensRequest=T1e={}));var w1e;(function(e){e.method="codeLens/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(w1e||(xe.CodeLensResolveRequest=w1e={}));var _1e;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType0(e.method)})(_1e||(xe.CodeLensRefreshRequest=_1e={}));var S1e;(function(e){e.method="textDocument/documentLink",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(S1e||(xe.DocumentLinkRequest=S1e={}));var B1e;(function(e){e.method="documentLink/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(B1e||(xe.DocumentLinkResolveRequest=B1e={}));var k1e;(function(e){e.method="textDocument/formatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(k1e||(xe.DocumentFormattingRequest=k1e={}));var R1e;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(R1e||(xe.DocumentRangeFormattingRequest=R1e={}));var D1e;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(D1e||(xe.DocumentRangesFormattingRequest=D1e={}));var P1e;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(P1e||(xe.DocumentOnTypeFormattingRequest=P1e={}));var N1e;(function(e){e.Identifier=1})(N1e||(xe.PrepareSupportDefaultBehavior=N1e={}));var F1e;(function(e){e.method="textDocument/rename",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(F1e||(xe.RenameRequest=F1e={}));var L1e;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(L1e||(xe.PrepareRenameRequest=L1e={}));var Q1e;(function(e){e.method="workspace/executeCommand",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(Q1e||(xe.ExecuteCommandRequest=Q1e={}));var M1e;(function(e){e.method="workspace/applyEdit",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType("workspace/applyEdit")})(M1e||(xe.ApplyWorkspaceEditRequest=M1e={}))});var V1e=V(CD=>{"use strict";d();Object.defineProperty(CD,"__esModule",{value:!0});CD.createProtocolConnection=void 0;var H1e=tC();function VYe(e,t,r,n){return H1e.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,H1e.createMessageConnection)(e,t,r,n)}o(VYe,"createProtocolConnection");CD.createProtocolConnection=VYe});var $1e=V(Ec=>{"use strict";d();var jYe=Ec&&Ec.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ED=Ec&&Ec.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jYe(t,e,r)};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.LSPErrorCodes=Ec.createProtocolConnection=void 0;ED(tC(),Ec);ED(nD(),Ec);ED(hs(),Ec);ED(W1e(),Ec);var $Ye=V1e();Object.defineProperty(Ec,"createProtocolConnection",{enumerable:!0,get:o(function(){return $Ye.createProtocolConnection},"get")});var j1e;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(j1e||(Ec.LSPErrorCodes=j1e={}))});var Ii=V(Hh=>{"use strict";d();var zYe=Hh&&Hh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),z1e=Hh&&Hh.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zYe(t,e,r)};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.createProtocolConnection=void 0;var YYe=vz();z1e(vz(),Hh);z1e($1e(),Hh);function KYe(e,t,r,n){return(0,YYe.createMessageConnection)(e,t,r,n)}o(KYe,"createProtocolConnection");Hh.createProtocolConnection=KYe});var bAe=V((LD,xAe)=>{d();(function(e,t){typeof LD=="object"&&typeof xAe<"u"?t(LD):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(LD,function(e){"use strict";function t(w,B){return w||B}o(t,"_pureAssign");function r(w,B){return w[B]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",E="name",x="call",v="toString",b=t(Object),S=r(b,c),k=t(String),P=r(k,c),N=t(Math),W=t(Array),te=r(W,c),ge=r(te,"slice");function re(w,B){try{return{v:w.apply(this,B)}}catch(R){return{e:R}}}o(re,"safe");function G(w){return function(B){return typeof B===w}}o(G,"_createIs");function q(w){var B="[object "+w+"]";return function(R){return!!(R&&se(R)===B)}}o(q,"_createObjIs");function se(w){return S[v].call(w)}o(se,"objToString");function ne(w){return typeof w===f||w===f}o(ne,"isUndefined");function H(w){return!j(w)}o(H,"isStrictUndefined");function O(w){return w===i||ne(w)}o(O,"isNullOrUndefined");function j(w){return!!w||w!==n}o(j,"isDefined");var J=G("string"),le=G(a);function Z(w){return!w&&O(w)?!1:!!w&&typeof w===l}o(Z,"isObject");var ae=r(W,"isArray"),ce=q("Error"),Re=r(b,"getOwnPropertyDescriptor");function ve(w,B){return!!w&&S.hasOwnProperty[x](w,B)}o(ve,"objHasOwnProperty");var Ue=t(r(b,"hasOwn"),Be);function Be(w,B){return ve(w,B)||!!Re(w,B)}o(Be,"polyObjHasOwn");function Je(w,B,R){if(w&&Z(w)){for(var Q in w)if(Ue(w,Q)&&B[x](R||w,Q,w[Q])===-1)break}}o(Je,"objForEachKey");var ft={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function it(w){var B={};if(B[ft.c]=!0,B[ft.e]=!0,w.l){B.get=function(){return w.l.v};var R=Re(w.l,"v");R&&R.set&&(B.set=function(Q){w.l.v=Q})}return Je(w,function(Q,ue){B[ft[Q]]=H(ue)?B[ft[Q]]:ue}),B}o(it,"_createProp");var ot=r(b,"defineProperty");function ie(w,B,R){return ot(w,B,it(R))}o(ie,"objDefine");function Pe(w,B,R,Q,ue){var Te={};return Je(w,function(ke,He){Ae(Te,ke,B?He:ke),Ae(Te,He,R?He:ke)}),Q?Q(Te):Te}o(Pe,"_createKeyValueMap");function Ae(w,B,R,Q){ot(w,B,{value:R,enumerable:!0,writable:!1})}o(Ae,"_assignMapValue");var Ge=t(k),z="[object Error]";function ee(w,B){var R=s,Q=S[v][x](w);Q===z&&(w={stack:Ge(w.stack),message:Ge(w.message),name:Ge(w.name)});try{R=JSON.stringify(w,i,B?typeof B=="number"?B:4:n),R=(R?R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ge(w)}catch(ue){R=" - "+ee(ue,B)}return Q+": "+R}o(ee,"dumpObj");function Fe(w){throw new Error(w)}o(Fe,"throwError");function _e(w){throw new TypeError(w)}o(_e,"throwTypeError");var Ce=r(b,"freeze");function Oe(w){return w}o(Oe,"_doNothing");function Ve(w){return w[u]||i}o(Ve,"_getProto");var Ze=r(b,"assign"),yt=r(b,"keys"),Rt=t(Ce,Oe),At=t(r(b,"getPrototypeOf"),Ve);function Ht(w){return Pe(w,1,0,Rt)}o(Ht,"createEnum");function jt(w){var B={};return Je(w,function(R,Q){Ae(B,R,Q[1]),Ae(B,Q[0],Q[1])}),Rt(B)}o(jt,"createSimpleMap");function ir(w){return jt(w)}o(ir,"createTypeMap");var pe="__tsUtils$gblCfg",Le;function Ke(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Ke,"_getGlobalValue");function et(){if(!Le){var w=re(Ke).v||{};Le=w[pe]=w[pe]||{}}return Le}o(et,"_getGlobalConfig");var _t=xt;function xt(w,B,R){var Q=B?B[w]:i;return function(ue){var Te=(ue?ue[w]:i)||Q;if(Te||R){var ke=arguments;return(Te||R).apply(ue,Te?ge[x](ke,1):ke)}_e('"'+Ge(w)+'" not defined for '+ee(ue))}}o(xt,"_unwrapFunctionWithPoly");var Ft=r(N,"min"),Qt=r(N,"max"),Tt=_t("slice",P),St=_t("substring",P),wt=xt("substr",P,Ot);function Ot(w,B,R){return O(w)&&_e("Invalid "+ee(w)),R<0?s:(B=B||0,B<0&&(B=Qt(B+w[A],0)),ne(R)?Tt(w,B):Tt(w,B,B+R))}o(Ot,"polyStrSubstr");function Gt(w,B){return St(w,0,B)}o(Gt,"strLeft");var $t="_urid",lr;function hr(){if(!lr){var w=et();lr=w.gblSym=w.gblSym||{k:{},s:{}}}return lr}o(hr,"_globalSymbolRegistry");function sr(w){var B={description:Ge(w),toString:o(function(){return h+"("+w+")"},"toString")};return B[p]=!0,B}o(sr,"polyNewSymbol");function cr(w){var B=hr();if(!Ue(B.k,w)){var R=sr(w),Q=yt(B.s).length;R[$t]=function(){return Q+"_"+R[v]()},B.k[w]=R,B.s[R[$t]()]=Ge(w)}return B.k[w]}o(cr,"polySymbolFor");var Jt;function ur(){Jt=et()}o(ur,"_initTestHooks");function be(w){return ot({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(be,"createCachedValue");var M="window",de;function ye(w,B){var R;return function(){return!Jt&&ur(),(!R||Jt.lzy)&&(R=be(re(w,B).v)),R.v}}o(ye,"_getGlobalInstFn");function Y(w){return!Jt&&ur(),(!de||w===!1||Jt.lzy)&&(de=be(re(Ke).v||i)),de.v}o(Y,"getGlobal");function L(w,B){var R;if(!de||B===!1?R=Y(B):R=de.v,R&&R[w])return R[w];if(w===M)try{return window}catch{}return i}o(L,"getInst");var Ie=ye(L,["document"]);function Me(){return!!Ct()}o(Me,"hasWindow");var Ct=ye(L,[M]);function Ut(){return!!Pt()}o(Ut,"hasNavigator");var Pt=ye(L,["navigator"]),tr,or;function Mt(){return tr=be(re(L,[h]).v),tr}o(Mt,"_initSymbol");function vt(w){var B=(Jt.lzy?0:tr)||Mt();return B.v?B.v[w]:n}o(vt,"_getSymbolKey");function ar(w,B){!Jt&&ur();var R=(Jt.lzy?0:tr)||Mt();return R.v?R.v(w):B?i:sr(w)}o(ar,"newSymbol");function Do(w){return!Jt&&ur(),or=(Jt.lzy?0:or)||be(re(vt,["for"]).v),(or.v||cr)(w)}o(Do,"symbolFor");function Bd(w,B,R){return w.apply(B,R)}o(Bd,"fnApply");function el(w,B,R){if(w)for(var Q=w[A]>>>0,ue=0;ue<Q&&!(ue in w&&B[x](R||w,w[ue],ue,w)===-1);ue++);}o(el,"arrForEach");var kd=_t("indexOf",te),nf=_t("map",te),Ps=_t("reduce",te),rh=t(r(b,"create"),iA);function iA(w){if(!w)return{};var B=typeof w;B!==l&&B!==a&&_e("Prototype must be an Object or function: "+ee(w));function R(){}return o(R,"tempFunc"),R[c]=w,new R}o(iA,"polyObjCreate");var n6;function Rd(w,B){var R=b.setPrototypeOf||function(Q,ue){var Te;!n6&&(n6=be((Te={},Te[u]=[],Te instanceof Array))),n6.v?Q[u]=ue:Je(ue,function(ke,He){return Q[ke]=He})};return R(w,B)}o(Rd,"objSetPrototypeOf");function GW(w,B,R){re(ie,[B,E,{v:w,c:!0,e:!1}]),B=Rd(B,R);function Q(){this[m]=B,re(ie,[this,E,{v:w,c:!0,e:!1}])}return o(Q,"__"),B[c]=R===i?rh(R):(Q[c]=R[c],new Q),B}o(GW,"_createCustomError");function nh(w,B){B&&(w[E]=B)}o(nh,"_setName");function WW(w,B,R){var Q=R||Error,ue=Q[c][E],Te=Error.captureStackTrace;return GW(w,function(){var ke=this,He=arguments;try{re(nh,[Q,w]);var rt=Bd(Q,ke,ge[x](He))||ke;if(rt!==ke){var Et=At(ke);Et!==At(rt)&&Rd(rt,Et)}return Te&&Te(rt,ke[m]),B&&B(rt,He),rt}finally{re(nh,[Q,ue])}},Q)}o(WW,"createCustomError");function eg(){return(Date.now||i6)()}o(eg,"utcNow");function i6(){return new Date().getTime()}o(i6,"polyUtcNow");function lE(w){return o(function(R){return O(R)&&_e("strTrim called ["+ee(R)+"]"),R&&R.replace&&(R=R.replace(w,s)),R},"_doTrim")}o(lE,"_createTrimFn");var HW=lE(/^\s+|(?=\s)\s+$/g),Xl=xt("trim",P,HW),ih=r(N,"floor"),Py,tg,Ny;function oh(w){if(!w||typeof w!==l)return!1;Ny||(Ny=Me()?Ct():!0);var B=!1;if(w!==Ny){tg||(Py=Function[c][v],tg=Py[x](b));try{var R=At(w);B=!R,B||(ve(R,m)&&(R=R[m]),B=!!(R&&typeof R===a&&Py[x](R)===tg))}catch{}}return B}o(oh,"isPlainObject");var cE;function Fy(){return!Jt&&ur(),(!cE||Jt.lzy)&&(cE=be(re(L,["performance"]).v)),cE.v}o(Fy,"getPerformance");var o6=r(N,"round"),oA=xt("endsWith",P,sA);function sA(w,B,R){J(w)||_e("'"+ee(w)+"' is not a string");var Q=J(B)?B:Ge(B),ue=!ne(R)&&R<w[A]?R:w[A];return St(w,ue-Q[A],ue)===Q}o(sA,"polyStrEndsWith");var Hr=_t("indexOf",P),T0="ref",rg="unref",aA="hasRef",VW="enabled";function sh(w,B,R){var Q=!0,ue=w?B(i):i,Te;function ke(){return Q=!1,ue&&ue[rg]&&ue[rg](),Te}o(ke,"_unref");function He(){ue&&R(ue),ue=i}o(He,"_cancel");function rt(){return ue=B(ue),Q||ke(),Te}o(rt,"_refresh");function Et(yr){!yr&&ue&&He(),yr&&!ue&&rt()}return o(Et,"_setEnabled"),Te={cancel:He,refresh:rt},Te[aA]=function(){return ue&&ue[aA]?ue[aA]():Q},Te[T0]=function(){return Q=!0,ue&&ue[T0]&&ue[T0](),Te},Te[rg]=ke,Te=ot(Te,VW,{get:o(function(){return!!ue},"get"),set:Et}),{h:Te,dn:o(function(){ue=i},"dn")}}o(sh,"_createTimerHandler");function jW(w,B,R){var Q=ae(B),ue=Q?B.length:0,Te=(ue>0?B[0]:Q?n:B)||setTimeout,ke=(ue>1?B[1]:n)||clearTimeout,He=R[0];R[0]=function(){rt.dn(),Bd(He,n,ge[x](arguments))};var rt=sh(w,function(Et){if(Et){if(Et.refresh)return Et.refresh(),Et;Bd(ke,n,[Et])}return Bd(Te,n,R)},function(Et){Bd(ke,n,[Et])});return rt.h}o(jW,"_createTimeoutWith");function s6(w,B){return jW(!0,n,ge[x](arguments))}o(s6,"scheduleTimeout");var Ly=Ht,$W=ir,Qy="toLowerCase",da="length",ah="warnToConsole",My="throwInternal",pS="watch",zW="apply",Di="push",ng="splice",lh="logger",a6="cancel",Oy="name",w0="unload",gS="version",AS="loggingLevelConsole",l6="messageId",ig="message",c6="diagLog",yS="userAgent",u6="split",lA="replace",ch="type",CS="evtName",uE="traceFlags",f6="getAttribute",fE;function YW(w,B){fE||(fE=WW("AggregationError",function(Q,ue){ue[da]>1&&(Q.errors=ue[1])}));var R=w||"One or more errors occurred.";throw el(B,function(Q,ue){R+=`
`.concat(ue," > ").concat(ee(Q))}),new fE(R,B||[])}o(YW,"throwAggregationError");var KW="function",ES="object",JW="undefined",Dd="prototype",dE=Object,d6=dE[Dd];(Y()||{}).Symbol,(Y()||{}).Reflect;var mE="hasOwnProperty",XW=o(function(w){for(var B,R=1,Q=arguments.length;R<Q;R++){B=arguments[R];for(var ue in B)d6[mE].call(B,ue)&&(w[ue]=B[ue])}return w},"__objAssignFnImpl"),hE=Ze||XW,pE=o(function(w,B){return pE=dE.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Q){R.__proto__=Q}||function(R,Q){for(var ue in Q)Q[mE](ue)&&(R[ue]=Q[ue])},pE(w,B)},"extendStaticsFn");function uh(w,B){typeof B!==KW&&B!==null&&_e("Class extends value "+String(B)+" is not a constructor or null"),pE(w,B);function R(){this.constructor=w}o(R,"__"),w[Dd]=B===null?rh(B):(R[Dd]=B[Dd],new R)}o(uh,"__extendsFn");var gE,og="constructor",nc="prototype",ic="function",sg="_dynInstFuncs",cA="_isDynProxy",fh="_dynClass",uA="_dynCls$",m6="_dynInstChk",ag=m6,fA="_dfOpts",h6="_unknown_",AE="__proto__",dA="_dyn"+AE,Uy="__dynProto$Gbl",yE="_dynInstProto",mA="useBaseInst",hA="setInstFuncs",qy=Object,lg=qy.getPrototypeOf,pA=qy.getOwnPropertyNames,p6=Y(),CE=p6[Uy]||(p6[Uy]={o:(gE={},gE[hA]=!0,gE[mA]=!0,gE),n:1e3});function gA(w){return w&&(w===qy[nc]||w===Array[nc])}o(gA,"_isObjectOrArrayPrototype");function AA(w){return gA(w)||w===Function[nc]}o(AA,"_isObjectArrayOrFunctionPrototype");function Pd(w){var B;if(w){if(lg)return lg(w);var R=w[AE]||w[nc]||(w[og]?w[og][nc]:null);B=w[dA]||R,ve(w,dA)||(delete w[yE],B=w[dA]=w[yE]||w[dA],w[yE]=R)}return B}o(Pd,"_getObjProto");function of(w,B){var R=[];if(pA)R=pA(w);else for(var Q in w)typeof Q=="string"&&ve(w,Q)&&R.push(Q);if(R&&R.length>0)for(var ue=0;ue<R.length;ue++)B(R[ue])}o(of,"_forEachProp");function yA(w,B,R){return B!==og&&typeof w[B]===ic&&(R||ve(w,B))&&B!==AE&&B!==nc}o(yA,"_isDynamicCandidate");function CA(w){_e("DynamicProto: "+w)}o(CA,"_throwTypeError");function EE(w){var B=rh(null);return of(w,function(R){!B[R]&&yA(w,R,!1)&&(B[R]=w[R])}),B}o(EE,"_getInstanceFuncs");function g6(w,B){for(var R=w.length-1;R>=0;R--)if(w[R]===B)return!0;return!1}o(g6,"_hasVisited");function A6(w,B,R,Q){function ue(rt,Et,yr){var pn=Et[yr];if(pn[cA]&&Q){var kn=rt[sg]||{};kn[ag]!==!1&&(pn=(kn[Et[fh]]||{})[yr]||pn)}return function(){return pn.apply(rt,arguments)}}o(ue,"_instFuncProxy");var Te=rh(null);of(R,function(rt){Te[rt]=ue(B,R,rt)});for(var ke=Pd(w),He=[];ke&&!AA(ke)&&!g6(He,ke);)of(ke,function(rt){!Te[rt]&&yA(ke,rt,!lg)&&(Te[rt]=ue(B,ke,rt))}),He.push(ke),ke=Pd(ke);return Te}o(A6,"_getBaseFuncs");function ZW(w,B,R,Q){var ue=null;if(w&&ve(R,fh)){var Te=w[sg]||rh(null);if(ue=(Te[R[fh]]||rh(null))[B],ue||CA("Missing ["+B+"] "+ic),!ue[m6]&&Te[ag]!==!1){for(var ke=!ve(w,B),He=Pd(w),rt=[];ke&&He&&!AA(He)&&!g6(rt,He);){var Et=He[B];if(Et){ke=Et===Q;break}rt.push(He),He=Pd(He)}try{ke&&(w[B]=ue),ue[m6]=1}catch{Te[ag]=!1}}}return ue}o(ZW,"_getInstFunc");function eH(w,B,R){var Q=B[w];return Q===R&&(Q=Pd(B)[w]),typeof Q!==ic&&CA("["+w+"] is not a "+ic),Q}o(eH,"_getProtoFunc");function tH(w,B,R,Q,ue){function Te(rt,Et){var yr=o(function(){var pn=ZW(this,Et,rt,yr)||eH(Et,rt,yr);return pn.apply(this,arguments)},"dynProtoProxy");return yr[cA]=1,yr}if(o(Te,"_createDynamicPrototype"),!gA(w)){var ke=R[sg]=R[sg]||rh(null);if(!gA(ke)){var He=ke[B]=ke[B]||rh(null);ke[ag]!==!1&&(ke[ag]=!!ue),gA(He)||of(R,function(rt){yA(R,rt,!1)&&R[rt]!==Q[rt]&&(He[rt]=R[rt],delete R[rt],(!ve(w,rt)||w[rt]&&!w[rt][cA])&&(w[rt]=Te(w,rt)))})}}}o(tH,"_populatePrototype");function rH(w,B){if(lg){for(var R=[],Q=Pd(B);Q&&!AA(Q)&&!g6(R,Q);){if(Q===w)return!0;R.push(Q),Q=Pd(Q)}return!1}return!0}o(rH,"_checkPrototype");function y6(w,B){return ve(w,nc)?w.name||B||h6:((w||{})[og]||{}).name||B||h6}o(y6,"_getObjName");function Gy(w,B,R,Q){ve(w,nc)||CA("theClass is an invalid class definition.");var ue=w[nc];rH(ue,B)||CA("["+y6(w)+"] not in hierarchy of ["+y6(B)+"]");var Te=null;ve(ue,fh)?Te=ue[fh]:(Te=uA+y6(w,"_")+"$"+CE.n,CE.n++,ue[fh]=Te);var ke=Gy[fA],He=!!ke[mA];He&&Q&&Q[mA]!==void 0&&(He=!!Q[mA]);var rt=EE(B),Et=A6(ue,B,rt,He);R(B,Et);var yr=!!lg&&!!ke[hA];yr&&Q&&(yr=!!Q[hA]),tH(ue,Te,B,rt,yr!==!1)}o(Gy,"dynamicProto"),Gy[fA]=CE.o;var Sl=void 0,vs="",xS="Not dynamic - ",bS=/-([a-z])/g,Wy=/([^\w\d_$])/g,C6=/^(\d+[\w\d_$])/;function E6(w){return!O(w)}o(E6,"isNotNullOrUndefined");function xE(w){var B=w;return B&&J(B)&&(B=B[lA](bS,function(R,Q){return Q.toUpperCase()}),B=B[lA](Wy,"_"),B=B[lA](C6,function(R,Q){return"_"+Q})),B}o(xE,"normalizeJsName");function vS(w,B){return w&&B?Hr(w,B)!==-1:!1}o(vS,"strContains");function Nd(w){return w&&w.toISOString()||""}o(Nd,"toISOString");function dh(w){return ce(w)?w[Oy]:vs}o(dh,"getExceptionName");function Hy(w){return function(){function B(){var R=this;w&&Je(w,function(Q,ue){R[Q]=ue})}return o(B,"class_1"),B}()}o(Hy,"createClassFromInterface");var IS="console",bE="JSON",nH="crypto",mh="msCrypto",EA="msie",Ln="trident/",xA=null,cg=null,Fd=null;function vE(){return typeof console!==JW?console:L(IS)}o(vE,"getConsole");function Pi(){return!!(typeof JSON===ES&&JSON||L(bE)!==null)}o(Pi,"hasJSON");function bA(){return Pi()?JSON||L(bE):null}o(bA,"getJSON");function $s(){return L(nH)}o($s,"getCrypto");function vA(){return L(mh)}o(vA,"getMsCrypto");function Vy(){var w=Pt();if(w&&(w[yS]!==cg||xA===null)){cg=w[yS];var B=(cg||vs)[Qy]();xA=vS(B,EA)||vS(B,Ln)}return xA}o(Vy,"isIE");function hh(w){return(Fd===null||w===!1)&&(Fd=Ut()&&!!Pt().sendBeacon),Fd}o(hh,"isBeaconsSupported");function jy(w,B){if(w)for(var R=0;R<w[da];R++){var Q=w[R];if(Q[Oy]&&Q[Oy]===B)return Q}return{}}o(jy,"_getNamedValue");function IE(w){var B=Ie();return B&&w?jy(B.querySelectorAll("meta"),w).content:null}o(IE,"findMetaTag");function sf(w){var B,R=Fy();if(R){var Q=R.getEntriesByType("navigation")||[];B=jy((Q[da]>0?Q[0]:{}).serverTiming,w).description}return B}o(sf,"findNamedServerTiming");var IA=4294967296,Yc=4294967295,TA=123456789,ph=987654321,tl=!1,wA=TA,af=ph;function TS(w){w<0&&(w>>>=0),wA=TA+w&Yc,af=ph-w&Yc,tl=!0}o(TS,"_mwcSeed");function ug(){try{var w=eg()&2147483647;TS((Math.random()*IA^w)+w)}catch{}}o(ug,"_autoSeedMwc");function TE(w){return w>0?ih(_A()/Yc*(w+1))>>>0:0}o(TE,"randomValue");function _A(w){var B=0,R=$s()||vA();return R&&R.getRandomValues&&(B=R.getRandomValues(new Uint32Array(1))[0]&Yc),B===0&&Vy()&&(tl||ug(),B=wS()&Yc),B===0&&(B=ih(IA*Math.random()|0)),w||(B>>>=0),B}o(_A,"random32");function wS(w){af=36969*(af&65535)+(af>>16)&Yc,wA=18e3*(wA&65535)+(wA>>16)&Yc;var B=(af<<16)+(wA&65535)>>>0&Yc|0;return w||(B>>>=0),B}o(wS,"mwcRandom32");function fg(w){w===void 0&&(w=22);for(var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=_A()>>>0,Q=0,ue=vs;ue[da]<w;)Q++,ue+=B.charAt(R&63),R>>>=6,Q===5&&(R=(_A()<<2&4294967295|R&3)>>>0,Q=0);return ue}o(fg,"newId");var lf="3.3.6",wE="."+fg(6),dg=0;function cf(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(cf,"_canAcceptData");function _E(w,B){var R=B[w.id];if(!R){R={};try{cf(B)&&ie(B,w.id,{e:!1,v:R})}catch{}}return R}o(_E,"_getCache");function Ld(w,B){return B===void 0&&(B=!1),xE(w+dg+++(B?"."+lf:vs)+wE)}o(Ld,"createUniqueNamespace");function uf(w){var B={id:Ld("_aiData-"+(w||vs)+"."+lf),accept:o(function(R){return cf(R)},"accept"),get:o(function(R,Q,ue,Te){var ke=R[B.id];return ke?ke[xE(Q)]:(Te&&(ke=_E(B,R),ke[xE(Q)]=ue),ue)},"get"),kill:o(function(R,Q){if(R&&R[Q])try{delete R[Q]}catch{}},"kill")};return B}o(uf,"createElmNodeData");function gh(w){return w&&Z(w)&&(w.isVal||w.fb||Ue(w,"v")||Ue(w,"mrg")||Ue(w,"ref")||w.set)}o(gh,"_isConfigDefaults");function SE(w,B,R){var Q,ue=R.dfVal||j;if(B&&R.fb){var Te=R.fb;ae(Te)||(Te=[Te]);for(var ke=0;ke<Te[da];ke++){var He=Te[ke],rt=B[He];if(ue(rt)?Q=rt:w&&(rt=w.cfg[He],ue(rt)&&(Q=rt),w.set(w.cfg,Ge(He),rt)),ue(Q))break}}return!ue(Q)&&ue(R.v)&&(Q=R.v),Q}o(SE,"_getDefault");function Ah(w,B,R){var Q=R;if(R&&gh(R)&&(Q=SE(w,B,R)),Q){gh(Q)&&(Q=Ah(w,B,Q));var ue;ae(Q)?(ue=[],ue[da]=Q[da]):oh(Q)&&(ue={}),ue&&(Je(Q,function(Te,ke){ke&&gh(ke)&&(ke=Ah(w,B,ke)),ue[Te]=ke}),Q=ue)}return Q}o(Ah,"_resolveDefaultValue");function yh(w,B,R,Q){var ue,Te,ke,He=Q,rt,Et,yr,pn;gh(He)?(ue=He.isVal,Te=He.set,yr=He.rdOnly,pn=He.blkVal,rt=He.mrg,Et=He.ref,!Et&&ne(Et)&&(Et=!!rt),ke=SE(w,B,He)):ke=Q,pn&&w.blkVal(B,R);var kn,br=!0,kr=B[R];(kr||!O(kr))&&(kn=kr,br=!1,ue&&kn!==ke&&!ue(kn)&&(kn=ke,br=!0),Te&&(kn=Te(kn,ke,B),br=kn===ke)),br?ke?kn=Ah(w,B,ke):kn=ke:(oh(kn)||ae(ke))&&rt&&ke&&(oh(ke)||ae(ke))&&Je(ke,function(Sn,gn){yh(w,kn,Sn,gn)}),w.set(B,R,kn),Et&&w.ref(B,R),yr&&w.rdOnly(B,R)}o(yh,"_applyDefaultValue");var Bl=Do("[[ai_dynCfg_1]]"),x6=Do("[[ai_blkDynCfg_1]]"),$y=Do("[[ai_frcDynCfg_1]]");function b6(w){if(w){var B;if(ae(w)?(B=[],B[da]=w[da]):oh(w)&&(B={}),B)return Je(w,function(R,Q){B[R]=b6(Q)}),B}return w}o(b6,"_cfgDeepCopy");function v6(w){if(w){var B=w[Bl]||w;if(B.cfg&&(B.cfg===w||B.cfg[Bl]===B))return B}return null}o(v6,"getDynamicConfigHandler");function SA(w){if(w&&(oh(w)||ae(w)))try{w[x6]=!0}catch{}return w}o(SA,"blockDynamicConversion");function Ch(w,B,R){var Q=!1;return R&&!w[B.blkVal]&&(Q=R[$y],!Q&&!R[x6]&&(Q=oh(R)||ae(R))),Q}o(Ch,"_canMakeDynamic");function Kc(w){_e("InvalidAccess:"+w)}o(Kc,"throwInvalidAccess");var _S=["push","pop","shift","unshift","splice"],Qd=o(function(w,B,R,Q){w&&w[My](3,108,"".concat(R," [").concat(B,"] failed - ")+ee(Q))},"_throwDynamicError");function I6(w,B,R){ae(B)&&el(_S,function(Q){var ue=B[Q];B[Q]=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];var He=ue[zW](this,Te);return mg(w,B,R,"Patching"),He}})}o(I6,"_patchArray");function Md(w,B){var R=Re(w,B);return R&&R.get}o(Md,"_getOwnPropGetter");function SS(w,B,R,Q){var ue={n:R,h:[],trk:o(function(Et){Et&&Et.fn&&(kd(ue.h,Et)===-1&&ue.h[Di](Et),w.trk(Et,ue))},"trk"),clr:o(function(Et){var yr=kd(ue.h,Et);yr!==-1&&ue.h[ng](yr,1)},"clr")},Te=!0,ke=!1;function He(){Te&&(ke=ke||Ch(He,w,Q),Q&&!Q[Bl]&&ke&&(Q=mg(w,Q,R,"Converting")),Te=!1);var Et=w.act;return Et&&ue.trk(Et),Q}o(He,"_getProperty"),He[w.prop]={chng:o(function(){w.add(ue)},"chng")};function rt(Et){if(Q!==Et){He[w.ro]&&!w.upd&&Kc("["+R+"] is read-only:"+ee(B)),Te&&(ke=ke||Ch(He,w,Q),Te=!1);var yr=ke&&He[w.rf];if(ke)if(yr){Je(Q,function(kn){Q[kn]=Et?Et[kn]:Sl});try{Je(Et,function(kn,br){BA(w,Q,kn,br)}),Et=Q}catch(kn){Qd((w.hdlr||{})[lh],R,"Assigning",kn),ke=!1}}else Q&&Q[Bl]&&Je(Q,function(kn){var br=Md(Q,kn);if(br){var kr=br[w.prop];kr&&kr.chng()}});if(Et!==Q){var pn=Et&&Ch(He,w,Et);!yr&&pn&&(Et=mg(w,Et,R,"Converting")),Q=Et,ke=pn}w.add(ue)}}o(rt,"_setProperty"),ie(B,ue.n,{g:He,s:rt})}o(SS,"_createDynamicProperty");function BA(w,B,R,Q){if(B){var ue=Md(B,R),Te=ue&&!!ue[w.prop];Te?B[R]=Q:SS(w,B,R,Q)}return B}o(BA,"_setDynamicProperty");function T6(w,B,R,Q){if(B){var ue=Md(B,R),Te=ue&&!!ue[w.prop],ke=Q&&Q[0],He=Q&&Q[1],rt=Q&&Q[2];if(!Te){if(rt)try{SA(B)}catch(Et){Qd((w.hdlr||{})[lh],R,"Blocking",Et)}try{BA(w,B,R,B[R]),ue=Md(B,R)}catch(Et){Qd((w.hdlr||{})[lh],R,"State",Et)}}ke&&(ue[w.rf]=ke),He&&(ue[w.ro]=He),rt&&(ue[w.blkVal]=!0)}return B}o(T6,"_setDynamicPropertyState");function mg(w,B,R,Q){try{Je(B,function(ue,Te){BA(w,B,ue,Te)}),B[Bl]||(ot(B,Bl,{get:o(function(){return w.hdlr},"get")}),I6(w,B,R))}catch(ue){Qd((w.hdlr||{})[lh],R,Q,ue)}return B}o(mg,"_makeDynamicObject");var hg="[[ai_",oc="]]";function BS(w){var B=ar(hg+"get"+w.uid+oc),R=ar(hg+"ro"+w.uid+oc),Q=ar(hg+"rf"+w.uid+oc),ue=ar(hg+"blkVal"+w.uid+oc),Te=ar(hg+"dtl"+w.uid+oc),ke=null,He=null,rt;function Et(br,kr){var Sn=rt.act;try{rt.act=br,br&&br[Te]&&(el(br[Te],function(ni){ni.clr(br)}),br[Te]=[]),kr({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(ni){var gn=w[lh];throw gn&&gn[My](1,107,ee(ni)),ni}finally{rt.act=Sn||null}}o(Et,"_useHandler");function yr(){if(ke){var br=ke;ke=null,He&&He[a6](),He=null;var kr=[];if(el(br,function(Sn){if(Sn&&(Sn[Te]&&(el(Sn[Te],function(gn){gn.clr(Sn)}),Sn[Te]=null),Sn.fn))try{Et(Sn,Sn.fn)}catch(gn){kr[Di](gn)}}),ke)try{yr()}catch(Sn){kr[Di](Sn)}kr[da]>0&&YW("Watcher error(s): ",kr)}}o(yr,"_notifyWatchers");function pn(br){if(br&&br.h[da]>0){ke||(ke=[]),He||(He=s6(function(){He=null,yr()},0));for(var kr=0;kr<br.h[da];kr++){var Sn=br.h[kr];Sn&&kd(ke,Sn)===-1&&ke[Di](Sn)}}}o(pn,"_addWatcher");function kn(br,kr){if(br){var Sn=br[Te]=br[Te]||[];kd(Sn,kr)===-1&&Sn[Di](kr)}}return o(kn,"_trackHandler"),rt={prop:B,ro:R,rf:Q,blkVal:ue,hdlr:w,add:pn,notify:yr,use:Et,trk:kn},rt}o(BS,"_createState");function iH(w,B){var R={fn:B,rm:o(function(){R.fn=null,w=null,B=null},"rm")};return ie(R,"toJSON",{v:o(function(){return"WatcherHandler"+(R.fn?"":"[X]")},"v")}),w.use(R,B),R}o(iH,"_createAndUseHandler");function kS(w,B,R){var Q=v6(B);if(Q)return Q;var ue=Ld("dyncfg",!0),Te=B&&R!==!1?B:b6(B),ke;function He(){ke.notify()}o(He,"_notifyWatchers");function rt(gn,ni,Hi){try{gn=BA(ke,gn,ni,Hi)}catch(Ei){Qd(w,ni,"Setting value",Ei)}return gn[ni]}o(rt,"_setValue");function Et(gn){return iH(ke,gn)}o(Et,"_watch");function yr(gn,ni){ke.use(null,function(Hi){var Ei=ke.upd;try{ne(ni)||(ke.upd=ni),gn(Hi)}finally{ke.upd=Ei}})}o(yr,"_block");function pn(gn,ni){var Hi;return T6(ke,gn,ni,(Hi={},Hi[0]=!0,Hi))[ni]}o(pn,"_ref");function kn(gn,ni){var Hi;return T6(ke,gn,ni,(Hi={},Hi[1]=!0,Hi))[ni]}o(kn,"_rdOnly");function br(gn,ni){var Hi;return T6(ke,gn,ni,(Hi={},Hi[2]=!0,Hi))[ni]}o(br,"_blkPropValue");function kr(gn,ni){return ni&&Je(ni,function(Hi,Ei){yh(Sn,gn,Hi,Ei)}),gn}o(kr,"_applyDefaults");var Sn={uid:null,cfg:Te,logger:w,notify:He,set:rt,setDf:kr,watch:Et,ref:pn,rdOnly:kn,blkVal:br,_block:yr};return ie(Sn,"uid",{c:!1,e:!1,w:!1,v:ue}),ke=BS(Sn),mg(ke,Te,"config","Creating"),Sn}o(kS,"_createDynamicHandler");function RS(w,B){w?(w[ah](B),w[My](2,108,B)):Kc(B)}o(RS,"_logInvalidAccess");function zy(w,B,R,Q){var ue=kS(R,w||{},Q);return B&&ue.setDf(ue.cfg,B),ue}o(zy,"createDynamicConfig");function DS(w,B,R){var Q=w[Bl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Bl]===Q)?Q[pS](B):(RS(R,xS+ee(w)),zy(w,null,R)[pS](B))}o(DS,"onConfigChange");var BE=null;function PS(){var w=L("Microsoft");return w&&(BE=w.ApplicationInsights),BE}o(PS,"_getExtensionNamespace");function oH(w){var B=BE;return!B&&w.disableDbgExt!==!0&&(B=BE||PS()),B?B.ChromeDbgExt:null}o(oH,"getDebugExt");var kA,kE="warnToConsole",NS="AI (Internal): ",LS="AI: ",sH="AITR_",aH={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},QS=(kA={},kA[0]=null,kA[1]="errorToConsole",kA[2]=kE,kA[3]="debugToConsole",kA);function MS(w){return w?'"'+w[lA](/\"/g,vs)+'"':vs}o(MS,"_sanitizeDiagnosticText");function RE(w,B){var R=vE();if(R){var Q="log";R[w]&&(Q=w),le(R[Q])&&R[Q](B)}}o(RE,"_logToConsole");var DE=function(){function w(B,R,Q,ue){Q===void 0&&(Q=!1);var Te=this;Te[l6]=B,Te[ig]=(Q?LS:NS)+B;var ke=vs;Pi()&&(ke=bA().stringify(ue));var He=(R?" message:"+MS(R):vs)+(ue?" props:"+MS(ke):vs);Te[ig]+=He}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function lH(w,B){return(w||{})[lh]||new PE(B)}o(lH,"safeGetLogger");var PE=function(){function w(B){this.identifier="DiagnosticLogger",this.queue=[];var R=0,Q={},ue,Te,ke,He,rt;Gy(w,this,function(Et){rt=pn(B||{}),Et.consoleLoggingLevel=function(){return ue},Et[My]=function(kr,Sn,gn,ni,Hi){Hi===void 0&&(Hi=!1);var Ei=new DE(Sn,gn,Hi,ni);if(He)throw ee(Ei);var ma=QS[kr]||kE;if(ne(Ei[ig]))br("throw"+(kr===1?"Critical":"Warning"),Ei);else{if(Hi){var a2=+Ei[l6];!Q[a2]&&ue>=kr&&(Et[ma](Ei[ig]),Q[a2]=!0)}else ue>=kr&&Et[ma](Ei[ig]);yr(kr,Ei)}},Et.debugToConsole=function(kr){RE("debug",kr),br("warning",kr)},Et[ah]=function(kr){RE("warn",kr),br("warning",kr)},Et.errorToConsole=function(kr){RE("error",kr),br("error",kr)},Et.resetInternalMessageCount=function(){R=0,Q={}},Et.logInternalMessage=yr,Et[w0]=function(kr){rt&&rt.rm(),rt=null};function yr(kr,Sn){if(!kn()){var gn=!0,ni=sH+Sn[l6];if(Q[ni]?gn=!1:Q[ni]=!0,gn&&(kr<=Te&&(Et.queue[Di](Sn),R++,br(kr===1?"error":"warn",Sn)),R===ke)){var Hi="Internal events throttle limit per PageView reached for this app.",Ei=new DE(23,Hi,!1);Et.queue[Di](Ei),kr===1?Et.errorToConsole(Hi):Et[ah](Hi)}}}o(yr,"_logInternalMessage");function pn(kr){return DS(zy(kr,aH,Et).cfg,function(Sn){var gn=Sn.cfg;ue=gn[AS],Te=gn.loggingLevelTelemetry,ke=gn.maxMessageLimit,He=gn.enableDebug})}o(pn,"_setDefaultsFromConfig");function kn(){return R>=ke}o(kn,"_areInternalMessagesThrottled");function br(kr,Sn){var gn=oH(B||{});gn&&gn[c6]&&gn[c6](kr,Sn)}o(br,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function NE(w){return w||new PE}o(NE,"_getLogger");function _0(w,B,R,Q,ue,Te){Te===void 0&&(Te=!1),NE(w)[My](B,R,Q,ue,Te)}o(_0,"_throwInternal");function FE(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],B=vs,R,Q=0;Q<4;Q++)R=_A(),B+=w[R&15]+w[R>>4&15]+w[R>>8&15]+w[R>>12&15]+w[R>>16&15]+w[R>>20&15]+w[R>>24&15]+w[R>>28&15];var ue=w[8+(_A()&3)|0];return wt(B,0,8)+wt(B,9,4)+"4"+wt(B,13,3)+ue+wt(B,16,3)+wt(B,19,12)}o(FE,"generateW3CId");var RA=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,w6="00",sc="ff",ri="00000000000000000000000000000000",Od="0000000000000000",zs=1;function Jc(w,B,R){return w&&w[da]===B&&w!==R?!!w.match(/^[\da-f]*$/i):!1}o(Jc,"_isValid");function LE(w,B,R){return Jc(w,B)?w:R}o(LE,"_formatValue");function pg(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var B=w.toString(16);B[da]<2;)B="0"+B;return B}o(pg,"_formatFlags");function DA(w,B,R,Q){return{version:Jc(Q,2,sc)?Q:w6,traceId:PA(w)?w:FE(),spanId:NA(B)?B:Gt(FE(),16),traceFlags:R>=0&&R<=255?R:1}}o(DA,"createTraceParent");function ac(w,B){if(!w||(ae(w)&&(w=w[0]||""),!w||!J(w)||w[da]>8192))return null;if(w.indexOf(",")!==-1){var R=w[u6](",");w=R[B>0&&R[da]>B?B:0]}var Q=RA.exec(Xl(w));return!Q||Q[1]===sc||Q[2]===ri||Q[3]===Od?null:{version:(Q[1]||vs)[Qy](),traceId:(Q[2]||vs)[Qy](),spanId:(Q[3]||vs)[Qy](),traceFlags:parseInt(Q[4],16)}}o(ac,"parseTraceParent");function PA(w){return Jc(w,32,ri)}o(PA,"isValidTraceId");function NA(w){return Jc(w,16,Od)}o(NA,"isValidSpanId");function FA(w){return!(!w||!Jc(w[gS],2,sc)||!Jc(w.traceId,32,ri)||!Jc(w.spanId,16,Od)||!Jc(pg(w[uE]),2))}o(FA,"isValidTraceParent");function QE(w){return FA(w)?(w[uE]&zs)===zs:!1}o(QE,"isSampledFlag");function gg(w){if(w){var B=pg(w[uE]);Jc(B,2)||(B="01");var R=w[gS]||w6;return R!=="00"&&R!=="ff"&&(R=w6),"".concat(R.toLowerCase(),"-").concat(LE(w.traceId,32,ri).toLowerCase(),"-").concat(LE(w.spanId,16,Od).toLowerCase(),"-").concat(B.toLowerCase())}return""}o(gg,"formatTraceParent");function _6(w){var B="traceparent",R=ac(IE(B),w);return R||(R=ac(sf(B),w)),R}o(_6,"findW3cTraceParent");function S6(w){var B=w.getElementsByTagName("script"),R=[];return el(B,function(Q){var ue=Q[f6]("src");if(ue){var Te=Q[f6]("crossorigin"),ke=Q.hasAttribute("async")===!0,He=Q.hasAttribute("defer")===!0,rt=Q[f6]("referrerpolicy"),Et={url:ue};Te&&(Et.crossOrigin=Te),ke&&(Et.async=ke),He&&(Et.defer=He),rt&&(Et.referrerPolicy=rt),R[Di](Et)}}),R}o(S6,"findAllScripts");var ME="on",Yy="attachEvent",OE="addEventListener",UE="detachEvent",OS="removeEventListener",B6="events";Ld("aiEvtPageHide"),Ld("aiEvtPageShow");var cH=/\.[\.]+/g,uH=/[\.]+$/,qE=1,LA=uf("events"),rl=/^([^.]*)(?:\.(.+)|)/;function Ky(w){return w&&w[lA]?w[lA](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,vs):w}o(Ky,"_normalizeNamespace");function qa(w,B){if(B){var R=vs;ae(B)?(R=vs,el(B,function(ue){ue=Ky(ue),ue&&(ue[0]!=="."&&(ue="."+ue),R+=ue)})):R=Ky(B),R&&(R[0]!=="."&&(R="."+R),w=(w||vs)+R)}var Q=rl.exec(w||vs)||[];return{type:Q[1],ns:(Q[2]||vs).replace(cH,".").replace(uH,vs)[u6](".").sort().join(".")}}o(qa,"_getEvtNamespace");function Eh(w,B,R){R===void 0&&(R=!0);var Q=LA.get(w,B6,{},R),ue=Q[B];return ue||(ue=Q[B]=[]),ue}o(Eh,"_getRegisteredEvents");function US(w,B,R,Q){w&&B&&B[ch]&&(w[OS]?w[OS](B[ch],R,Q):w[UE]&&w[UE](ME+B[ch],R))}o(US,"_doDetach");function fH(w,B,R,Q){var ue=!1;return w&&B&&B[ch]&&R&&(w[OE]?(w[OE](B[ch],R,Q),ue=!0):w[Yy]&&(w[Yy](ME+B[ch],R),ue=!0)),ue}o(fH,"_doAttach");function Jy(w,B,R,Q){for(var ue=B[da];ue--;){var Te=B[ue];Te&&(!R.ns||R.ns===Te[CS].ns)&&(!Q||Q(Te))&&(US(w,Te[CS],Te.handler,Te.capture),B[ng](ue,1))}}o(Jy,"_doUnregister");function k6(w,B,R){if(B[ch])Jy(w,Eh(w,B[ch]),B,R);else{var Q=LA.get(w,B6,{});Je(Q,function(ue,Te){Jy(w,Te,B,R)}),yt(Q)[da]===0&&LA.kill(w,B6)}}o(k6,"_unregisterEvents");function dH(w,B){var R;return B?(ae(B)?R=[w].concat(B):R=[w,B],R=qa("xx",R).ns[u6](".")):R=w,R}o(dH,"mergeEvtNamespace");function R6(w,B,R,Q,ue){ue===void 0&&(ue=!1);var Te=!1;if(w)try{var ke=qa(B,Q);if(Te=fH(w,ke,R,ue),Te&&LA.accept(w)){var He={guid:qE++,evtName:ke,handler:R,capture:ue};Eh(w,ke.type)[Di](He)}}catch{}return Te}o(R6,"eventOn");function qS(w,B,R,Q,ue){if(ue===void 0&&(ue=!1),w)try{var Te=qa(B,Q),ke=!1;k6(w,Te,function(He){return Te.ns&&!R||He.handler===R?(ke=!0,!0):!1}),ke||US(w,Te,R,ue)}catch{}}o(qS,"eventOff");var GE="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",GS="sampleRate",WE="ProcessLegacy",WS="http.method",D6="https://dc.services.visualstudio.com",Xy="/v2/track",ff="not_specified",P6="iKey",HS=$W({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),xh="split",hn="length",QA="toLowerCase",Ag="ingestionendpoint",yg="toString",N6="removeItem",Zy="message",MA="count",HE="preTriggerDate",F6="getUTCDate",VE="stringify",OA="pathname",Cg="match",L6="correlationHeaderExcludePatterns",lc="name",UA="extensionConfig",df="properties",Zl="measurements",qA="sizeInBytes",e3="typeName",GA="exceptions",t3="severityLevel",WA="problemGroup",S0="parsedStack",jE="hasFullStack",$E="assembly",Xc="fileName",HA="line",bh="aiDataContract",r3="duration";function Q6(w,B,R){var Q=B[hn],ue=M6(w,B);if(ue[hn]!==Q){for(var Te=0,ke=ue;R[ke]!==void 0;)Te++,ke=St(ue,0,147)+VS(Te);ue=ke}return ue}o(Q6,"dataSanitizeKeyAndAddUniqueness");function M6(w,B){var R;return B&&(B=Xl(Ge(B)),B[hn]>150&&(R=St(B,0,150),_0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:B},!0))),R||B}o(M6,"dataSanitizeKey");function Ga(w,B,R){R===void 0&&(R=1024);var Q;return B&&(R=R||1024,B=Xl(Ge(B)),B[hn]>R&&(Q=St(B,0,R),_0(w,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:B},!0))),Q||B}o(Ga,"dataSanitizeString");function mf(w,B){return U6(w,B,2048,66)}o(mf,"dataSanitizeUrl");function zE(w,B){var R;return B&&B[hn]>32768&&(R=St(B,0,32768),_0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:B},!0)),R||B}o(zE,"dataSanitizeMessage");function O6(w,B){var R;if(B){var Q=""+B;Q[hn]>32768&&(R=St(Q,0,32768),_0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:B},!0))}return R||B}o(O6,"dataSanitizeException");function Ud(w,B){if(B){var R={};Je(B,function(Q,ue){if(Z(ue)&&Pi())try{ue=bA()[VE](ue)}catch(Te){_0(w,2,49,"custom property is not valid",{exception:Te},!0)}ue=Ga(w,ue,8192),Q=Q6(w,Q,R),R[Q]=ue}),B=R}return B}o(Ud,"dataSanitizeProperties");function cc(w,B){if(B){var R={};Je(B,function(Q,ue){Q=Q6(w,Q,R),R[Q]=ue}),B=R}return B}o(cc,"dataSanitizeMeasurements");function VA(w,B){return B&&U6(w,B,128,69)[yg]()}o(VA,"dataSanitizeId");function U6(w,B,R,Q){var ue;return B&&(B=Xl(Ge(B)),B[hn]>R&&(ue=St(B,0,R),_0(w,2,Q,"input is too long, it has been truncated to "+R+" characters.",{data:B},!0))),ue||B}o(U6,"dataSanitizeInput");function VS(w){var B="00"+w;return wt(B,B[hn]-3)}o(VS,"dsPadNumber");var q6=Ie()||{},jS=0,mH=[null,null,null,null,null];function jA(w){var B=jS,R=mH,Q=R[B];return q6.createElement?R[B]||(Q=R[B]=q6.createElement("a")):Q={host:zS(w,!0)},Q.href=w,B++,B>=R[hn]&&(B=0),jS=B,Q}o(jA,"urlParseUrl");function hH(w){var B,R=jA(w);return R&&(B=R.href),B}o(hH,"urlGetAbsoluteUrl");function pH(w){var B,R=jA(w);return R&&(B=R[OA]),B}o(pH,"urlGetPathName");function $S(w,B){return w?w.toUpperCase()+" "+B:B}o($S,"urlGetCompleteUrl");function zS(w,B){var R=qd(w,B)||"";if(R){var Q=R[Cg](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[hn]>3&&J(Q[2])&&Q[2][hn]>0)return Q[2]+(Q[3]||"")}return R}o(zS,"urlParseHost");function qd(w,B){var R=null;if(w){var Q=w[Cg](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[hn]>2&&J(Q[2])&&Q[2][hn]>0&&(R=Q[2]||"",B&&Q[hn]>2)){var ue=(Q[1]||"")[QA](),Te=Q[3]||"";(ue==="http"&&Te===":80"||ue==="https"&&Te===":443")&&(Te=""),R+=Te}}return R}o(qd,"urlParseFullHost");var YS=[D6+Xy,"https://breeze.aimon.applicationinsights.io"+Xy,"https://dc-int.services.visualstudio.com"+Xy],$A="cid-v1:";function KS(w){return kd(YS,w[QA]())!==-1}o(KS,"isInternalApplicationInsightsEndpoint");function G6(w){$A=w}o(G6,"correlationIdSetPrefix");function W6(){return $A}o(W6,"correlationIdGetPrefix");function vh(w,B,R){if(!B||w&&w.disableCorrelationHeaders)return!1;if(w&&w[L6]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[hn];Q++)if(w[L6][Q].test(B))return!1}var ue=jA(B).host[QA]();if(ue&&(Hr(ue,":443")!==-1||Hr(ue,":80")!==-1)&&(ue=(qd(B,!0)||"")[QA]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==R)return!1;var Te=w&&w.correlationHeaderDomains;if(Te){var ke;if(el(Te,function(Et){var yr=new RegExp(Et.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ke=ke||yr.test(ue)}),!ke)return!1}var He=w&&w.correlationHeaderExcludedDomains;if(!He||He[hn]===0)return!0;for(var Q=0;Q<He[hn];Q++){var rt=new RegExp(He[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(rt.test(ue))return!1}return ue&&ue[hn]>0}o(vh,"correlationIdCanIncludeCorrelationHeader");function JS(w){if(w){var B=XS(w,HS[1]);if(B&&B!==$A)return B}}o(JS,"correlationIdGetCorrelationContext");function XS(w,B){if(w)for(var R=w[xh](","),Q=0;Q<R[hn];++Q){var ue=R[Q][xh]("=");if(ue[hn]===2&&ue[0]===B)return ue[1]}}o(XS,"correlationIdGetCorrelationContextValue");function ZS(w,B,R,Q){var ue,Te=Q,ke=Q;if(B&&B[hn]>0){var He=jA(B);if(ue=He.host,!Te)if(He[OA]!=null){var rt=He.pathname[hn]===0?"/":He[OA];rt.charAt(0)!=="/"&&(rt="/"+rt),ke=He[OA],Te=Ga(w,R?R+" "+rt:rt)}else Te=Ga(w,B)}else ue=Q,Te=Q;return{target:ue,name:Te,data:ke}}o(ZS,"AjaxHelperParseDependencyPath");function gH(){var w=Fy();if(w&&w.now&&w.timing){var B=w.now()+w.timing.navigationStart;if(B>0)return B}return eg()}o(gH,"dateTimeUtilsNow");function AH(w,B){var R=null;return w!==0&&B!==0&&!O(w)&&!O(B)&&(R=B-w),R}o(AH,"dateTimeUtilsDuration");function H6(w,B){var R=w||{};return{getName:o(function(){return R[lc]},"getName"),setName:o(function(Q){B&&B.setName(Q),R[lc]=Q},"setName"),getTraceId:o(function(){return R.traceID},"getTraceId"),setTraceId:o(function(Q){B&&B.setTraceId(Q),PA(Q)&&(R.traceID=Q)},"setTraceId"),getSpanId:o(function(){return R.parentID},"getSpanId"),setSpanId:o(function(Q){B&&B.setSpanId(Q),NA(Q)&&(R.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return R.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){B&&B.setTraceFlags(Q),R.traceFlags=Q},"setTraceFlags")}}o(H6,"createDistributedTraceContextFromTrace");var zA=Ly({LocalStorage:0,SessionStorage:1}),yH=Ly({AI:0,AI_AND_W3C:1,W3C:2}),n3=Ly({Normal:1,Critical:2}),Ih=void 0,Zc=void 0,eB="";function YA(){return YE()?KA(zA.LocalStorage):null}o(YA,"_getLocalStorageObject");function KA(w){try{if(O(Y()))return null;var B=new Date()[yg](),R=L(w===zA.LocalStorage?"localStorage":"sessionStorage"),Q=eB+B;R.setItem(Q,B);var ue=R.getItem(Q)!==B;if(R[N6](Q),!ue)return R}catch{}return null}o(KA,"_getVerifiedStorageObject");function JA(){return Gd()?KA(zA.SessionStorage):null}o(JA,"_getSessionStorageObject");function i3(){Ih=!1,Zc=!1}o(i3,"utlDisableStorage");function o3(w){eB=w||""}o(o3,"utlSetStoragePrefix");function CH(){Ih=YE(!0),Zc=Gd(!0)}o(CH,"utlEnableStorage");function YE(w){return(w||Ih===void 0)&&(Ih=!!KA(zA.LocalStorage)),Ih}o(YE,"utlCanUseLocalStorage");function tB(w,B){var R=YA();if(R!==null)try{return R.getItem(B)}catch(Q){Ih=!1,_0(w,2,1,"Browser failed read of local storage. "+dh(Q),{exception:ee(Q)})}return null}o(tB,"utlGetLocalStorage");function rB(w,B,R){var Q=YA();if(Q!==null)try{return Q.setItem(B,R),!0}catch(ue){Ih=!1,_0(w,2,3,"Browser failed write to local storage. "+dh(ue),{exception:ee(ue)})}return!1}o(rB,"utlSetLocalStorage");function uc(w,B){var R=YA();if(R!==null)try{return R[N6](B),!0}catch(Q){Ih=!1,_0(w,2,5,"Browser failed removal of local storage item. "+dh(Q),{exception:ee(Q)})}return!1}o(uc,"utlRemoveStorage");function Gd(w){return(w||Zc===void 0)&&(Zc=!!KA(zA.SessionStorage)),Zc}o(Gd,"utlCanUseSessionStorage");function XA(){var w=[];return Gd()&&Je(L("sessionStorage"),function(B){w.push(B)}),w}o(XA,"utlGetSessionStorageKeys");function nB(w,B){var R=JA();if(R!==null)try{return R.getItem(B)}catch(Q){Zc=!1,_0(w,2,2,"Browser failed read of session storage. "+dh(Q),{exception:ee(Q)})}return null}o(nB,"utlGetSessionStorage");function EH(w,B,R){var Q=JA();if(Q!==null)try{return Q.setItem(B,R),!0}catch(ue){Zc=!1,_0(w,2,4,"Browser failed write to session storage. "+dh(ue),{exception:ee(ue)})}return!1}o(EH,"utlSetSessionStorage");function iB(w,B){var R=JA();if(R!==null)try{return R[N6](B),!0}catch(Q){Zc=!1,_0(w,2,6,"Browser failed removal of session storage item. "+dh(Q),{exception:ee(Q)})}return!1}o(iB,"utlRemoveSessionStorage");var xH="appInsightsThrottle",bH=function(){function w(B,R){var Q=this,ue,Te,ke,He,rt,Et,yr,pn=!1,kn=!1;kr(),Q._getDbgPlgTargets=function(){return[yr]},Q.getConfig=function(){return ke},Q.canThrottle=function(Nt){var Qr=i9(Nt),en=Sn(Nt);return Hi(en,ue,Qr)},Q.isTriggered=function(Nt){return xB(Nt)},Q.isReady=function(){return pn},Q.flush=function(Nt){try{var Qr=bB(Nt);if(Qr&&Qr[hn]>0){var en=Qr.slice(0);return yr[Nt]=[],el(en,function(Eo){br(Eo.msgID,Eo[Zy],Eo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(yr){var Nt=!0;return Je(yr,function(Qr){var en=Q.flush(parseInt(Qr));Nt=Nt&&en}),Nt}}catch{}return!1},Q.onReadyState=function(Nt,Qr){return Qr===void 0&&(Qr=!0),pn=O(Nt)?!0:Nt,pn&&Qr?Q.flushAll():null},Q.sendMessage=function(Nt,Qr,en){return br(Nt,Qr,en,!0)};function br(Nt,Qr,en,Eo){if(pn){var ha=UH(Nt);if(!ha)return;var Is=Sn(Nt),pa=i9(Nt),xg=Hi(Is,ue,pa),Bh=!1,l2=0,vB=xB(Nt);try{xg&&!vB?(l2=Ft(Is.limit.maxSendNumber,pa[MA]+1),pa[MA]=0,Bh=!0,rt[Nt]=!0,pa[HE]=new Date):(rt[Nt]=xg,pa[MA]+=1);var IB=Ei(Nt);n9(Te,IB,pa);for(var cx=0;cx<l2;cx++)EB(Nt,Te,Qr,en)}catch{}return{isThrottled:Bh,throttleNum:l2}}else if(Eo){var qH=bB(Nt);qH.push({msgID:Nt,message:Qr,severity:en})}return null}o(br,"_flushMessage");function kr(){Te=lH(B),rt={},He={},yr={},ke={},gn(109),Et=E6(R)?R:"",B.addUnloadHook(DS(B.config,function(Nt){var Qr=Nt.cfg;ue=YE();var en=Qr.throttleMgrCfg||{};Je(en,function(Eo,ha){gn(parseInt(Eo),ha)})}))}o(kr,"_initConfig");function Sn(Nt){return ke[Nt]||ke[109]}o(Sn,"_getCfgByKey");function gn(Nt,Qr){var en,Eo;try{var ha=Qr||{},Is={};Is.disabled=!!ha.disabled;var pa=ha.interval||{};kn=pa?.daysOfMonth&&pa?.daysOfMonth[hn]>0,Is.interval=ni(pa);var xg={samplingRate:((en=ha.limit)===null||en===void 0?void 0:en.samplingRate)||100,maxSendNumber:((Eo=ha.limit)===null||Eo===void 0?void 0:Eo.maxSendNumber)||1};Is.limit=xg,ke[Nt]=Is}catch{}}o(gn,"_setCfgByKey");function ni(Nt){Nt=Nt||{};var Qr=Nt?.monthInterval,en=Nt?.dayInterval;return O(Qr)&&O(en)&&(Nt.monthInterval=3,kn||(Nt.daysOfMonth=[28],kn=!0)),Nt={monthInterval:Nt?.monthInterval,dayInterval:Nt?.dayInterval,daysOfMonth:Nt?.daysOfMonth},Nt}o(ni,"_getIntervalConfig");function Hi(Nt,Qr,en){if(Nt&&!Nt.disabled&&Qr&&E6(en)){var Eo=m3(),ha=en.date,Is=Nt.interval,pa=1;if(Is?.monthInterval){var xg=(Eo.getUTCFullYear()-ha.getUTCFullYear())*12+Eo.getUTCMonth()-ha.getUTCMonth();pa=lx(Is.monthInterval,0,xg)}var Bh=1;if(kn)Bh=kd(Is.daysOfMonth,Eo[F6]());else if(Is?.dayInterval){var l2=ih((Eo.getTime()-ha.getTime())/864e5);Bh=lx(Is.dayInterval,0,l2)}return pa>=0&&Bh>=0}return!1}o(Hi,"_canThrottle");function Ei(Nt,Qr){var en=E6(Qr)?Qr:"";return Nt?xH+en+"-"+Nt:null}o(Ei,"_getLocalStorageName");function ma(Nt){try{if(Nt){var Qr=new Date;return Nt.getUTCFullYear()===Qr.getUTCFullYear()&&Nt.getUTCMonth()===Qr.getUTCMonth()&&Nt[F6]()===Qr[F6]()}}catch{}return!1}o(ma,"_isTriggeredOnCurDate");function a2(Nt,Qr,en){try{var Eo={date:m3(),count:0};if(Nt){var ha=JSON.parse(Nt),Is={date:m3(ha.date)||Eo.date,count:ha[MA]||Eo[MA],preTriggerDate:ha.preTriggerDate?m3(ha[HE]):void 0};return Is}else return n9(Qr,en,Eo),Eo}catch{}return null}o(a2,"_getLocalStorageObj");function m3(Nt){try{if(Nt){var Qr=new Date(Nt);if(!isNaN(Qr.getDate()))return Qr}else return new Date}catch{}return null}o(m3,"_getThrottleDate");function n9(Nt,Qr,en){try{return rB(Nt,Qr,Xl(JSON[VE](en)))}catch{}return!1}o(n9,"_resetLocalStorage");function lx(Nt,Qr,en){return Nt<=0?1:en>=Qr&&(en-Qr)%Nt==0?ih((en-Qr)/Nt)+1:-1}o(lx,"_checkInterval");function EB(Nt,Qr,en,Eo){_0(Qr,Eo||1,Nt,en)}o(EB,"_sendMessage");function UH(Nt){try{var Qr=Sn(Nt);return TE(1e6)<=Qr.limit.samplingRate}catch{}return!1}o(UH,"_canSampledIn");function i9(Nt){try{var Qr=He[Nt];if(!Qr){var en=Ei(Nt,Et);Qr=a2(tB(Te,en),Te,en),He[Nt]=Qr}return He[Nt]}catch{}return null}o(i9,"_getLocalStorageObjByKey");function xB(Nt){var Qr=rt[Nt];if(O(Qr)){Qr=!1;var en=i9(Nt);en&&(Qr=ma(en[HE])),rt[Nt]=Qr}return rt[Nt]}o(xB,"_isTrigger");function bB(Nt){return yr=yr||{},O(yr[Nt])&&(yr[Nt]=[]),yr[Nt]}o(bB,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),V6=";",hf="=";function KE(w){if(!w)return{};var B=w[xh](V6),R=Ps(B,function(ue,Te){var ke=Te[xh](hf);if(ke[hn]===2){var He=ke[0][QA](),rt=ke[1];ue[He]=rt}return ue},{});if(yt(R)[hn]>0){if(R.endpointsuffix){var Q=R.location?R.location+".":"";R[Ag]=R[Ag]||"https://"+Q+"dc."+R.endpointsuffix}R[Ag]=R[Ag]||D6,oA(R[Ag],"/")&&(R[Ag]=R[Ag].slice(0,-1))}return R}o(KE,"parseConnectionString");var JE={parse:KE},XE=function(){function w(B,R,Q){var ue=this,Te=this;Te.ver=1,Te.sampleRate=100,Te.tags={},Te[lc]=Ga(B,Q)||ff,Te.data=R,Te.time=Nd(new Date),Te[bh]={time:1,iKey:1,name:1,sampleRate:o(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),vH=function(){function w(B,R,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Te=this;Te.ver=2,Te[lc]=Ga(B,R)||ff,Te[df]=Ud(B,Q),Te[Zl]=cc(B,ue)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),IH=58,oB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,TH=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,ZA=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,sB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,wH=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,_H=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,SH=/([^\(\s\n]+):([0-9]+)$/,aB="<no_method>",e2="error",B0="stack",s3="stackDetails",ZE="errorSrc",a3="message",l3="description",j6=[{re:TH,len:5,m:1,fn:2,ln:3,col:4},{chk:ex,pre:Dr,re:ZA,len:4,m:1,fn:2,ln:3},{re:sB,len:3,m:1,fn:2,hdl:z6},{re:wH,len:2,fn:1,hdl:z6}];function Dr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Dr,"_scrubAnonymous");function ex(w){return Hr(w,"[native")<0}o(ex,"_ignoreNative");function c3(w,B){var R=w;return R&&!J(R)&&(JSON&&JSON[VE]?(R=JSON[VE](w),B&&(!R||R==="{}")&&(le(w[yg])?R=w[yg]():R=""+w)):R=""+w+" - (Missing JSON.stringify)"),R||""}o(c3,"_stringify");function Th(w,B){var R=w;return w&&(R&&!J(R)&&(R=w[a3]||w[l3]||R),R&&!J(R)&&(R=c3(R,!0)),w.filename&&(R=R+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),B&&B!=="String"&&B!=="Object"&&B!=="Error"&&Hr(R||"",B)===-1&&(R=B+": "+R),R||""}o(Th,"_formatMessage");function lB(w){try{if(Z(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(lB,"_isExceptionDetailsInternal");function cB(w){try{if(Z(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(cB,"_isExceptionInternal");function tx(w){return w&&w.src&&J(w.src)&&w.obj&&ae(w.obj)}o(tx,"_isStackDetails");function Wd(w){var B=w||"";J(B)||(J(B[B0])?B=B[B0]:B=""+B);var R=B[xh](`
`);return{src:B,obj:R}}o(Wd,"_convertStackObj");function uB(w){for(var B=[],R=w[xh](`
`),Q=0;Q<R[hn];Q++){var ue=R[Q];R[Q+1]&&(ue+="@"+R[Q+1],Q++),B.push(ue)}return{src:w,obj:B}}o(uB,"_getOperaStack");function rx(w){var B=null;if(w)try{if(w[B0])B=Wd(w[B0]);else if(w[e2]&&w[e2][B0])B=Wd(w[e2][B0]);else if(w.exception&&w.exception[B0])B=Wd(w.exception[B0]);else if(tx(w))B=w;else if(tx(w[s3]))B=w[s3];else if(Ct()&&Ct().opera&&w[a3])B=uB(w[Zy]);else if(w.reason&&w.reason[B0])B=Wd(w.reason[B0]);else if(J(w))B=Wd(w);else{var R=w[a3]||w[l3]||"";J(w[ZE])&&(R&&(R+=`
`),R+=" from "+w[ZE]),R&&(B=Wd(R))}}catch(Q){B=Wd(Q)}return B||{src:"",obj:null}}o(rx,"_getStackFromErrorObj");function fB(w){var B="";return w&&(w.obj?B=w.obj.join(`
`):B=w.src||""),B}o(fB,"_formatStackTrace");function nx(w){var B,R=w.obj;if(R&&R[hn]>0){B=[];var Q=0,ue=!1,Te=0;el(R,function(Sn){if(ue||BH(Sn)){var gn=Ge(Sn);ue=!0;var ni=kH(gn,Q);ni&&(Te+=ni[qA],B.push(ni),Q++)}});var ke=32*1024;if(Te>ke)for(var He=0,rt=B[hn]-1,Et=0,yr=He,pn=rt;He<rt;){var kn=B[He][qA],br=B[rt][qA];if(Et+=kn+br,Et>ke){var kr=pn-yr+1;B.splice(yr,kr);break}yr=He,pn=rt,He++,rt--}}return B}o(nx,"_parseStack");function t2(w){var B="";if(w&&(B=w.typeName||w[lc]||"",!B))try{var R=/function (.{1,200})\(/,Q=R.exec(w.constructor[yg]());B=Q&&Q[hn]>1?Q[1]:""}catch{}return B}o(t2,"_getErrorType");function ix(w){if(w)try{if(!J(w)){var B=t2(w),R=c3(w,!1);return(!R||R==="{}")&&(w[e2]&&(w=w[e2],B=t2(w)),R=c3(w,!0)),Hr(R,B)!==0&&B!=="String"?B+":"+R:R}}catch{}return""+(w||"")}o(ix,"_formatErrorCode");var pf=function(){function w(B,R,Q,ue,Te,ke){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var He=this;He.ver=2,cB(R)?(He[GA]=R[GA]||[],He[df]=R[df],He[Zl]=R[Zl],R[t3]&&(He[t3]=R[t3]),R.id&&(He.id=R.id,R[df].id=R.id),R[WA]&&(He[WA]=R[WA]),O(R.isManual)||(He.isManual=R.isManual)):(Q||(Q={}),ke&&(Q.id=ke),He[GA]=[hB(B,R,Q)],He[df]=Ud(B,Q),He[Zl]=cc(B,ue),Te&&(He[t3]=Te),ke&&(He.id=ke))}return o(w,"Exception"),w.CreateAutoException=function(B,R,Q,ue,Te,ke,He,rt){var Et=t2(Te||ke||B);return{message:Th(B,Et),url:R,lineNumber:Q,columnNumber:ue,error:ix(Te||ke||B),evt:ix(ke||B),typeName:Et,stackDetails:rx(He||Te||ke),errorSrc:rt}},w.CreateFromInterface=function(B,R,Q,ue){var Te=R[GA]&&nf(R[GA],function(He){return $6(B,He)}),ke=new w(B,hE(hE({},R),{exceptions:Te}),Q,ue);return ke},w.prototype.toInterface=function(){var B=this,R=B.exceptions,Q=B.properties,ue=B.measurements,Te=B.severityLevel,ke=B.problemGroup,He=B.id,rt=B.isManual,Et=R instanceof Array&&nf(R,function(yr){return yr.toInterface()})||void 0;return{ver:"4.0",exceptions:Et,severityLevel:Te,properties:Q,measurements:ue,problemGroup:ke,id:He,isManual:rt}},w.CreateSimpleException=function(B,R,Q,ue,Te,ke){var He;return{exceptions:[(He={},He[jE]=!0,He.message=B,He.stack=Te,He.typeName=R,He)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=ix,w}(),dB=Rt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function mB(){var w=this,B=ae(w[S0])&&nf(w[S0],function(Q){return gB(Q)}),R={id:w.id,outerId:w.outerId,typeName:w[e3],message:w[Zy],hasFullStack:w[jE],stack:w[B0],parsedStack:B||void 0};return R}o(mB,"_toInterface");function hB(w,B,R){var Q,ue,Te,ke,He,rt,Et,yr;if(lB(B))ke=B[e3],He=B[Zy],Et=B[B0],yr=B[S0]||[],rt=B[jE];else{var pn=B,kn=pn&&pn.evt;ce(pn)||(pn=pn[e2]||kn||pn),ke=Ga(w,t2(pn))||ff,He=zE(w,Th(B||pn,ke))||ff;var br=B[s3]||rx(B);yr=nx(br),ae(yr)&&nf(yr,function(kr){kr[$E]=Ga(w,kr[$E]),kr[Xc]=Ga(w,kr[Xc])}),Et=O6(w,fB(br)),rt=ae(yr)&&yr[hn]>0,R&&(R[e3]=R[e3]||ke)}return Q={},Q[bh]=dB,Q.id=ue,Q.outerId=Te,Q.typeName=ke,Q.message=He,Q[jE]=rt,Q.stack=Et,Q.parsedStack=yr,Q.toInterface=mB,Q}o(hB,"_createExceptionDetails");function $6(w,B){var R=ae(B[S0])&&nf(B[S0],function(ue){return pB(ue)})||B[S0],Q=hB(w,hE(hE({},B),{parsedStack:R}));return Q}o($6,"_createExDetailsFromInterface");function u3(w,B){var R=B[Cg](_H);if(R&&R[hn]>=4)w[Xc]=R[1],w[HA]=parseInt(R[2]);else{var Q=B[Cg](SH);Q&&Q[hn]>=3?(w[Xc]=Q[1],w[HA]=parseInt(Q[2])):w[Xc]=B}}o(u3,"_parseFilename");function z6(w,B,R){var Q=w[Xc];B.fn&&R&&R[hn]>B.fn&&(B.ln&&R[hn]>B.ln?(Q=Xl(R[B.fn]||""),w[HA]=parseInt(Xl(R[B.ln]||""))||0):Q=Xl(R[B.fn]||"")),Q&&u3(w,Q)}o(z6,"_handleFilename");function BH(w){var B=!1;if(w&&J(w)){var R=Xl(w);R&&(B=oB.test(R))}return B}o(BH,"_isStackFrame");var Y6=Rt({level:1,method:1,assembly:0,fileName:0,line:0});function kH(w,B){var R,Q;if(w&&J(w)&&Xl(w)){Q=(R={},R[bh]=Y6,R.level=B,R.assembly=Xl(w),R.method=aB,R.fileName="",R.line=0,R.sizeInBytes=0,R);for(var ue=0;ue<j6[hn];){var Te=j6[ue];if(Te.chk&&!Te.chk(w))break;Te.pre&&(w=Te.pre(w));var ke=w[Cg](Te.re);if(ke&&ke[hn]>=Te.len){Te.m&&(Q.method=Xl(ke[Te.m]||aB)),Te.hdl?Te.hdl(Q,Te,ke):Te.fn&&(Te.ln?(Q[Xc]=Xl(ke[Te.fn]||""),Q[HA]=parseInt(Xl(ke[Te.ln]||""))||0):u3(Q,ke[Te.fn]||""));break}ue++}}return K6(Q)}o(kH,"_extractStackFrame");function pB(w){var B,R=(B={},B[bh]=Y6,B.level=w.level,B.method=w.method,B.assembly=w[$E],B.fileName=w[Xc],B.line=w[HA],B.sizeInBytes=0,B);return K6(R)}o(pB,"_stackFrameFromInterface");function K6(w){var B=IH;return w&&(B+=w.method[hn],B+=w.assembly[hn],B+=w.fileName[hn],B+=w.level.toString()[hn],B+=w.line.toString()[hn],w[qA]=B),w}o(K6,"_populateFrameSizeInBytes");function gB(w){return{level:w.level,method:w.method,assembly:w[$E],fileName:w[Xc],line:w[HA]}}o(gB,"_parsedFrameToInterface");var AB=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),RH=function(){function w(B,R,Q,ue,Te,ke,He,rt,Et){this.aiDataContract={ver:1,metrics:1,properties:0};var yr=this;yr.ver=2;var pn=new AB;pn[MA]=ue>0?ue:void 0,pn.max=isNaN(ke)||ke===null?void 0:ke,pn.min=isNaN(Te)||Te===null?void 0:Te,pn[lc]=Ga(B,R)||ff,pn.value=Q,pn.stdDev=isNaN(He)||He===null?void 0:He,yr.metrics=[pn],yr[df]=Ud(B,rt),yr[Zl]=cc(B,Et)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),r2="";function DH(w,B){return B===void 0&&(B=!1),w==null?B:w.toString()[QA]()==="true"}o(DH,"stringToBoolOrDefault");function J6(w){(isNaN(w)||w<0)&&(w=0),w=o6(w);var B=r2+w%1e3,R=r2+ih(w/1e3)%60,Q=r2+ih(w/(1e3*60))%60,ue=r2+ih(w/(1e3*60*60))%24,Te=ih(w/(1e3*60*60*24));return B=B[hn]===1?"00"+B:B[hn]===2?"0"+B:B,R=R[hn]<2?"0"+R:R,Q=Q[hn]<2?"0"+Q:Q,ue=ue[hn]<2?"0"+ue:ue,(Te>0?Te+".":r2)+ue+":"+Q+":"+R+"."+B}o(J6,"msToTimeSpan");function PH(w,B){var R=null;return el(w,function(Q){if(Q.identifier===B)return R=Q,-1}),R}o(PH,"getExtensionByName");function wh(w,B,R,Q,ue){return!ue&&J(w)&&(w==="Script error."||w==="Script error")}o(wh,"isCrossOriginError");var NH=function(){function w(B,R,Q,ue,Te,ke,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var rt=this;rt.ver=2,rt.id=VA(B,He),rt.url=mf(B,Q),rt[lc]=Ga(B,R)||ff,isNaN(ue)||(rt[r3]=J6(ue)),rt[df]=Ud(B,Te),rt[Zl]=cc(B,ke)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),n2=function(){function w(B,R,Q,ue,Te,ke,He,rt,Et,yr,pn,kn){Et===void 0&&(Et="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var br=this;br.ver=2,br.id=R,br[r3]=J6(Te),br.success=ke,br.resultCode=He+"",br.type=Ga(B,Et);var kr=ZS(B,Q,rt,ue);br.data=mf(B,ue)||kr.data,br.target=Ga(B,kr.target),yr&&(br.target="".concat(br.target," | ").concat(yr)),br[lc]=Ga(B,kr[lc]),br[df]=Ud(B,pn),br[Zl]=cc(B,kn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),X6=function(){function w(B,R,Q,ue,Te){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ke=this;ke.ver=2,R=R||ff,ke[Zy]=zE(B,R),ke[df]=Ud(B,ue),ke[Zl]=cc(B,Te),Q&&(ke[t3]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),f3=function(){function w(B,R,Q,ue,Te,ke,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var rt=this;rt.ver=2,rt.url=mf(B,Q),rt[lc]=Ga(B,R)||ff,rt[df]=Ud(B,Te),rt[Zl]=cc(B,ke),He&&(rt.domProcessing=He.domProcessing,rt[r3]=He[r3],rt.networkConnect=He.networkConnect,rt.perfTotal=He.perfTotal,rt.receivedResponse=He.receivedResponse,rt.sentRequest=He.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),FH=function(){function w(B,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=B,this.baseData=R}return o(w,"Data"),w}(),ox=Ly({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),LH=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(B,R,Q,ue){ue===void 0&&(ue=!1);var Te;return Q&&B[UA]&&B[UA][Q]&&!O(B[UA][Q][R])?Te=B[UA][Q][R]:Te=B[R],O(Te)?ue:Te},w}();function gf(w){var B="ai."+w+".";return function(R){return B+R}}o(gf,"_aiNameFunc");var i2=gf("application"),Ys=gf("device"),sx=gf("location"),o2=gf("operation"),ax=gf("session"),_h=gf("user"),Eg=gf("cloud"),d3=gf("internal"),Sh=function(w){uh(B,w);function B(){return w.call(this)||this}return o(B,"ContextTagKeys"),B}(Hy({applicationVersion:i2("ver"),applicationBuild:i2("build"),applicationTypeId:i2("typeId"),applicationId:i2("applicationId"),applicationLayer:i2("layer"),deviceId:Ys("id"),deviceIp:Ys("ip"),deviceLanguage:Ys("language"),deviceLocale:Ys("locale"),deviceModel:Ys("model"),deviceFriendlyName:Ys("friendlyName"),deviceNetwork:Ys("network"),deviceNetworkName:Ys("networkName"),deviceOEMName:Ys("oemName"),deviceOS:Ys("os"),deviceOSVersion:Ys("osVersion"),deviceRoleInstance:Ys("roleInstance"),deviceRoleName:Ys("roleName"),deviceScreenResolution:Ys("screenResolution"),deviceType:Ys("type"),deviceMachineName:Ys("machineName"),deviceVMName:Ys("vmName"),deviceBrowser:Ys("browser"),deviceBrowserVersion:Ys("browserVersion"),locationIp:sx("ip"),locationCountry:sx("country"),locationProvince:sx("province"),locationCity:sx("city"),operationId:o2("id"),operationName:o2("name"),operationParentId:o2("parentId"),operationRootId:o2("rootId"),operationSyntheticSource:o2("syntheticSource"),operationCorrelationVector:o2("correlationVector"),sessionId:ax("id"),sessionIsFirst:ax("isFirst"),sessionIsNew:ax("isNew"),userAccountAcquisitionDate:_h("accountAcquisitionDate"),userAccountId:_h("accountId"),userAgent:_h("userAgent"),userId:_h("id"),userStoreRegion:_h("storeRegion"),userAuthUserId:_h("authUserId"),userAnonymousUserAcquisitionDate:_h("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:_h("authUserAcquisitionDate"),cloudName:Eg("name"),cloudRole:Eg("role"),cloudRoleVer:Eg("roleVer"),cloudRoleInstance:Eg("roleInstance"),cloudEnvironment:Eg("environment"),cloudLocation:Eg("location"),cloudDeploymentUnit:Eg("deploymentUnit"),internalNodeName:d3("nodeName"),internalSdkVersion:d3("sdkVersion"),internalAgentVersion:d3("agentVersion"),internalSnippet:d3("snippet"),internalSdkSrc:d3("sdkSrc")}));function Z6(w,B,R,Q,ue,Te){R=Ga(Q,R)||ff,(O(w)||O(B)||O(R))&&Fe("Input doesn't contain all required fields");var ke="";w[P6]&&(ke=w[P6],delete w[P6]);var He={name:R,time:Nd(new Date),iKey:ke,ext:Te||{},tags:[],data:{},baseType:B,baseData:w};return O(ue)||Je(ue,function(rt,Et){He.data[rt]=Et}),He}o(Z6,"createTelemetryItem");var e9=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=Z6,w}(),QH={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},MH=new Sh;function yB(w){var B=null;if(le(Event))B=new Event(w);else{var R=Ie();R&&R.createEvent&&(B=R.createEvent("Event"),B.initEvent(w,!0,!0))}return B}o(yB,"createDomEvent");function t9(w,B){qS(w,null,null,B)}o(t9,"_disableEvents");function CB(w){var B=Ie(),R=Pt(),Q=!1,ue=[],Te=1;R&&!O(R.onLine)&&!R.onLine&&(Te=2);var ke=0,He=kn(),rt=dH(Ld("OfflineListener"),w);try{if(yr(Ct())&&(Q=!0),B){var Et=B.body||B;Et.ononline&&yr(Et)&&(Q=!0)}}catch{Q=!1}function yr(Ei){var ma=!1;return Ei&&(ma=R6(Ei,"online",Sn,rt),ma&&R6(Ei,"offline",gn,rt)),ma}o(yr,"_enableEvents");function pn(){return He}o(pn,"_isOnline");function kn(){return!(ke===2||Te===2)}o(kn,"calCurrentState");function br(){var Ei=kn();He!==Ei&&(He=Ei,el(ue,function(ma){var a2={isOnline:He,rState:Te,uState:ke};try{ma(a2)}catch{}}))}o(br,"listnerNoticeCheck");function kr(Ei){ke=Ei,br()}o(kr,"setOnlineState");function Sn(){Te=1,br()}o(Sn,"_setOnline");function gn(){Te=2,br()}o(gn,"_setOffline");function ni(){var Ei=Ct();if(Ei&&Q){if(t9(Ei,rt),B){var ma=B.body||B;ne(ma.ononline)||t9(ma,rt)}Q=!1}}o(ni,"_unload");function Hi(Ei){return ue.push(Ei),{rm:o(function(){var ma=ue.indexOf(Ei);if(ma>-1)return ue.splice(ma,1)},"rm")}}return o(Hi,"addListener"),{isOnline:pn,isListening:o(function(){return Q},"isListening"),unload:ni,addListener:Hi,setOnlineState:kr}}o(CB,"createOfflineListener");var OH="AppInsightsPropertiesPlugin",r9="AppInsightsChannelPlugin",s2="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=s2,e.BreezeChannelIdentifier=r9,e.ConfigurationManager=LH,e.ConnectionStringParser=JE,e.ContextTagKeys=Sh,e.CtxTagKeys=MH,e.DEFAULT_BREEZE_ENDPOINT=D6,e.DEFAULT_BREEZE_PATH=Xy,e.Data=FH,e.DisabledPropertyName=GE,e.DistributedTracingModes=yH,e.Envelope=XE,e.Event=vH,e.EventPersistence=n3,e.Exception=pf,e.Extensions=QH,e.HttpMethod=WS,e.Metric=RH,e.PageView=NH,e.PageViewPerformance=f3,e.ProcessLegacy=WE,e.PropertiesPluginIdentifier=OH,e.RemoteDependencyData=n2,e.RequestHeaders=HS,e.SampleRate=GS,e.SeverityLevel=ox,e.TelemetryItemCreator=e9,e.ThrottleMgr=bH,e.Trace=X6,e.correlationIdCanIncludeCorrelationHeader=vh,e.correlationIdGetCorrelationContext=JS,e.correlationIdGetCorrelationContextValue=XS,e.correlationIdGetPrefix=W6,e.correlationIdSetPrefix=G6,e.createDistributedTraceContextFromTrace=H6,e.createDomEvent=yB,e.createOfflineListener=CB,e.createTelemetryItem=Z6,e.createTraceParent=DA,e.dataSanitizeException=O6,e.dataSanitizeId=VA,e.dataSanitizeInput=U6,e.dataSanitizeKey=M6,e.dataSanitizeKeyAndAddUniqueness=Q6,e.dataSanitizeMeasurements=cc,e.dataSanitizeMessage=zE,e.dataSanitizeProperties=Ud,e.dataSanitizeString=Ga,e.dataSanitizeUrl=mf,e.dateTimeUtilsDuration=AH,e.dateTimeUtilsNow=gH,e.dsPadNumber=VS,e.findAllScripts=S6,e.findW3cTraceParent=_6,e.formatTraceParent=gg,e.getExtensionByName=PH,e.isBeaconApiSupported=hh,e.isCrossOriginError=wh,e.isInternalApplicationInsightsEndpoint=KS,e.isSampledFlag=QE,e.isValidSpanId=NA,e.isValidTraceId=PA,e.isValidTraceParent=FA,e.msToTimeSpan=J6,e.parseConnectionString=KE,e.parseTraceParent=ac,e.strNotSpecified=ff,e.stringToBoolOrDefault=DH,e.urlGetAbsoluteUrl=hH,e.urlGetCompleteUrl=$S,e.urlGetPathName=pH,e.urlParseFullHost=qd,e.urlParseHost=zS,e.urlParseUrl=jA,e.utlCanUseLocalStorage=YE,e.utlCanUseSessionStorage=Gd,e.utlDisableStorage=i3,e.utlEnableStorage=CH,e.utlGetLocalStorage=tB,e.utlGetSessionStorage=nB,e.utlGetSessionStorageKeys=XA,e.utlRemoveSessionStorage=iB,e.utlRemoveStorage=uc,e.utlSetLocalStorage=rB,e.utlSetSessionStorage=EH,e.utlSetStoragePrefix=o3})});var IAe=V((QD,vAe)=>{d();(function(e,t){typeof QD=="object"&&typeof vAe<"u"?t(QD):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(QD,function(e){"use strict";function t(g,y){return g||y}o(t,"_pureAssign");function r(g,y){return g[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",E="name",x="call",v="toString",b=t(Object),S=r(b,c),k=t(String),P=r(k,c),N=t(Math),W=t(Array),te=r(W,c),ge=r(te,"slice");function re(g,y){try{return{v:g.apply(this,y)}}catch(I){return{e:I}}}o(re,"safe");function G(g,y){var I=re(g);return I.e?y:I.v}o(G,"safeGet");var q;function se(g){return function(y){return typeof y===g}}o(se,"_createIs");function ne(g){var y="[object "+g+"]";return function(I){return!!(I&&H(I)===y)}}o(ne,"_createObjIs");function H(g){return S[v].call(g)}o(H,"objToString");function O(g){return typeof g===f||g===f}o(O,"isUndefined");function j(g){return!Z(g)}o(j,"isStrictUndefined");function J(g){return g===i||O(g)}o(J,"isNullOrUndefined");function le(g){return g===i||!Z(g)}o(le,"isStrictNullOrUndefined");function Z(g){return!!g||g!==n}o(Z,"isDefined");function ae(g){return!q&&(q=["string","number","boolean",f,"symbol","bigint"]),g!==l&&q.indexOf(g)!==-1}o(ae,"isPrimitiveType");var ce=se("string"),Re=se(a);function ve(g){return!g&&J(g)?!1:!!g&&typeof g===l}o(ve,"isObject");var Ue=r(W,"isArray"),Be=ne("Date"),Je=se("number"),ft=se("boolean"),it=ne("Error");function ot(g){return!!(g&&g.then&&Re(g.then))}o(ot,"isPromiseLike");function ie(g){return!(!g||G(function(){return!(g&&0+g)},!g))}o(ie,"isTruthy");var Pe=r(b,"getOwnPropertyDescriptor");function Ae(g,y){return!!g&&S.hasOwnProperty[x](g,y)}o(Ae,"objHasOwnProperty");var Ge=t(r(b,"hasOwn"),z);function z(g,y){return Ae(g,y)||!!Pe(g,y)}o(z,"polyObjHasOwn");function ee(g,y,I){if(g&&ve(g)){for(var _ in g)if(Ge(g,_)&&y[x](I||g,_,g[_])===-1)break}}o(ee,"objForEachKey");var Fe={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function _e(g){var y={};if(y[Fe.c]=!0,y[Fe.e]=!0,g.l){y.get=function(){return g.l.v};var I=Pe(g.l,"v");I&&I.set&&(y.set=function(_){g.l.v=_})}return ee(g,function(_,D){y[Fe[_]]=j(D)?y[Fe[_]]:D}),y}o(_e,"_createProp");var Ce=r(b,"defineProperty");function Oe(g,y,I){return Ce(g,y,_e(I))}o(Oe,"objDefine");function Ve(g,y,I,_,D){var F={};return ee(g,function(U,oe){Ze(F,U,y?oe:U),Ze(F,oe,I?oe:U)}),_?_(F):F}o(Ve,"_createKeyValueMap");function Ze(g,y,I,_){Ce(g,y,{value:I,enumerable:!0,writable:!1})}o(Ze,"_assignMapValue");var yt=t(k),Rt="[object Error]";function At(g,y){var I=s,_=S[v][x](g);_===Rt&&(g={stack:yt(g.stack),message:yt(g.message),name:yt(g.name)});try{I=JSON.stringify(g,i,y?typeof y=="number"?y:4:n),I=(I?I.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||yt(g)}catch(D){I=" - "+At(D,y)}return _+": "+I}o(At,"dumpObj");function Ht(g){throw new Error(g)}o(Ht,"throwError");function jt(g){throw new TypeError(g)}o(jt,"throwTypeError");var ir=r(b,"freeze");function pe(g){return g}o(pe,"_doNothing");function Le(g){return g[u]||i}o(Le,"_getProto");var Ke=r(b,"assign"),et=r(b,"keys");function _t(g){return ir&&ee(g,function(y,I){(Ue(I)||ve(I))&&_t(I)}),xt(g)}o(_t,"objDeepFreeze");var xt=t(ir,pe),Ft=t(r(b,"getPrototypeOf"),Le);function Qt(g){return Ve(g,1,0,xt)}o(Qt,"createEnum");function Tt(g){return Ve(g,0,0,xt)}o(Tt,"createEnumKeyMap");function St(g){var y={};return ee(g,function(I,_){Ze(y,I,_[1]),Ze(y,_[0],_[1])}),xt(y)}o(St,"createSimpleMap");function wt(g){return St(g)}o(wt,"createTypeMap");var Ot=Tt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Gt="__tsUtils$gblCfg",$t;function lr(){var g;return typeof globalThis!==f&&(g=globalThis),!g&&typeof self!==f&&(g=self),!g&&typeof window!==f&&(g=window),!g&&typeof global!==f&&(g=global),g}o(lr,"_getGlobalValue");function hr(){if(!$t){var g=re(lr).v||{};$t=g[Gt]=g[Gt]||{}}return $t}o(hr,"_getGlobalConfig");var sr=cr;function cr(g,y,I){var _=y?y[g]:i;return function(D){var F=(D?D[g]:i)||_;if(F||I){var U=arguments;return(F||I).apply(D,F?ge[x](U,1):U)}jt('"'+yt(g)+'" not defined for '+At(D))}}o(cr,"_unwrapFunctionWithPoly");function Jt(g){return function(y){return y[g]}}o(Jt,"_unwrapProp");var ur=r(N,"min"),be=r(N,"max"),M=sr("slice",P),de=sr("substring",P),ye=cr("substr",P,Y);function Y(g,y,I){return J(g)&&jt("Invalid "+At(g)),I<0?s:(y=y||0,y<0&&(y=be(y+g[A],0)),O(I)?M(g,y):M(g,y,y+I))}o(Y,"polyStrSubstr");function L(g,y){return de(g,0,y)}o(L,"strLeft");var Ie="_urid",Me;function Ct(){if(!Me){var g=hr();Me=g.gblSym=g.gblSym||{k:{},s:{}}}return Me}o(Ct,"_globalSymbolRegistry");var Ut;function Pt(g){var y={description:yt(g),toString:o(function(){return h+"("+g+")"},"toString")};return y[p]=!0,y}o(Pt,"polyNewSymbol");function tr(g){var y=Ct();if(!Ge(y.k,g)){var I=Pt(g),_=et(y.s).length;I[Ie]=function(){return _+"_"+I[v]()},y.k[g]=I,y.s[I[Ie]()]=yt(g)}return y.k[g]}o(tr,"polySymbolFor");function or(g){!Ut&&(Ut={});var y,I=Ot[g];return I&&(y=Ut[I]=Ut[I]||Pt(h+"."+I)),y}o(or,"polyGetKnownSymbol");var Mt;function vt(){Mt=hr()}o(vt,"_initTestHooks");function ar(g){var y={};return!Mt&&vt(),y.b=Mt.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var I=g();return Mt.lzy||Ce(y,"v",{value:I}),y.b=Mt.lzy,I},"get")}),y}o(ar,"getLazy");function Do(g){return Ce({toJSON:o(function(){return g},"toJSON")},"v",{value:g})}o(Do,"createCachedValue");var Bd="window",el;function kd(g,y){var I;return function(){return!Mt&&vt(),(!I||Mt.lzy)&&(I=Do(re(g,y).v)),I.v}}o(kd,"_getGlobalInstFn");function nf(g){return!Mt&&vt(),(!el||g===!1||Mt.lzy)&&(el=Do(re(lr).v||i)),el.v}o(nf,"getGlobal");function Ps(g,y){var I;if(!el||y===!1?I=nf(y):I=el.v,I&&I[g])return I[g];if(g===Bd)try{return window}catch{}return i}o(Ps,"getInst");function rh(){return!!iA()}o(rh,"hasDocument");var iA=kd(Ps,["document"]);function n6(){return!!Rd()}o(n6,"hasWindow");var Rd=kd(Ps,[Bd]);function GW(){return!!nh()}o(GW,"hasNavigator");var nh=kd(Ps,["navigator"]),WW=kd(function(){return!!re(function(){return process&&(process.versions||{}).node}).v}),eg,i6;function lE(){return eg=Do(re(Ps,[h]).v),eg}o(lE,"_initSymbol");function HW(g){var y=(Mt.lzy?0:eg)||lE();return y.v?y.v[g]:n}o(HW,"_getSymbolKey");function Xl(){return!!ih()}o(Xl,"hasSymbol");function ih(){return!Mt&&vt(),((Mt.lzy?0:eg)||lE()).v}o(ih,"getSymbol");function Py(g,y){var I=Ot[g];!Mt&&vt();var _=(Mt.lzy?0:eg)||lE();return _.v?_.v[I||g]:y?n:or(g)}o(Py,"getKnownSymbol");function tg(g,y){!Mt&&vt();var I=(Mt.lzy?0:eg)||lE();return I.v?I.v(g):y?i:Pt(g)}o(tg,"newSymbol");function Ny(g){return!Mt&&vt(),i6=(Mt.lzy?0:i6)||Do(re(HW,["for"]).v),(i6.v||tr)(g)}o(Ny,"symbolFor");function oh(g){return!!g&&Re(g.next)}o(oh,"isIterator");function cE(g){return!le(g)&&Re(g[Py(3)])}o(cE,"isIterable");var Fy;function o6(g,y,I){if(g&&(oh(g)||(!Fy&&(Fy=Do(Py(3))),g=g[Fy.v]?g[Fy.v]():i),oh(g))){var _=n,D=n;try{for(var F=0;!(D=g.next()).done&&y[x](I||g,D.value,F,g)!==-1;)F++}catch(U){_={e:U},g.throw&&(D=i,g.throw(_))}finally{try{D&&!D.done&&g.return&&g.return(D)}finally{if(_)throw _.e}}}}o(o6,"iterForOf");function oA(g,y,I){return g.apply(y,I)}o(oA,"fnApply");function sA(g,y){return!O(y)&&g&&(Ue(y)?oA(g.push,g,y):oh(y)||cE(y)?o6(y,function(I){g.push(I)}):g.push(y)),g}o(sA,"arrAppend");function Hr(g,y,I){if(g)for(var _=g[A]>>>0,D=0;D<_&&!(D in g&&y[x](I||g,g[D],D,g)===-1);D++);}o(Hr,"arrForEach");var T0=sr("indexOf",te),rg=sr("map",te);function aA(g,y,I){return((g?g.slice:i)||ge).apply(g,ge[x](arguments,1))}o(aA,"arrSlice");var VW=sr("reduce",te),sh=t(r(b,"create"),jW);function jW(g){if(!g)return{};var y=typeof g;y!==l&&y!==a&&jt("Prototype must be an Object or function: "+At(g));function I(){}return o(I,"tempFunc"),I[c]=g,new I}o(jW,"polyObjCreate");var s6;function Ly(g,y){var I=b.setPrototypeOf||function(_,D){var F;!s6&&(s6=Do((F={},F[u]=[],F instanceof Array))),s6.v?_[u]=D:ee(D,function(U,oe){return _[U]=oe})};return I(g,y)}o(Ly,"objSetPrototypeOf");function $W(g,y,I){re(Oe,[y,E,{v:g,c:!0,e:!1}]),y=Ly(y,I);function _(){this[m]=y,re(Oe,[this,E,{v:g,c:!0,e:!1}])}return o(_,"__"),y[c]=I===i?sh(I):(_[c]=I[c],new _),y}o($W,"_createCustomError");function Qy(g,y){y&&(g[E]=y)}o(Qy,"_setName");function da(g,y,I){var _=I||Error,D=_[c][E],F=Error.captureStackTrace;return $W(g,function(){var U=this,oe=arguments;try{re(Qy,[_,g]);var fe=oA(_,U,ge[x](oe))||U;if(fe!==U){var Ee=Ft(U);Ee!==Ft(fe)&&Ly(fe,Ee)}return F&&F(fe,U[m]),y&&y(fe,oe),fe}finally{re(Qy,[_,D])}},_)}o(da,"createCustomError");function ah(){return(Date.now||My)()}o(ah,"utcNow");function My(){return new Date().getTime()}o(My,"polyUtcNow");function pS(g){return o(function(I){return J(I)&&jt("strTrim called ["+At(I)+"]"),I&&I.replace&&(I=I.replace(g,s)),I},"_doTrim")}o(pS,"_createTrimFn");var zW=pS(/^\s+|(?=\s)\s+$/g),Di=cr("trim",P,zW),ng=r(N,"floor"),lh,a6,Oy;function w0(g){if(!g||typeof g!==l)return!1;Oy||(Oy=n6()?Rd():!0);var y=!1;if(g!==Oy){a6||(lh=Function[c][v],a6=lh[x](b));try{var I=Ft(g);y=!I,y||(Ae(I,m)&&(I=I[m]),y=!!(I&&typeof I===a&&lh[x](I)===a6))}catch{}}return y}o(w0,"isPlainObject");function gS(g){return g.value&&uE(g),!0}o(gS,"_defaultDeepCopyHandler");var AS=[lA,uE,CS,ch];function l6(g,y,I,_){var D;return Hr(g,function(F){if(F.k===y)return D=F,-1}),D||(D={k:y,v:y},g.push(D),_(D)),D.v}o(l6,"_getSetVisited");function ig(g,y,I,_){var D=I.handler,F=I.path?_?I.path.concat(_):I.path:[],U={handler:I.handler,src:I.src,path:F},oe=typeof y,fe=!1,Ee=y===i;Ee||(y&&oe===l?fe=w0(y):Ee=ae(oe));var Se={type:oe,isPrim:Ee,isPlain:fe,value:y,result:y,path:F,origin:I.src,copy:o(function(qe,Xe){return ig(g,qe,Xe?U:I,Xe)},"copy"),copyTo:o(function(qe,Xe){return c6(g,qe,Xe,U)},"copyTo")};return Se.isPrim?D&&D[x](I,Se)?Se.result:y:l6(g,y,F,function(qe){Oe(Se,"result",{g:o(function(){return qe.v},"g"),s:o(function(ze){qe.v=ze},"s")});for(var Xe=0,We=D;!(We||(Xe<AS.length?AS[Xe++]:gS))[x](I,Se);)We=i})}o(ig,"_deepCopy");function c6(g,y,I,_){if(!J(I))for(var D in I)y[D]=ig(g,I[D],_,D);return y}o(c6,"_copyProps");function yS(g,y,I){var _={handler:I,src:y,path:[]};return c6([],g,y,_)}o(yS,"objCopyProps");function u6(g,y){var I={handler:y,src:g};return ig([],g,I)}o(u6,"objDeepCopy");function lA(g){var y=g.value;if(Ue(y)){var I=g.result=[];return I.length=y.length,g.copyTo(I,y),!0}return!1}o(lA,"arrayDeepCopyHandler");function ch(g){var y=g.value;return Be(y)?(g.result=new Date(y.getTime()),!0):!1}o(ch,"dateDeepCopyHandler");function CS(g){return g.type===a}o(CS,"functionDeepCopyHandler");function uE(g){var y=g.value;if(y&&g.isPlain){var I=g.result={};return g.copyTo(I,y),!0}return!1}o(uE,"plainObjDeepCopyHandler");function f6(g,y){return Hr(y,function(I){yS(g,I)}),g}o(f6,"_doExtend");function fE(g,y,I,_,D,F,U){return f6(u6(g)||{},ge[x](arguments))}o(fE,"deepExtend");var YW=Jt(A),KW=r(N,"round"),ES=cr("endsWith",P,JW);function JW(g,y,I){ce(g)||jt("'"+At(g)+"' is not a string");var _=ce(y)?y:yt(y),D=!O(I)&&I<g[A]?I:g[A];return de(g,D-_[A],D)===_}o(JW,"polyStrEndsWith");var Dd=sr("indexOf",P),dE="ref",d6="unref",mE="hasRef",XW="enabled";function hE(g,y,I){var _=!0,D=g?y(i):i,F;function U(){return _=!1,D&&D[d6]&&D[d6](),F}o(U,"_unref");function oe(){D&&I(D),D=i}o(oe,"_cancel");function fe(){return D=y(D),_||U(),F}o(fe,"_refresh");function Ee(Se){!Se&&D&&oe(),Se&&!D&&fe()}return o(Ee,"_setEnabled"),F={cancel:oe,refresh:fe},F[mE]=function(){return D&&D[mE]?D[mE]():_},F[dE]=function(){return _=!0,D&&D[dE]&&D[dE](),F},F[d6]=U,F=Ce(F,XW,{get:o(function(){return!!D},"get"),set:Ee}),{h:F,dn:o(function(){D=i},"dn")}}o(hE,"_createTimerHandler");function pE(g,y,I){var _=Ue(y),D=_?y.length:0,F=(D>0?y[0]:_?n:y)||setTimeout,U=(D>1?y[1]:n)||clearTimeout,oe=I[0];I[0]=function(){fe.dn(),oA(oe,n,ge[x](arguments))};var fe=hE(g,function(Ee){if(Ee){if(Ee.refresh)return Ee.refresh(),Ee;oA(U,n,[Ee])}return oA(F,n,I)},function(Ee){oA(U,n,[Ee])});return fe.h}o(pE,"_createTimeoutWith");function uh(g,y){return pE(!0,n,ge[x](arguments))}o(uh,"scheduleTimeout");function gE(g,y){return pE(!1,n,ge[x](arguments))}o(gE,"createTimeout");var og,nc="constructor",ic="prototype",sg="function",cA="_dynInstFuncs",fh="_isDynProxy",uA="_dynClass",m6="_dynCls$",ag="_dynInstChk",fA=ag,h6="_dfOpts",AE="_unknown_",dA="__proto__",Uy="_dyn"+dA,yE="__dynProto$Gbl",mA="_dynInstProto",hA="useBaseInst",qy="setInstFuncs",lg=Object,pA=lg.getPrototypeOf,p6=lg.getOwnPropertyNames,CE=nf(),gA=CE[yE]||(CE[yE]={o:(og={},og[qy]=!0,og[hA]=!0,og),n:1e3});function AA(g){return g&&(g===lg[ic]||g===Array[ic])}o(AA,"_isObjectOrArrayPrototype");function Pd(g){return AA(g)||g===Function[ic]}o(Pd,"_isObjectArrayOrFunctionPrototype");function of(g){var y;if(g){if(pA)return pA(g);var I=g[dA]||g[ic]||(g[nc]?g[nc][ic]:null);y=g[Uy]||I,Ae(g,Uy)||(delete g[mA],y=g[Uy]=g[mA]||g[Uy],g[mA]=I)}return y}o(of,"_getObjProto");function yA(g,y){var I=[];if(p6)I=p6(g);else for(var _ in g)typeof _=="string"&&Ae(g,_)&&I.push(_);if(I&&I.length>0)for(var D=0;D<I.length;D++)y(I[D])}o(yA,"_forEachProp");function CA(g,y,I){return y!==nc&&typeof g[y]===sg&&(I||Ae(g,y))&&y!==dA&&y!==ic}o(CA,"_isDynamicCandidate");function EE(g){jt("DynamicProto: "+g)}o(EE,"_throwTypeError");function g6(g){var y=sh(null);return yA(g,function(I){!y[I]&&CA(g,I,!1)&&(y[I]=g[I])}),y}o(g6,"_getInstanceFuncs");function A6(g,y){for(var I=g.length-1;I>=0;I--)if(g[I]===y)return!0;return!1}o(A6,"_hasVisited");function ZW(g,y,I,_){function D(fe,Ee,Se){var qe=Ee[Se];if(qe[fh]&&_){var Xe=fe[cA]||{};Xe[fA]!==!1&&(qe=(Xe[Ee[uA]]||{})[Se]||qe)}return function(){return qe.apply(fe,arguments)}}o(D,"_instFuncProxy");var F=sh(null);yA(I,function(fe){F[fe]=D(y,I,fe)});for(var U=of(g),oe=[];U&&!Pd(U)&&!A6(oe,U);)yA(U,function(fe){!F[fe]&&CA(U,fe,!pA)&&(F[fe]=D(y,U,fe))}),oe.push(U),U=of(U);return F}o(ZW,"_getBaseFuncs");function eH(g,y,I,_){var D=null;if(g&&Ae(I,uA)){var F=g[cA]||sh(null);if(D=(F[I[uA]]||sh(null))[y],D||EE("Missing ["+y+"] "+sg),!D[ag]&&F[fA]!==!1){for(var U=!Ae(g,y),oe=of(g),fe=[];U&&oe&&!Pd(oe)&&!A6(fe,oe);){var Ee=oe[y];if(Ee){U=Ee===_;break}fe.push(oe),oe=of(oe)}try{U&&(g[y]=D),D[ag]=1}catch{F[fA]=!1}}}return D}o(eH,"_getInstFunc");function tH(g,y,I){var _=y[g];return _===I&&(_=of(y)[g]),typeof _!==sg&&EE("["+g+"] is not a "+sg),_}o(tH,"_getProtoFunc");function rH(g,y,I,_,D){function F(fe,Ee){var Se=o(function(){var qe=eH(this,Ee,fe,Se)||tH(Ee,fe,Se);return qe.apply(this,arguments)},"dynProtoProxy");return Se[fh]=1,Se}if(o(F,"_createDynamicPrototype"),!AA(g)){var U=I[cA]=I[cA]||sh(null);if(!AA(U)){var oe=U[y]=U[y]||sh(null);U[fA]!==!1&&(U[fA]=!!D),AA(oe)||yA(I,function(fe){CA(I,fe,!1)&&I[fe]!==_[fe]&&(oe[fe]=I[fe],delete I[fe],(!Ae(g,fe)||g[fe]&&!g[fe][fh])&&(g[fe]=F(g,fe)))})}}}o(rH,"_populatePrototype");function y6(g,y){if(pA){for(var I=[],_=of(y);_&&!Pd(_)&&!A6(I,_);){if(_===g)return!0;I.push(_),_=of(_)}return!1}return!0}o(y6,"_checkPrototype");function Gy(g,y){return Ae(g,ic)?g.name||y||AE:((g||{})[nc]||{}).name||y||AE}o(Gy,"_getObjName");function Sl(g,y,I,_){Ae(g,ic)||EE("theClass is an invalid class definition.");var D=g[ic];y6(D,y)||EE("["+Gy(g)+"] not in hierarchy of ["+Gy(y)+"]");var F=null;Ae(D,uA)?F=D[uA]:(F=m6+Gy(g,"_")+"$"+gA.n,gA.n++,D[uA]=F);var U=Sl[h6],oe=!!U[hA];oe&&_&&_[hA]!==void 0&&(oe=!!_[hA]);var fe=g6(y),Ee=ZW(D,y,fe,oe);I(y,Ee);var Se=!!pA&&!!U[qy];Se&&_&&(Se=!!_[qy]),rH(D,F,y,fe,Se!==!1)}o(Sl,"dynamicProto"),Sl[h6]=gA.o;var vs="function",xS="object",bS="undefined",Wy="prototype",C6=Object,E6=C6[Wy];(nf()||{}).Symbol,(nf()||{}).Reflect;var xE="hasOwnProperty",vS=o(function(g){for(var y,I=1,_=arguments.length;I<_;I++){y=arguments[I];for(var D in y)E6[xE].call(y,D)&&(g[D]=y[D])}return g},"__objAssignFnImpl"),Nd=Ke||vS,dh=o(function(g,y){return dh=C6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,_){I.__proto__=_}||function(I,_){for(var D in _)_[xE](D)&&(I[D]=_[D])},dh(g,y)},"extendStaticsFn");function Hy(g,y){typeof y!==vs&&y!==null&&jt("Class extends value "+String(y)+" is not a constructor or null"),dh(g,y);function I(){this.constructor=g}o(I,"__"),g[Wy]=y===null?sh(y):(I[Wy]=y[Wy],new I)}o(Hy,"__extendsFn");function IS(g,y){for(var I=0,_=y.length,D=g.length;I<_;I++,D++)g[D]=y[I];return g}o(IS,"__spreadArrayFn");var bE=Qt,nH=wt,mh=bE({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),EA="toLowerCase",Ln="length",xA="warnToConsole",cg="throwInternal",Fd="watch",vE="apply",Pi="push",bA="splice",$s="logger",vA="cancel",Vy="initialize",hh="identifier",jy="removeNotificationListener",IE="addNotificationListener",sf="isInitialized",IA="value",Yc="getNotifyMgr",TA="getPlugin",ph="name",tl="processNext",wA="getProcessTelContext",af="enabled",TS="stopPollingInternalLogs",ug="unload",TE="onComplete",_A="version",wS="loggingLevelConsole",fg="createNew",lf="teardown",wE="messageId",dg="message",cf="diagLog",_E="_doTeardown",Ld="update",uf="getNext",gh="setNextPlugin",SE="userAgent",Ah="split",yh="replace",Bl="type",x6="evtName",$y="status",b6="getAllResponseHeaders",v6="isChildEvt",SA="data",Ch="getCtx",Kc="setCtx",_S="itemsReceived",Qd="urlString",I6="headers",Md="timeout",SS="traceFlags",BA;function T6(g,y){BA||(BA=da("AggregationError",function(_,D){D[Ln]>1&&(_.errors=D[1])}));var I=g||"One or more errors occurred.";throw Hr(y,function(_,D){I+=`
`.concat(D," > ").concat(At(_))}),new BA(I,y||[])}o(T6,"throwAggregationError");var mg="Promise",hg="rejected";function oc(g,y){return BS(g,function(I){return y?y({status:"fulfilled",rejected:!1,value:I}):I},function(I){return y?y({status:hg,rejected:!0,reason:I}):I})}o(oc,"doAwaitResponse");function BS(g,y,I,_){var D=g;try{if(ot(g))(y||I)&&(D=g.then(y,I));else try{y&&(D=y(g))}catch(F){if(I)D=I(F);else throw F}}finally{_&&iH(D,_)}return D}o(BS,"doAwait");function iH(g,y){var I=g;return y&&(ot(g)?g.finally?I=g.finally(y):I=g.then(function(_){return y(),_},function(_){throw y(),_}):y()),I}o(iH,"doFinally");var kS=["pending","resolving","resolved",hg],RS="dispatchEvent",zy;function DS(g){var y;return g&&g.createEvent&&(y=g.createEvent("Event")),!!y&&y.initEvent}o(DS,"_hasInitEventFn");function BE(g,y,I,_){var D=iA();!zy&&(zy=Do(!!re(DS,[D]).v));var F=zy.v?D.createEvent("Event"):_?new Event(y):{};if(I&&I(F),zy.v&&F.initEvent(y,!1,!0),F&&g[RS])g[RS](F);else{var U=g["on"+y];if(U)U(F);else{var oe=Ps("console");oe&&(oe.error||oe.log)(y,At(F))}}}o(BE,"emitEvent");var PS="unhandledRejection",oH=PS.toLowerCase(),kA=10,kE;function NS(g){return Re(g)?g.toString():At(g)}o(NS,"dumpFnObj");function LS(g,y,I){var _=aA(arguments,3),D=0,F=!1,U,oe=[],fe=!1,Ee=null,Se;function qe(fr,Tr){try{fe=!0,Ee&&Ee.cancel(),Ee=null;var Pn=g(function(fi,di){oe.push(function(){try{var to=D===2?fr:Tr,on=O(to)?U:Re(to)?to(U):to;ot(on)?on.then(fi,di):to?fi(on):D===3?di(on):fi(on)}catch(Ur){di(Ur)}}),F&&ht()},_);return Pn}finally{}}o(qe,"_then");function Xe(fr){return qe(void 0,fr)}o(Xe,"_catch");function We(fr){var Tr=fr,Pn=fr;return Re(fr)&&(Tr=o(function(fi){return fr&&fr(),fi},"thenFinally"),Pn=o(function(fi){throw fr&&fr(),fi},"catchFinally")),qe(Tr,Pn)}o(We,"_finally");function ze(){return kS[D]}o(ze,"_strState");function ht(){if(oe.length>0){var fr=oe.slice();oe=[],fe=!0,Ee&&Ee.cancel(),Ee=null,y(fr)}}o(ht,"_processQueue");function st(fr,Tr){return function(Pn){if(D===Tr){if(fr===2&&ot(Pn)){D=1,Pn.then(st(2,1),st(3,1));return}D=fr,F=!0,U=Pn,ht(),!fe&&fr===3&&!Ee&&(Ee=uh(It,kA))}}}o(st,"_createSettleIfFn");function It(){if(!fe)if(fe=!0,WW())process.emit(PS,U,Se);else{var fr=Rd()||nf();!kE&&(kE=Do(re(Ps,[mg+"RejectionEvent"]).v)),BE(fr,oH,function(Tr){return Oe(Tr,"promise",{g:o(function(){return Se},"g")}),Tr.reason=U,Tr},!!kE.v)}}o(It,"_notifyUnhandledRejection"),Se={then:qe,catch:Xe,finally:We},Ce(Se,"state",{get:ze}),Xl()&&(Se[Py(11)]="IPromise");function Vt(){return"IPromise "+ze()+(F?" - "+NS(U):"")}return o(Vt,"_toString"),Se.toString=Vt,o(function(){Re(I)||jt(mg+": executor is not a function - "+NS(I));var Tr=st(3,0);try{I.call(Se,st(2,0),Tr)}catch(Pn){Tr(Pn)}},"_initialize")(),Se}o(LS,"_createPromise");function sH(g){return function(y){var I=aA(arguments,1);return g(function(_,D){try{var F=[],U=1;o6(y,function(oe,fe){oe&&(U++,BS(oe,function(Ee){F[fe]=Ee,--U===0&&_(F)},D))}),U--,U===0&&_(F)}catch(oe){D(oe)}},I)}}o(sH,"_createAllPromise");function aH(g){return Do(function(y){var I=aA(arguments,1);return g(function(_,D){var F=[],U=1;function oe(fe,Ee){U++,oc(fe,function(Se){Se.rejected?F[Ee]={status:hg,reason:Se.reason}:F[Ee]={status:"fulfilled",value:Se.value},--U===0&&_(F)})}o(oe,"processItem");try{Ue(y)?Hr(y,oe):cE(y)?o6(y,oe):jt("Input is not an iterable"),U--,U===0&&_(F)}catch(fe){D(fe)}},I)})}o(aH,"_createAllSettledPromise");function QS(g){Hr(g,function(y){try{y()}catch{}})}o(QS,"syncItemProcessor");function MS(g){var y=Je(g)?g:0;return function(I){uh(function(){QS(I)},y)}}o(MS,"timeoutItemProcessor");function RE(g,y){return LS(RE,MS(y),g,y)}o(RE,"createAsyncPromise");var DE;function lH(g,y){!DE&&(DE=Do(re(Ps,[mg]).v||null));var I=DE.v;if(!I)return RE(g);Re(g)||jt(mg+": executor is not a function - "+At(g));var _=0;function D(){return kS[_]}o(D,"_strState");var F=new I(function(U,oe){function fe(Se){_=2,U(Se)}o(fe,"_resolve");function Ee(Se){_=3,oe(Se)}o(Ee,"_reject"),g(fe,Ee)});return Ce(F,"state",{get:D}),F}o(lH,"createNativePromise");var PE;function NE(g){return LS(NE,QS,g)}o(NE,"createSyncPromise");function _0(g,y){return!PE&&(PE=aH(NE)),PE.v(g,y)}o(_0,"createSyncAllSettledPromise");var FE;function RA(g,y){return!FE&&(FE=Do(lH)),FE.v.call(this,g,y)}o(RA,"createPromise");var w6=sH(RA),sc=void 0,ri="",Od="channels",zs="core",Jc="createPerfMgr",LE="disabled",pg="extensionConfig",DA="extensions",ac="processTelemetry",PA="priority",NA="eventsSent",FA="eventsDiscarded",QE="eventsSendRequest",gg="perfEvent",_6="offlineEventsStored",S6="offlineBatchSent",ME="offlineBatchDrop",Yy="getPerfMgr",OE="domain",UE="path",OS="Not dynamic - ",B6=/-([a-z])/g,cH=/([^\w\d_$])/g,uH=/^(\d+[\w\d_$])/;function qE(g){return!J(g)}o(qE,"isNotNullOrUndefined");function LA(g){var y=g;return y&&ce(y)&&(y=y[yh](B6,function(I,_){return _.toUpperCase()}),y=y[yh](cH,"_"),y=y[yh](uH,function(I,_){return"_"+_})),y}o(LA,"normalizeJsName");function rl(g,y){return g&&y?Dd(g,y)!==-1:!1}o(rl,"strContains");function Ky(g){return g&&g.toISOString()||""}o(Ky,"toISOString");function qa(g){return it(g)?g[ph]:ri}o(qa,"getExceptionName");function Eh(g,y,I,_,D){var F=I;return g&&(F=g[y],F!==I&&(!D||D(F))&&(!_||_(I))&&(F=I,g[y]=F)),F}o(Eh,"setValue");function US(g,y,I){var _;return g?(_=g[y],!_&&J(_)&&(_=O(I)?{}:I,g[y]=_)):_=O(I)?{}:I,_}o(US,"getSetValue");function fH(g,y){var I=null,_=null;return Re(g)?I=g:_=g,function(){var D=arguments;if(I&&(_=I()),_)return _[y][vE](_,D)}}o(fH,"_createProxyFunction");function Jy(g,y,I,_,D){g&&y&&I&&(D!==!1||O(g[y]))&&(g[y]=fH(I,_))}o(Jy,"proxyFunctionAs");function k6(g,y,I,_){return g&&y&&ve(g)&&Ue(I)&&Hr(I,function(D){ce(D)&&Jy(g,D,y,D,_)}),g}o(k6,"proxyFunctions");function dH(g){return function(){function y(){var I=this;g&&ee(g,function(_,D){I[_]=D})}return o(y,"class_1"),y}()}o(dH,"createClassFromInterface");function R6(g){return g&&Ke&&(g=C6(Ke({},g))),g}o(R6,"optimizeObject");function qS(g,y,I,_,D,F){var U=arguments,oe=U[0]||{},fe=U[Ln],Ee=!1,Se=1;for(fe>0&&ft(oe)&&(Ee=oe,oe=U[Se]||{},Se++),ve(oe)||(oe={});Se<fe;Se++){var qe=U[Se],Xe=Ue(qe),We=ve(qe);for(var ze in qe){var ht=Xe&&ze in qe||We&&Ge(qe,ze);if(ht){var st=qe[ze],It=void 0;if(Ee&&st&&((It=Ue(st))||w0(st))){var Vt=oe[ze];It?Ue(Vt)||(Vt=[]):w0(Vt)||(Vt={}),st=qS(Ee,Vt,st)}st!==void 0&&(oe[ze]=st)}}}return oe}o(qS,"objExtend");function GE(g){try{return g.responseText}catch{}return null}o(GE,"getResponseText");function GS(g,y){return g?"XDomainRequest,Response:"+GE(g)||"":y}o(GS,"formatErrorMessageXdr");function WE(g,y){return g?"XMLHttpRequest,Status:"+g[$y]+",Response:"+GE(g)||g.response||"":y}o(WE,"formatErrorMessageXhr");function WS(g,y){return y&&(Je(y)?g=[y].concat(g):Ue(y)&&(g=y.concat(g))),g}o(WS,"prependTransports");var D6="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xy="withCredentials",ff="timeout";function P6(g,y,I,_,D,F){_===void 0&&(_=!1),D===void 0&&(D=!1);function U(fe,Ee,Se){try{fe[Ee]=Se}catch{}}o(U,"_wrapSetXhrProp");var oe=new XMLHttpRequest;return _&&U(oe,D6,_),I&&U(oe,Xy,I),oe.open(g,y,!D),I&&U(oe,Xy,I),!D&&F&&U(oe,ff,F),oe}o(P6,"openXhr");function HS(g){var y={};if(ce(g)){var I=Di(g)[Ah](/[\r\n]+/);Hr(I,function(_){if(_){var D=_.indexOf(": ");if(D!==-1){var F=Di(_.substring(0,D))[EA](),U=Di(_.substring(D+1));y[F]=U}else y[Di(_)]=1}})}return y}o(HS,"convertAllHeadersToMap");function xh(g,y,I){if(!g[I]&&y&&y.getResponseHeader){var _=y.getResponseHeader(I);_&&(g[I]=Di(_))}return g}o(xh,"_appendHeader");var hn="kill-duration",QA="kill-duration-seconds",Ag="time-delta-millis";function yg(g,y){var I={};return g[b6]?I=HS(g[b6]()):y&&(I=xh(I,g,Ag),I=xh(I,g,hn),I=xh(I,g,QA)),I}o(yg,"_getAllResponseHeaders");var N6="documentMode",Zy="location",MA="console",HE="JSON",F6="crypto",VE="msCrypto",OA="msie",Cg="trident/",L6="XMLHttpRequest",lc=null,UA=null,df=!1,Zl=null,qA=null;function e3(g,y){var I=!1;if(g){try{if(I=y in g,!I){var _=g[Wy];_&&(I=y in _)}}catch{}if(!I)try{var D=new g;I=!O(D[y])}catch{}}return I}o(e3,"_hasProperty");function GA(g){if(g&&df){var y=Ps("__mockLocation");if(y)return y}return typeof location===xS&&location?location:Ps(Zy)}o(GA,"getLocation");function t3(){return typeof console!==bS?console:Ps(MA)}o(t3,"getConsole");function WA(){return!!(typeof JSON===xS&&JSON||Ps(HE)!==null)}o(WA,"hasJSON");function S0(){return WA()?JSON||Ps(HE):null}o(S0,"getJSON");function jE(){return Ps(F6)}o(jE,"getCrypto");function $E(){return Ps(VE)}o($E,"getMsCrypto");function Xc(){var g=nh();if(g&&(g[SE]!==UA||lc===null)){UA=g[SE];var y=(UA||ri)[EA]();lc=rl(y,OA)||rl(y,Cg)}return lc}o(Xc,"isIE");function HA(g){if(g===void 0&&(g=null),!g){var y=nh()||{};g=y?(y.userAgent||ri)[EA]():ri}var I=(g||ri)[EA]();if(rl(I,OA)){var _=iA()||{};return be(parseInt(I[Ah](OA)[1]),_[N6]||0)}else if(rl(I,Cg)){var D=parseInt(I[Ah](Cg)[1]);if(D)return D+4}return null}o(HA,"getIEVersion");function bh(g){return(qA===null||g===!1)&&(qA=GW()&&!!nh().sendBeacon),qA}o(bh,"isBeaconsSupported");function r3(g){var y=!1;try{y=!!Ps("fetch");var I=Ps("Request");y&&g&&I&&(y=e3(I,"keepalive"))}catch{}return y}o(r3,"isFetchSupported");function Q6(){return Zl===null&&(Zl=typeof XDomainRequest!==bS,Zl&&M6()&&(Zl=Zl&&!e3(Ps(L6),"withCredentials"))),Zl}o(Q6,"useXDomainRequest");function M6(){var g=!1;try{var y=Ps(L6);g=!!y}catch{}return g}o(M6,"isXhrSupported");var Ga=4294967296,mf=4294967295,zE=123456789,O6=987654321,Ud=!1,cc=zE,VA=O6;function U6(g){g<0&&(g>>>=0),cc=zE+g&mf,VA=O6-g&mf,Ud=!0}o(U6,"_mwcSeed");function VS(){try{var g=ah()&2147483647;U6((Math.random()*Ga^g)+g)}catch{}}o(VS,"_autoSeedMwc");function q6(g){var y=0,I=jE()||$E();return I&&I.getRandomValues&&(y=I.getRandomValues(new Uint32Array(1))[0]&mf),y===0&&Xc()&&(Ud||VS(),y=jS()&mf),y===0&&(y=ng(Ga*Math.random()|0)),g||(y>>>=0),y}o(q6,"random32");function jS(g){VA=36969*(VA&65535)+(VA>>16)&mf,cc=18e3*(cc&65535)+(cc>>16)&mf;var y=(VA<<16)+(cc&65535)>>>0&mf|0;return g||(y>>>=0),y}o(jS,"mwcRandom32");function mH(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=q6()>>>0,_=0,D=ri;D[Ln]<g;)_++,D+=y.charAt(I&63),I>>>=6,_===5&&(I=(q6()<<2&4294967295|I&3)>>>0,_=0);return D}o(mH,"newId");var jA="3.3.6",hH="."+mH(6),pH=0;function $S(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType}o($S,"_canAcceptData");function zS(g,y){var I=y[g.id];if(!I){I={};try{$S(y)&&Oe(y,g.id,{e:!1,v:I})}catch{}}return I}o(zS,"_getCache");function qd(g,y){return y===void 0&&(y=!1),LA(g+pH+++(y?"."+jA:ri)+hH)}o(qd,"createUniqueNamespace");function YS(g){var y={id:qd("_aiData-"+(g||ri)+"."+jA),accept:o(function(I){return $S(I)},"accept"),get:o(function(I,_,D,F){var U=I[y.id];return U?U[LA(_)]:(F&&(U=zS(y,I),U[LA(_)]=D),D)},"get"),kill:o(function(I,_){if(I&&I[_])try{delete I[_]}catch{}},"kill")};return y}o(YS,"createElmNodeData");function $A(g){return g&&ve(g)&&(g.isVal||g.fb||Ge(g,"v")||Ge(g,"mrg")||Ge(g,"ref")||g.set)}o($A,"_isConfigDefaults");function KS(g,y,I){var _,D=I.dfVal||Z;if(y&&I.fb){var F=I.fb;Ue(F)||(F=[F]);for(var U=0;U<F[Ln];U++){var oe=F[U],fe=y[oe];if(D(fe)?_=fe:g&&(fe=g.cfg[oe],D(fe)&&(_=fe),g.set(g.cfg,yt(oe),fe)),D(_))break}}return!D(_)&&D(I.v)&&(_=I.v),_}o(KS,"_getDefault");function G6(g,y,I){var _=I;if(I&&$A(I)&&(_=KS(g,y,I)),_){$A(_)&&(_=G6(g,y,_));var D;Ue(_)?(D=[],D[Ln]=_[Ln]):w0(_)&&(D={}),D&&(ee(_,function(F,U){U&&$A(U)&&(U=G6(g,y,U)),D[F]=U}),_=D)}return _}o(G6,"_resolveDefaultValue");function W6(g,y,I,_){var D,F,U,oe=_,fe,Ee,Se,qe;$A(oe)?(D=oe.isVal,F=oe.set,Se=oe.rdOnly,qe=oe.blkVal,fe=oe.mrg,Ee=oe.ref,!Ee&&O(Ee)&&(Ee=!!fe),U=KS(g,y,oe)):U=_,qe&&g.blkVal(y,I);var Xe,We=!0,ze=y[I];(ze||!J(ze))&&(Xe=ze,We=!1,D&&Xe!==U&&!D(Xe)&&(Xe=U,We=!0),F&&(Xe=F(Xe,U,y),We=Xe===U)),We?U?Xe=G6(g,y,U):Xe=U:(w0(Xe)||Ue(U))&&fe&&U&&(w0(U)||Ue(U))&&ee(U,function(ht,st){W6(g,Xe,ht,st)}),g.set(y,I,Xe),Ee&&g.ref(y,I),Se&&g.rdOnly(y,I)}o(W6,"_applyDefaultValue");var vh=Ny("[[ai_dynCfg_1]]"),JS=Ny("[[ai_blkDynCfg_1]]"),XS=Ny("[[ai_frcDynCfg_1]]");function ZS(g){if(g){var y;if(Ue(g)?(y=[],y[Ln]=g[Ln]):w0(g)&&(y={}),y)return ee(g,function(I,_){y[I]=ZS(_)}),y}return g}o(ZS,"_cfgDeepCopy");function gH(g){if(g){var y=g[vh]||g;if(y.cfg&&(y.cfg===g||y.cfg[vh]===y))return y}return null}o(gH,"getDynamicConfigHandler");function AH(g){if(g&&(w0(g)||Ue(g)))try{g[JS]=!0}catch{}return g}o(AH,"blockDynamicConversion");function H6(g,y,I){var _=!1;return I&&!g[y.blkVal]&&(_=I[XS],!_&&!I[JS]&&(_=w0(I)||Ue(I))),_}o(H6,"_canMakeDynamic");function zA(g){jt("InvalidAccess:"+g)}o(zA,"throwInvalidAccess");var yH=["push","pop","shift","unshift","splice"],n3=o(function(g,y,I,_){g&&g[cg](3,108,"".concat(I," [").concat(y,"] failed - ")+At(_))},"_throwDynamicError");function Ih(g,y,I){Ue(y)&&Hr(yH,function(_){var D=y[_];y[_]=function(){for(var F=[],U=0;U<arguments.length;U++)F[U]=arguments[U];var oe=D[vE](this,F);return JA(g,y,I,"Patching"),oe}})}o(Ih,"_patchArray");function Zc(g,y){var I=Pe(g,y);return I&&I.get}o(Zc,"_getOwnPropGetter");function eB(g,y,I,_){var D={n:I,h:[],trk:o(function(Ee){Ee&&Ee.fn&&(T0(D.h,Ee)===-1&&D.h[Pi](Ee),g.trk(Ee,D))},"trk"),clr:o(function(Ee){var Se=T0(D.h,Ee);Se!==-1&&D.h[bA](Se,1)},"clr")},F=!0,U=!1;function oe(){F&&(U=U||H6(oe,g,_),_&&!_[vh]&&U&&(_=JA(g,_,I,"Converting")),F=!1);var Ee=g.act;return Ee&&D.trk(Ee),_}o(oe,"_getProperty"),oe[g.prop]={chng:o(function(){g.add(D)},"chng")};function fe(Ee){if(_!==Ee){oe[g.ro]&&!g.upd&&zA("["+I+"] is read-only:"+At(y)),F&&(U=U||H6(oe,g,_),F=!1);var Se=U&&oe[g.rf];if(U)if(Se){ee(_,function(Xe){_[Xe]=Ee?Ee[Xe]:sc});try{ee(Ee,function(Xe,We){YA(g,_,Xe,We)}),Ee=_}catch(Xe){n3((g.hdlr||{})[$s],I,"Assigning",Xe),U=!1}}else _&&_[vh]&&ee(_,function(Xe){var We=Zc(_,Xe);if(We){var ze=We[g.prop];ze&&ze.chng()}});if(Ee!==_){var qe=Ee&&H6(oe,g,Ee);!Se&&qe&&(Ee=JA(g,Ee,I,"Converting")),_=Ee,U=qe}g.add(D)}}o(fe,"_setProperty"),Oe(y,D.n,{g:oe,s:fe})}o(eB,"_createDynamicProperty");function YA(g,y,I,_){if(y){var D=Zc(y,I),F=D&&!!D[g.prop];F?y[I]=_:eB(g,y,I,_)}return y}o(YA,"_setDynamicProperty");function KA(g,y,I,_){if(y){var D=Zc(y,I),F=D&&!!D[g.prop],U=_&&_[0],oe=_&&_[1],fe=_&&_[2];if(!F){if(fe)try{AH(y)}catch(Ee){n3((g.hdlr||{})[$s],I,"Blocking",Ee)}try{YA(g,y,I,y[I]),D=Zc(y,I)}catch(Ee){n3((g.hdlr||{})[$s],I,"State",Ee)}}U&&(D[g.rf]=U),oe&&(D[g.ro]=oe),fe&&(D[g.blkVal]=!0)}return y}o(KA,"_setDynamicPropertyState");function JA(g,y,I,_){try{ee(y,function(D,F){YA(g,y,D,F)}),y[vh]||(Ce(y,vh,{get:o(function(){return g.hdlr},"get")}),Ih(g,y,I))}catch(D){n3((g.hdlr||{})[$s],I,_,D)}return y}o(JA,"_makeDynamicObject");var i3="[[ai_",o3="]]";function CH(g){var y=tg(i3+"get"+g.uid+o3),I=tg(i3+"ro"+g.uid+o3),_=tg(i3+"rf"+g.uid+o3),D=tg(i3+"blkVal"+g.uid+o3),F=tg(i3+"dtl"+g.uid+o3),U=null,oe=null,fe;function Ee(We,ze){var ht=fe.act;try{fe.act=We,We&&We[F]&&(Hr(We[F],function(It){It.clr(We)}),We[F]=[]),ze({cfg:g.cfg,set:g.set.bind(g),setDf:g.setDf.bind(g),ref:g.ref.bind(g),rdOnly:g.rdOnly.bind(g)})}catch(It){var st=g[$s];throw st&&st[cg](1,107,At(It)),It}finally{fe.act=ht||null}}o(Ee,"_useHandler");function Se(){if(U){var We=U;U=null,oe&&oe[vA](),oe=null;var ze=[];if(Hr(We,function(ht){if(ht&&(ht[F]&&(Hr(ht[F],function(st){st.clr(ht)}),ht[F]=null),ht.fn))try{Ee(ht,ht.fn)}catch(st){ze[Pi](st)}}),U)try{Se()}catch(ht){ze[Pi](ht)}ze[Ln]>0&&T6("Watcher error(s): ",ze)}}o(Se,"_notifyWatchers");function qe(We){if(We&&We.h[Ln]>0){U||(U=[]),oe||(oe=uh(function(){oe=null,Se()},0));for(var ze=0;ze<We.h[Ln];ze++){var ht=We.h[ze];ht&&T0(U,ht)===-1&&U[Pi](ht)}}}o(qe,"_addWatcher");function Xe(We,ze){if(We){var ht=We[F]=We[F]||[];T0(ht,ze)===-1&&ht[Pi](ze)}}return o(Xe,"_trackHandler"),fe={prop:y,ro:I,rf:_,blkVal:D,hdlr:g,add:qe,notify:Se,use:Ee,trk:Xe},fe}o(CH,"_createState");function YE(g,y){var I={fn:y,rm:o(function(){I.fn=null,g=null,y=null},"rm")};return Oe(I,"toJSON",{v:o(function(){return"WatcherHandler"+(I.fn?"":"[X]")},"v")}),g.use(I,y),I}o(YE,"_createAndUseHandler");function tB(g,y,I){var _=gH(y);if(_)return _;var D=qd("dyncfg",!0),F=y&&I!==!1?y:ZS(y),U;function oe(){U.notify()}o(oe,"_notifyWatchers");function fe(st,It,Vt){try{st=YA(U,st,It,Vt)}catch(fr){n3(g,It,"Setting value",fr)}return st[It]}o(fe,"_setValue");function Ee(st){return YE(U,st)}o(Ee,"_watch");function Se(st,It){U.use(null,function(Vt){var fr=U.upd;try{O(It)||(U.upd=It),st(Vt)}finally{U.upd=fr}})}o(Se,"_block");function qe(st,It){var Vt;return KA(U,st,It,(Vt={},Vt[0]=!0,Vt))[It]}o(qe,"_ref");function Xe(st,It){var Vt;return KA(U,st,It,(Vt={},Vt[1]=!0,Vt))[It]}o(Xe,"_rdOnly");function We(st,It){var Vt;return KA(U,st,It,(Vt={},Vt[2]=!0,Vt))[It]}o(We,"_blkPropValue");function ze(st,It){return It&&ee(It,function(Vt,fr){W6(ht,st,Vt,fr)}),st}o(ze,"_applyDefaults");var ht={uid:null,cfg:F,logger:g,notify:oe,set:fe,setDf:ze,watch:Ee,ref:qe,rdOnly:Xe,blkVal:We,_block:Se};return Oe(ht,"uid",{c:!1,e:!1,w:!1,v:D}),U=CH(ht),JA(U,F,"config","Creating"),ht}o(tB,"_createDynamicHandler");function rB(g,y){g?(g[xA](y),g[cg](2,108,y)):zA(y)}o(rB,"_logInvalidAccess");function uc(g,y,I,_){var D=tB(I,g||{},_);return y&&D.setDf(D.cfg,y),D}o(uc,"createDynamicConfig");function Gd(g,y,I){var _=g[vh]||g;return _.cfg&&(_.cfg===g||_.cfg[vh]===_)?_[Fd](y):(rB(I,OS+At(g)),uc(g,null,I)[Fd](y))}o(Gd,"onConfigChange");function XA(g,y){if(g&&g[ug])return g[ug](y)}o(XA,"runTargetUnload");function nB(g,y,I){var _;return I||(_=RA(function(D){I=D})),g&&YW(g)>0?oc(XA(g[0],y),function(){nB(aA(g,1),y,I)}):I(),_}o(nB,"doUnloadAll");var EH=500,iB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function xH(g,y,I){return!g&&J(g)?y:ft(g)?g:yt(g)[EA]()==="true"}o(xH,"_stringToBoolOrDefault");function bH(g){return{mrg:!0,v:g}}o(bH,"cfgDfMerge");function V6(g,y,I){return{fb:I,isVal:g,v:y}}o(V6,"cfgDfValidate");function hf(g,y){return{fb:y,set:xH,v:!!g}}o(hf,"cfgDfBoolean");var KE=[NA,FA,QE,gg],JE=null,XE;function vH(g,y){return function(){var I=arguments,_=oB(y);if(_){var D=_.listener;D&&D[g]&&D[g][vE](D,I)}}}o(vH,"_listenerProxyFunc");function IH(){var g=Ps("Microsoft");return g&&(JE=g.ApplicationInsights),JE}o(IH,"_getExtensionNamespace");function oB(g){var y=JE;return!y&&g.disableDbgExt!==!0&&(y=JE||IH()),y?y.ChromeDbgExt:null}o(oB,"getDebugExt");function TH(g){if(!XE){XE={};for(var y=0;y<KE[Ln];y++)XE[KE[y]]=vH(KE[y],g)}return XE}o(TH,"getDebugListener");var ZA,sB="warnToConsole",wH="AI (Internal): ",_H="AI: ",SH="AITR_",aB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},e2=(ZA={},ZA[0]=null,ZA[1]="errorToConsole",ZA[2]=sB,ZA[3]="debugToConsole",ZA);function B0(g){return g?'"'+g[yh](/\"/g,ri)+'"':ri}o(B0,"_sanitizeDiagnosticText");function s3(g,y){var I=t3();if(I){var _="log";I[g]&&(_=g),Re(I[_])&&I[_](y)}}o(s3,"_logToConsole");var ZE=function(){function g(y,I,_,D){_===void 0&&(_=!1);var F=this;F[wE]=y,F[dg]=(_?_H:wH)+y;var U=ri;WA()&&(U=S0().stringify(D));var oe=(I?" message:"+B0(I):ri)+(D?" props:"+B0(U):ri);F[dg]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function a3(g,y){return(g||{})[$s]||new l3(y)}o(a3,"safeGetLogger");var l3=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var I=0,_={},D,F,U,oe,fe;Sl(g,this,function(Ee){fe=qe(y||{}),Ee.consoleLoggingLevel=function(){return D},Ee[cg]=function(ze,ht,st,It,Vt){Vt===void 0&&(Vt=!1);var fr=new ZE(ht,st,Vt,It);if(oe)throw At(fr);var Tr=e2[ze]||sB;if(O(fr[dg]))We("throw"+(ze===1?"Critical":"Warning"),fr);else{if(Vt){var Pn=+fr[wE];!_[Pn]&&D>=ze&&(Ee[Tr](fr[dg]),_[Pn]=!0)}else D>=ze&&Ee[Tr](fr[dg]);Se(ze,fr)}},Ee.debugToConsole=function(ze){s3("debug",ze),We("warning",ze)},Ee[xA]=function(ze){s3("warn",ze),We("warning",ze)},Ee.errorToConsole=function(ze){s3("error",ze),We("error",ze)},Ee.resetInternalMessageCount=function(){I=0,_={}},Ee.logInternalMessage=Se,Ee[ug]=function(ze){fe&&fe.rm(),fe=null};function Se(ze,ht){if(!Xe()){var st=!0,It=SH+ht[wE];if(_[It]?st=!1:_[It]=!0,st&&(ze<=F&&(Ee.queue[Pi](ht),I++,We(ze===1?"error":"warn",ht)),I===U)){var Vt="Internal events throttle limit per PageView reached for this app.",fr=new ZE(23,Vt,!1);Ee.queue[Pi](fr),ze===1?Ee.errorToConsole(Vt):Ee[xA](Vt)}}}o(Se,"_logInternalMessage");function qe(ze){return Gd(uc(ze,aB,Ee).cfg,function(ht){var st=ht.cfg;D=st[wS],F=st.loggingLevelTelemetry,U=st.maxMessageLimit,oe=st.enableDebug})}o(qe,"_setDefaultsFromConfig");function Xe(){return I>=U}o(Xe,"_areInternalMessagesThrottled");function We(ze,ht){var st=oB(y||{});st&&st[cf]&&st[cf](ze,ht)}o(We,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function j6(g){return g||new l3}o(j6,"_getLogger");function Dr(g,y,I,_,D,F){F===void 0&&(F=!1),j6(g)[cg](y,I,_,D,F)}o(Dr,"_throwInternal");function ex(g,y){j6(g)[xA](y)}o(ex,"_warnToConsole");var c3,Th,lB="toGMTString",cB="toUTCString",tx="cookie",Wd="expires",uB="isCookieUseDisabled",rx="disableCookiesUsage",fB="_ckMgr",nx=null,t2=null,ix=null,pf,dB={},mB={},hB=(c3={cookieCfg:bH((Th={},Th[OE]={fb:"cookieDomain",dfVal:qE},Th.path={fb:"cookiePath",dfVal:qE},Th.enabled=sc,Th.ignoreCookies=sc,Th.blockedCookies=sc,Th)),cookieDomain:sc,cookiePath:sc},c3[rx]=sc,c3);function $6(){!pf&&(pf=ar(function(){return iA()}))}o($6,"_getDoc");function u3(g){return g?g.isEnabled():!0}o(u3,"_isMgrEnabled");function z6(g,y){return y&&g&&Ue(g.ignoreCookies)?T0(g.ignoreCookies,y)!==-1:!1}o(z6,"_isIgnoredCookie");function BH(g,y){return y&&g&&Ue(g.blockedCookies)&&T0(g.blockedCookies,y)!==-1?!0:z6(g,y)}o(BH,"_isBlockedCookie");function Y6(g,y){var I=y[af];if(J(I)){var _=void 0;O(g[uB])||(_=!g[uB]),O(g[rx])||(_=!g[rx]),I=_}return I}o(Y6,"_isCfgEnabled");function kH(g,y){var I,_,D,F,U,oe,fe,Ee;g=uc(g||mB,null,y).cfg,F=Gd(g,function(qe){qe.setDf(qe.cfg,hB),I=qe.ref(qe.cfg,"cookieCfg"),_=I[UE]||"/",D=I[OE],U=Y6(g,I)!==!1,oe=I.getCookie||RH,fe=I.setCookie||r2,Ee=I.delCookie||r2},y);var Se={isEnabled:o(function(){var qe=Y6(g,I)!==!1&&U&&pB(y),Xe=mB[fB];return qe&&Xe&&Se!==Xe&&(qe=u3(Xe)),qe},"isEnabled"),setEnabled:o(function(qe){U=qe!==!1,I[af]=qe},"setEnabled"),set:o(function(qe,Xe,We,ze,ht){var st=!1;if(u3(Se)&&!BH(I,qe)){var It={},Vt=Di(Xe||ri),fr=Dd(Vt,";");if(fr!==-1&&(Vt=Di(L(Xe,fr)),It=K6(de(Xe,fr+1))),Eh(It,OE,ze||D,ie,O),!J(We)){var Tr=Xc();if(O(It[Wd])){var Pn=ah(),fi=Pn+We*1e3;if(fi>0){var di=new Date;di.setTime(fi),Eh(It,Wd,gB(di,Tr?lB:cB)||gB(di,Tr?lB:cB)||ri,ie)}}Tr||Eh(It,"max-age",ri+We,null,O)}var to=GA();to&&to.protocol==="https:"&&(Eh(It,"secure",null,null,O),t2===null&&(t2=!DH((nh()||{})[SE])),t2&&Eh(It,"SameSite","None",null,O)),Eh(It,UE,ht||_,null,O),fe(qe,AB(Vt,It)),st=!0}return st},"set"),get:o(function(qe){var Xe=ri;return u3(Se)&&!z6(I,qe)&&(Xe=oe(qe)),Xe},"get"),del:o(function(qe,Xe){var We=!1;return u3(Se)&&(We=Se.purge(qe,Xe)),We},"del"),purge:o(function(qe,Xe){var We,ze=!1;if(pB(y)){var ht=(We={},We[UE]=Xe||"/",We[Wd]="Thu, 01 Jan 1970 00:00:01 GMT",We);Xc()||(ht["max-age"]="0"),Ee(qe,AB(ri,ht)),ze=!0}return ze},"purge"),unload:o(function(qe){F&&F.rm(),F=null},"unload")};return Se[fB]=Se,Se}o(kH,"createCookieMgr");function pB(g){if(nx===null){nx=!1,!pf&&$6();try{var y=pf.v||{};nx=y[tx]!==void 0}catch(I){Dr(g,2,68,"Cannot access document.cookie - "+qa(I),{exception:At(I)})}}return nx}o(pB,"areCookiesSupported");function K6(g){var y={};if(g&&g[Ln]){var I=Di(g)[Ah](";");Hr(I,function(_){if(_=Di(_||ri),_){var D=Dd(_,"=");D===-1?y[_]=null:y[Di(L(_,D))]=Di(de(_,D+1))}})}return y}o(K6,"_extractParts");function gB(g,y){return Re(g[y])?g[y]():null}o(gB,"_formatDate");function AB(g,y){var I=g||ri;return ee(y,function(_,D){I+="; "+_+(J(D)?ri:"="+D)}),I}o(AB,"_formatCookieValue");function RH(g){var y=ri;if(!pf&&$6(),pf.v){var I=pf.v[tx]||ri;ix!==I&&(dB=K6(I),ix=I),y=Di(dB[g]||ri)}return y}o(RH,"_getCookieValue");function r2(g,y){!pf&&$6(),pf.v&&(pf.v[tx]=g+"="+y)}o(r2,"_setCookieValue");function DH(g){return ce(g)?!!(rl(g,"CPU iPhone OS 12")||rl(g,"iPad; CPU OS 12")||rl(g,"Macintosh; Intel Mac OS X 10_14")&&rl(g,"Version/")&&rl(g,"Safari")||rl(g,"Macintosh; Intel Mac OS X 10_14")&&ES(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||rl(g,"Chrome/5")||rl(g,"Chrome/6")||rl(g,"UnrealEngine")&&!rl(g,"Chrome")||rl(g,"UCBrowser/12")||rl(g,"UCBrowser/11")):!1}o(DH,"uaDisallowsSameSiteNone");var J6={perfEvtsSendAll:!1};function PH(g){g.h=null;var y=g.cb;g.cb=[],Hr(y,function(I){re(I.fn,[I.arg])})}o(PH,"_runScheduledListeners");function wh(g,y,I,_){Hr(g,function(D){D&&D[y]&&(I?(I.cb[Pi]({fn:_,arg:D}),I.h=I.h||uh(PH,0,I)):re(_,[D]))})}o(wh,"_runListeners");var NH=function(){function g(y){this.listeners=[];var I,_,D=[],F={h:null,cb:[]},U=uc(y,J6);_=U[Fd](function(oe){I=!!oe.cfg.perfEvtsSendAll}),Sl(g,this,function(oe){Oe(oe,"listeners",{g:o(function(){return D},"g")}),oe[IE]=function(fe){D[Pi](fe)},oe[jy]=function(fe){for(var Ee=T0(D,fe);Ee>-1;)D[bA](Ee,1),Ee=T0(D,fe)},oe[NA]=function(fe){wh(D,NA,F,function(Ee){Ee[NA](fe)})},oe[FA]=function(fe,Ee){wh(D,FA,F,function(Se){Se[FA](fe,Ee)})},oe[QE]=function(fe,Ee){wh(D,QE,Ee?F:null,function(Se){Se[QE](fe,Ee)})},oe[gg]=function(fe){fe&&(I||!fe[v6]())&&wh(D,gg,null,function(Ee){fe.isAsync?uh(function(){return Ee[gg](fe)},0):Ee[gg](fe)})},oe[_6]=function(fe){fe&&fe[Ln]&&wh(D,_6,F,function(Ee){Ee[_6](fe)})},oe[S6]=function(fe){fe&&fe[SA]&&wh(D,S6,F,function(Ee){Ee[S6](fe)})},oe[ME]=function(fe,Ee){if(fe>0){var Se=Ee||0;wh(D,ME,F,function(qe){qe[ME](fe,Se)})}},oe[ug]=function(fe){var Ee=o(function(){_&&_.rm(),_=null,D=[],F.h&&F.h[vA](),F.h=null,F.cb=[]},"_finishUnload"),Se;if(wh(D,"unload",null,function(qe){var Xe=qe[ug](fe);Xe&&(Se||(Se=[]),Se[Pi](Xe))}),Se)return RA(function(qe){return oc(w6(Se),function(){Ee(),qe()})});Ee()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),n2="ctx",X6="ParentContextKey",f3="ChildrenContextKey",FH=null,ox=function(){function g(y,I,_){var D=this;if(D.start=ah(),D[ph]=y,D.isAsync=_,D[v6]=function(){return!1},Re(I)){var F;Oe(D,"payload",{g:o(function(){return!F&&Re(I)&&(F=I(),I=null),F},"g")})}D[Ch]=function(U){return U?U===g[X6]||U===g[f3]?D[U]:(D[n2]||{})[U]:null},D[Kc]=function(U,oe){if(U)if(U===g[X6])D[U]||(D[v6]=function(){return!0}),D[U]=oe;else if(U===g[f3])D[U]=oe;else{var fe=D[n2]=D[n2]||{};fe[U]=oe}},D.complete=function(){var U=0,oe=D[Ch](g[f3]);if(Ue(oe))for(var fe=0;fe<oe[Ln];fe++){var Ee=oe[fe];Ee&&(U+=Ee.time)}D.time=ah()-D.start,D.exTime=D.time-U,D.complete=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),LH=function(){function g(y){this.ctx={},Sl(g,this,function(I){I.create=function(_,D,F){return new ox(_,D,F)},I.fire=function(_){_&&(_.complete(),y&&Re(y[gg])&&y[gg](_))},I[Kc]=function(_,D){if(_){var F=I[n2]=I[n2]||{};F[_]=D}},I[Ch]=function(_){return(I[n2]||{})[_]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),gf="CoreUtils.doPerf";function i2(g,y,I,_,D){if(g){var F=g;if(F[Yy]&&(F=F[Yy]()),F){var U=void 0,oe=F[Ch](gf);try{if(U=F.create(y(),_,D),U){if(oe&&U[Kc]&&(U[Kc](ox[X6],oe),oe[Ch]&&oe[Kc])){var fe=oe[Ch](ox[f3]);fe||(fe=[],oe[Kc](ox[f3],fe)),fe[Pi](U)}return F[Kc](gf,U),I(U)}}catch(Ee){U&&U[Kc]&&U[Kc]("exception",Ee)}finally{U&&F.fire(U),F[Kc](gf,oe)}}}return I()}o(i2,"doPerf");function Ys(){return FH}o(Ys,"getGblPerfMgr");var sx="00000000000000000000000000000000",o2="0000000000000000";function ax(g,y,I){return g&&g[Ln]===y&&g!==I?!!g.match(/^[\da-f]*$/i):!1}o(ax,"_isValid");function _h(g){return ax(g,32,sx)}o(_h,"isValidTraceId");function Eg(g){return ax(g,16,o2)}o(Eg,"isValidSpanId");var d3=YS("plugin");function Sh(g){return d3.get(g,"state",{},!0)}o(Sh,"_getPluginState");function Z6(g,y){for(var I=[],_=null,D=g[uf](),F;D;){var U=D[TA]();if(U){_&&_[gh]&&U[ac]&&_[gh](U),F=Sh(U);var oe=!!F[sf];U[sf]&&(oe=U[sf]()),oe||I[Pi](U),_=U,D=D[uf]()}}Hr(I,function(fe){var Ee=g[zs]();fe[Vy](g.getCfg(),Ee,y,g[uf]()),F=Sh(fe),!fe[zs]&&!F[zs]&&(F[zs]=Ee),F[sf]=!0,delete F[lf]})}o(Z6,"initializePlugins");function e9(g){return g.sort(function(y,I){var _=0;if(I){var D=I[ac];y[ac]?_=D?y[PA]-I[PA]:1:D&&(_=-1)}else _=y?1:-1;return _})}o(e9,"sortPlugins");function QH(g){var y={};return{getName:o(function(){return y[ph]},"getName"),setName:o(function(I){g&&g.setName(I),y[ph]=I},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(I){g&&g.setTraceId(I),_h(I)&&(y.traceId=I)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(I){g&&g.setSpanId(I),Eg(I)&&(y.spanId=I)},"setSpanId"),getTraceFlags:o(function(){return y[SS]},"getTraceFlags"),setTraceFlags:o(function(I){g&&g.setTraceFlags(I),y[SS]=I},"setTraceFlags")}}o(QH,"createDistributedTraceContext");var MH="TelemetryPluginChain",yB="_hasRun",t9="_getTelCtx",CB=0;function OH(g,y,I){for(;g;){if(g[TA]()===I)return g;g=g[uf]()}return R([I],y.config||{},y)}o(OH,"_getNextProxyStart");function r9(g,y,I,_){var D=null,F=[];y||(y=uc({},null,I[$s])),_!==null&&(D=_?OH(g,I,_):g);var U={_next:fe,ctx:{core:o(function(){return I},"core"),diagLog:o(function(){return a3(I,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:Se,getConfig:qe,hasNext:o(function(){return!!D},"hasNext"),getNext:o(function(){return D},"getNext"),setNext:o(function(We){D=We},"setNext"),iterate:Xe,onComplete:oe}};function oe(We,ze){for(var ht=[],st=2;st<arguments.length;st++)ht[st-2]=arguments[st];We&&F[Pi]({func:We,self:O(ze)?U.ctx:ze,args:ht})}o(oe,"_addOnComplete");function fe(){var We=D;if(D=We?We[uf]():null,!We){var ze=F;ze&&ze[Ln]>0&&(Hr(ze,function(ht){try{ht.func.call(ht.self,ht.args)}catch(st){Dr(I[$s],2,73,"Unexpected Exception during onComplete - "+At(st))}}),F=[])}return We}o(fe,"_moveNext");function Ee(We,ze){var ht=null,st=y.cfg;if(st&&We){var It=st[pg];!It&&ze&&(It={}),st[pg]=It,It=y.ref(st,pg),It&&(ht=It[We],!ht&&ze&&(ht={}),It[We]=ht,ht=y.ref(It,We))}return ht}o(Ee,"_getExtCfg");function Se(We,ze){var ht=Ee(We,!0);return ze&&ee(ze,function(st,It){if(J(ht[st])){var Vt=y.cfg[st];(Vt||!J(Vt))&&(ht[st]=Vt)}W6(y,ht,st,It)}),y.setDf(ht,ze)}o(Se,"_resolveExtCfg");function qe(We,ze,ht){ht===void 0&&(ht=!1);var st,It=Ee(We,!1),Vt=y.cfg;return It&&(It[ze]||!J(It[ze]))?st=It[ze]:(Vt[ze]||!J(Vt[ze]))&&(st=Vt[ze]),st||!J(st)?st:ht}o(qe,"_getConfig");function Xe(We){for(var ze;ze=U._next();){var ht=ze[TA]();ht&&We(ht)}}return o(Xe,"_iterateChain"),U}o(r9,"_createInternalContext");function s2(g,y,I,_){var D=uc(y),F=r9(g,D,I,_),U=F.ctx;function oe(Ee){var Se=F._next();return Se&&Se[ac](Ee,U),!Se}o(oe,"_processNext");function fe(Ee,Se){return Ee===void 0&&(Ee=null),Ue(Ee)&&(Ee=R(Ee,D.cfg,I,Se)),s2(Ee||U[uf](),D.cfg,I,Se)}return o(fe,"_createNew"),U[tl]=oe,U[fg]=fe,U}o(s2,"createProcessTelemetryContext");function w(g,y,I){var _=uc(y.config),D=r9(g,_,y,I),F=D.ctx;function U(fe){var Ee=D._next();return Ee&&Ee[ug](F,fe),!Ee}o(U,"_processNext");function oe(fe,Ee){return fe===void 0&&(fe=null),Ue(fe)&&(fe=R(fe,_.cfg,y,Ee)),w(fe||F[uf](),y,Ee)}return o(oe,"_createNew"),F[tl]=U,F[fg]=oe,F}o(w,"createProcessTelemetryUnloadContext");function B(g,y,I){var _=uc(y.config),D=r9(g,_,y,I),F=D.ctx;function U(fe){return F.iterate(function(Ee){Re(Ee[Ld])&&Ee[Ld](F,fe)})}o(U,"_processNext");function oe(fe,Ee){return fe===void 0&&(fe=null),Ue(fe)&&(fe=R(fe,_.cfg,y,Ee)),B(fe||F[uf](),y,Ee)}return o(oe,"_createNew"),F[tl]=U,F[fg]=oe,F}o(B,"createProcessTelemetryUpdateContext");function R(g,y,I,_){var D=null,F=!_;if(Ue(g)&&g[Ln]>0){var U=null;Hr(g,function(oe){if(!F&&_===oe&&(F=!0),F&&oe&&Re(oe[ac])){var fe=Q(oe,y,I);D||(D=fe),U&&U._setNext(fe),U=fe}})}return _&&!D?R([_],y,I):D}o(R,"createTelemetryProxyChain");function Q(g,y,I){var _=null,D=Re(g[ac]),F=Re(g[gh]),U;g?U=g[hh]+"-"+g[PA]+"-"+CB++:U="Unknown-0-"+CB++;var oe={getPlugin:o(function(){return g},"getPlugin"),getNext:o(function(){return _},"getNext"),processTelemetry:Se,unload:qe,update:Xe,_id:U,_setNext:o(function(We){_=We},"_setNext")};function fe(){var We;return g&&Re(g[t9])&&(We=g[t9]()),We||(We=s2(oe,y,I)),We}o(fe,"_getTelCtx");function Ee(We,ze,ht,st,It){var Vt=!1,fr=g?g[hh]:MH,Tr=We[yB];return Tr||(Tr=We[yB]={}),We.setNext(_),g&&i2(We[zs](),function(){return fr+":"+ht},function(){Tr[U]=!0;try{var Pn=_?_._id:ri;Pn&&(Tr[Pn]=!1),Vt=ze(We)}catch(di){var fi=_?Tr[_._id]:!0;fi&&(Vt=!0),(!_||!fi)&&Dr(We[cf](),1,73,"Plugin ["+fr+"] failed during "+ht+" - "+At(di)+", run flags: "+At(Tr))}},st,It),Vt}o(Ee,"_processChain");function Se(We,ze){ze=ze||fe();function ht(st){if(!g||!D)return!1;var It=Sh(g);return It[lf]||It[LE]?!1:(F&&g[gh](_),g[ac](We,st),!0)}o(ht,"_callProcessTelemetry"),Ee(ze,ht,"processTelemetry",function(){return{item:We}},!We.sync)||ze[tl](We)}o(Se,"_processTelemetry");function qe(We,ze){function ht(){var st=!1;if(g){var It=Sh(g),Vt=g[zs]||It[zs];g&&(!Vt||Vt===We.core())&&!It[lf]&&(It[zs]=null,It[lf]=!0,It[sf]=!1,g[lf]&&g[lf](We,ze)===!0&&(st=!0))}return st}o(ht,"_callTeardown"),Ee(We,ht,"unload",function(){},ze.isAsync)||We[tl](ze)}o(qe,"_unloadPlugin");function Xe(We,ze){function ht(){var st=!1;if(g){var It=Sh(g),Vt=g[zs]||It[zs];g&&(!Vt||Vt===We.core())&&!It[lf]&&g[Ld]&&g[Ld](We,ze)===!0&&(st=!0)}return st}o(ht,"_callUpdate"),Ee(We,ht,"update",function(){},!1)||We[tl](ze)}return o(Xe,"_updatePlugin"),xt(oe)}o(Q,"createTelemetryPluginProxy");function ue(){var g=[];function y(_){_&&g[Pi](_)}o(y,"_addHandler");function I(_,D){Hr(g,function(F){try{F(_,D)}catch(U){Dr(_[cf](),2,73,"Unexpected error calling unload handler - "+At(U))}}),g=[]}return o(I,"_runHandlers"),{add:y,run:I}}o(ue,"createUnloadHandlerContainer");function Te(){var g=[];function y(_){var D=g;g=[],Hr(D,function(F){try{(F.rm||F.remove).call(F)}catch(U){Dr(_,2,73,"Unloading:"+At(U))}})}o(y,"_doUnload");function I(_){_&&sA(g,_)}return o(I,"_addHook"),{run:y,add:I}}o(Te,"createUnloadHookContainer");var ke,He="getPlugin",rt=(ke={},ke[pg]={isVal:qE,v:{}},ke),Et=function(){function g(){var y=this,I,_,D,F,U;Ee(),Sl(g,y,function(Se){Se[Vy]=function(qe,Xe,We,ze){fe(qe,Xe,ze),I=!0},Se[lf]=function(qe,Xe){var We=Se[zs];if(!We||qe&&We!==qe[zs]())return;var ze,ht=!1,st=qe||w(null,We,D&&D[He]?D[He]():D),It=Xe||{reason:0,isAsync:!1};function Vt(){ht||(ht=!0,F.run(st,Xe),U.run(st[cf]()),ze===!0&&st[tl](It),Ee())}return o(Vt,"_unloadCallback"),!Se[_E]||Se[_E](st,It,Vt)!==!0?Vt():ze=!0,ze},Se[Ld]=function(qe,Xe){var We=Se[zs];if(!We||qe&&We!==qe[zs]())return;var ze,ht=!1,st=qe||B(null,We,D&&D[He]?D[He]():D),It=Xe||{reason:0};function Vt(){ht||(ht=!0,fe(st.getCfg(),st.core(),st[uf]()))}return o(Vt,"_updateCallback"),!Se._doUpdate||Se._doUpdate(st,It,Vt)!==!0?Vt():ze=!0,ze},Jy(Se,"_addUnloadCb",function(){return F},"add"),Jy(Se,"_addHook",function(){return U},"add"),Oe(Se,"_unloadHooks",{g:o(function(){return U},"g")})}),y[cf]=function(Se){return oe(Se)[cf]()},y[sf]=function(){return I},y.setInitialized=function(Se){I=Se},y[gh]=function(Se){D=Se},y[tl]=function(Se,qe){qe?qe[tl](Se):D&&Re(D[ac])&&D[ac](Se,null)},y._getTelCtx=oe;function oe(Se){Se===void 0&&(Se=null);var qe=Se;if(!qe){var Xe=_||s2(null,{},y[zs]);D&&D[He]?qe=Xe[fg](null,D[He]):qe=Xe[fg](null,D)}return qe}o(oe,"_getTelCtx");function fe(Se,qe,Xe){uc(Se,rt,a3(qe)),!Xe&&qe&&(Xe=qe[wA]()[uf]());var We=D;D&&D[He]&&(We=D[He]()),y[zs]=qe,_=s2(Xe,Se,qe,We)}o(fe,"_setDefaults");function Ee(){I=!1,y[zs]=null,_=null,D=null,U=Te(),F=ue()}o(Ee,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function yr(g,y,I){var _={id:y,fn:I};sA(g,_);var D={remove:o(function(){Hr(g,function(F,U){if(F.id===_.id)return g[bA](U,1),-1})},"remove")};return D}o(yr,"_addInitializer");function pn(g,y,I){for(var _=!1,D=g[Ln],F=0;F<D;++F){var U=g[F];if(U)try{if(U.fn[vE](null,[y])===!1){_=!0;break}}catch(oe){Dr(I,2,64,"Telemetry initializer failed: "+qa(oe),{exception:At(oe)},!0)}}return!_}o(pn,"_runInitializers");var kn=function(g){Hy(y,g);function y(){var I=g.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var _,D;F(),Sl(y,I,function(U,oe){U.addTelemetryInitializer=function(fe){return yr(D,_++,fe)},U[ac]=function(fe,Ee){pn(D,fe,Ee?Ee[cf]():U[cf]())&&U[tl](fe,Ee)},U[_E]=function(){F()}});function F(){_=0,D=[]}return o(F,"_initDefaults"),I}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(Et),br,kr="Plugins must provide initialize method",Sn="_notificationManager",gn="SDK is still unloading...",ni="SDK is not initialized",Hi=100,Ei=5e4,ma=_t((br={cookieCfg:{}},br[DA]={rdOnly:!0,ref:!0,v:[]},br[Od]={rdOnly:!0,ref:!0,v:[]},br[pg]={ref:!0,v:{}},br[Jc]=sc,br.loggingLevelConsole=0,br.diagnosticLogInterval=sc,br));function a2(g,y){return new LH(y)}o(a2,"_createPerfManager");function m3(g,y,I){var _=[],D=[],F={};return Hr(I,function(U){(J(U)||J(U[Vy]))&&Ht(kr);var oe=U[PA],fe=U[hh];U&&oe&&(J(F[oe])?F[oe]=fe:ex(g,"Two extensions have same priority #"+oe+" - "+F[oe]+", "+fe)),!oe||oe<y?_[Pi](U):D[Pi](U)}),{core:_,channels:D}}o(m3,"_validateExtensions");function n9(g,y){var I=!1;return Hr(y,function(_){if(_===g)return I=!0,-1}),I}o(n9,"_isPluginPresent");function lx(g,y,I,_){I&&ee(I,function(D,F){_&&w0(F)&&w0(y[D])&&lx(g,y[D],F,_),_&&w0(F)&&w0(y[D])?lx(g,y[D],F,_):g.set(y,D,F)})}o(lx,"_deepMergeConfig");function EB(g,y){var I=null,_=-1;return Hr(g,function(D,F){if(D.w===y)return I=D,_=F,-1}),{i:_,l:I}}o(EB,"_findWatcher");function UH(g,y){var I=EB(g,y).l;return I||(I={w:y,rm:o(function(){var _=EB(g,y);_.i!==-1&&g[bA](_.i,1)},"rm")},g[Pi](I)),I}o(UH,"_addDelayedCfgListener");function i9(g,y,I){Hr(y,function(_){var D=Gd(g,_.w,I);delete _.w,_.rm=function(){D.rm()}})}o(i9,"_registerDelayedCfgListener");function xB(g,y,I,_){return y.add(g[Fd](function(D){var F=D.cfg.disableDbgExt;F===!0&&_&&(I[jy](_),_=null),I&&!_&&F!==!0&&(_=TH(D.cfg),I[IE](_))})),_}o(xB,"_initDebugListener");function bB(g){return Oe({rm:o(function(){g.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(g)+">"},"v")})}o(bB,"_createUnloadHook");var Nt=function(){function g(){var y,I,_,D,F,U,oe,fe,Ee,Se,qe,Xe,We,ze,ht,st,It,Vt,fr,Tr,Pn,fi,di,to,on,Ur,mi,ls,Io,zt,qr,Vi;Sl(g,this,function(Dt){dt(),Dt._getDbgPlgTargets=function(){return[di,D]},Dt[sf]=function(){return I},Dt.activeStatus=function(){return Ur},Dt._setPendingStatus=function(){Ur=3},Dt[Vy]=function(gt,Ir,En,Mr){We&&Ht(gn),Dt[sf]()&&Ht("Core cannot be initialized more than once"),y=uc(gt,ma,En||Dt[$s],!1),gt=y.cfg,Rl(y[Fd](function(ho){var Ho=ho.cfg,r0=Ur===3;if(!r0){ls=Ho.initInMemoMaxSize||Hi;var fc=Ho.instrumentationKey,jd=Ho.endpointUrl;if(J(fc)){Pn=null,Ur=mh.INACTIVE;var $d="Please provide instrumentation key";I?(Dr(_,1,100,$d),Ts()):Ht($d);return}var xx=[];if(ot(fc)?(xx[Pi](fc),Pn=null):Pn=fc,ot(jd)?(xx[Pi](jd),mi=null):mi=jd,xx[Ln]){Io=!1,Ur=3;var I9=qE(Ho.initTimeOut)?Ho.initTimeOut:Ei,yV=_0(xx);uh(function(){Io||An()},I9),oc(yV,function(y2){try{if(Io)return;if(!y2.rejected){var C2=y2[IA];if(C2&&C2[Ln]){var jB=C2[0];if(Pn=jB&&jB[IA],C2[Ln]>1){var $B=C2[1];mi=$B&&$B[IA]}}Pn&&(gt.instrumentationKey=Pn,gt.endpointUrl=mi)}An()}catch{Io||An()}})}else An();var bx=ho.ref(ho.cfg,pg);ee(bx,function(y2){ho.ref(bx,y2)})}})),F=Mr,fr=xB(y,Vt,F&&Dt[Yc](),fr),g2(),Dt[$s]=En;var xn=gt[DA];if(Se=[],Se[Pi].apply(Se,IS(IS([],Ir,!1),xn)),qe=gt[Od],ws(null),(!Xe||Xe[Ln]===0)&&Ht("No "+Od+" available"),qe&&qe[Ln]>1){var co=Dt[TA]("TeeChannelController");(!co||!co.plugin)&&Dr(_,1,28,"TeeChannel required")}i9(gt,fi,_),fi=null,I=!0,Ur===mh.ACTIVE&&Ts()},Dt.getChannels=function(){var gt=[];return Xe&&Hr(Xe,function(Ir){gt[Pi](Ir)}),xt(gt)},Dt.track=function(gt){i2(Dt[Yy](),function(){return"AppInsightsCore:track"},function(){gt===null&&(cs(gt),Ht("Invalid telemetry item")),!gt[ph]&&J(gt[ph])&&(cs(gt),Ht("telemetry name required")),gt.iKey=gt.iKey||Pn,gt.time=gt.time||Ky(new Date),gt.ver=gt.ver||"4.0",!We&&Dt[sf]()&&Ur===mh.ACTIVE?ga()[tl](gt):Ur!==mh.INACTIVE&&D[Ln]<=ls&&D[Pi](gt)},function(){return{item:gt}},!gt.sync)},Dt[wA]=ga,Dt[Yc]=function(){return F||(F=new NH(y.cfg),Dt[Sn]=F),F},Dt[IE]=function(gt){Dt.getNotifyMgr()[IE](gt)},Dt[jy]=function(gt){F&&F[jy](gt)},Dt.getCookieMgr=function(){return fe||(fe=kH(y.cfg,Dt[$s])),fe},Dt.setCookieMgr=function(gt){fe!==gt&&(XA(fe,!1),fe=gt)},Dt[Yy]=function(){return U||oe||Ys()},Dt.setPerfMgr=function(gt){U=gt},Dt.eventCnt=function(){return D[Ln]},Dt.releaseQueue=function(){if(I&&D[Ln]>0){var gt=D;D=[],Ur===2?Hr(gt,function(Ir){Ir.iKey=Ir.iKey||Pn,ga()[tl](Ir)}):Dr(_,2,20,"core init status is not active")}},Dt.pollInternalLogs=function(gt){return ht=gt||null,Vi=!1,zt&&zt[vA](),ro(!0)};function An(){Io=!0,J(Pn)?(Ur=mh.INACTIVE,Dr(_,1,112,"ikey can't be resolved from promises")):Ur=mh.ACTIVE,Ts()}o(An,"_setStatus");function Ts(){I&&(Dt.releaseQueue(),Dt.pollInternalLogs())}o(Ts,"_releaseQueues");function ro(gt){if((!zt||!zt[af])&&!Vi){var Ir=gt||_&&_.queue[Ln]>0;Ir&&(qr||(qr=!0,Rl(y[Fd](function(En){var Mr=En.cfg.diagnosticLogInterval;(!Mr||!(Mr>0))&&(Mr=1e4);var xn=!1;zt&&(xn=zt[af],zt[vA]()),zt=gE(p2,Mr),zt.unref(),zt[af]=xn}))),zt[af]=!0)}return zt}o(ro,"_startLogPoller"),Dt[TS]=function(){Vi=!0,zt&&zt[vA](),p2()},k6(Dt,function(){return ze},["addTelemetryInitializer"]),Dt[ug]=function(gt,Ir,En){gt===void 0&&(gt=!0),I||Ht(ni),We&&Ht(gn);var Mr={reason:50,isAsync:gt,flushComplete:!1},xn;gt&&!Ir&&(xn=RA(function(Ho){Ir=Ho}));var co=w(yf(),Dt);co[TE](function(){Vt.run(Dt[$s]),nB([fe,F,_],gt,function(){dt(),Ir&&Ir(Mr)})},Dt);function ho(Ho){Mr.flushComplete=Ho,We=!0,It.run(co,Mr),Dt[TS](),co[tl](Mr)}return o(ho,"_doUnload"),p2(),Hd(gt,ho,6,En),xn},Dt[TA]=sl,Dt.addPlugin=function(gt,Ir,En,Mr){if(!gt){Mr&&Mr(!1),A2(kr);return}var xn=sl(gt[hh]);if(xn&&!Ir){Mr&&Mr(!1),A2("Plugin ["+gt[hh]+"] is already loaded!");return}var co={reason:16};function ho(fc){Se[Pi](gt),co.added=[gt],ws(co),Mr&&Mr(!0)}if(o(ho,"_addPlugin"),xn){var Ho=[xn.plugin],r0={reason:2,isAsync:!!En};k0(Ho,r0,function(fc){fc?(co.removed=Ho,co.reason|=32,ho()):Mr&&Mr(!1)})}else ho()},Dt.updateCfg=function(gt,Ir){Ir===void 0&&(Ir=!0);var En;if(Dt[sf]()){En={reason:1,cfg:y.cfg,oldCfg:fE({},y.cfg),newConfig:fE({},gt),merge:Ir},gt=En.newConfig;var Mr=y.cfg;gt[DA]=Mr[DA],gt[Od]=Mr[Od]}y._block(function(xn){var co=xn.cfg;lx(xn,co,gt,Ir),Ir||ee(co,function(ho){Ge(gt,ho)||xn.set(co,ho,sc)}),xn.setDf(co,ma)},!0),y.notify(),En&&Vd(En)},Dt.evtNamespace=function(){return st},Dt.flush=Hd,Dt.getTraceCtx=function(gt){return Tr||(Tr=QH()),Tr},Dt.setTraceCtx=function(gt){Tr=gt||null},Dt.addUnloadHook=Rl,Jy(Dt,"addUnloadCb",function(){return It},"add"),Dt.onCfgChange=function(gt){var Ir;return I?Ir=Gd(y.cfg,gt,Dt[$s]):Ir=UH(fi,gt),bB(Ir)},Dt.getWParam=function(){return rh()||y.cfg.enableWParam?0:-1};function ol(){var gt={};to=[];var Ir=o(function(En){En&&Hr(En,function(Mr){if(Mr[hh]&&Mr[_A]&&!gt[Mr.identifier]){var xn=Mr[hh]+"="+Mr[_A];to[Pi](xn),gt[Mr.identifier]=Mr}})},"_addPluginVersions");Ir(Xe),qe&&Hr(qe,function(En){Ir(En)}),Ir(Se)}o(ol,"_setPluginVersions");function dt(){I=!1,y=uc({},ma,Dt[$s]),y.cfg[wS]=1,Oe(Dt,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Ir){Dt.updateCfg(Ir,!1)},"s")}),Oe(Dt,"pluginVersionStringArr",{g:o(function(){return to||ol(),to},"g")}),Oe(Dt,"pluginVersionString",{g:o(function(){return on||(to||ol(),on=to.join(";")),on||ri},"g")}),Oe(Dt,"logger",{g:o(function(){return _||(_=new l3(y.cfg),y[$s]=_),_},"g"),s:o(function(Ir){y[$s]=Ir,_!==Ir&&(XA(_,!1),_=Ir)},"s")}),Dt[$s]=new l3(y.cfg),di=[];var gt=Dt.config[DA]||[];gt.splice(0,gt[Ln]),sA(gt,di),ze=new kn,D=[],XA(F,!1),F=null,U=null,oe=null,XA(fe,!1),fe=null,Ee=null,Se=[],qe=null,Xe=null,We=!1,ht=null,st=qd("AIBaseCore",!0),It=ue(),Tr=null,Pn=null,Vt=Te(),fi=[],on=null,to=null,Vi=!1,zt=null,qr=!1,Ur=0,mi=null,ls=null,Io=!1}o(dt,"_initDefaults");function ga(){var gt=s2(yf(),y.cfg,Dt);return gt[TE](ro),gt}o(ga,"_createTelCtx");function ws(gt){var Ir=m3(Dt[$s],EH,Se);Ee=null,on=null,to=null,Xe=(qe||[])[0]||[],Xe=e9(sA(Xe,Ir[Od]));var En=sA(e9(Ir[zs]),Xe);di=xt(En);var Mr=Dt.config[DA]||[];Mr.splice(0,Mr[Ln]),sA(Mr,di);var xn=ga();Xe&&Xe[Ln]>0&&Z6(xn[fg](Xe),En),Z6(xn,En),gt&&Vd(gt)}o(ws,"_initPluginChain");function sl(gt){var Ir=null,En=null,Mr=[];return Hr(di,function(xn){if(xn[hh]===gt&&xn!==ze)return En=xn,-1;xn.getChannel&&Mr[Pi](xn)}),!En&&Mr[Ln]>0&&Hr(Mr,function(xn){if(En=xn.getChannel(gt),!En)return-1}),En&&(Ir={plugin:En,setEnabled:o(function(xn){Sh(En)[LE]=!xn},"setEnabled"),isEnabled:o(function(){var xn=Sh(En);return!xn[lf]&&!xn[LE]},"isEnabled"),remove:o(function(xn,co){xn===void 0&&(xn=!0);var ho=[En],Ho={reason:1,isAsync:xn};k0(ho,Ho,function(r0){r0&&ws({reason:32,removed:ho}),co&&co(r0)})},"remove")}),Ir}o(sl,"_getPlugin");function yf(){if(!Ee){var gt=(di||[]).slice();T0(gt,ze)===-1&&gt[Pi](ze),Ee=R(e9(gt),y.cfg,Dt)}return Ee}o(yf,"_getPluginChain");function k0(gt,Ir,En){if(gt&&gt[Ln]>0){var Mr=R(gt,y.cfg,Dt),xn=w(Mr,Dt);xn[TE](function(){var co=!1,ho=[];Hr(Se,function(r0,fc){n9(r0,gt)?co=!0:ho[Pi](r0)}),Se=ho,on=null,to=null;var Ho=[];qe&&(Hr(qe,function(r0,fc){var jd=[];Hr(r0,function($d){n9($d,gt)?co=!0:jd[Pi]($d)}),Ho[Pi](jd)}),qe=Ho),En&&En(co),ro()}),xn[tl](Ir)}else En(!1)}o(k0,"_removePlugins");function p2(){if(_&&_.queue){var gt=_.queue.slice(0);_.queue[Ln]=0,Hr(gt,function(Ir){var En={name:ht||"InternalMessageId: "+Ir[wE],iKey:Pn,time:Ky(new Date),baseType:ZE.dataType,baseData:{message:Ir[dg]}};Dt.track(En)})}}o(p2,"_flushInternalLogs");function Hd(gt,Ir,En,Mr){var xn=1,co=!1,ho=null;Mr=Mr||5e3;function Ho(){xn--,co&&xn===0&&(ho&&ho[vA](),ho=null,Ir&&Ir(co),Ir=null)}if(o(Ho,"doCallback"),Xe&&Xe[Ln]>0){var r0=ga()[fg](Xe);r0.iterate(function(fc){if(fc.flush){xn++;var jd=!1;fc.flush(gt,function(){jd=!0,Ho()},En)||jd||(gt&&ho==null?ho=uh(function(){ho=null,Ho()},Mr):Ho())}})}return co=!0,Ho(),!0}o(Hd,"_flushChannels");function g2(){var gt;Rl(y[Fd](function(Ir){var En=Ir.cfg.enablePerfMgr;if(En){var Mr=Ir.cfg[Jc];(gt!==Mr||!gt)&&(Mr||(Mr=a2),US(Ir.cfg,Jc,Mr),gt=Mr,oe=null),!U&&!oe&&Re(Mr)&&(oe=Mr(Dt,Dt[Yc]()))}else oe=null,gt=null}))}o(g2,"_initPerfManager");function Vd(gt){var Ir=B(yf(),Dt);Ir[TE](ro),(!Dt._updateHook||Dt._updateHook(Ir,gt)!==!0)&&Ir[tl](gt)}o(Vd,"_doUpdate");function A2(gt){var Ir=Dt[$s];Ir?(Dr(Ir,2,73,gt),ro()):Ht(gt)}o(A2,"_logOrThrowError");function cs(gt){var Ir=Dt[Yc]();Ir&&Ir[FA]([gt],2)}o(cs,"_notifyInvalidEvent");function Rl(gt){Vt.add(gt)}o(Rl,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}();function Qr(g,y){try{if(g&&g!==""){var I=S0().parse(g);if(I&&I[_S]&&I[_S]>=I.itemsAccepted&&I.itemsReceived-I.itemsAccepted===I.errors[Ln])return I}}catch(_){Dr(y,1,43,"Cannot parse the response. "+(_[ph]||At(_)),{response:g})}return null}o(Qr,"parseResponse");var en="",Eo="NoResponseBody",ha="&"+Eo+"=true",Is="POST",pa=function(){function g(){var y=0,I,_,D,F,U,oe,fe,Ee,Se,qe,Xe,We,ze,ht;Sl(g,this,function(st,It){var Vt=!0;Io(),st[Vy]=function(zt,qr){D=qr,_&&Dr(D,1,28,"Sender is already initialized"),st.SetConfig(zt),_=!0},st._getDbgPlgTargets=function(){return[_,F,oe,I]},st.SetConfig=function(zt){try{if(U=zt.senderOnCompleteCallBack||{},oe=!!zt.disableCredentials,fe=zt.fetchCredentials,F=!!zt.isOneDs,I=!!zt.enableSendPromise,Se=!!zt.disableXhr,qe=!!zt.disableBeacon,Xe=!!zt.disableBeaconSync,ht=zt.timeWrapper,ze=!!zt.addNoResponse,We=!!zt.disableFetchKeepAlive,Ee={sendPOST:Ur},F||(Vt=!1),oe){var qr=GA();qr&&qr.protocol&&qr.protocol[EA]()==="file:"&&(Vt=!1)}return!0}catch{}return!1},st.getSyncFetchPayload=function(){return y},st.getSenderInst=function(zt,qr){return zt&&zt[Ln]?fi(zt,qr):null},st.getFallbackInst=function(){return Ee},st[_E]=function(zt,qr){Io()};function fr(zt,qr){di(qr,200,{},zt)}o(fr,"_onSuccess");function Tr(zt,qr){Dr(D,2,26,"Failed to send telemetry.",{message:zt}),di(qr,400,{})}o(Tr,"_onError");function Pn(zt){Tr("No endpoint url is provided for the batch",zt)}o(Pn,"_onNoPayloadUrl");function fi(zt,qr){for(var Vi=0,Dt=null,An=0;Dt==null&&An<zt[Ln];)Vi=zt[An],!Se&&Vi===1?Q6()?Dt=ls:M6()&&(Dt=Ur):Vi===2&&r3(qr)&&(!qr||!We)?Dt=mi:Vi===3&&bh()&&(qr?!Xe:!qe)&&(Dt=on),An++;return Dt?{_transport:Vi,_isSync:qr,sendPOST:Dt}:null}o(fi,"_getSenderInterface");function di(zt,qr,Vi,Dt){try{zt&&zt(qr,Vi,Dt)}catch{}}o(di,"_doOnComplete");function to(zt,qr){var Vi=nh(),Dt=zt[Qd];if(!Dt)return Pn(qr),!0;Dt=zt[Qd]+(ze?ha:en);var An=zt[SA],Ts=F?An:new Blob([An],{type:"text/plain;charset=UTF-8"}),ro=Vi.sendBeacon(Dt,Ts);return ro}o(to,"_doBeaconSend");function on(zt,qr,Vi){var Dt=zt[SA];try{if(Dt)if(to(zt,qr))fr(en,qr);else{var An=U&&U.beaconOnRetry;An&&Re(An)?An(zt,qr,to):(Ee&&Ee.sendPOST(zt,qr,!0),Dr(D,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Ts){F&&ex(D,"Failed to send telemetry using sendBeacon API. Ex:"+At(Ts)),di(qr,F?0:400,{},en)}}o(on,"_beaconSender");function Ur(zt,qr,Vi){var Dt,An,Ts,ro=zt[I6]||{};!Vi&&I&&(Dt=RA(function(ws,sl){An=ws,Ts=sl})),F&&Vi&&zt.disableXhrSync&&(Vi=!1);var ol=zt[Qd];if(!ol){Pn(qr),An&&An(!1);return}var dt=P6(Is,ol,Vt,!0,Vi,zt[Md]);F||dt.setRequestHeader("Content-type","application/json"),Hr(et(ro),function(ws){dt.setRequestHeader(ws,ro[ws])}),dt.onreadystatechange=function(){F||(ga(dt),dt.readyState===4&&An&&An(!0))},dt.onload=function(){F&&ga(dt)};function ga(ws){var sl=U&&U.xhrOnComplete,yf=sl&&Re(sl);if(yf)sl(ws,qr,zt);else{var k0=GE(ws);di(qr,ws[$y],yg(ws,F),k0)}}return o(ga,"_doOnReadyFunc"),dt.onerror=function(ws){di(qr,F?dt[$y]:400,yg(dt,F),F?en:WE(dt)),Ts&&Ts(ws)},dt.ontimeout=function(){di(qr,F?dt[$y]:500,yg(dt,F),F?en:WE(dt)),An&&An(!1)},dt.send(zt[SA]),Dt}o(Ur,"_xhrSender");function mi(zt,qr,Vi){var Dt,An=zt[Qd],Ts=zt[SA],ro=F?Ts:new Blob([Ts],{type:"application/json"}),ol,dt,ga,ws=new Headers,sl=Ts[Ln],yf=!1,k0=!1,p2=zt[I6]||{},Hd=(Dt={method:Is,body:ro},Dt[iB]=!0,Dt);zt.headers&&et(zt.headers)[Ln]>0&&(Hr(et(p2),function(cs){ws.append(cs,p2[cs])}),Hd[I6]=ws),fe?Hd.credentials=fe:Vt&&F&&(Hd.credentials="include"),Vi&&(Hd.keepalive=!0,y+=sl,F?zt._sendReason===2&&(yf=!0,ze&&(An+=ha)):yf=!0);var g2=new Request(An,Hd);try{g2[iB]=!0}catch{}if(!Vi&&I&&(ol=RA(function(cs,Rl){dt=cs,ga=Rl})),!An){Pn(qr),dt&&dt(!1);return}function Vd(cs){di(qr,F?0:400,{},F?en:cs)}o(Vd,"_handleError");function A2(cs,Rl,gt){var Ir=cs[$y],En=U.fetchOnComplete;En&&Re(En)?En(cs,qr,gt||en,Rl):di(qr,Ir,{},gt||en)}o(A2,"_onFetchComplete");try{oc(fetch(F?An:g2,F?Hd:null),function(cs){if(Vi&&(y-=sl,sl=0),!k0)if(k0=!0,cs.rejected)Vd(cs.reason&&cs.reason[dg]),ga&&ga(cs.reason);else{var Rl=cs[IA];try{!F&&!Rl.ok?(Vd(Rl.statusText),dt&&dt(!1)):F&&!Rl.body?(A2(Rl,null,en),dt&&dt(!0)):oc(Rl.text(),function(gt){A2(Rl,zt,gt[IA]),dt&&dt(!0)})}catch(gt){Vd(At(gt)),ga&&ga(gt)}}})}catch(cs){k0||(Vd(At(cs)),ga&&ga(cs))}return yf&&!k0&&(k0=!0,di(qr,200,{}),dt&&dt(!0)),F&&!k0&&zt[Md]>0&&ht&&ht.set(function(){k0||(k0=!0,di(qr,500,{}),dt&&dt(!0))},zt[Md]),ol}o(mi,"_doFetchSender");function ls(zt,qr,Vi){var Dt=Rd(),An=new XDomainRequest,Ts=zt[SA];An.onload=function(){var ws=GE(An),sl=U&&U.xdrOnComplete;sl&&Re(sl)?sl(An,qr,zt):di(qr,200,{},ws)},An.onerror=function(){di(qr,400,{},F?en:GS(An))},An.ontimeout=function(){di(qr,500,{})},An.onprogress=function(){};var ro=Dt&&Dt.location&&Dt.location.protocol||"",ol=zt[Qd];if(!ol){Pn(qr);return}if(!F&&ol.lastIndexOf(ro,0)!==0){var dt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Dr(D,2,40,". "+dt),Tr(dt,qr);return}var ga=F?ol:ol[yh](/^(https?:)/,"");An.open(Is,ga),zt[Md]&&(An[Md]=zt[Md]),An.send(Ts),F&&Vi?ht&&ht.set(function(){An.send(Ts)},0):An.send(Ts)}o(ls,"_xdrSender");function Io(){y=0,_=!1,I=!1,D=null,F=null,U=null,oe=null,fe=null,Ee=null,Se=!1,qe=!1,Xe=!1,We=!1,ze=!1,ht=null}o(Io,"_initDefaults")})}return o(g,"SenderPostManager"),g.__ieDyn=1,g}(),xg="on",Bh="attachEvent",l2="addEventListener",vB="detachEvent",IB="removeEventListener",cx="events";qd("aiEvtPageHide"),qd("aiEvtPageShow");var qH=/\.[\.]+/g,Jle=/[\.]+$/,rOe=1,TB=YS("events"),nOe=/^([^.]*)(?:\.(.+)|)/;function Xle(g){return g&&g[yh]?g[yh](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ri):g}o(Xle,"_normalizeNamespace");function GH(g,y){if(y){var I=ri;Ue(y)?(I=ri,Hr(y,function(D){D=Xle(D),D&&(D[0]!=="."&&(D="."+D),I+=D)})):I=Xle(y),I&&(I[0]!=="."&&(I="."+I),g=(g||ri)+I)}var _=nOe.exec(g||ri)||[];return{type:_[1],ns:(_[2]||ri).replace(qH,".").replace(Jle,ri)[Ah](".").sort().join(".")}}o(GH,"_getEvtNamespace");function Zle(g,y,I){I===void 0&&(I=!0);var _=TB.get(g,cx,{},I),D=_[y];return D||(D=_[y]=[]),D}o(Zle,"_getRegisteredEvents");function e0e(g,y,I,_){g&&y&&y[Bl]&&(g[IB]?g[IB](y[Bl],I,_):g[vB]&&g[vB](xg+y[Bl],I))}o(e0e,"_doDetach");function iOe(g,y,I,_){var D=!1;return g&&y&&y[Bl]&&I&&(g[l2]?(g[l2](y[Bl],I,_),D=!0):g[Bh]&&(g[Bh](xg+y[Bl],I),D=!0)),D}o(iOe,"_doAttach");function t0e(g,y,I,_){for(var D=y[Ln];D--;){var F=y[D];F&&(!I.ns||I.ns===F[x6].ns)&&(!_||_(F))&&(e0e(g,F[x6],F.handler,F.capture),y[bA](D,1))}}o(t0e,"_doUnregister");function oOe(g,y,I){if(y[Bl])t0e(g,Zle(g,y[Bl]),y,I);else{var _=TB.get(g,cx,{});ee(_,function(D,F){t0e(g,F,y,I)}),et(_)[Ln]===0&&TB.kill(g,cx)}}o(oOe,"_unregisterEvents");function r0e(g,y){var I;return y?(Ue(y)?I=[g].concat(y):I=[g,y],I=GH("xx",I).ns[Ah](".")):I=g,I}o(r0e,"mergeEvtNamespace");function n0e(g,y,I,_,D){D===void 0&&(D=!1);var F=!1;if(g)try{var U=GH(y,_);if(F=iOe(g,U,I,D),F&&TB.accept(g)){var oe={guid:rOe++,evtName:U,handler:I,capture:D};Zle(g,U.type)[Pi](oe)}}catch{}return F}o(n0e,"eventOn");function sOe(g,y,I,_,D){if(D===void 0&&(D=!1),g)try{var F=GH(y,_),U=!1;oOe(g,F,function(oe){return F.ns&&!I||oe.handler===I?(U=!0,!0):!1}),U||e0e(g,F,I,D)}catch{}}o(sOe,"eventOff");var i0e="sampleRate",WH="ProcessLegacy",o0e="http.method",HH="https://dc.services.visualstudio.com",ux="/v2/track",c2="not_specified",s0e=nH({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),wB="split",Zn="length",VH="toLowerCase",h3="ingestionendpoint",o9="toString",a0e="removeItem",_B="message",aOe="count",jH="stringify",$H="pathname",s9="match",u2="name",kh="properties",bg="measurements",SB="sizeInBytes",BB="typeName",a9="exceptions",l9="severityLevel",zH="problemGroup",fx="parsedStack",kB="hasFullStack",RB="assembly",vg="fileName",dx="line",DB="aiDataContract",PB="duration";function l0e(g,y,I){var _=y[Zn],D=lOe(g,y);if(D[Zn]!==_){for(var F=0,U=D;I[U]!==void 0;)F++,U=de(D,0,147)+fOe(F);D=U}return D}o(l0e,"dataSanitizeKeyAndAddUniqueness");function lOe(g,y){var I;return y&&(y=Di(yt(y)),y[Zn]>150&&(I=de(y,0,150),Dr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),I||y}o(lOe,"dataSanitizeKey");function e0(g,y,I){I===void 0&&(I=1024);var _;return y&&(I=I||1024,y=Di(yt(y)),y[Zn]>I&&(_=de(y,0,I),Dr(g,2,61,"string value is too long. It has been truncated to "+I+" characters.",{value:y},!0))),_||y}o(e0,"dataSanitizeString");function YH(g,y){return u0e(g,y,2048,66)}o(YH,"dataSanitizeUrl");function c0e(g,y){var I;return y&&y[Zn]>32768&&(I=de(y,0,32768),Dr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),I||y}o(c0e,"dataSanitizeMessage");function cOe(g,y){var I;if(y){var _=""+y;_[Zn]>32768&&(I=de(_,0,32768),Dr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return I||y}o(cOe,"dataSanitizeException");function p3(g,y){if(y){var I={};ee(y,function(_,D){if(ve(D)&&WA())try{D=S0()[jH](D)}catch(F){Dr(g,2,49,"custom property is not valid",{exception:F},!0)}D=e0(g,D,8192),_=l0e(g,_,I),I[_]=D}),y=I}return y}o(p3,"dataSanitizeProperties");function g3(g,y){if(y){var I={};ee(y,function(_,D){_=l0e(g,_,I),I[_]=D}),y=I}return y}o(g3,"dataSanitizeMeasurements");function uOe(g,y){return y&&u0e(g,y,128,69)[o9]()}o(uOe,"dataSanitizeId");function u0e(g,y,I,_){var D;return y&&(y=Di(yt(y)),y[Zn]>I&&(D=de(y,0,I),Dr(g,2,_,"input is too long, it has been truncated to "+I+" characters.",{data:y},!0))),D||y}o(u0e,"dataSanitizeInput");function fOe(g){var y="00"+g;return ye(y,y[Zn]-3)}o(fOe,"dsPadNumber");var f0e=iA()||{},d0e=0,dOe=[null,null,null,null,null];function mOe(g){var y=d0e,I=dOe,_=I[y];return f0e.createElement?I[y]||(_=I[y]=f0e.createElement("a")):_={host:hOe(g,!0)},_.href=g,y++,y>=I[Zn]&&(y=0),d0e=y,_}o(mOe,"urlParseUrl");function hOe(g,y){var I=pOe(g,y)||"";if(I){var _=I[s9](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[Zn]>3&&ce(_[2])&&_[2][Zn]>0)return _[2]+(_[3]||"")}return I}o(hOe,"urlParseHost");function pOe(g,y){var I=null;if(g){var _=g[s9](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[Zn]>2&&ce(_[2])&&_[2][Zn]>0&&(I=_[2]||"",y&&_[Zn]>2)){var D=(_[1]||"")[VH](),F=_[3]||"";(D==="http"&&F===":80"||D==="https"&&F===":443")&&(F=""),I+=F}}return I}o(pOe,"urlParseFullHost");var gOe=[HH+ux,"https://breeze.aimon.applicationinsights.io"+ux,"https://dc-int.services.visualstudio.com"+ux];function m0e(g){return T0(gOe,g[VH]())!==-1}o(m0e,"isInternalApplicationInsightsEndpoint");function AOe(g,y,I,_){var D,F=_,U=_;if(y&&y[Zn]>0){var oe=mOe(y);if(D=oe.host,!F)if(oe[$H]!=null){var fe=oe.pathname[Zn]===0?"/":oe[$H];fe.charAt(0)!=="/"&&(fe="/"+fe),U=oe[$H],F=e0(g,I?I+" "+fe:fe)}else F=e0(g,y)}else D=_,F=_;return{target:D,name:F,data:U}}o(AOe,"AjaxHelperParseDependencyPath");var KH=bE({LocalStorage:0,SessionStorage:1}),mx=void 0,h0e="";function p0e(g){try{if(J(nf()))return null;var y=new Date()[o9](),I=Ps(g===KH.LocalStorage?"localStorage":"sessionStorage"),_=h0e+y;I.setItem(_,y);var D=I.getItem(_)!==y;if(I[a0e](_),!D)return I}catch{}return null}o(p0e,"_getVerifiedStorageObject");function JH(){return g0e()?p0e(KH.SessionStorage):null}o(JH,"_getSessionStorageObject");function yOe(g){h0e=g||""}o(yOe,"utlSetStoragePrefix");function g0e(g){return(g||mx===void 0)&&(mx=!!p0e(KH.SessionStorage)),mx}o(g0e,"utlCanUseSessionStorage");function COe(g,y){var I=JH();if(I!==null)try{return I.getItem(y)}catch(_){mx=!1,Dr(g,2,2,"Browser failed read of session storage. "+qa(_),{exception:At(_)})}return null}o(COe,"utlGetSessionStorage");function EOe(g,y,I){var _=JH();if(_!==null)try{return _.setItem(y,I),!0}catch(D){mx=!1,Dr(g,2,4,"Browser failed write to session storage. "+qa(D),{exception:At(D)})}return!1}o(EOe,"utlSetSessionStorage");function xOe(g,y){var I=JH();if(I!==null)try{return I[a0e](y),!0}catch(_){mx=!1,Dr(g,2,6,"Browser failed removal of session storage item. "+qa(_),{exception:At(_)})}return!1}o(xOe,"utlRemoveSessionStorage");var bOe=";",vOe="=";function XH(g){if(!g)return{};var y=g[wB](bOe),I=VW(y,function(D,F){var U=F[wB](vOe);if(U[Zn]===2){var oe=U[0][VH](),fe=U[1];D[oe]=fe}return D},{});if(et(I)[Zn]>0){if(I.endpointsuffix){var _=I.location?I.location+".":"";I[h3]=I[h3]||"https://"+_+"dc."+I.endpointsuffix}I[h3]=I[h3]||HH,ES(I[h3],"/")&&(I[h3]=I[h3].slice(0,-1))}return I}o(XH,"parseConnectionString");var IOe=function(){function g(y,I,_){var D=this,F=this;F.ver=1,F.sampleRate=100,F.tags={},F[u2]=e0(y,_)||c2,F.data=I,F.time=Ky(new Date),F[DB]={time:1,iKey:1,name:1,sampleRate:o(function(){return D.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(g,"Envelope"),g}(),hx=function(){function g(y,I,_,D){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var F=this;F.ver=2,F[u2]=e0(y,I)||c2,F[kh]=p3(y,_),F[bg]=g3(y,D)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),TOe=58,wOe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,_Oe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,SOe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,BOe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,kOe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,ROe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,DOe=/([^\(\s\n]+):([0-9]+)$/,A0e="<no_method>",px="error",Af="stack",ZH="stackDetails",y0e="errorSrc",eV="message",C0e="description",E0e=[{re:_Oe,len:5,m:1,fn:2,ln:3,col:4},{chk:NOe,pre:POe,re:SOe,len:4,m:1,fn:2,ln:3},{re:BOe,len:3,m:1,fn:2,hdl:w0e},{re:kOe,len:2,fn:1,hdl:w0e}];function POe(g){return g.replace(/(\(anonymous\))/,"<anonymous>")}o(POe,"_scrubAnonymous");function NOe(g){return Dd(g,"[native")<0}o(NOe,"_ignoreNative");function tV(g,y){var I=g;return I&&!ce(I)&&(JSON&&JSON[jH]?(I=JSON[jH](g),y&&(!I||I==="{}")&&(Re(g[o9])?I=g[o9]():I=""+g)):I=""+g+" - (Missing JSON.stringify)"),I||""}o(tV,"_stringify");function x0e(g,y){var I=g;return g&&(I&&!ce(I)&&(I=g[eV]||g[C0e]||I),I&&!ce(I)&&(I=tV(I,!0)),g.filename&&(I=I+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Dd(I||"",y)===-1&&(I=y+": "+I),I||""}o(x0e,"_formatMessage");function FOe(g){try{if(ve(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(FOe,"_isExceptionDetailsInternal");function LOe(g){try{if(ve(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(LOe,"_isExceptionInternal");function b0e(g){return g&&g.src&&ce(g.src)&&g.obj&&Ue(g.obj)}o(b0e,"_isStackDetails");function A3(g){var y=g||"";ce(y)||(ce(y[Af])?y=y[Af]:y=""+y);var I=y[wB](`
`);return{src:y,obj:I}}o(A3,"_convertStackObj");function QOe(g){for(var y=[],I=g[wB](`
`),_=0;_<I[Zn];_++){var D=I[_];I[_+1]&&(D+="@"+I[_+1],_++),y.push(D)}return{src:g,obj:y}}o(QOe,"_getOperaStack");function v0e(g){var y=null;if(g)try{if(g[Af])y=A3(g[Af]);else if(g[px]&&g[px][Af])y=A3(g[px][Af]);else if(g.exception&&g.exception[Af])y=A3(g.exception[Af]);else if(b0e(g))y=g;else if(b0e(g[ZH]))y=g[ZH];else if(Rd()&&Rd().opera&&g[eV])y=QOe(g[_B]);else if(g.reason&&g.reason[Af])y=A3(g.reason[Af]);else if(ce(g))y=A3(g);else{var I=g[eV]||g[C0e]||"";ce(g[y0e])&&(I&&(I+=`
`),I+=" from "+g[y0e]),I&&(y=A3(I))}}catch(_){y=A3(_)}return y||{src:"",obj:null}}o(v0e,"_getStackFromErrorObj");function MOe(g){var y="";return g&&(g.obj?y=g.obj.join(`
`):y=g.src||""),y}o(MOe,"_formatStackTrace");function OOe(g){var y,I=g.obj;if(I&&I[Zn]>0){y=[];var _=0,D=!1,F=0;Hr(I,function(ht){if(D||WOe(ht)){var st=yt(ht);D=!0;var It=HOe(st,_);It&&(F+=It[SB],y.push(It),_++)}});var U=32*1024;if(F>U)for(var oe=0,fe=y[Zn]-1,Ee=0,Se=oe,qe=fe;oe<fe;){var Xe=y[oe][SB],We=y[fe][SB];if(Ee+=Xe+We,Ee>U){var ze=qe-Se+1;y.splice(Se,ze);break}Se=oe,qe=fe,oe++,fe--}}return y}o(OOe,"_parseStack");function NB(g){var y="";if(g&&(y=g.typeName||g[u2]||"",!y))try{var I=/function (.{1,200})\(/,_=I.exec(g.constructor[o9]());y=_&&_[Zn]>1?_[1]:""}catch{}return y}o(NB,"_getErrorType");function rV(g){if(g)try{if(!ce(g)){var y=NB(g),I=tV(g,!1);return(!I||I==="{}")&&(g[px]&&(g=g[px],y=NB(g)),I=tV(g,!0)),Dd(I,y)!==0&&y!=="String"?y+":"+I:I}}catch{}return""+(g||"")}o(rV,"_formatErrorCode");var FB=function(){function g(y,I,_,D,F,U){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,LOe(I)?(oe[a9]=I[a9]||[],oe[kh]=I[kh],oe[bg]=I[bg],I[l9]&&(oe[l9]=I[l9]),I.id&&(oe.id=I.id,I[kh].id=I.id),I[zH]&&(oe[zH]=I[zH]),J(I.isManual)||(oe.isManual=I.isManual)):(_||(_={}),U&&(_.id=U),oe[a9]=[I0e(y,I,_)],oe[kh]=p3(y,_),oe[bg]=g3(y,D),F&&(oe[l9]=F),U&&(oe.id=U))}return o(g,"Exception"),g.CreateAutoException=function(y,I,_,D,F,U,oe,fe){var Ee=NB(F||U||y);return{message:x0e(y,Ee),url:I,lineNumber:_,columnNumber:D,error:rV(F||U||y),evt:rV(U||y),typeName:Ee,stackDetails:v0e(oe||F||U),errorSrc:fe}},g.CreateFromInterface=function(y,I,_,D){var F=I[a9]&&rg(I[a9],function(oe){return GOe(y,oe)}),U=new g(y,Nd(Nd({},I),{exceptions:F}),_,D);return U},g.prototype.toInterface=function(){var y=this,I=y.exceptions,_=y.properties,D=y.measurements,F=y.severityLevel,U=y.problemGroup,oe=y.id,fe=y.isManual,Ee=I instanceof Array&&rg(I,function(Se){return Se.toInterface()})||void 0;return{ver:"4.0",exceptions:Ee,severityLevel:F,properties:_,measurements:D,problemGroup:U,id:oe,isManual:fe}},g.CreateSimpleException=function(y,I,_,D,F,U){var oe;return{exceptions:[(oe={},oe[kB]=!0,oe.message=y,oe.stack=F,oe.typeName=I,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=rV,g}(),UOe=xt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function qOe(){var g=this,y=Ue(g[fx])&&rg(g[fx],function(_){return jOe(_)}),I={id:g.id,outerId:g.outerId,typeName:g[BB],message:g[_B],hasFullStack:g[kB],stack:g[Af],parsedStack:y||void 0};return I}o(qOe,"_toInterface");function I0e(g,y,I){var _,D,F,U,oe,fe,Ee,Se;if(FOe(y))U=y[BB],oe=y[_B],Ee=y[Af],Se=y[fx]||[],fe=y[kB];else{var qe=y,Xe=qe&&qe.evt;it(qe)||(qe=qe[px]||Xe||qe),U=e0(g,NB(qe))||c2,oe=c0e(g,x0e(y||qe,U))||c2;var We=y[ZH]||v0e(y);Se=OOe(We),Ue(Se)&&rg(Se,function(ze){ze[RB]=e0(g,ze[RB]),ze[vg]=e0(g,ze[vg])}),Ee=cOe(g,MOe(We)),fe=Ue(Se)&&Se[Zn]>0,I&&(I[BB]=I[BB]||U)}return _={},_[DB]=UOe,_.id=D,_.outerId=F,_.typeName=U,_.message=oe,_[kB]=fe,_.stack=Ee,_.parsedStack=Se,_.toInterface=qOe,_}o(I0e,"_createExceptionDetails");function GOe(g,y){var I=Ue(y[fx])&&rg(y[fx],function(D){return VOe(D)})||y[fx],_=I0e(g,Nd(Nd({},y),{parsedStack:I}));return _}o(GOe,"_createExDetailsFromInterface");function T0e(g,y){var I=y[s9](ROe);if(I&&I[Zn]>=4)g[vg]=I[1],g[dx]=parseInt(I[2]);else{var _=y[s9](DOe);_&&_[Zn]>=3?(g[vg]=_[1],g[dx]=parseInt(_[2])):g[vg]=y}}o(T0e,"_parseFilename");function w0e(g,y,I){var _=g[vg];y.fn&&I&&I[Zn]>y.fn&&(y.ln&&I[Zn]>y.ln?(_=Di(I[y.fn]||""),g[dx]=parseInt(Di(I[y.ln]||""))||0):_=Di(I[y.fn]||"")),_&&T0e(g,_)}o(w0e,"_handleFilename");function WOe(g){var y=!1;if(g&&ce(g)){var I=Di(g);I&&(y=wOe.test(I))}return y}o(WOe,"_isStackFrame");var _0e=xt({level:1,method:1,assembly:0,fileName:0,line:0});function HOe(g,y){var I,_;if(g&&ce(g)&&Di(g)){_=(I={},I[DB]=_0e,I.level=y,I.assembly=Di(g),I.method=A0e,I.fileName="",I.line=0,I.sizeInBytes=0,I);for(var D=0;D<E0e[Zn];){var F=E0e[D];if(F.chk&&!F.chk(g))break;F.pre&&(g=F.pre(g));var U=g[s9](F.re);if(U&&U[Zn]>=F.len){F.m&&(_.method=Di(U[F.m]||A0e)),F.hdl?F.hdl(_,F,U):F.fn&&(F.ln?(_[vg]=Di(U[F.fn]||""),_[dx]=parseInt(Di(U[F.ln]||""))||0):T0e(_,U[F.fn]||""));break}D++}}return S0e(_)}o(HOe,"_extractStackFrame");function VOe(g){var y,I=(y={},y[DB]=_0e,y.level=g.level,y.method=g.method,y.assembly=g[RB],y.fileName=g[vg],y.line=g[dx],y.sizeInBytes=0,y);return S0e(I)}o(VOe,"_stackFrameFromInterface");function S0e(g){var y=TOe;return g&&(y+=g.method[Zn],y+=g.assembly[Zn],y+=g.fileName[Zn],y+=g.level.toString()[Zn],y+=g.line.toString()[Zn],g[SB]=y),g}o(S0e,"_populateFrameSizeInBytes");function jOe(g){return{level:g.level,method:g.method,assembly:g[RB],fileName:g[vg],line:g[dx]}}o(jOe,"_parsedFrameToInterface");var $Oe=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),c9=function(){function g(y,I,_,D,F,U,oe,fe,Ee){this.aiDataContract={ver:1,metrics:1,properties:0};var Se=this;Se.ver=2;var qe=new $Oe;qe[aOe]=D>0?D:void 0,qe.max=isNaN(U)||U===null?void 0:U,qe.min=isNaN(F)||F===null?void 0:F,qe[u2]=e0(y,I)||c2,qe.value=_,qe.stdDev=isNaN(oe)||oe===null?void 0:oe,Se.metrics=[qe],Se[kh]=p3(y,fe),Se[bg]=g3(y,Ee)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),u9="";function B0e(g){(isNaN(g)||g<0)&&(g=0),g=KW(g);var y=u9+g%1e3,I=u9+ng(g/1e3)%60,_=u9+ng(g/(1e3*60))%60,D=u9+ng(g/(1e3*60*60))%24,F=ng(g/(1e3*60*60*24));return y=y[Zn]===1?"00"+y:y[Zn]===2?"0"+y:y,I=I[Zn]<2?"0"+I:I,_=_[Zn]<2?"0"+_:_,D=D[Zn]<2?"0"+D:D,(F>0?F+".":u9)+D+":"+_+":"+I+"."+y}o(B0e,"msToTimeSpan");var LB=function(){function g(y,I,_,D,F,U,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=uOe(y,oe),fe.url=YH(y,_),fe[u2]=e0(y,I)||c2,isNaN(D)||(fe[PB]=B0e(D)),fe[kh]=p3(y,F),fe[bg]=g3(y,U)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),QB=function(){function g(y,I,_,D,F,U,oe,fe,Ee,Se,qe,Xe){Ee===void 0&&(Ee="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var We=this;We.ver=2,We.id=I,We[PB]=B0e(F),We.success=U,We.resultCode=oe+"",We.type=e0(y,Ee);var ze=AOe(y,_,fe,D);We.data=YH(y,D)||ze.data,We.target=e0(y,ze.target),Se&&(We.target="".concat(We.target," | ").concat(Se)),We[u2]=e0(y,ze[u2]),We[kh]=p3(y,qe),We[bg]=g3(y,Xe)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),MB=function(){function g(y,I,_,D,F){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var U=this;U.ver=2,I=I||c2,U[_B]=c0e(y,I),U[kh]=p3(y,D),U[bg]=g3(y,F),_&&(U[l9]=_)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),OB=function(){function g(y,I,_,D,F,U,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=YH(y,_),fe[u2]=e0(y,I)||c2,fe[kh]=p3(y,F),fe[bg]=g3(y,U),oe&&(fe.domProcessing=oe.domProcessing,fe[PB]=oe[PB],fe.networkConnect=oe.networkConnect,fe.perfTotal=oe.perfTotal,fe.receivedResponse=oe.receivedResponse,fe.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),y3=function(){function g(y,I){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=I}return o(g,"Data"),g}(),zOe=bE({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function f2(g){var y="ai."+g+".";return function(I){return y+I}}o(f2,"_aiNameFunc");var f9=f2("application"),Wa=f2("device"),UB=f2("location"),gx=f2("operation"),nV=f2("session"),d2=f2("user"),C3=f2("cloud"),d9=f2("internal"),k0e=function(g){Hy(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(dH({applicationVersion:f9("ver"),applicationBuild:f9("build"),applicationTypeId:f9("typeId"),applicationId:f9("applicationId"),applicationLayer:f9("layer"),deviceId:Wa("id"),deviceIp:Wa("ip"),deviceLanguage:Wa("language"),deviceLocale:Wa("locale"),deviceModel:Wa("model"),deviceFriendlyName:Wa("friendlyName"),deviceNetwork:Wa("network"),deviceNetworkName:Wa("networkName"),deviceOEMName:Wa("oemName"),deviceOS:Wa("os"),deviceOSVersion:Wa("osVersion"),deviceRoleInstance:Wa("roleInstance"),deviceRoleName:Wa("roleName"),deviceScreenResolution:Wa("screenResolution"),deviceType:Wa("type"),deviceMachineName:Wa("machineName"),deviceVMName:Wa("vmName"),deviceBrowser:Wa("browser"),deviceBrowserVersion:Wa("browserVersion"),locationIp:UB("ip"),locationCountry:UB("country"),locationProvince:UB("province"),locationCity:UB("city"),operationId:gx("id"),operationName:gx("name"),operationParentId:gx("parentId"),operationRootId:gx("rootId"),operationSyntheticSource:gx("syntheticSource"),operationCorrelationVector:gx("correlationVector"),sessionId:nV("id"),sessionIsFirst:nV("isFirst"),sessionIsNew:nV("isNew"),userAccountAcquisitionDate:d2("accountAcquisitionDate"),userAccountId:d2("accountId"),userAgent:d2("userAgent"),userId:d2("id"),userStoreRegion:d2("storeRegion"),userAuthUserId:d2("authUserId"),userAnonymousUserAcquisitionDate:d2("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:d2("authUserAcquisitionDate"),cloudName:C3("name"),cloudRole:C3("role"),cloudRoleVer:C3("roleVer"),cloudRoleInstance:C3("roleInstance"),cloudEnvironment:C3("environment"),cloudLocation:C3("location"),cloudDeploymentUnit:C3("deploymentUnit"),internalNodeName:d9("nodeName"),internalSdkVersion:d9("sdkVersion"),internalAgentVersion:d9("agentVersion"),internalSnippet:d9("snippet"),internalSdkSrc:d9("sdkSrc")})),nl=new k0e;function R0e(g,y){sOe(g,null,null,y)}o(R0e,"_disableEvents");function YOe(g){var y=iA(),I=nh(),_=!1,D=[],F=1;I&&!J(I.onLine)&&!I.onLine&&(F=2);var U=0,oe=Xe(),fe=r0e(qd("OfflineListener"),g);try{if(Se(Rd())&&(_=!0),y){var Ee=y.body||y;Ee.ononline&&Se(Ee)&&(_=!0)}}catch{_=!1}function Se(fr){var Tr=!1;return fr&&(Tr=n0e(fr,"online",ht,fe),Tr&&n0e(fr,"offline",st,fe)),Tr}o(Se,"_enableEvents");function qe(){return oe}o(qe,"_isOnline");function Xe(){return!(U===2||F===2)}o(Xe,"calCurrentState");function We(){var fr=Xe();oe!==fr&&(oe=fr,Hr(D,function(Tr){var Pn={isOnline:oe,rState:F,uState:U};try{Tr(Pn)}catch{}}))}o(We,"listnerNoticeCheck");function ze(fr){U=fr,We()}o(ze,"setOnlineState");function ht(){F=1,We()}o(ht,"_setOnline");function st(){F=2,We()}o(st,"_setOffline");function It(){var fr=Rd();if(fr&&_){if(R0e(fr,fe),y){var Tr=y.body||y;O(Tr.ononline)||R0e(Tr,fe)}_=!1}}o(It,"_unload");function Vt(fr){return D.push(fr),{rm:o(function(){var Tr=D.indexOf(fr);if(Tr>-1)return D.splice(Tr,1)},"rm")}}return o(Vt,"addListener"),{isOnline:qe,isListening:o(function(){return _},"isListening"),unload:It,addListener:Vt,setOnlineState:ze}}o(YOe,"createOfflineListener");var KOe="AppInsightsChannelPlugin",E3="duration",kl="tags",iV="deviceType",eu="data",Ig="name",m9="traceID",ii="length",h9="stringify",x3="measurements",Rh="dataType",b3="envelopeType",v3="toString",I3="enqueue",T3="count",Tg="push",oV="emitLineDelimitedJson",Ax="clear",qB="markAsSent",p9="clearSent",sV="bufferOverride",g9="BUFFER_KEY",m2="SENT_BUFFER_KEY",yx="concat",A9="MAX_BUFFER_SIZE",y9="triggerSend",t0="diagLog",aV="initialize",C9="_sender",E9="endpointUrl",x9="instrumentationKey",lV="customHeaders",D0e="maxBatchSizeInBytes",cV="onunloadDisableBeacon",uV="isBeaconApiDisabled",P0e="alwaysUseXhrOverride",N0e="enableSessionStorageBuffer",Dh="_buffer",F0e="onunloadDisableFetch",L0e="disableSendBeaconSplit",GB="getSenderInst",w3="_onError",fV="_onPartialSuccess",WB="_onSuccess",dV="itemsReceived",mV="itemsAccepted",hV="baseType",HB="sampleRate",JOe="getHashCodeScore",pV="baseType",as="baseData",il="properties",Q0e="true";function Ks(g,y,I){return Eh(g,y,I,ie)}o(Ks,"_setValueIf");function XOe(g,y,I){var _=I[kl]=I[kl]||{},D=y.ext=y.ext||{},F=y[kl]=y[kl]||[],U=D.user;U&&(Ks(_,nl.userAuthUserId,U.authId),Ks(_,nl.userId,U.id||U.localId));var oe=D.app;oe&&Ks(_,nl.sessionId,oe.sesId);var fe=D.device;fe&&(Ks(_,nl.deviceId,fe.id||fe.localId),Ks(_,nl[iV],fe.deviceClass),Ks(_,nl.deviceIp,fe.ip),Ks(_,nl.deviceModel,fe.model),Ks(_,nl[iV],fe[iV]));var Ee=y.ext.web;if(Ee){Ks(_,nl.deviceLanguage,Ee.browserLang),Ks(_,nl.deviceBrowserVersion,Ee.browserVer),Ks(_,nl.deviceBrowser,Ee.browser);var Se=I[eu]=I[eu]||{},qe=Se[as]=Se[as]||{},Xe=qe[il]=qe[il]||{};Ks(Xe,"domain",Ee.domain),Ks(Xe,"isManual",Ee.isManual?Q0e:null),Ks(Xe,"screenRes",Ee.screenRes),Ks(Xe,"userConsent",Ee.userConsent?Q0e:null)}var We=D.os;We&&(Ks(_,nl.deviceOS,We[Ig]),Ks(_,nl.deviceOSVersion,We.osVer));var ze=D.trace;ze&&(Ks(_,nl.operationParentId,ze.parentID),Ks(_,nl.operationName,e0(g,ze[Ig])),Ks(_,nl.operationId,ze[m9]));for(var ht={},st=F[ii]-1;st>=0;st--){var It=F[st];ee(It,function(fr,Tr){ht[fr]=Tr}),F.splice(st,1)}ee(F,function(fr,Tr){ht[fr]=Tr});var Vt=Nd(Nd({},_),ht);Vt[nl.internalSdkVersion]||(Vt[nl.internalSdkVersion]=e0(g,"javascript:".concat(ZOe.Version),64)),I[kl]=R6(Vt)}o(XOe,"_extractPartAExtensions");function h2(g,y,I){J(g)||ee(g,function(_,D){Je(D)?I[_]=D:ce(D)?y[_]=D:WA()&&(y[_]=S0()[h9](D))})}o(h2,"_extractPropsAndMeasurements");function _3(g,y){J(g)||ee(g,function(I,_){g[I]=_||y})}o(_3,"_convertPropsUndefinedToCustomDefinedValue");function S3(g,y,I,_){var D=new IOe(g,_,y);Ks(D,"sampleRate",I[i0e]),(I[as]||{}).startTime&&(D.time=Ky(I[as].startTime)),D.iKey=I.iKey;var F=I.iKey.replace(/-/g,"");return D[Ig]=D[Ig].replace("{0}",F),XOe(g,I,D),I[kl]=I[kl]||[],R6(D)}o(S3,"_createEnvelope");function B3(g,y){J(y[as])&&Dr(g,1,46,"telemetryItem.baseData cannot be null.")}o(B3,"EnvelopeCreatorInit");var ZOe={Version:"3.3.6"};function eUe(g,y,I){B3(g,y);var _=y[as][x3]||{},D=y[as][il]||{};h2(y[eu],D,_),J(I)||_3(D,I);var F=y[as];if(J(F))return ex(g,"Invalid input for dependency data"),null;var U=F[il]&&F[il][o0e]?F[il][o0e]:"GET",oe=new QB(g,F.id,F.target,F[Ig],F[E3],F.success,F.responseCode,U,F.type,F.correlationContext,D,_),fe=new y3(QB[Rh],oe);return S3(g,QB[b3],y,fe)}o(eUe,"DependencyEnvelopeCreator");function M0e(g,y,I){B3(g,y);var _={},D={};y[pV]!==hx[Rh]&&(_.baseTypeSource=y[pV]),y[pV]===hx[Rh]?(_=y[as][il]||{},D=y[as][x3]||{}):y[as]&&h2(y[as],_,D),h2(y[eu],_,D),J(I)||_3(_,I);var F=y[as][Ig],U=new hx(g,F,_,D),oe=new y3(hx[Rh],U);return S3(g,hx[b3],y,oe)}o(M0e,"EventEnvelopeCreator");function tUe(g,y,I){B3(g,y);var _=y[as][x3]||{},D=y[as][il]||{};h2(y[eu],D,_),J(I)||_3(D,I);var F=y[as],U=FB.CreateFromInterface(g,F,D,_),oe=new y3(FB[Rh],U);return S3(g,FB[b3],y,oe)}o(tUe,"ExceptionEnvelopeCreator");function rUe(g,y,I){B3(g,y);var _=y[as],D=_[il]||{},F=_[x3]||{};h2(y[eu],D,F),J(I)||_3(D,I);var U=new c9(g,_[Ig],_.average,_.sampleCount,_.min,_.max,_.stdDev,D,F),oe=new y3(c9[Rh],U);return S3(g,c9[b3],y,oe)}o(rUe,"MetricEnvelopeCreator");function nUe(g,y,I){B3(g,y);var _,D=y[as];!J(D)&&!J(D[il])&&!J(D[il][E3])?(_=D[il][E3],delete D[il][E3]):!J(y[eu])&&!J(y[eu][E3])&&(_=y[eu][E3],delete y[eu][E3]);var F=y[as],U;((y.ext||{}).trace||{})[m9]&&(U=y.ext.trace[m9]);var oe=F.id||U,fe=F[Ig],Ee=F.uri,Se=F[il]||{},qe=F[x3]||{};if(J(F.refUri)||(Se.refUri=F.refUri),J(F.pageType)||(Se.pageType=F.pageType),J(F.isLoggedIn)||(Se.isLoggedIn=F.isLoggedIn[v3]()),!J(F[il])){var Xe=F[il];ee(Xe,function(ht,st){Se[ht]=st})}h2(y[eu],Se,qe),J(I)||_3(Se,I);var We=new LB(g,fe,Ee,_,Se,qe,oe),ze=new y3(LB[Rh],We);return S3(g,LB[b3],y,ze)}o(nUe,"PageViewEnvelopeCreator");function iUe(g,y,I){B3(g,y);var _=y[as],D=_[Ig],F=_.uri||_.url,U=_[il]||{},oe=_[x3]||{};h2(y[eu],U,oe),J(I)||_3(U,I);var fe=new OB(g,D,F,void 0,U,oe,_),Ee=new y3(OB[Rh],fe);return S3(g,OB[b3],y,Ee)}o(iUe,"PageViewPerformanceEnvelopeCreator");function oUe(g,y,I){B3(g,y);var _=y[as].message,D=y[as].severityLevel,F=y[as][il]||{},U=y[as][x3]||{};h2(y[eu],F,U),J(I)||_3(F,I);var oe=new MB(g,_,D,F,U),fe=new y3(MB[Rh],oe);return S3(g,MB[b3],y,fe)}o(oUe,"TraceEnvelopeCreator");var O0e=function(){function g(y,I){var _=[],D=!1,F=I.maxRetryCnt;this._get=function(){return _},this._set=function(U){return _=U,_},Sl(g,this,function(U){U[I3]=function(oe){if(U[T3]()>=I.eventsLimitInMem){D||(Dr(y,2,105,"Maximum in-memory buffer size reached: "+U[T3](),!0),D=!0);return}oe.cnt=oe.cnt||0,!(!J(F)&&oe.cnt>F)&&_[Tg](oe)},U[T3]=function(){return _[ii]},U.size=function(){for(var oe=_[ii],fe=0;fe<_[ii];fe++)oe+=_[fe].item[ii];return I[oV]||(oe+=2),oe},U[Ax]=function(){_=[],D=!1},U.getItems=function(){return _.slice(0)},U.batchPayloads=function(oe){if(oe&&oe[ii]>0){var fe=[];Hr(oe,function(Se){fe[Tg](Se.item)});var Ee=I[oV]?fe.join(`
`):"["+fe.join(",")+"]";return Ee}return null},U.createNew=function(oe,fe,Ee){var Se=_.slice(0);oe=oe||y,fe=fe||{};var qe=Ee?new U0e(oe,fe):new gV(oe,fe);return Hr(Se,function(Xe){qe[I3](Xe)}),qe}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),gV=function(g){Hy(y,g);function y(I,_){var D=g.call(this,I,_)||this;return Sl(y,D,function(F,U){F[qB]=function(oe){U[Ax]()},F[p9]=function(oe){}}),D}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(O0e),sUe=["AI_buffer","AI_sentBuffer"],U0e=function(g){Hy(y,g);function y(_,D){var F=g.call(this,_,D)||this,U=!1,oe=D?.namePrefix,fe=D[sV]||{getItem:COe,setItem:EOe},Ee=fe.getItem,Se=fe.setItem,qe=D.maxRetryCnt;return Sl(y,F,function(Xe,We){var ze=Tr(y[g9]),ht=Tr(y[m2]),st=di(),It=ht[yx](st),Vt=Xe._set(ze[yx](It));Vt[ii]>y[A9]&&(Vt[ii]=y[A9]),fi(y[m2],[]),fi(y[g9],Vt),Xe[I3]=function(on){if(Xe[T3]()>=y[A9]){U||(Dr(_,2,67,"Maximum buffer size reached: "+Xe[T3](),!0),U=!0);return}on.cnt=on.cnt||0,!(!J(qe)&&on.cnt>qe)&&(We[I3](on),fi(y[g9],Xe._get()))},Xe[Ax]=function(){We[Ax](),fi(y[g9],Xe._get()),fi(y[m2],[]),U=!1},Xe[qB]=function(on){fi(y[g9],Xe._set(fr(on,Xe._get())));var Ur=Tr(y[m2]);Ur instanceof Array&&on instanceof Array&&(Ur=Ur[yx](on),Ur[ii]>y[A9]&&(Dr(_,1,67,"Sent buffer reached its maximum size: "+Ur[ii],!0),Ur[ii]=y[A9]),fi(y[m2],Ur))},Xe[p9]=function(on){var Ur=Tr(y[m2]);Ur=fr(on,Ur),fi(y[m2],Ur)},Xe.createNew=function(on,Ur,mi){mi=!!mi;var ls=Xe._get().slice(0),Io=Tr(y[m2]).slice(0);on=on||_,Ur=Ur||{},Xe[Ax]();var zt=mi?new y(on,Ur):new gV(on,Ur);return Hr(ls,function(qr){zt[I3](qr)}),mi&&zt[qB](Io),zt};function fr(on,Ur){var mi=[],ls=[];return Hr(on,function(Io){ls[Tg](Io.item)}),Hr(Ur,function(Io){!Re(Io)&&T0(ls,Io.item)===-1&&mi[Tg](Io)}),mi}o(fr,"_removePayloadsFromBuffer");function Tr(on){var Ur=on;return Ur=oe?oe+"_"+Ur:Ur,Pn(Ur)}o(Tr,"_getBuffer");function Pn(on){try{var Ur=Ee(_,on);if(Ur){var mi=S0().parse(Ur);if(ce(mi)&&(mi=S0().parse(mi)),mi&&Ue(mi))return mi}}catch(ls){Dr(_,1,42," storage key: "+on+", "+qa(ls),{exception:At(ls)})}return[]}o(Pn,"_getBufferBase");function fi(on,Ur){var mi=on;try{mi=oe?oe+"_"+mi:mi;var ls=JSON[h9](Ur);Se(_,mi,ls)}catch(Io){Se(_,mi,JSON[h9]([])),Dr(_,2,41," storage key: "+mi+", "+qa(Io)+". Buffer cleared",{exception:At(Io)})}}o(fi,"_setBuffer");function di(){var on=[];try{return Hr(sUe,function(Ur){var mi=to(Ur);if(on=on[yx](mi),oe){var ls=oe+"_"+Ur,Io=to(ls);on=on[yx](Io)}}),on}catch(Ur){Dr(_,2,41,"Transfer events from previous buffers: "+qa(Ur)+". previous Buffer items can not be removed",{exception:At(Ur)})}return[]}o(di,"_getPreviousEvents");function to(on){try{var Ur=Pn(on),mi=[];return Hr(Ur,function(ls){var Io={item:ls,cnt:0};mi[Tg](Io)}),xOe(_,on),mi}catch{}return[]}o(to,"_getItemsFromPreviousKey")}),F}o(y,"SessionStorageSendBuffer");var I;return I=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+I.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+I.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(O0e),aUe=function(){function g(y){Sl(g,this,function(I){I.serialize=function(U){var oe=_(U,"root");try{return S0()[h9](oe)}catch(fe){Dr(y,1,48,fe&&Re(fe[v3])?fe[v3]():"Error serializing object",null,!0)}};function _(U,oe){var fe="__aiCircularRefCheck",Ee={};if(!U)return Dr(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ee;if(U[fe])return Dr(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ee;if(!U.aiDataContract){if(oe==="measurements")Ee=F(U,"number",oe);else if(oe==="properties")Ee=F(U,"string",oe);else if(oe==="tags")Ee=F(U,"string",oe);else if(Ue(U))Ee=D(U,oe);else{Dr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{S0()[h9](U),Ee=U}catch(Se){Dr(y,1,48,Se&&Re(Se[v3])?Se[v3]():"Error serializing object",null,!0)}}return Ee}return U[fe]=!0,ee(U.aiDataContract,function(Se,qe){var Xe=Re(qe)?qe()&1:qe&1,We=Re(qe)?qe()&4:qe&4,ze=qe&2,ht=U[Se]!==void 0,st=ve(U[Se])&&U[Se]!==null;if(Xe&&!ht&&!ze)Dr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Se,name:oe});else if(!We){var It=void 0;st?ze?It=D(U[Se],Se):It=_(U[Se],Se):It=U[Se],It!==void 0&&(Ee[Se]=It)}}),delete U[fe],Ee}o(_,"_serializeObject");function D(U,oe){var fe;if(U)if(!Ue(U))Dr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{fe=[];for(var Ee=0;Ee<U[ii];Ee++){var Se=U[Ee],qe=_(Se,oe+"["+Ee+"]");fe[Tg](qe)}}return fe}o(D,"_serializeArray");function F(U,oe,fe){var Ee;return U&&(Ee={},ee(U,function(Se,qe){if(oe==="string")qe===void 0?Ee[Se]="undefined":qe===null?Ee[Se]="null":qe[v3]?Ee[Se]=qe[v3]():Ee[Se]="invalid field: toString() is not defined.";else if(oe==="number")if(qe===void 0)Ee[Se]="undefined";else if(qe===null)Ee[Se]="null";else{var Xe=parseFloat(qe);Ee[Se]=Xe}else Ee[Se]="invalid field: "+fe+" is of unknown type.",Dr(y,1,Ee[Se],null,!0)})),Ee}o(F,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),lUe=8,cUe=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var I=this.getHashCode(y)/g.INT_MAX_VALUE;return I*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[ii]<lUe;)y=y[yx](y);for(var I=5381,_=0;_<y[ii];++_)I=(I<<5)+I+y.charCodeAt(_),I=I&I;return Math.abs(I)},g.INT_MAX_VALUE=2147483647,g}(),uUe=function(){function g(){var y=this,I=new cUe,_=new k0e;y.getSamplingScore=function(D){var F=0;return D[kl]&&D[kl][_.userId]?F=I.getHashCodeScore(D[kl][_.userId]):D.ext&&D.ext.user&&D.ext.user.id?F=I[JOe](D.ext.user.id):D[kl]&&D[kl][_.operationId]?F=I.getHashCodeScore(D[kl][_.operationId]):D.ext&&D.ext.telemetryTrace&&D.ext.telemetryTrace[m9]?F=I.getHashCodeScore(D.ext.telemetryTrace[m9]):F=Math.random()*100,F}}return o(g,"SamplingScoreGenerator"),g}(),fUe=function(){function g(y,I){this.INT_MAX_VALUE=2147483647;var _=I||a3(null);(y>100||y<0)&&(_.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[HB]=y,this.samplingScoreGenerator=new uUe}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var I=this[HB],_=!1;return I==null||I>=100||y.baseType===c9[Rh]?!0:(_=this.samplingScoreGenerator.getSamplingScore(y)<I,_)},g}(),Wo,wg,Ph=void 0,q0e="",dUe=65e3;function G0e(g){try{return g.responseText}catch{}return null}o(G0e,"_getResponseText");function mUe(g){return g&&g.sendPOST}o(mUe,"isOverrideFn");var W0e=_t((Wo={endpointUrl:V6(ie,HH+ux)},Wo[oV]=hf(),Wo.maxBatchInterval=15e3,Wo[D0e]=102400,Wo.disableTelemetry=hf(),Wo[N0e]=hf(!0),Wo.isRetryDisabled=hf(),Wo[uV]=hf(!0),Wo[L0e]=hf(!0),Wo.disableXhr=hf(),Wo[F0e]=hf(),Wo[cV]=hf(),Wo[x9]=Ph,Wo.namePrefix=Ph,Wo.samplingPercentage=V6(hUe,100),Wo[lV]=Ph,Wo.convertUndefined=Ph,Wo.eventsLimitInMem=1e4,Wo[sV]=!1,Wo.httpXHROverride={isVal:mUe,v:Ph},Wo[P0e]=hf(),Wo.transports=Ph,Wo.retryCodes=Ph,Wo.maxRetryCnt={isVal:Je,v:10},Wo));function hUe(g){return!isNaN(g)&&g>0&&g<=100}o(hUe,"_chkSampling");var pUe=(wg={},wg[hx.dataType]=M0e,wg[MB.dataType]=oUe,wg[LB.dataType]=nUe,wg[OB.dataType]=iUe,wg[FB.dataType]=tUe,wg[c9.dataType]=rUe,wg[QB.dataType]=eUe,wg),H0e=function(g){Hy(y,g);function y(){var I=g.call(this)||this;I.priority=1001,I.identifier=KOe;var _,D,F,U,oe,fe,Ee,Se=0,qe,Xe,We,ze,ht,st,It,Vt,fr,Tr,Pn,fi,di,to,on,Ur,mi,ls,Io,zt,qr,Vi,Dt,An,Ts,ro,ol;return Sl(y,I,function(dt,ga){j0e(),dt.pause=function(){y2(),F=!0},dt.resume=function(){F&&(F=!1,D=null,ho(),bx())},dt.flush=function(je,bt,pr){if(je===void 0&&(je=!0),!F){y2();try{return dt[y9](je,null,pr||1)}catch(Lr){Dr(dt[t0](),1,22,"flush failed, telemetry will not be collected: "+qa(Lr),{exception:At(Lr)})}}},dt.onunloadFlush=function(){if(!F)if(It||zt)try{return dt[y9](!0,fc,2)}catch(je){Dr(dt[t0](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+qa(je),{exception:At(je)})}else dt.flush(!1)},dt.addHeader=function(je,bt){Ee[je]=bt},dt[aV]=function(je,bt,pr,Lr){dt.isInitialized()&&Dr(dt[t0](),1,28,"Sender is already initialized"),ga[aV](je,bt,pr,Lr);var bn=dt.identifier;oe=new aUe(bt.logger),_=0,D=null,dt[C9]=null,fe=0;var an=dt[t0]();We=r0e(qd("Sender"),bt.evtNamespace&&bt.evtNamespace()),Xe=YOe(We),dt._addHook(Gd(je,function(Ni){var Js=Ni.cfg;Js.storagePrefix&&yOe(Js.storagePrefix);var tu=s2(null,Js,bt),Yn=tu.getExtCfg(bn,W0e),$0e=Yn[E9];if(ze&&$0e===ze){var CV=Js[E9];CV&&CV!==$0e&&(Yn[E9]=CV)}ot(Yn[x9])&&(Yn[x9]=Js[x9]),Oe(dt,"_senderConfig",{g:o(function(){return Yn},"g")}),ht!==Yn[E9]&&(ze=ht=Yn[E9]),bt.activeStatus()===mh.PENDING?dt.pause():bt.activeStatus()===mh.ACTIVE&&dt.resume(),Tr&&Tr!==Yn[lV]&&Hr(Tr,function(Dl){delete Ee[Dl.header]}),st=Yn[D0e],It=(Yn[cV]===!1||Yn[uV]===!1)&&bh(),Vt=Yn[cV]===!1&&bh(),fr=Yn[uV]===!1&&bh(),zt=Yn[P0e],qr=!!Yn.disableXhr,ol=Yn.retryCodes;var EV=Yn[sV],vx=!!Yn[N0e]&&(!!EV||g0e()),z0e=Yn.namePrefix,CUe=vx!==Ur||vx&&ls!==z0e||vx&&mi!==EV;if(dt[Dh]){if(CUe)try{dt[Dh]=dt[Dh].createNew(an,Yn,vx)}catch(Dl){Dr(dt[t0](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+qa(Dl),{exception:At(Dl)})}ho()}else dt[Dh]=vx?new U0e(an,Yn):new gV(an,Yn);ls=z0e,Ur=vx,mi=EV,Vi=!Yn[F0e]&&r3(!0),Ts=!!Yn[L0e],dt._sample=new fUe(Yn.samplingPercentage,an),fi=Yn[x9],!ot(fi)&&!V0e(fi,Js)&&Dr(an,1,100,"Invalid Instrumentation key "+fi),Tr=Yn[lV],ce(ze)&&!m0e(ze)&&Tr&&Tr[ii]>0?Hr(Tr,function(Dl){I.addHeader(Dl.header,Dl.value)}):Tr=null,Io=Yn.enableSendPromise;var Y0e=sl();ro?ro.SetConfig(Y0e):(ro=new pa,ro[aV](Y0e,an));var zB=Yn.httpXHROverride,YB=null,T9=null,EUe=WS([3,1,2],Yn.transports);YB=ro&&ro[GB](EUe,!1);var xV=ro&&ro.getFallbackInst();Dt=o(function(Dl,k3){return Mr(xV,Dl,k3)},"_xhrSend"),An=o(function(Dl,k3){return Mr(xV,Dl,k3,!1)},"_fallbackSend"),YB=zt?zB:YB||zB||xV,dt[C9]=function(Dl,k3){return Mr(YB,Dl,k3)},Vi&&(qe=xx);var bV=WS([3,1],Yn.unloadTransports);Vi||(bV=bV.filter(function(Dl){return Dl!==2})),T9=ro&&ro[GB](bV,!0),T9=zt?zB:T9||zB,(zt||Yn.unloadTransports||!qe)&&T9&&(qe=o(function(Dl,k3){return Mr(T9,Dl,k3)},"_syncUnloadSender")),qe||(qe=Dt),Pn=Yn.disableTelemetry,di=Yn.convertUndefined||Ph,to=Yn.isRetryDisabled,on=Yn.maxBatchInterval}))},dt.processTelemetry=function(je,bt){bt=dt._getTelCtx(bt);var pr=bt[t0]();try{var Lr=Vd(je,pr);if(!Lr)return;var bn=A2(je,pr);if(!bn)return;var an=oe.serialize(bn),Ni=dt[Dh];ho(an);var Js={item:an,cnt:0};Ni[I3](Js),bx()}catch(tu){Dr(pr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+qa(tu),{exception:At(tu)})}dt.processNext(je,bt)},dt.isCompletelyIdle=function(){return!F&&Se===0&&dt._buffer[T3]()===0},dt.getOfflineListener=function(){return Xe},dt._xhrReadyStateChange=function(je,bt,pr){if(!$d(bt))return yf(je,bt,pr)},dt[y9]=function(je,bt,pr){je===void 0&&(je=!0);var Lr;if(!F)try{var bn=dt[Dh];if(Pn)bn[Ax]();else if(bn[T3]()>0){var an=bn.getItems();$B(pr||0,je),bt?Lr=bt.call(dt,an,je):Lr=dt[C9](an,je)}y2()}catch(Js){var Ni=HA();(!Ni||Ni>9)&&Dr(dt[t0](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+qa(Js),{exception:At(Js)})}return Lr},dt.getOfflineSupport=function(){return{getUrl:o(function(){return ze},"getUrl"),createPayload:gt,serialize:cs,batch:Rl,shouldProcess:o(function(je){return!!Vd(je)},"shouldProcess")}},dt._doTeardown=function(je,bt){dt.onunloadFlush(),XA(Xe,!1),j0e()},dt[w3]=function(je,bt,pr){if(!$d(je))return k0(je,bt)},dt[fV]=function(je,bt){if(!$d(je))return p2(je,bt)},dt[WB]=function(je,bt){if(!$d(je))return Hd(je)},dt._xdrOnLoad=function(je,bt){if(!$d(bt))return ws(je,bt)};function ws(je,bt){var pr=G0e(je);if(je&&(pr+""=="200"||pr===""))_=0,dt[WB](bt,0);else{var Lr=Qr(pr);Lr&&Lr[dV]&&Lr[dV]>Lr[mV]&&!to?dt[fV](bt,Lr):dt[w3](bt,GS(je))}}o(ws,"_xdrOnLoad");function sl(){try{var je={xdrOnComplete:o(function(pr,Lr,bn){var an=g2(bn);if(an)return ws(pr,an)},"xdrOnComplete"),fetchOnComplete:o(function(pr,Lr,bn,an){var Ni=g2(an);if(Ni)return Ho(pr.status,Ni,pr.url,Ni[ii],pr.statusText,bn||"")},"fetchOnComplete"),xhrOnComplete:o(function(pr,Lr,bn){var an=g2(bn);if(an)return yf(pr,an,an[ii])},"xhrOnComplete"),beaconOnRetry:o(function(pr,Lr,bn){return jd(pr,Lr,bn)},"beaconOnRetry")},bt={enableSendPromise:Io,isOneDs:!1,disableCredentials:!1,disableXhr:qr,disableBeacon:!fr,disableBeaconSync:!Vt,senderOnCompleteCallBack:je};return bt}catch{}return null}o(sl,"_getSendPostMgrConfig");function yf(je,bt,pr){je.readyState===4&&Ho(je.status,bt,je.responseURL,pr,WE(je),G0e(je)||je.response)}o(yf,"_xhrReadyStateChange");function k0(je,bt,pr){Dr(dt[t0](),2,26,"Failed to send telemetry.",{message:bt}),dt._buffer&&dt._buffer[p9](je)}o(k0,"_onError");function p2(je,bt){for(var pr=[],Lr=[],bn=bt.errors.reverse(),an=0,Ni=bn;an<Ni.length;an++){var Js=Ni[an],tu=je.splice(Js.index,1)[0];C2(Js.statusCode)?Lr[Tg](tu):pr[Tg](tu)}je[ii]>0&&dt[WB](je,bt[mV]),pr[ii]>0&&dt[w3](pr,WE(null,["partial success",bt[mV],"of",bt.itemsReceived].join(" "))),Lr[ii]>0&&(I9(Lr),Dr(dt[t0](),2,40,"Partial success. Delivered: "+je[ii]+", Failed: "+pr[ii]+". Will retry to send "+Lr[ii]+" our of "+bt[dV]+" items"))}o(p2,"_onPartialSuccess");function Hd(je,bt){dt._buffer&&dt._buffer[p9](je)}o(Hd,"_onSuccess");function g2(je){try{if(je){var bt=je,pr=bt.oriPayload;return pr&&pr[ii]?pr:null}}catch{}return null}o(g2,"_getPayloadArr");function Vd(je,bt){if(Pn)return!1;if(!je)return bt&&Dr(bt,1,7,"Cannot send empty telemetry"),!1;if(je.baseData&&!je[hV])return bt&&Dr(bt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(je[hV]||(je[hV]="EventData"),!dt[C9])return bt&&Dr(bt,1,28,"Sender was not initialized"),!1;if(Ir(je))je[i0e]=dt._sample[HB];else return bt&&Dr(bt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:dt._sample[HB]}),!1;return!0}o(Vd,"_validate");function A2(je,bt){var pr=je.iKey||fi,Lr=y.constructEnvelope(je,pr,bt,di);if(!Lr){Dr(bt,1,47,"Unable to create an AppInsights envelope");return}var bn=!1;if(je[kl]&&je[kl][WH]&&(Hr(je[kl][WH],function(an){try{an&&an(Lr)===!1&&(bn=!0,ex(bt,"Telemetry processor check returns false"))}catch(Ni){Dr(bt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+qa(Ni),{exception:At(Ni)},!0)}}),delete je[kl][WH]),!bn)return Lr}o(A2,"_getEnvelope");function cs(je){var bt=q0e,pr=dt[t0]();try{var Lr=Vd(je,pr),bn=null;Lr&&(bn=A2(je,pr)),bn&&(bt=oe.serialize(bn))}catch{}return bt}o(cs,"_serialize");function Rl(je){var bt=q0e;return je&&je[ii]&&(bt="["+je.join(",")+"]"),bt}o(Rl,"_batch");function gt(je){var bt=co();return{urlString:ze,data:je,headers:bt}}o(gt,"_createPayload");function Ir(je){return dt._sample.isSampledIn(je)}o(Ir,"_isSampledIn");function En(je,bt,pr,Lr){bt===200&&je?dt._onSuccess(je,je[ii]):Lr&&dt[w3](je,Lr)}o(En,"_getOnComplete");function Mr(je,bt,pr,Lr){Lr===void 0&&(Lr=!0);var bn=o(function(Js,tu,Yn){return En(bt,Js,tu,Yn)},"onComplete"),an=xn(bt),Ni=je&&je.sendPOST;return Ni&&an?(Lr&&dt._buffer[qB](bt),Ni(an,bn,!pr)):null}o(Mr,"_doSend");function xn(je){if(Ue(je)&&je[ii]>0){var bt=dt[Dh].batchPayloads(je),pr=co(),Lr={data:bt,urlString:ze,headers:pr,disableXhrSync:qr,disableFetchKeepAlive:!Vi,oriPayload:je};return Lr}return null}o(xn,"_getPayload");function co(){try{var je=Ee||{};return m0e(ze)&&(je[s0e[6]]=s0e[7]),je}catch{}return null}o(co,"_getHeaders");function ho(je){var bt=je?je[ii]:0;return dt[Dh].size()+bt>st?((!Xe||Xe.isOnline())&&dt[y9](!0,null,10),!0):!1}o(ho,"_checkMaxSize");function Ho(je,bt,pr,Lr,bn,an){var Ni=null;if(dt._appId||(Ni=Qr(an),Ni&&Ni.appId&&(dt._appId=Ni.appId)),(je<200||je>=300)&&je!==0){if((je===301||je===307||je===308)&&!r0(pr)){dt[w3](bt,bn);return}if(Xe&&!Xe.isOnline()){if(!to){var Js=10;I9(bt,Js),Dr(dt[t0](),2,40,". Offline - Response Code: ".concat(je,". Offline status: ").concat(!Xe.isOnline(),". Will retry to send ").concat(bt.length," items."))}return}!to&&C2(je)?(I9(bt),Dr(dt[t0](),2,40,". Response code "+je+". Will retry to send "+bt[ii]+" items.")):dt[w3](bt,bn)}else r0(pr),je===206?(Ni||(Ni=Qr(an)),Ni&&!to?dt[fV](bt,Ni):dt[w3](bt,bn)):(_=0,dt[WB](bt,Lr))}o(Ho,"_checkResponsStatus");function r0(je){return fe>=10?!1:!J(je)&&je!==""&&je!==ze?(ze=je,++fe,!0):!1}o(r0,"_checkAndUpdateEndPointUrl");function fc(je,bt){if(qe)qe(je,!1);else{var pr=ro&&ro[GB]([3],!0);return Mr(pr,je,bt)}}o(fc,"_doUnloadSend");function jd(je,bt,pr){var Lr=je,bn=Lr&&Lr.oriPayload;if(Ts)An&&An(bn,!0),Dr(dt[t0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var an=[],Ni=0;Ni<bn[ii];Ni++){var Js=bn[Ni],tu=[Js],Yn=xn(tu);pr(Yn,bt)?dt._onSuccess(tu,tu[ii]):an[Tg](Js)}an[ii]>0&&(An&&An(an,!0),Dr(dt[t0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(jd,"_onBeaconRetry");function $d(je){try{if(je&&je[ii])return ce(je[0])}catch{}return null}o($d,"_isStringArr");function xx(je,bt){var pr=null;if(Ue(je)){for(var Lr=je[ii],bn=0;bn<je[ii];bn++)Lr+=je[bn].item[ii];var an=ro.getSyncFetchPayload();an+Lr<=dUe?pr=2:bh()?pr=3:(pr=1,Dr(dt[t0](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ni=ro&&ro[GB]([pr],!0);return Mr(Ni,je,bt)}return null}o(xx,"_fetchKeepAliveSender");function I9(je,bt){if(bt===void 0&&(bt=1),!(!je||je[ii]===0)){var pr=dt[Dh];pr[p9](je),_++;for(var Lr=0,bn=je;Lr<bn.length;Lr++){var an=bn[Lr];an.cnt=an.cnt||0,an.cnt++,pr[I3](an)}yV(bt),bx()}}o(I9,"_resendPayload");function yV(je){var bt=10,pr;if(_<=1)pr=bt;else{var Lr=(Math.pow(2,_)-1)/2,bn=ng(Math.random()*Lr*bt)+1;bn=je*bn,pr=be(ur(bn,3600),bt)}var an=ah()+pr*1e3;D=an}o(yV,"_setRetryTime");function bx(){if(!U&&!F){var je=D?be(0,D-ah()):0,bt=be(on,je);U=uh(function(){U=null,dt[y9](!0,null,1)},bt)}}o(bx,"_setupTimer");function y2(){U&&U.cancel(),U=null,D=null}o(y2,"_clearScheduledTimer");function C2(je){return J(ol)?je===401||je===408||je===429||je===500||je===502||je===503||je===504:ol[ii]&&ol.indexOf(je)>-1}o(C2,"_isRetriable");function jB(){var je="getNotifyMgr";return dt.core[je]?dt.core[je]():dt.core._notificationManager}o(jB,"_getNotifyMgr");function $B(je,bt){var pr=jB();if(pr&&pr.eventsSendRequest)try{pr.eventsSendRequest(je,bt)}catch(Lr){Dr(dt[t0](),1,74,"send request notification failed: "+qa(Lr),{exception:At(Lr)})}}o($B,"_notifySendRequest");function V0e(je,bt){var pr=bt.disableInstrumentationKeyValidation,Lr=J(pr)?!1:pr;if(Lr)return!0;var bn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",an=new RegExp(bn);return an.test(je)}o(V0e,"_validateInstrumentationKey");function j0e(){dt[C9]=null,dt[Dh]=null,dt._appId=null,dt._sample=null,Ee={},Xe=null,_=0,D=null,F=!1,U=null,oe=null,fe=0,Se=0,qe=null,We=null,ze=null,ht=null,st=0,It=!1,Tr=null,Pn=!1,fi=null,di=Ph,to=!1,Ur=null,ls=Ph,qr=!1,Vi=!1,Ts=!1,Dt=null,An=null,ro=null,Oe(dt,"_senderConfig",{g:o(function(){return qS({},W0e)},"g")})}o(j0e,"_initDefaults")}),I}return o(y,"Sender"),y.constructEnvelope=function(I,_,D,F){var U;_!==I.iKey&&!J(_)?U=Nd(Nd({},I),{iKey:_}):U=I;var oe=pUe[U.baseType]||M0e;return oe(D,U,F)},y}(Et),Cx="instrumentationKey",VB="connectionString",b9="endpointUrl",v9="userOverrideEndpointUrl",Ex,AV=void 0,gUe=(Ex={diagnosticLogInterval:V6(AUe,1e4)},Ex[VB]=AV,Ex.endpointUrl=AV,Ex[Cx]=AV,Ex.extensionConfig={},Ex);function AUe(g){return g&&g>0}o(AUe,"_chkDiagLevel");var yUe=function(){function g(y){var I=new Nt,_;(J(y)||J(y[Cx])&&J(y[VB]))&&Ht("Invalid input configuration"),Sl(g,this,function(F){Oe(F,"config",{g:o(function(){return _},"g")}),U(),F.initialize=U,F.track=D,k6(F,I,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function U(){var oe=uc(y||{},gUe);_=oe.cfg,I.addUnloadHook(Gd(oe,function(){var fe=_[VB];if(ot(fe)){var Ee=NE(function(We,ze){oc(fe,function(ht){var st=ht.value,It=_[Cx];if(!ht.rejected&&st){_[VB]=st;var Vt=XH(st);It=Vt.instrumentationkey||It}We(It)})}),Se=NE(function(We,ze){oc(fe,function(ht){var st=ht.value,It=_[b9];if(!ht.rejected&&st){var Vt=XH(st),fr=Vt.ingestionendpoint;It=fr?fr+ux:It}We(It)})});_[Cx]=Ee,_[b9]=_[v9]||Se}if(ce(fe)){var qe=XH(fe),Xe=qe.ingestionendpoint;_[b9]=_[v9]?_[v9]:Xe+ux,_[Cx]=qe.instrumentationkey||_[Cx]}_[b9]=_[v9]?_[v9]:_[b9]})),I.initialize(_,[new H0e])}o(U,"_initialize")});function D(F){F&&(F.baseData=F.baseData||{},F.baseType=F.baseType||"EventData"),I.track(F)}o(D,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Nt,e.ApplicationInsights=yUe,e.Sender=H0e,e.SeverityLevel=zOe,e.arrForEach=Hr,e.isNullOrUndefined=J,e.proxyFunctions=k6,e.throwError=Ht})});var UY=V((x0r,J2e)=>{"use strict";d();J2e.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Z2e=V((I0r,X2e)=>{"use strict";d();var qtt=UY();function Gtt(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=qtt(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Gtt,"parsePath");X2e.exports=Gtt});var o5e=V((_0r,i5e)=>{"use strict";d();var Wtt=Z2e();function Htt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Htt,"_interopDefaultLegacy");var Vtt=Htt(Wtt);function jtt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(jtt,"getAugmentedNamespace");var t5e={},$tt="text/plain",ztt="us-ascii",e5e=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Ytt=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(A=>A.trim());return h==="charset"&&(p=p.toLowerCase(),p===ztt)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==$tt)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function Ktt(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Ytt(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];e5e(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])e5e(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Ktt,"normalizeUrl");var Jtt=Object.freeze({__proto__:null,default:Ktt}),Xtt=jtt(Jtt);Object.defineProperty(t5e,"__esModule",{value:!0});var Ztt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ert=Xtt,trt=r5e(ert),rrt=Vtt.default,nrt=r5e(rrt);function r5e(e){return e&&e.__esModule?e:{default:e}}o(r5e,"_interopRequireDefault");var n5e=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Ztt(r))!=="object"&&(r={stripHash:!1}),t=(0,trt.default)(t,r));var s=(0,nrt.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");n5e.MAX_INPUT_LENGTH=2048;var irt=t5e.default=n5e;i5e.exports=irt});var l5e=V((k0r,a5e)=>{"use strict";d();var ort=UY();function s5e(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=ort(e);if(e=e.substring(e.indexOf("://")+3),s5e(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(s5e,"isSsh");a5e.exports=s5e});var f5e=V((P0r,u5e)=>{"use strict";d();var srt=o5e(),c5e=l5e();function art(e){var t=srt(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),c5e(t.protocols)||t.protocols.length===0&&c5e(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(art,"gitUp");u5e.exports=art});var m5e=V((L0r,d5e)=>{"use strict";d();var lrt=f5e();function qY(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(b){return typeof b=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=lrt(e),i=n.resource.split("."),s=null;switch(n.toString=function(b){return qY.stringify(this,b)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),A=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:A>0?A-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var E=s.length>a&&s[a+1]==="-"?a+1:a;s.length>E+2&&["raw","src","blob","tree","edit"].indexOf(s[E+1])>=0&&(n.filepathtype=s[E+1],n.ref=s[E+2],s.length>E+3&&(n.filepath=s.slice(E+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var x=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,v=x.exec(n.pathname);return v!=null&&(n.source="bitbucket-server",v[1]==="users"?n.owner="~"+v[2]:n.owner=v[2],n.organization=n.owner,n.name=v[3],s=v[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=frt(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(qY,"gitUrlParse");qY.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?crt(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+urt(e)+i;default:return e.href}};function crt(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(crt,"buildToken");function urt(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(urt,"buildPath");function frt(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(frt,"findLongestMatchingSubstring");d5e.exports=qY});var T5e=V(Jh=>{"use strict";d();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.bytePairEncode=Jh.BinaryMap=Jh.binaryMapKey=void 0;var Srt=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");Jh.binaryMapKey=Srt;var KY=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,Jh.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,Jh.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};Jh.BinaryMap=KY;var Kh=new Int32Array(128),F0=new Int32Array(128);function Brt(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Kh.length<r*2;)F0=new Int32Array(F0.length*2),Kh=new Int32Array(Kh.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),F0[c]=c,Kh[c]=u}F0[r-1]=r-1,Kh[r-1]=2147483647,F0[r]=r,Kh[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,F0[c],F0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){Kh[F0[i]]=a(i,1),i>0&&(Kh[F0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)F0[c]=F0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=Kh[F0[c]];Kh[F0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,F0[c],F0[c+1]));return l}o(Brt,"bytePairEncode");Jh.bytePairEncode=Brt});var w5e=V(BP=>{"use strict";d();Object.defineProperty(BP,"__esModule",{value:!0});BP.makeTextEncoder=void 0;var JY=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},XY=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},krt=o(()=>typeof Buffer<"u"?new XY:new JY,"makeTextEncoder");BP.makeTextEncoder=krt});var _5e=V(kP=>{"use strict";d();Object.defineProperty(kP,"__esModule",{value:!0});kP.LRUCache=void 0;var ZY=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new eK(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};kP.LRUCache=ZY;var eK=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var rK=V(DP=>{"use strict";d();Object.defineProperty(DP,"__esModule",{value:!0});DP.TikTokenizer=void 0;var Rrt=require("fs"),Drt=require("util"),RP=T5e(),Prt=w5e(),Nrt=_5e();function Frt(e){let t=new Map;try{let n=Rrt.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(Frt,"loadTikTokenBpe");function Lrt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Lrt,"escapeRegExp");var tK=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Prt.makeTextEncoder)(),this.textDecoder=new Drt.TextDecoder("utf-8"),this.cache=new Nrt.LRUCache(i);let s=typeof t=="string"?Frt(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new RP.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>Lrt(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,RP.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let A=(0,RP.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,A),a+A.length<=s){a+=A.length,l+=f.length;for(let E of A)r.push(E)}else{let E=s-a;a+=E,l+=f.length;for(let x=0;x<E;x++)r.push(A[x]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let A,E=t.substring(s,p);for(this.regex.lastIndex=0;A=this.regex.exec(E);){let x=A[0],v=this.cache.get(x);if(v)a+=v.length,l+=x.length,i.push(...v),c.set(a,l);else{let b=this.textEncoder.encode(x),S=this.encoder.get(b);if(S!==void 0)this.cache.set(x,[S]),a++,l+=x.length,i.push(S),c.set(a,l);else{let k=(0,RP.bytePairEncode)(b,this.encoder,this.textEncoder.length);this.cache.set(x,k),a+=k.length,l+=x.length;for(let P of k)i.push(P);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};DP.TikTokenizer=tK});var Q5e=V(va=>{"use strict";d();Object.defineProperty(va,"__esModule",{value:!0});va.createTokenizer=va.createByEncoderName=va.createByModelName=va.getRegexByModel=va.getRegexByEncoder=va.getSpecialTokensByModel=va.getSpecialTokensByEncoder=va.MODEL_TO_ENCODING=void 0;var NP=require("fs"),nK=require("path"),Qrt=rK(),Mrt=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);va.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var PP="<|endoftext|>",S5e="<|fim_prefix|>",B5e="<|fim_middle|>",k5e="<|fim_suffix|>",R5e="<|endofprompt|>",P7="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",D5e="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Ort=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],P5e=Ort.join("|");function iK(e){let t="";if(va.MODEL_TO_ENCODING.has(e))t=va.MODEL_TO_ENCODING.get(e);else for(let[r,n]of Mrt)if(e.startsWith(r)){t=n;break}return t}o(iK,"getEncoderFromModelName");async function Urt(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();NP.writeFileSync(t,n)}o(Urt,"fetchAndSaveFile");function oK(e){let t=new Map([[PP,50256]]);switch(e){case"o200k_base":t=new Map([[PP,199999],[R5e,200018]]);break;case"cl100k_base":t=new Map([[PP,100257],[S5e,100258],[B5e,100259],[k5e,100260],[R5e,100276]]);break;case"p50k_edit":t=new Map([[PP,50256],[S5e,50281],[B5e,50282],[k5e,50283]]);break;default:break}return t}o(oK,"getSpecialTokensByEncoder");va.getSpecialTokensByEncoder=oK;function qrt(e){let t=iK(e);return oK(t)}o(qrt,"getSpecialTokensByModel");va.getSpecialTokensByModel=qrt;function N5e(e){switch(e){case"o200k_base":return P5e;case"cl100k_base":return D5e;default:break}return P7}o(N5e,"getRegexByEncoder");va.getRegexByEncoder=N5e;function Grt(e){let t=iK(e);return N5e(t)}o(Grt,"getRegexByModel");va.getRegexByModel=Grt;async function Wrt(e,t=null){return F5e(iK(e),t)}o(Wrt,"createByModelName");va.createByModelName=Wrt;async function F5e(e,t=null){let r,n,i=oK(e);switch(e){case"o200k_base":r=P5e,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=D5e,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=P7,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=P7,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=P7,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=P7,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=nK.basename(n),a=nK.resolve(__dirname,"..","model");NP.existsSync(a)||NP.mkdirSync(a,{recursive:!0});let l=nK.resolve(a,s);return NP.existsSync(l)||(console.log(`Downloading file from ${n}`),await Urt(n,l),console.log(`Saved file to ${l}`)),L5e(l,i,r)}o(F5e,"createByEncoderName");va.createByEncoderName=F5e;function L5e(e,t,r,n=8192){return new Qrt.TikTokenizer(e,t,r,n)}o(L5e,"createTokenizer");va.createTokenizer=L5e});var M5e=V(Ia=>{"use strict";d();Object.defineProperty(Ia,"__esModule",{value:!0});Ia.createTokenizer=Ia.createByEncoderName=Ia.createByModelName=Ia.getSpecialTokensByModel=Ia.getSpecialTokensByEncoder=Ia.getRegexByModel=Ia.getRegexByEncoder=Ia.MODEL_TO_ENCODING=Ia.TikTokenizer=void 0;var Hrt=rK();Object.defineProperty(Ia,"TikTokenizer",{enumerable:!0,get:o(function(){return Hrt.TikTokenizer},"get")});var Z2=Q5e();Object.defineProperty(Ia,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return Z2.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ia,"getRegexByEncoder",{enumerable:!0,get:o(function(){return Z2.getRegexByEncoder},"get")});Object.defineProperty(Ia,"getRegexByModel",{enumerable:!0,get:o(function(){return Z2.getRegexByModel},"get")});Object.defineProperty(Ia,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return Z2.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ia,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return Z2.getSpecialTokensByModel},"get")});Object.defineProperty(Ia,"createByModelName",{enumerable:!0,get:o(function(){return Z2.createByModelName},"get")});Object.defineProperty(Ia,"createByEncoderName",{enumerable:!0,get:o(function(){return Z2.createByEncoderName},"get")});Object.defineProperty(Ia,"createTokenizer",{enumerable:!0,get:o(function(){return Z2.createTokenizer},"get")})});var eye=V((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var v=0,b=1;;){var S=e[t++];if(v+=(127&S)*b,b*=128,!(128&S))break}return v}o(n,"_");function i(){var v=n();return UTF8ArrayToString(e,(t+=v)-v,v)}o(i,"n");function s(v,b){if(v)throw new Error(b)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],A=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var E=n();E--;){var x=i();256&n()&&u.tlsExports.add(x)}else if(p===4)for(E=n();E--;)i(),x=i(),(3&n())==1&&u.weakImports.add(x);else t+=A}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let E=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,v=t.substr(x,100).split(`
`)[0],b,S=v.match(QUERY_WORD_REGEX)[0];switch(E){case 2:b=new RangeError(`Bad node name '${S}'`);break;case 3:b=new RangeError(`Bad field name '${S}'`);break;case 4:b=new RangeError(`Bad capture name @${S}`);break;case 5:b=new TypeError(`Bad pattern structure at offset ${x}: '${v}'...`),S="";break;default:b=new SyntaxError(`Bad syntax at offset ${x}: '${v}'...`),S=""}throw b.index=x,b.length=S.length,C._free(n),b}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let E=0;E<a;E++){let x=C._ts_query_capture_name_for_id(i,E,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");c[E]=UTF8ToString(x,v)}for(let E=0;E<s;E++){let x=C._ts_query_string_value_for_id(i,E,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");u[E]=UTF8ToString(x,v)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),A=new Array(l);for(let E=0;E<l;E++){let x=C._ts_query_predicates_for_pattern(i,E,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");p[E]=[],A[E]=[];let b=[],S=x;for(let k=0;k<v;k++){let P=getValue(S,"i32");S+=SIZE_OF_INT;let N=getValue(S,"i32");if(S+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)b.push({type:"capture",name:c[N]});else if(P===PREDICATE_STEP_TYPE_STRING)b.push({type:"string",value:u[N]});else if(b.length>0){if(b[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=b[0].value,te=!0;switch(W){case"not-eq?":te=!1;case"eq?":if(b.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(b.length-1));if(b[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${b[1].value}"`);if(b[2].type==="capture"){let q=b[1].name,se=b[2].name;A[E].push(function(ne){let H,O;for(let j of ne)j.name===q&&(H=j.node),j.name===se&&(O=j.node);return H===void 0||O===void 0||H.text===O.text===te})}else{let q=b[1].name,se=b[2].value;A[E].push(function(ne){for(let H of ne)if(H.name===q)return H.node.text===se===te;return!0})}break;case"not-match?":te=!1;case"match?":if(b.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${b.length-1}.`);if(b[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${b[1].value}".`);if(b[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${b[2].value}.`);let ge=b[1].name,re=new RegExp(b[2].value);A[E].push(function(q){for(let se of q)if(se.name===ge)return re.test(se.node.text)===te;return!0});break;case"set!":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(q=>q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[E]||(f[E]={}),f[E][b[1].value]=b[2]?b[2].value:null;break;case"is?":case"is-not?":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(q=>q.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let G=W==="is?"?m:h;G[E]||(G[E]={}),G[E][b[1].value]=b[2]?b[2].value:null;break;default:p[E].push({operator:W,operands:b.slice(1)})}b.length=0}}Object.freeze(f[E]),Object.freeze(m[E]),Object.freeze(h[E])}return C._free(n),new Query(INTERNAL,i,c,A,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let E=new Array(A);if(m=unmarshalCaptures(this,t.tree,m,E),this.textPredicates[p].every(x=>x(E))){u[f++]={pattern:p,captures:E};let x=this.setProperties[p];x&&(u[h].setProperties=x);let v=this.assertedProperties[p];v&&(u[h].assertedProperties=v);let b=this.refutedProperties[p];b&&(u[h].refutedProperties=b)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let E=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=A,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(x=>x(f))){let x=f[E],v=this.setProperties[p];v&&(x.setProperties=v);let b=this.assertedProperties[p];b&&(x.assertedProperties=b);let S=this.refutedProperties[p];S&&(x.refutedProperties=S),u.push(x)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var hN=V(_a=>{"use strict";d();Object.defineProperty(_a,"__esModule",{value:!0});_a.thenable=_a.typedArray=_a.stringArray=_a.array=_a.func=_a.error=_a.number=_a.string=_a.boolean=void 0;function yit(e){return e===!0||e===!1}o(yit,"boolean");_a.boolean=yit;function wye(e){return typeof e=="string"||e instanceof String}o(wye,"string");_a.string=wye;function Cit(e){return typeof e=="number"||e instanceof Number}o(Cit,"number");_a.number=Cit;function Eit(e){return e instanceof Error}o(Eit,"error");_a.error=Eit;function _ye(e){return typeof e=="function"}o(_ye,"func");_a.func=_ye;function Sye(e){return Array.isArray(e)}o(Sye,"array");_a.array=Sye;function xit(e){return Sye(e)&&e.every(t=>wye(t))}o(xit,"stringArray");_a.stringArray=xit;function bit(e,t){return Array.isArray(e)&&e.every(t)}o(bit,"typedArray");_a.typedArray=bit;function vit(e){return e&&_ye(e.then)}o(vit,"thenable");_a.thenable=vit});var PK=V(qf=>{"use strict";d();Object.defineProperty(qf,"__esModule",{value:!0});qf.generateUuid=qf.parse=qf.isUUID=qf.v4=qf.empty=void 0;var G7=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},W7=class e extends G7{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};W7._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];W7._timeHighBits=["8","9","a","b"];qf.empty=new G7("00000000-0000-0000-0000-000000000000");function Bye(){return new W7}o(Bye,"v4");qf.v4=Bye;var Iit=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function kye(e){return Iit.test(e)}o(kye,"isUUID");qf.isUUID=kye;function Tit(e){if(!kye(e))throw new Error("invalid uuid");return new G7(e)}o(Tit,"parse");qf.parse=Tit;function wit(){return Bye().asHex()}o(wit,"generateUuid");qf.generateUuid=wit});var Rye=V(i5=>{"use strict";d();Object.defineProperty(i5,"__esModule",{value:!0});i5.attachPartialResult=i5.ProgressFeature=i5.attachWorkDone=void 0;var n5=Ii(),_it=PK(),bC=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(n5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(n5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(n5.WorkDoneProgress.type,this._token,{kind:"end"})}};bC.Instances=new Map;var pN=class extends bC{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new n5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},H7=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},gN=class extends H7{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new n5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Sit(e,t){if(t===void 0||t.workDoneToken===void 0)return new H7;let r=t.workDoneToken;return delete t.workDoneToken,new bC(e,r)}o(Sit,"attachWorkDone");i5.attachWorkDone=Sit;var Bit=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(n5.WorkDoneProgressCancelNotification.type,r=>{let n=bC.Instances.get(r.token);(n instanceof pN||n instanceof gN)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new H7:new bC(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,_it.generateUuid)();return this.connection.sendRequest(n5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new pN(this.connection,t))}else return Promise.resolve(new gN)}},"ProgressFeature");i5.ProgressFeature=Bit;var NK;(function(e){e.type=new n5.ProgressType})(NK||(NK={}));var FK=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(NK.type,this._token,t)}};function kit(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new FK(e,r)}o(kit,"attachPartialResult");i5.attachPartialResult=kit});var Dye=V(AN=>{"use strict";d();Object.defineProperty(AN,"__esModule",{value:!0});AN.ConfigurationFeature=void 0;var Rit=Ii(),Dit=hN(),Pit=o(e=>class extends e{getConfiguration(t){return t?Dit.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Rit.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");AN.ConfigurationFeature=Pit});var Pye=V(CN=>{"use strict";d();Object.defineProperty(CN,"__esModule",{value:!0});CN.WorkspaceFoldersFeature=void 0;var yN=Ii(),Nit=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new yN.Emitter,this.connection.onNotification(yN.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(yN.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(yN.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");CN.WorkspaceFoldersFeature=Nit});var Nye=V(EN=>{"use strict";d();Object.defineProperty(EN,"__esModule",{value:!0});EN.CallHierarchyFeature=void 0;var LK=Ii(),Fit=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(LK.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=LK.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=LK.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");EN.CallHierarchyFeature=Fit});var MK=V(o5=>{"use strict";d();Object.defineProperty(o5,"__esModule",{value:!0});o5.SemanticTokensBuilder=o5.SemanticTokensDiff=o5.SemanticTokensFeature=void 0;var xN=Ii(),Lit=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(xN.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=xN.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=xN.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=xN.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");o5.SemanticTokensFeature=Lit;var bN=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};o5.SemanticTokensDiff=bN;var QK=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new bN(this._prevData,this._data).computeDiff()}:this.build()}};o5.SemanticTokensBuilder=QK});var Fye=V(vN=>{"use strict";d();Object.defineProperty(vN,"__esModule",{value:!0});vN.ShowDocumentFeature=void 0;var Qit=Ii(),Mit=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(Qit.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");vN.ShowDocumentFeature=Mit});var Lye=V(IN=>{"use strict";d();Object.defineProperty(IN,"__esModule",{value:!0});IN.FileOperationsFeature=void 0;var iv=Ii(),Oit=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(iv.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(iv.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(iv.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(iv.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(iv.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(iv.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");IN.FileOperationsFeature=Oit});var Qye=V(TN=>{"use strict";d();Object.defineProperty(TN,"__esModule",{value:!0});TN.LinkedEditingRangeFeature=void 0;var Uit=Ii(),qit=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Uit.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");TN.LinkedEditingRangeFeature=qit});var Mye=V(wN=>{"use strict";d();Object.defineProperty(wN,"__esModule",{value:!0});wN.TypeHierarchyFeature=void 0;var OK=Ii(),Git=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(OK.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=OK.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=OK.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");wN.TypeHierarchyFeature=Git});var Uye=V(_N=>{"use strict";d();Object.defineProperty(_N,"__esModule",{value:!0});_N.InlineValueFeature=void 0;var Oye=Ii(),Wit=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(Oye.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(Oye.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");_N.InlineValueFeature=Wit});var Gye=V(SN=>{"use strict";d();Object.defineProperty(SN,"__esModule",{value:!0});SN.FoldingRangeFeature=void 0;var qye=Ii(),Hit=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(qye.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=qye.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");SN.FoldingRangeFeature=Hit});var Wye=V(BN=>{"use strict";d();Object.defineProperty(BN,"__esModule",{value:!0});BN.InlayHintFeature=void 0;var UK=Ii(),Vit=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(UK.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(UK.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(UK.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");BN.InlayHintFeature=Vit});var Hye=V(kN=>{"use strict";d();Object.defineProperty(kN,"__esModule",{value:!0});kN.DiagnosticFeature=void 0;var V7=Ii(),jit=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest(V7.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(V7.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(V7.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest(V7.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(V7.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");kN.DiagnosticFeature=jit});var GK=V(RN=>{"use strict";d();Object.defineProperty(RN,"__esModule",{value:!0});RN.TextDocuments=void 0;var vC=Ii(),qK=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new vC.Emitter,this._onDidOpen=new vC.Emitter,this._onDidClose=new vC.Emitter,this._onDidSave=new vC.Emitter,this._onWillSave=new vC.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=vC.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),vC.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};RN.TextDocuments=qK});var HK=V(ov=>{"use strict";d();Object.defineProperty(ov,"__esModule",{value:!0});ov.NotebookDocuments=ov.NotebookSyncFeature=void 0;var Gf=Ii(),Vye=GK(),$it=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(Gf.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(Gf.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(Gf.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(Gf.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");ov.NotebookSyncFeature=$it;var DN=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,Gf.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Gf.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Gf.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};DN.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var WK=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof Vye.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Vye.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Gf.Emitter,this._onDidChange=new Gf.Emitter,this._onDidSave=new Gf.Emitter,this._onDidClose=new Gf.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new DN,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let v=c.cells;if(v.structure!==void 0){let b=v.structure.array;if(s.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),v.structure.didOpen!==void 0)for(let S of v.structure.didOpen)r.openTextDocument({textDocument:S}),u.push(S.uri);if(v.structure.didClose)for(let S of v.structure.didClose)r.closeTextDocument({textDocument:S}),f.push(S.uri)}if(v.data!==void 0){let b=new Map(v.data.map(S=>[S.document,S]));for(let S=0;S<=s.cells.length;S++){let k=b.get(s.cells[S].document);if(k!==void 0){let P=s.cells.splice(S,1,k);if(m.push({old:P[0],new:k}),b.delete(k.document),b.size===0)break}}}if(v.textContent!==void 0)for(let b of v.textContent)r.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),h.push(b.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let A=[];for(let v of u)A.push(this.getNotebookCell(v));let E=[];for(let v of f)E.push(this.getNotebookCell(v));let x=[];for(let v of h)x.push(this.getNotebookCell(v));(A.length>0||E.length>0||m.length>0||x.length>0)&&(p.cells={added:A,removed:E,changed:{data:m,textContent:x}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),Gf.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};ov.NotebookDocuments=WK});var jye=V(PN=>{"use strict";d();Object.defineProperty(PN,"__esModule",{value:!0});PN.MonikerFeature=void 0;var zit=Ii(),Yit=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=zit.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");PN.MonikerFeature=Yit});var KK=V(Zi=>{"use strict";d();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.createConnection=Zi.combineFeatures=Zi.combineNotebooksFeatures=Zi.combineLanguagesFeatures=Zi.combineWorkspaceFeatures=Zi.combineWindowFeatures=Zi.combineClientFeatures=Zi.combineTracerFeatures=Zi.combineTelemetryFeatures=Zi.combineConsoleFeatures=Zi._NotebooksImpl=Zi._LanguagesImpl=Zi.BulkUnregistration=Zi.BulkRegistration=Zi.ErrorMessageTracker=void 0;var dr=Ii(),Wf=hN(),jK=PK(),Qn=Rye(),Kit=Dye(),Jit=Pye(),Xit=Nye(),Zit=MK(),eot=Fye(),tot=Lye(),rot=Qye(),not=Mye(),iot=Uye(),oot=Gye(),sot=Wye(),aot=Hye(),lot=HK(),cot=jye();function VK(e){if(e!==null)return e}o(VK,"null2Undefined");var $K=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Zi.ErrorMessageTracker=$K;var NN=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(dr.MessageType.Error,t)}warn(t){this.send(dr.MessageType.Warning,t)}info(t){this.send(dr.MessageType.Info,t)}log(t){this.send(dr.MessageType.Log,t)}debug(t){this.send(dr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(dr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,dr.RAL)().console.error("Sending log message failed")})}},zK=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:dr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(VK)}showWarningMessage(t,...r){let n={type:dr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(VK)}showInformationMessage(t,...r){let n={type:dr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(VK)}},$ye=(0,eot.ShowDocumentFeature)((0,Qn.ProgressFeature)(zK)),zye;(function(e){function t(){return new FN}o(t,"create"),e.create=t})(zye||(Zi.BulkRegistration=zye={}));var FN=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Wf.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=jK.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},Yye;(function(e){function t(){return new j7(void 0,[])}o(t,"create"),e.create=t})(Yye||(Zi.BulkUnregistration=Yye={}));var j7=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(dr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Wf.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(dr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},LN=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof FN?this.registerMany(t):t instanceof j7?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Wf.string(r)?r:r.method,s=jK.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(dr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=Wf.string(t)?t:t.method,i=jK.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(dr.RegistrationRequest.type,s).then(a=>dr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(dr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(dr.RegistrationRequest.type,r).then(()=>new j7(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},YK=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(dr.ApplyWorkspaceEditRequest.type,n)}},Kye=(0,tot.FileOperationsFeature)((0,Jit.WorkspaceFoldersFeature)((0,Kit.ConfigurationFeature)(YK))),QN=class{static{o(this,"TracerImpl")}constructor(){this._trace=dr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==dr.Trace.Off&&this.connection.sendNotification(dr.LogTraceNotification.type,{message:t,verbose:this._trace===dr.Trace.Verbose?r:void 0}).catch(()=>{})}},MN=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(dr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},ON=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Qn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Qn.attachPartialResult)(this.connection,r)}};Zi._LanguagesImpl=ON;var Jye=(0,oot.FoldingRangeFeature)((0,cot.MonikerFeature)((0,aot.DiagnosticFeature)((0,sot.InlayHintFeature)((0,iot.InlineValueFeature)((0,not.TypeHierarchyFeature)((0,rot.LinkedEditingRangeFeature)((0,Zit.SemanticTokensFeature)((0,Xit.CallHierarchyFeature)(ON))))))))),UN=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Qn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Qn.attachPartialResult)(this.connection,r)}};Zi._NotebooksImpl=UN;var Xye=(0,lot.NotebookSyncFeature)(UN);function Zye(e,t){return function(r){return t(e(r))}}o(Zye,"combineConsoleFeatures");Zi.combineConsoleFeatures=Zye;function e3e(e,t){return function(r){return t(e(r))}}o(e3e,"combineTelemetryFeatures");Zi.combineTelemetryFeatures=e3e;function t3e(e,t){return function(r){return t(e(r))}}o(t3e,"combineTracerFeatures");Zi.combineTracerFeatures=t3e;function r3e(e,t){return function(r){return t(e(r))}}o(r3e,"combineClientFeatures");Zi.combineClientFeatures=r3e;function n3e(e,t){return function(r){return t(e(r))}}o(n3e,"combineWindowFeatures");Zi.combineWindowFeatures=n3e;function i3e(e,t){return function(r){return t(e(r))}}o(i3e,"combineWorkspaceFeatures");Zi.combineWorkspaceFeatures=i3e;function o3e(e,t){return function(r){return t(e(r))}}o(o3e,"combineLanguagesFeatures");Zi.combineLanguagesFeatures=o3e;function s3e(e,t){return function(r){return t(e(r))}}o(s3e,"combineNotebooksFeatures");Zi.combineNotebooksFeatures=s3e;function uot(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,Zye),tracer:r(e.tracer,t.tracer,t3e),telemetry:r(e.telemetry,t.telemetry,e3e),client:r(e.client,t.client,r3e),window:r(e.window,t.window,n3e),workspace:r(e.workspace,t.workspace,i3e),languages:r(e.languages,t.languages,o3e),notebooks:r(e.notebooks,t.notebooks,s3e)}}o(uot,"combineFeatures");Zi.combineFeatures=uot;function fot(e,t,r){let n=r&&r.console?new(r.console(NN)):new NN,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(QN)):new QN,a=r&&r.telemetry?new(r.telemetry(MN)):new MN,l=r&&r.client?new(r.client(LN)):new LN,c=r&&r.window?new(r.window($ye)):new $ye,u=r&&r.workspace?new(r.workspace(Kye)):new Kye,f=r&&r.languages?new(r.languages(Jye)):new Jye,m=r&&r.notebooks?new(r.notebooks(Xye)):new Xye,h=[n,s,a,l,c,u,f,m];function p(b){return b instanceof Promise?b:Wf.thenable(b)?new Promise((S,k)=>{b.then(P=>S(P),P=>k(P))}):Promise.resolve(b)}o(p,"asPromise");let A,E,x,v={listen:o(()=>i.listen(),"listen"),sendRequest:o((b,...S)=>i.sendRequest(Wf.string(b)?b:b.method,...S),"sendRequest"),onRequest:o((b,S)=>i.onRequest(b,S),"onRequest"),sendNotification:o((b,S)=>{let k=Wf.string(b)?b:b.method;return i.sendNotification(k,S)},"sendNotification"),onNotification:o((b,S)=>i.onNotification(b,S),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(b=>(E=b,{dispose:o(()=>{E=void 0},"dispose")}),"onInitialize"),onInitialized:o(b=>i.onNotification(dr.InitializedNotification.type,b),"onInitialized"),onShutdown:o(b=>(A=b,{dispose:o(()=>{A=void 0},"dispose")}),"onShutdown"),onExit:o(b=>(x=b,{dispose:o(()=>{x=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(b=>i.onNotification(dr.DidChangeConfigurationNotification.type,b),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(b=>i.onNotification(dr.DidChangeWatchedFilesNotification.type,b),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(b=>i.onNotification(dr.DidOpenTextDocumentNotification.type,b),"onDidOpenTextDocument"),onDidChangeTextDocument:o(b=>i.onNotification(dr.DidChangeTextDocumentNotification.type,b),"onDidChangeTextDocument"),onDidCloseTextDocument:o(b=>i.onNotification(dr.DidCloseTextDocumentNotification.type,b),"onDidCloseTextDocument"),onWillSaveTextDocument:o(b=>i.onNotification(dr.WillSaveTextDocumentNotification.type,b),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(b=>i.onRequest(dr.WillSaveTextDocumentWaitUntilRequest.type,b),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(b=>i.onNotification(dr.DidSaveTextDocumentNotification.type,b),"onDidSaveTextDocument"),sendDiagnostics:o(b=>i.sendNotification(dr.PublishDiagnosticsNotification.type,b),"sendDiagnostics"),onHover:o(b=>i.onRequest(dr.HoverRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onHover"),onCompletion:o(b=>i.onRequest(dr.CompletionRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCompletion"),onCompletionResolve:o(b=>i.onRequest(dr.CompletionResolveRequest.type,b),"onCompletionResolve"),onSignatureHelp:o(b=>i.onRequest(dr.SignatureHelpRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onSignatureHelp"),onDeclaration:o(b=>i.onRequest(dr.DeclarationRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDeclaration"),onDefinition:o(b=>i.onRequest(dr.DefinitionRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDefinition"),onTypeDefinition:o(b=>i.onRequest(dr.TypeDefinitionRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onTypeDefinition"),onImplementation:o(b=>i.onRequest(dr.ImplementationRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onImplementation"),onReferences:o(b=>i.onRequest(dr.ReferencesRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onReferences"),onDocumentHighlight:o(b=>i.onRequest(dr.DocumentHighlightRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentHighlight"),onDocumentSymbol:o(b=>i.onRequest(dr.DocumentSymbolRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentSymbol"),onWorkspaceSymbol:o(b=>i.onRequest(dr.WorkspaceSymbolRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(b=>i.onRequest(dr.WorkspaceSymbolResolveRequest.type,b),"onWorkspaceSymbolResolve"),onCodeAction:o(b=>i.onRequest(dr.CodeActionRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCodeAction"),onCodeActionResolve:o(b=>i.onRequest(dr.CodeActionResolveRequest.type,(S,k)=>b(S,k)),"onCodeActionResolve"),onCodeLens:o(b=>i.onRequest(dr.CodeLensRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCodeLens"),onCodeLensResolve:o(b=>i.onRequest(dr.CodeLensResolveRequest.type,(S,k)=>b(S,k)),"onCodeLensResolve"),onDocumentFormatting:o(b=>i.onRequest(dr.DocumentFormattingRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(b=>i.onRequest(dr.DocumentRangeFormattingRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(b=>i.onRequest(dr.DocumentOnTypeFormattingRequest.type,(S,k)=>b(S,k)),"onDocumentOnTypeFormatting"),onRenameRequest:o(b=>i.onRequest(dr.RenameRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onRenameRequest"),onPrepareRename:o(b=>i.onRequest(dr.PrepareRenameRequest.type,(S,k)=>b(S,k)),"onPrepareRename"),onDocumentLinks:o(b=>i.onRequest(dr.DocumentLinkRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentLinks"),onDocumentLinkResolve:o(b=>i.onRequest(dr.DocumentLinkResolveRequest.type,(S,k)=>b(S,k)),"onDocumentLinkResolve"),onDocumentColor:o(b=>i.onRequest(dr.DocumentColorRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentColor"),onColorPresentation:o(b=>i.onRequest(dr.ColorPresentationRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onColorPresentation"),onFoldingRanges:o(b=>i.onRequest(dr.FoldingRangeRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onFoldingRanges"),onSelectionRanges:o(b=>i.onRequest(dr.SelectionRangeRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onSelectionRanges"),onExecuteCommand:o(b=>i.onRequest(dr.ExecuteCommandRequest.type,(S,k)=>b(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let b of h)b.attach(v);return i.onRequest(dr.InitializeRequest.type,b=>{t.initialize(b),Wf.string(b.trace)&&(s.trace=dr.Trace.fromString(b.trace));for(let S of h)S.initialize(b.capabilities);if(E){let S=E(b,new dr.CancellationTokenSource().token,(0,Qn.attachWorkDone)(i,b),void 0);return p(S).then(k=>{if(k instanceof dr.ResponseError)return k;let P=k;P||(P={capabilities:{}});let N=P.capabilities;N||(N={},P.capabilities=N),N.textDocumentSync===void 0||N.textDocumentSync===null?N.textDocumentSync=Wf.number(v.__textDocumentSync)?v.__textDocumentSync:dr.TextDocumentSyncKind.None:!Wf.number(N.textDocumentSync)&&!Wf.number(N.textDocumentSync.change)&&(N.textDocumentSync.change=Wf.number(v.__textDocumentSync)?v.__textDocumentSync:dr.TextDocumentSyncKind.None);for(let W of h)W.fillServerCapabilities(N);return P})}else{let S={capabilities:{textDocumentSync:dr.TextDocumentSyncKind.None}};for(let k of h)k.fillServerCapabilities(S.capabilities);return S}}),i.onRequest(dr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,A)return A(new dr.CancellationTokenSource().token)}),i.onNotification(dr.ExitNotification.type,()=>{try{x&&x()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(dr.SetTraceNotification.type,b=>{s.trace=dr.Trace.fromString(b.value)}),v}o(fot,"createConnection");Zi.createConnection=fot});var a3e=V(Tc=>{"use strict";d();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.resolveModulePath=Tc.FileSystem=Tc.resolveGlobalYarnPath=Tc.resolveGlobalNodePath=Tc.resolve=Tc.uriToFilePath=void 0;var dot=require("url"),xm=require("path"),JK=require("fs"),tJ=require("child_process");function mot(e){let t=dot.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return xm.normalize(r.join("/"))}o(mot,"uriToFilePath");Tc.uriToFilePath=mot;function XK(){return process.platform==="win32"}o(XK,"isWindows");function qN(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&JK.existsSync(t)&&(u[i]?u[i]=t+xm.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,tJ.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(qN,"resolve");Tc.resolve=qN;function ZK(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};XK()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,tJ.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?XK()?xm.join(a,"node_modules"):xm.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(ZK,"resolveGlobalNodePath");Tc.resolveGlobalNodePath=ZK;function hot(e){let t="yarn",r={encoding:"utf8"};XK()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,tJ.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return xm.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(hot,"resolveGlobalYarnPath");Tc.resolveGlobalYarnPath=hot;var eJ;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!JK.existsSync(__filename.toUpperCase())||!JK.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?xm.normalize(s).indexOf(xm.normalize(i))===0:xm.normalize(s).toLowerCase().indexOf(xm.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(eJ||(Tc.FileSystem=eJ={}));function pot(e,t,r,n){return r?(xm.isAbsolute(r)||(r=xm.join(e,r)),qN(t,r,r,n).then(i=>eJ.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>qN(t,ZK(n),e,n))):qN(t,ZK(n),e,n)}o(pot,"resolveModulePath");Tc.resolveModulePath=pot});var rJ=V((Sgr,l3e)=>{"use strict";d();l3e.exports=Ii()});var c3e=V(GN=>{"use strict";d();Object.defineProperty(GN,"__esModule",{value:!0});GN.InlineCompletionFeature=void 0;var got=Ii(),Aot=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(got.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");GN.InlineCompletionFeature=Aot});var d3e=V(p0=>{"use strict";d();var yot=p0&&p0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f3e=p0&&p0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yot(t,e,r)};Object.defineProperty(p0,"__esModule",{value:!0});p0.ProposedFeatures=p0.NotebookDocuments=p0.TextDocuments=p0.SemanticTokensBuilder=void 0;var Cot=MK();Object.defineProperty(p0,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return Cot.SemanticTokensBuilder},"get")});var Eot=c3e();f3e(Ii(),p0);var xot=GK();Object.defineProperty(p0,"TextDocuments",{enumerable:!0,get:o(function(){return xot.TextDocuments},"get")});var bot=HK();Object.defineProperty(p0,"NotebookDocuments",{enumerable:!0,get:o(function(){return bot.NotebookDocuments},"get")});f3e(KK(),p0);var u3e;(function(e){e.all={__brand:"features",languages:Eot.InlineCompletionFeature}})(u3e||(p0.ProposedFeatures=u3e={}))});var L0=V(Hf=>{"use strict";d();var vot=Hf&&Hf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g3e=Hf&&Hf.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vot(t,e,r)};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.createConnection=Hf.Files=void 0;var m3e=require("node:util"),nJ=hN(),Iot=KK(),$7=a3e(),IC=rJ();g3e(rJ(),Hf);g3e(d3e(),Hf);var h3e;(function(e){e.uriToFilePath=$7.uriToFilePath,e.resolveGlobalNodePath=$7.resolveGlobalNodePath,e.resolveGlobalYarnPath=$7.resolveGlobalYarnPath,e.resolve=$7.resolve,e.resolveModulePath=$7.resolveModulePath})(h3e||(Hf.Files=h3e={}));var p3e;function WN(){if(p3e!==void 0)try{p3e.end()}catch{}}o(WN,"endProtocolConnection");var sv=!1,A3e;function Tot(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(A3e=setInterval(()=>{try{process.kill(n,0)}catch{WN(),process.exit(sv?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(Tot,"setupExitTimer");Tot();var wot={initialize:o(e=>{let t=e.processId;nJ.number(t)&&A3e===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(sv?0:1)}},3e3)},"initialize"),get shutdownReceived(){return sv},set shutdownReceived(e){sv=e},exit:o(e=>{WN(),process.exit(e)},"exit")};function _ot(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),IC.ConnectionStrategy.is(e)||IC.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),Sot(s,a,l,i)}o(_ot,"createConnection");Hf.createConnection=_ot;function Sot(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new IC.IPCMessageReader(process),t=new IC.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,IC.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,IC.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(nJ.func(e.read)&&nJ.func(e.on)){let c=e;c.on("end",()=>{WN(),process.exit(sv?0:1)}),c.on("close",()=>{WN(),process.exit(sv?0:1)})}let l=o(c=>{let u=(0,IC.createProtocolConnection)(e,t,c,r);return i&&Bot(c),u},"connectionFactory");return(0,Iot.createConnection)(l,wot,n)}o(Sot,"_createConnection");function Bot(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,m3e.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,m3e.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(Bot,"patchConsole")});var n1=V((Ugr,y3e)=>{"use strict";d();y3e.exports=L0()});var dEe=V((n4r,fEe)=>{"use strict";d();fEe.exports=cEe;function cEe(e,t,r){e instanceof RegExp&&(e=lEe(e,r)),t instanceof RegExp&&(t=lEe(t,r));var n=uEe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(cEe,"balanced");function lEe(e,t){var r=t.match(e);return r?r[0]:null}o(lEe,"maybeMatch");cEe.range=uEe;function uEe(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(uEe,"range")});var EEe=V((s4r,CEe)=>{d();var mEe=dEe();CEe.exports=Fst;var hEe="\0SLASH"+Math.random()+"\0",pEe="\0OPEN"+Math.random()+"\0",pX="\0CLOSE"+Math.random()+"\0",gEe="\0COMMA"+Math.random()+"\0",AEe="\0PERIOD"+Math.random()+"\0";function hX(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(hX,"numeric");function Pst(e){return e.split("\\\\").join(hEe).split("\\{").join(pEe).split("\\}").join(pX).split("\\,").join(gEe).split("\\.").join(AEe)}o(Pst,"escapeBraces");function Nst(e){return e.split(hEe).join("\\").split(pEe).join("{").split(pX).join("}").split(gEe).join(",").split(AEe).join(".")}o(Nst,"unescapeBraces");function yEe(e){if(!e)return[""];var t=[],r=mEe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=yEe(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(yEe,"parseCommaParts");function Fst(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),pT(Pst(e),!0).map(Nst)):[]}o(Fst,"expandTop");function Lst(e){return"{"+e+"}"}o(Lst,"embrace");function Qst(e){return/^-?0\d/.test(e)}o(Qst,"isPadded");function Mst(e,t){return e<=t}o(Mst,"lte");function Ost(e,t){return e>=t}o(Ost,"gte");function pT(e,t){var r=[],n=mEe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?pT(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+pX+n.post,pT(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=yEe(n.body),h.length===1&&(h=pT(h[0],!1).map(Lst),h.length===1))return s.map(function(re){return n.pre+h[0]+re});var p;if(f){var A=hX(h[0]),E=hX(h[1]),x=Math.max(h[0].length,h[1].length),v=h.length==3?Math.abs(hX(h[2])):1,b=Mst,S=E<A;S&&(v*=-1,b=Ost);var k=h.some(Qst);p=[];for(var P=A;b(P,E);P+=v){var N;if(u)N=String.fromCharCode(P),N==="\\"&&(N="");else if(N=String(P),k){var W=x-N.length;if(W>0){var te=new Array(W+1).join("0");P<0?N="-"+te+N.slice(1):N=te+N}}p.push(N)}}else{p=[];for(var ge=0;ge<h.length;ge++)p.push.apply(p,pT(h[ge],!1))}for(var ge=0;ge<p.length;ge++)for(var a=0;a<s.length;a++){var l=i+p[ge]+s[a];(!t||f||l)&&r.push(l)}}return r}o(pT,"expand")});var _v=V(op=>{"use strict";d();Object.defineProperty(op,"__esModule",{value:!0});op.BaseTokensPerName=op.BaseTokensPerMessage=op.BaseTokensPerCompletion=op.ChatRole=void 0;var JEe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(JEe||(op.ChatRole=JEe={}));op.BaseTokensPerCompletion=3;op.BaseTokensPerMessage=3;op.BaseTokensPerName=1});var XEe=V(wX=>{"use strict";d();Object.defineProperty(wX,"__esModule",{value:!0});wX.once=Uat;function Uat(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(Uat,"once")});var kX=V(sp=>{"use strict";d();Object.defineProperty(sp,"__esModule",{value:!0});sp.MaterializedChatMessageImage=sp.MaterializedChatMessage=sp.MaterializedChatMessageTextChunk=sp.MaterializedContainer=void 0;var Sv=XEe(),HC=_v(),A5=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=jC(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return ixe(t,this.children,r)}allMetadata(){return nxe(this)}findById(t){return BX(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)qat(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof Bv&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return SX(this,t),t}};sp.MaterializedContainer=A5;var VC=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,Sv.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};sp.MaterializedChatMessageTextChunk=VC;var Bv=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=ixe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return SX(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return BX(t,this)}_tokenCount=(0,Sv.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,Sv.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,Sv.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,Sv.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of rxe(this)){if(r instanceof wm){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof wm)){if(this.role!==HC.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof wm)return{type:"image_url",image_url:{url:oxe(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:HC.ChatRole.User,content:r}}if(this.role===HC.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===HC.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===HC.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===HC.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};sp.MaterializedChatMessage=Bv;var wm=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,Sv.once)(async t=>await t.countMessageTokens({role:HC.ChatRole.User,content:[{type:"image_url",image_url:{url:oxe(this.src),detail:this.detail}}]}));isEmpty=!1};sp.MaterializedChatMessageImage=wm;function jC(e){return!(e instanceof VC||e instanceof wm)}o(jC,"isContainerType");function qat(e){if(!(e instanceof A5)&&!(e instanceof Bv)&&!(e instanceof wm))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(qat,"assertContainerOrChatMessage");function*rxe(e,t=!1){for(let r of e.children)r instanceof VC?(yield{text:r,isTextSibling:t},t=!0):r instanceof wm?yield{text:r,isTextSibling:!1}:(r&&(yield*rxe(r,t)),t=!1)}o(rxe,"textChunks");function Gat(e,t){let r;function n(i,s){if(i instanceof VC||i instanceof wm)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");CT(r.node,t)}o(Gat,"removeLowestPriorityLegacy");function SX(e,t){let r;if(e instanceof A5&&e.has(1)){Gat(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof A5&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=ZEe(r.value);let c=ZEe(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof VC||r.value instanceof wm||r.value instanceof A5&&r.value.has(2)||jC(r.value)&&!r.value.children.length?CT(r.value,t):SX(r.value,t)}o(SX,"removeLowestPriorityChild");function ZEe(e){if(!jC(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(ZEe,"getLowestPriorityAmongChildren");function*nxe(e){yield*e.metadata;for(let t of e.children)jC(t)?yield*nxe(t):yield*t.metadata}o(nxe,"allMetadata");function ixe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(jC(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(ixe,"replaceNode");function*exe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,jC(r)&&t.push(...r.children)}}o(exe,"forEachNode");function Wat(e){let t=e;for(;t.parent;)t=t.parent;return t}o(Wat,"getRoot");function txe(e){return e instanceof A5&&e.keepWithId!==void 0}o(txe,"isKeepWith");var _X=new Set;function Hat(e,t){let r=new Set;for(let n of exe(e))txe(n)&&!_X.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)_X.add(n);try{let n=Wat(e);for(let i of exe(n))txe(i)&&r.has(i.keepWithId)?CT(i,t):i instanceof Bv&&i.toolCalls&&(i.toolCalls=Vat(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&CT(i,t))}finally{for(let n of r)_X.delete(n)}}o(Hat,"removeOtherKeepWiths");function BX(e,t){if(t.id===e)return t;for(let r of t.children)if(jC(r)){let n=BX(e,r);if(n)return n}}o(BX,"findNodeById");function CT(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),Hat(e,t),r.isEmpty?CT(r,t):r.onChunksChange())}o(CT,"removeNode");function oxe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(oxe,"getEncodedBase64");function Vat(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(Vat,"filterIfDifferent")});var axe=V(()=>{"use strict";d();function jat(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(jat,"_vscpp");function sxe(){throw new Error("This should not be invoked!")}o(sxe,"_vscppf");sxe.isFragment=!0;globalThis.vscpp=jat;globalThis.vscppf=sxe});var DX=V(rL=>{"use strict";d();Object.defineProperty(rL,"__esModule",{value:!0});rL.PromptElement=void 0;axe();var RX=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};rL.PromptElement=RX});var WX=V(Ti=>{"use strict";d();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.IfEmpty=Ti.AbstractKeepWith=Ti.TokenLimit=Ti.Expandable=Ti.Chunk=Ti.LegacyPrioritization=Ti.ToolResult=Ti.PrioritizedList=Ti.BaseImageMessage=Ti.TextChunk=Ti.ToolMessage=Ti.FunctionMessage=Ti.AssistantMessage=Ti.UserMessage=Ti.SystemMessage=Ti.BaseChatMessage=void 0;Ti.isChatMessagePromptElement=$at;Ti.useKeepWith=Jat;var ET=_v(),ap=DX();function $at(e){return e instanceof nL||e instanceof iL||e instanceof oL}o($at,"isChatMessagePromptElement");var l1=class extends ap.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.BaseChatMessage=l1;var nL=class extends l1{static{o(this,"SystemMessage")}constructor(t){t.role=ET.ChatRole.System,super(t)}};Ti.SystemMessage=nL;var iL=class extends l1{static{o(this,"UserMessage")}constructor(t){t.role=ET.ChatRole.User,super(t)}};Ti.UserMessage=iL;var oL=class extends l1{static{o(this,"AssistantMessage")}constructor(t){t.role=ET.ChatRole.Assistant,super(t)}};Ti.AssistantMessage=oL;var zat=/\s+/g,PX=class extends l1{static{o(this,"FunctionMessage")}constructor(t){t.role=ET.ChatRole.Function,super(t)}};Ti.FunctionMessage=PX;var NX=class extends l1{static{o(this,"ToolMessage")}constructor(t){t.role=ET.ChatRole.Tool,super(t)}};Ti.ToolMessage=NX;var sL=class extends ap.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?zat:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await Yat(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Ti.TextChunk=sL;async function Yat(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o(Yat,"getTextContentBelowBudget");var FX=class extends l1{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};Ti.BaseImageMessage=FX;var LX=class extends ap.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(sL,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Ti.PrioritizedList=LX;var QX=class extends ap.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Ti.ToolResult=QX;var MX=class extends ap.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.LegacyPrioritization=MX;var OX=class extends ap.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.Chunk=OX;var UX=class extends ap.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Ti.Expandable=UX;var qX=class extends ap.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.TokenLimit=qX;var aL=class extends ap.PromptElement{static{o(this,"AbstractKeepWith")}};Ti.AbstractKeepWith=aL;var Kat=0;function Jat(){let e=Kat++;return class extends aL{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(Jat,"useKeepWith");var GX=class extends ap.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};Ti.IfEmpty=GX});var cxe=V(xT=>{"use strict";d();Object.defineProperty(xT,"__esModule",{value:!0});xT.localize=Xat;xT.localize2=Zat;xT.getConfiguredDefaultLocale=elt;function lxe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(lxe,"_format");function Xat(e,t,...r){return lxe(t,r)}o(Xat,"localize");function Zat(e,t,...r){let n=lxe(t,r);return{original:n,value:n}}o(Zat,"localize2");function elt(e){}o(elt,"getConfiguredDefaultLocale")});var $X=V(Kt=>{"use strict";d();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.isAndroid=Kt.isEdge=Kt.isSafari=Kt.isFirefox=Kt.isChrome=Kt.OS=Kt.setTimeout0=Kt.setTimeout0IsFaster=Kt.translationsConfigFile=Kt.platformLocale=Kt.locale=Kt.Language=Kt.language=Kt.userAgent=Kt.platform=Kt.isCI=Kt.isMobile=Kt.isIOS=Kt.webWorkerOrigin=Kt.isWebWorker=Kt.isWeb=Kt.isElectron=Kt.isNative=Kt.isLinuxSnap=Kt.isLinux=Kt.isMacintosh=Kt.isWindows=Kt.LANGUAGE_DEFAULT=void 0;Kt.PlatformToString=rlt;Kt.isLittleEndian=nlt;Kt.isBigSurOrNewer=ilt;var uxe=cxe();Kt.LANGUAGE_DEFAULT="en";var IT=!1,TT=!1,vT=!1,hxe=!1,pxe=!1,VX=!1,gxe=!1,jX=!1,Axe=!1,yxe=!1,bT,lL=Kt.LANGUAGE_DEFAULT,HX=Kt.LANGUAGE_DEFAULT,Cxe,c1,u1=globalThis,Pu;typeof u1.vscode<"u"&&typeof u1.vscode.process<"u"?Pu=u1.vscode.process:typeof process<"u"&&(Pu=process);var Exe=typeof Pu?.versions?.electron=="string",tlt=Exe&&Pu?.type==="renderer";if(typeof Pu=="object"){IT=Pu.platform==="win32",TT=Pu.platform==="darwin",vT=Pu.platform==="linux",hxe=vT&&!!Pu.env.SNAP&&!!Pu.env.SNAP_REVISION,gxe=Exe,Axe=!!Pu.env.CI||!!Pu.env.BUILD_ARTIFACTSTAGINGDIRECTORY,bT=Kt.LANGUAGE_DEFAULT,lL=Kt.LANGUAGE_DEFAULT;let e=Pu.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];bT=t.locale,HX=t.osLocale,lL=r||Kt.LANGUAGE_DEFAULT,Cxe=t._translationsConfigFile}catch{}pxe=!0}else typeof navigator=="object"&&!tlt?(c1=navigator.userAgent,IT=c1.indexOf("Windows")>=0,TT=c1.indexOf("Macintosh")>=0,jX=(c1.indexOf("Macintosh")>=0||c1.indexOf("iPad")>=0||c1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,vT=c1.indexOf("Linux")>=0,yxe=c1?.indexOf("Mobi")>=0,VX=!0,bT=uxe.getConfiguredDefaultLocale(uxe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||Kt.LANGUAGE_DEFAULT,lL=bT,HX=navigator.language):console.error("Unable to resolve platform.");function rlt(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(rlt,"PlatformToString");var cL=0;TT?cL=1:IT?cL=3:vT&&(cL=2);Kt.isWindows=IT;Kt.isMacintosh=TT;Kt.isLinux=vT;Kt.isLinuxSnap=hxe;Kt.isNative=pxe;Kt.isElectron=gxe;Kt.isWeb=VX;Kt.isWebWorker=VX&&typeof u1.importScripts=="function";Kt.webWorkerOrigin=Kt.isWebWorker?u1.origin:void 0;Kt.isIOS=jX;Kt.isMobile=yxe;Kt.isCI=Axe;Kt.platform=cL;Kt.userAgent=c1;Kt.language=lL;var fxe;(function(e){function t(){return Kt.language}o(t,"value"),e.value=t;function r(){return Kt.language.length===2?Kt.language==="en":Kt.language.length>=3?Kt.language[0]==="e"&&Kt.language[1]==="n"&&Kt.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return Kt.language==="en"}o(n,"isDefault"),e.isDefault=n})(fxe||(Kt.Language=fxe={}));Kt.locale=bT;Kt.platformLocale=HX;Kt.translationsConfigFile=Cxe;Kt.setTimeout0IsFaster=typeof u1.postMessage=="function"&&!u1.importScripts;Kt.setTimeout0=(()=>{if(Kt.setTimeout0IsFaster){let e=[];u1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),u1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();Kt.OS=TT||jX?2:IT?1:3;var dxe=!0,mxe=!1;function nlt(){if(!mxe){mxe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,dxe=new Uint16Array(e.buffer)[0]===513}return dxe}o(nlt,"isLittleEndian");Kt.isChrome=!!(Kt.userAgent&&Kt.userAgent.indexOf("Chrome")>=0);Kt.isFirefox=!!(Kt.userAgent&&Kt.userAgent.indexOf("Firefox")>=0);Kt.isSafari=!!(!Kt.isChrome&&Kt.userAgent&&Kt.userAgent.indexOf("Safari")>=0);Kt.isEdge=!!(Kt.userAgent&&Kt.userAgent.indexOf("Edg/")>=0);Kt.isAndroid=!!(Kt.userAgent&&Kt.userAgent.indexOf("Android")>=0);function ilt(e){return parseFloat(e)>=20}o(ilt,"isBigSurOrNewer")});var bxe=V(lp=>{"use strict";d();Object.defineProperty(lp,"__esModule",{value:!0});lp.arch=lp.platform=lp.env=lp.cwd=void 0;var xxe=$X(),$C,zX=globalThis.vscode;if(typeof zX<"u"&&typeof zX.process<"u"){let e=zX.process;$C={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?$C={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:$C={get platform(){return xxe.isWindows?"win32":xxe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};lp.cwd=$C.cwd;lp.env=$C.env;lp.platform=$C.platform;lp.arch=$C.arch});var Ixe=V(xr=>{"use strict";d();Object.defineProperty(xr,"__esModule",{value:!0});xr.delimiter=xr.sep=xr.toNamespacedPath=xr.parse=xr.format=xr.extname=xr.basename=xr.dirname=xr.relative=xr.resolve=xr.join=xr.isAbsolute=xr.normalize=xr.posix=xr.win32=void 0;var kv=bxe(),olt=65,slt=97,alt=90,llt=122,E5=46,hl=47,Bc=92,y5=58,clt=63,uL=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function ult(e,t){if(e===null||typeof e!="object")throw new uL(t,"Object",e)}o(ult,"validateObject");function Us(e,t){if(typeof e!="string")throw new uL(t,"string",e)}o(Us,"validateString");var kc=kv.platform==="win32";function Wn(e){return e===hl||e===Bc}o(Wn,"isPathSeparator");function YX(e){return e===hl}o(YX,"isPosixPathSeparator");function C5(e){return e>=olt&&e<=alt||e>=slt&&e<=llt}o(C5,"isWindowsDeviceRoot");function fL(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=hl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==E5||i.charCodeAt(i.length-2)!==E5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===E5&&l!==-1?++l:l=-1}return i}o(fL,"normalizeString");function vxe(e,t){ult(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(vxe,"_format");xr.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],Us(s,"path"),s.length===0)continue}else t.length===0?s=kv.cwd():(s=kv.env[`=${t}`]||kv.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Bc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Wn(f)&&(l=1,u=!0);else if(Wn(f))if(u=!0,Wn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!Wn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&Wn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!Wn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else C5(f)&&s.charCodeAt(1)===y5&&(c=s.slice(0,2),l=2,a>2&&Wn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=fL(r,!n,"\\",Wn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){Us(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return YX(s)?"\\":e;if(Wn(s))if(i=!0,Wn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Wn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else C5(s)&&e.charCodeAt(1)===y5&&(n=e.slice(0,2),r=2,t>2&&Wn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?fL(e.slice(r),!i,"\\",Wn):"";return a.length===0&&!i&&(a="."),a.length>0&&Wn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){Us(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Wn(r)||t>2&&C5(r)&&e.charCodeAt(1)===y5&&Wn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];Us(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Wn(r.charCodeAt(0))){++i;let s=r.length;s>1&&Wn(r.charCodeAt(1))&&(++i,s>2&&(Wn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Wn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return xr.win32.normalize(t)},relative(e,t){if(Us(e,"from"),Us(t,"to"),e===t)return"";let r=xr.win32.resolve(e),n=xr.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Bc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Bc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Bc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Bc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Bc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Bc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Bc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Bc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Bc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=xr.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Bc){if(t.charCodeAt(1)===Bc){let r=t.charCodeAt(2);if(r!==clt&&r!==E5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(C5(t.charCodeAt(0))&&t.charCodeAt(1)===y5&&t.charCodeAt(2)===Bc)return`\\\\?\\${t}`;return e},dirname(e){Us(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Wn(i)?e:".";if(Wn(i)){if(r=n=1,Wn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Wn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else C5(i)&&e.charCodeAt(1)===y5&&(r=t>2&&Wn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Wn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&Us(t,"ext"),Us(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&C5(e.charCodeAt(0))&&e.charCodeAt(1)===y5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Wn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Wn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Us(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===y5&&C5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Wn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===E5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:vxe.bind(null,"\\"),parse(e){Us(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Wn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Wn(i)){if(n=1,Wn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!Wn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&Wn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!Wn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(C5(i)&&e.charCodeAt(1)===y5){if(r<=2)return t.root=t.dir=e,t;if(n=2,Wn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Wn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===E5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var flt=(()=>{if(kc){let e=/\\/g;return()=>{let t=kv.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>kv.cwd()})();xr.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:flt();Us(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===hl)}return t=fL(t,!r,"/",YX),r?`/${t}`:t.length>0?t:"."},normalize(e){if(Us(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===hl,r=e.charCodeAt(e.length-1)===hl;return e=fL(e,!t,"/",YX),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return Us(e,"path"),e.length>0&&e.charCodeAt(0)===hl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];Us(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":xr.posix.normalize(t)},relative(e,t){if(Us(e,"from"),Us(t,"to"),e===t||(e=xr.posix.resolve(e),t=xr.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===hl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===hl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===hl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===hl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(Us(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===hl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===hl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&Us(t,"ext"),Us(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===hl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===hl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Us(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===hl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===E5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:vxe.bind(null,"/"),parse(e){Us(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===hl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===hl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===E5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};xr.posix.win32=xr.win32.win32=xr.win32;xr.posix.posix=xr.win32.posix=xr.posix;xr.normalize=kc?xr.win32.normalize:xr.posix.normalize;xr.isAbsolute=kc?xr.win32.isAbsolute:xr.posix.isAbsolute;xr.join=kc?xr.win32.join:xr.posix.join;xr.resolve=kc?xr.win32.resolve:xr.posix.resolve;xr.relative=kc?xr.win32.relative:xr.posix.relative;xr.dirname=kc?xr.win32.dirname:xr.posix.dirname;xr.basename=kc?xr.win32.basename:xr.posix.basename;xr.extname=kc?xr.win32.extname:xr.posix.extname;xr.format=kc?xr.win32.format:xr.posix.format;xr.parse=kc?xr.win32.parse:xr.posix.parse;xr.toNamespacedPath=kc?xr.win32.toNamespacedPath:xr.posix.toNamespacedPath;xr.sep=kc?xr.win32.sep:xr.posix.sep;xr.delimiter=kc?xr.win32.delimiter:xr.posix.delimiter});var Rxe=V(Rv=>{"use strict";d();Object.defineProperty(Rv,"__esModule",{value:!0});Rv.URI=void 0;Rv.isUriComponents=Clt;Rv.uriToFsPath=pL;var Txe=Ixe(),mL=$X(),dlt=/^\w[\w\d+.-]*$/,mlt=/^\//,hlt=/^\/\//;function plt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!dlt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!mlt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(hlt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(plt,"_validateUri");function glt(e,t){return!e&&!t?"file":e}o(glt,"_schemeFix");function Alt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==_m&&(t=_m+t):t=_m;break}return t}o(Alt,"_referenceResolution");var Bo="",_m="/",ylt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,hL=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Bo,this.authority=t.authority||Bo,this.path=t.path||Bo,this.query=t.query||Bo,this.fragment=t.fragment||Bo):(this.scheme=glt(t,a),this.authority=r||Bo,this.path=Alt(this.scheme,n||Bo),this.query=i||Bo,this.fragment=s||Bo,plt(this,a))}get fsPath(){return pL(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Bo),n===void 0?n=this.authority:n===null&&(n=Bo),i===void 0?i=this.path:i===null&&(i=Bo),s===void 0?s=this.query:s===null&&(s=Bo),a===void 0?a=this.fragment:a===null&&(a=Bo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new x5(r,n,i,s,a)}static parse(t,r=!1){let n=ylt.exec(t);return n?new x5(n[2]||Bo,dL(n[4]||Bo),dL(n[5]||Bo),dL(n[7]||Bo),dL(n[9]||Bo),r):new x5(Bo,Bo,Bo,Bo,Bo)}static file(t){let r=Bo;if(mL.isWindows&&(t=t.replace(/\\/g,_m)),t[0]===_m&&t[1]===_m){let n=t.indexOf(_m,2);n===-1?(r=t.substring(2),t=_m):(r=t.substring(2,n),t=t.substring(n)||_m)}return new x5("file",r,t,Bo,Bo)}static from(t,r){return new x5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return mL.isWindows&&t.scheme==="file"?n=e.file(Txe.win32.join(pL(t,!0),...r)).path:n=Txe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return KX(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new x5(t);return r._formatted=t.external??null,r._fsPath=t._sep===Sxe?t.fsPath??null:null,r}}else return t}};Rv.URI=hL;function Clt(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(Clt,"isUriComponents");var Sxe=mL.isWindows?1:void 0,x5=class extends hL{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=pL(this,!1)),this._fsPath}toString(t=!1){return t?KX(this,!0):(this._formatted||(this._formatted=KX(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=Sxe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},Bxe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function wxe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=Bxe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(wxe,"encodeURIComponentFast");function Elt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=Bxe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(Elt,"encodeURIComponentMinimal");function pL(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,mL.isWindows&&(r=r.replace(/\//g,"\\")),r}o(pL,"uriToFsPath");function KX(e,t){let r=t?Elt:wxe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=_m,n+=_m),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:wxe(c,!1,!1)),n}o(KX,"_asFormatted");function kxe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+kxe(e.substr(3)):e}}o(kxe,"decodeURIComponentGraceful");var _xe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function dL(e){return e.match(_xe)?e.replace(_xe,t=>kxe(t)):e}o(dL,"percentDecode")});var ZX=V(b5=>{"use strict";d();Object.defineProperty(b5,"__esModule",{value:!0});b5.PromptReference=b5.ChatResponseReferencePartStatusKind=b5.PromptMetadata=void 0;var wT=Rxe(),JX=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};b5.PromptMetadata=JX;var Dxe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(Dxe||(b5.ChatResponseReferencePartStatusKind=Dxe={}));var XX=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?wT.URI.from(n):{uri:wT.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?wT.URI.from(t.iconPath):"light"in t.iconPath?{light:wT.URI.from(t.iconPath.light),dark:wT.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};b5.PromptReference=XX});var aZ=V(Dv=>{"use strict";d();Object.defineProperty(Dv,"__esModule",{value:!0});Dv.PromptRenderer=Dv.MetadataMap=void 0;var gL=kX(),Hl=WX(),sZ=ZX(),Pxe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(Pxe||(Dv.MetadataMap=Pxe={}));var eZ=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new yL(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof Hl.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:x}of u)m+=x.props.flexBasis??1;let h=0,p=u.map(x=>{if(x.tokenLimit===void 0)return!1;let v=x.element.props.flexBasis??1,b=v/m;return Math.floor(t.remainingTokenBudget*b)<x.tokenLimit?!1:(m-=v,h+=x.tokenLimit,!0)}),A=u.map((x,v)=>{let b=(x.element.props.flexBasis??1)/m;return{tokenBudget:p[v]?x.tokenLimit:Math.floor((t.remainingTokenBudget-h)*b),endpoint:t.endpoint,countTokens:o((S,k)=>this._tokenizer.tokenLength(S,k),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((x,v)=>({id:x.element.node.id,tokenBudget:A[v].tokenBudget}))}),await Promise.all(u.map(async({element:x,promptElementInstance:v},b)=>{let S=await v.prepare?.(A[b],n,i);x.node.setState(S)}));let E=await Promise.all(u.map(async({element:x,promptElementInstance:v},b)=>{let S=A[b];return await v.render(x.node.getState(),S,n,i)}));for(let[x,{element:v,promptElementInstance:b}]of u.entries()){let S=A[x],k=E[x];if(!k)continue;let P=await this._processPromptRenderPiece(new zC(S.tokenBudget,this._endpoint),v,b,k,n,i);b instanceof Hl.Expandable&&this._growables.push({initialConsume:P,elem:v.node}),t.consume(P)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=Nxe(i),c=new zC(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await xlt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new zC(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new zC(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof cp))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(iZ),m=i.map(h=>{if(!(h instanceof cp)||c.includes(h))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(iZ);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof Hl.Expandable))throw new Error("unreachable: expected growable");let l=new yL(null,0,s.elem.id),c=new zC(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===Hl.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},AL(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new cp(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new cp(c));else this._handleIntrinsic(t,l.name,l.props,AL(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};Dv.PromptRenderer=eZ;async function xlt(e,t,r,n){let i=0;(0,Hl.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(xlt,"computeTokensConsumedByLiterals");function Nxe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new nZ(String(e))):blt(e)?AL(e.children,t):vlt(e)?AL(e,t):typeof e.ctor=="string"?t.push(new tZ(e.ctor,e.props,e.children)):t.push(new rZ(e.ctor,e.props,e.children)),t)}o(Nxe,"flattenAndReduce");function AL(e,t=[]){for(let r of e)Nxe(r,t);return t}o(AL,"flattenAndReduceArr");var tZ=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},rZ=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},nZ=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},zC=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},yL=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new cp(sZ.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return _T.fromJSON(n,s,i);default:}}).filter(iZ),r.ctor){case 1:n._obj=new Hl.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new Hl.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new _T(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new _T(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof cp).map(r=>r.reference.toJSON())};if(this._obj instanceof Hl.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof Hl.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof Hl.BaseImageMessage)return new gL.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof Hl.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new gL.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof Hl.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof Hl.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof Hl.LegacyPrioritization&&(r|=1),this._obj instanceof Hl.Chunk&&(r|=2),this._obj instanceof Hl.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new gL.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof Hl.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},_T=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new cp(sZ.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new gL.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof cp).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function blt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o(blt,"isFragmentCtor");function iZ(e){return e!==void 0}o(iZ,"isDefined");var oZ=class extends sZ.PromptMetadata{static{o(this,"InternalMetadata")}},cp=class extends oZ{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function vlt(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(vlt,"isIterable")});var Fxe=V(CL=>{"use strict";d();Object.defineProperty(CL,"__esModule",{value:!0});CL.AnyTokenizer=void 0;var ST=_v(),lZ=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case ST.ChatRole.User:return 1;case ST.ChatRole.Assistant:return 2;case ST.ChatRole.System:return 1;case ST.ChatRole.Function:return 1;case ST.ChatRole.Tool:return 1}}};CL.AnyTokenizer=lZ});var Lxe=V(Pv=>{"use strict";d();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.tracerCss=Pv.tracerSrc=void 0;Pv.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';Pv.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var qxe=V(xL=>{"use strict";d();Object.defineProperty(xL,"__esModule",{value:!0});xL.HTMLTracer=void 0;var Qxe=Lxe(),BT=kX(),cZ=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return uZ.create({epochs:this.epochs,traceData:Oxe(this.traceData)})}serveRouter(t){return new EL({baseAddress:t,epochs:this.epochs,traceData:Oxe(this.traceData)})}};xL.HTMLTracer=cZ;var EL=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${Qxe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await Mxe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${Qxe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await Mxe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},uZ=class e extends EL{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function Mxe(e,t){return{container:await Uxe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(Mxe,"serializeRenderData");async function Uxe(e,t,r){let n={metadata:t.metadata.map(Tlt),priority:t.priority};if(t instanceof BT.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof BT.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>Uxe(e,s,r||t instanceof BT.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof BT.MaterializedContainer)return{...i,type:0};if(t instanceof BT.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}Ilt(t)}o(Uxe,"serializeMaterialized");function Ilt(e){throw new Error("unreachable")}o(Ilt,"assertNever");function Tlt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(Tlt,"serializeMetadata");var Oxe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var Wxe=V(fZ=>{"use strict";d();Object.defineProperty(fZ,"__esModule",{value:!0});fZ.forEachNode=Gxe;function Gxe(e,t){if(t(e),e.type===1)for(let r of e.children)Gxe(r,t)}o(Gxe,"forEachNode")});var Vxe=V(Hxe=>{"use strict";d();Object.defineProperty(Hxe,"__esModule",{value:!0})});var $xe=V(jxe=>{"use strict";d();Object.defineProperty(jxe,"__esModule",{value:!0})});var Yxe=V(zxe=>{"use strict";d();Object.defineProperty(zxe,"__esModule",{value:!0})});var Nv=V(wn=>{"use strict";d();var wlt=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kT=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wlt(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});wn.contentType=wn.PromptRenderer=wn.MetadataMap=wn.PromptElement=wn.useKeepWith=wn.ToolResult=wn.UserMessage=wn.ToolMessage=wn.TextChunk=wn.SystemMessage=wn.PrioritizedList=wn.LegacyPrioritization=wn.FunctionMessage=wn.Chunk=wn.AssistantMessage=wn.ChatRole=wn.JSONTree=void 0;wn.renderPrompt=klt;wn.renderElementJSON=Rlt;wn.toVsCodeChatMessages=Xxe;var bL=_v(),Kxe=aZ(),_lt=Fxe();kT(qxe(),wn);wn.JSONTree=Wxe();var Slt=_v();Object.defineProperty(wn,"ChatRole",{enumerable:!0,get:o(function(){return Slt.ChatRole},"get")});kT(ZX(),wn);kT(Vxe(),wn);kT($xe(),wn);kT(Yxe(),wn);var Sm=WX();Object.defineProperty(wn,"AssistantMessage",{enumerable:!0,get:o(function(){return Sm.AssistantMessage},"get")});Object.defineProperty(wn,"Chunk",{enumerable:!0,get:o(function(){return Sm.Chunk},"get")});Object.defineProperty(wn,"FunctionMessage",{enumerable:!0,get:o(function(){return Sm.FunctionMessage},"get")});Object.defineProperty(wn,"LegacyPrioritization",{enumerable:!0,get:o(function(){return Sm.LegacyPrioritization},"get")});Object.defineProperty(wn,"PrioritizedList",{enumerable:!0,get:o(function(){return Sm.PrioritizedList},"get")});Object.defineProperty(wn,"SystemMessage",{enumerable:!0,get:o(function(){return Sm.SystemMessage},"get")});Object.defineProperty(wn,"TextChunk",{enumerable:!0,get:o(function(){return Sm.TextChunk},"get")});Object.defineProperty(wn,"ToolMessage",{enumerable:!0,get:o(function(){return Sm.ToolMessage},"get")});Object.defineProperty(wn,"UserMessage",{enumerable:!0,get:o(function(){return Sm.UserMessage},"get")});Object.defineProperty(wn,"ToolResult",{enumerable:!0,get:o(function(){return Sm.ToolResult},"get")});Object.defineProperty(wn,"useKeepWith",{enumerable:!0,get:o(function(){return Sm.useKeepWith},"get")});var Blt=DX();Object.defineProperty(wn,"PromptElement",{enumerable:!0,get:o(function(){return Blt.PromptElement},"get")});var Jxe=aZ();Object.defineProperty(wn,"MetadataMap",{enumerable:!0,get:o(function(){return Jxe.MetadataMap},"get")});Object.defineProperty(wn,"PromptRenderer",{enumerable:!0,get:o(function(){return Jxe.PromptRenderer},"get")});async function klt(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new _lt.AnyTokenizer((E,x)=>n.countTokens(E,x),a):n,c=new Kxe.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,A=c.getUsedContext();return a==="vscode"&&(p=Xxe(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:A,references:m}}o(klt,"renderPrompt");wn.contentType="application/vnd.codechat.prompt+json.1";function Rlt(e,t,r,n){return new Kxe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(Rlt,"renderElementJSON");function Xxe(e){let t=require("vscode");return e.map(r=>{switch(r.role){case bL.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case bL.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case bL.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case bL.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(Xxe,"toVsCodeChatMessages")});var xs=V((fNr,uIe)=>{d();uIe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var ao=V((mNr,fIe)=>{"use strict";d();var Rs=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},Tee=class extends Rs{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},wee=class extends Rs{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},_ee=class extends Rs{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},See=class extends Rs{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Bee=class extends Rs{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},kee=class extends Rs{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Ree=class extends Rs{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},PQ=class extends Rs{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},Dee=class extends PQ{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},Pee=class extends Rs{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},Nee=class extends Rs{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Fee=class extends Rs{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Lee=class extends Rs{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Qee=class extends Rs{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},Mee=class extends Rs{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Oee=class extends Rs{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Uee=class extends Rs{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},qee=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Gee=class extends Rs{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},Wee=class extends Rs{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},Hee=class extends Rs{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},Vee=class extends Rs{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};fIe.exports={AbortError:PQ,HTTPParserError:qee,UndiciError:Rs,HeadersTimeoutError:wee,HeadersOverflowError:_ee,BodyTimeoutError:See,RequestContentLengthMismatchError:Nee,ConnectTimeoutError:Tee,ResponseStatusCodeError:Bee,InvalidArgumentError:kee,InvalidReturnValueError:Ree,RequestAbortedError:Dee,ClientDestroyedError:Lee,ClientClosedError:Qee,InformationalError:Pee,SocketError:Mee,NotSupportedError:Oee,ResponseContentLengthMismatchError:Fee,BalancedPoolMissingUpstreamError:Uee,ResponseExceededMaxSizeError:Gee,RequestRetryError:Wee,ResponseError:Hee,SecureProxyConnectionError:Vee}});var FQ=V((gNr,dIe)=>{"use strict";d();var NQ={},jee=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<jee.length;++e){let t=jee[e],r=t.toLowerCase();NQ[t]=NQ[r]=r}Object.setPrototypeOf(NQ,null);dIe.exports={wellknownHeaderNames:jee,headerNameLowerCasedRecord:NQ}});var gIe=V((yNr,pIe)=>{"use strict";d();var{wellknownHeaderNames:mIe,headerNameLowerCasedRecord:cut}=FQ(),$ee=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},LQ=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new $ee(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},hIe=new LQ;for(let e=0;e<mIe.length;++e){let t=cut[mIe[e]];hIe.insert(t,t)}pIe.exports={TernarySearchTree:LQ,tree:hIe}});var ci=V((xNr,DIe)=>{"use strict";d();var GT=require("node:assert"),{kDestroyed:yIe,kBodyUsed:nI,kListeners:zee,kBody:AIe}=xs(),{IncomingMessage:uut}=require("node:http"),OQ=require("node:stream"),fut=require("node:net"),{Blob:dut}=require("node:buffer"),mut=require("node:util"),{stringify:hut}=require("node:querystring"),{EventEmitter:put}=require("node:events"),{InvalidArgumentError:yl}=ao(),{headerNameLowerCasedRecord:gut}=FQ(),{tree:CIe}=gIe(),[Aut,yut]=process.versions.node.split(".").map(e=>Number(e)),MQ=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[AIe]=t,this[nI]=!1}async*[Symbol.asyncIterator](){GT(!this[nI],"disturbed"),this[nI]=!0,yield*this[AIe]}};function Cut(e){return UQ(e)?(IIe(e)===0&&e.on("data",function(){GT(!1)}),typeof e.readableDidRead!="boolean"&&(e[nI]=!1,put.prototype.on.call(e,"data",function(){this[nI]=!0})),e):e&&typeof e.pipeTo=="function"?new MQ(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&vIe(e)?new MQ(e):e}o(Cut,"wrapRequestBody");function Eut(){}o(Eut,"nop");function UQ(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(UQ,"isStream");function EIe(e){if(e===null)return!1;if(e instanceof dut)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(EIe,"isBlobLike");function xut(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=hut(t);return r&&(e+="?"+r),e}o(xut,"buildURL");function xIe(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(xIe,"isValidPort");function QQ(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(QQ,"isHttpOrHttpsPrefixed");function bIe(e){if(typeof e=="string"){if(e=new URL(e),!QQ(e.origin||e.protocol))throw new yl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new yl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&xIe(e.port)===!1)throw new yl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new yl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new yl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new yl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new yl("Invalid URL origin: the origin must be a string or null/undefined.");if(!QQ(e.origin||e.protocol))throw new yl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!QQ(e.origin||e.protocol))throw new yl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(bIe,"parseURL");function but(e){if(e=bIe(e),e.pathname!=="/"||e.search||e.hash)throw new yl("invalid url");return e}o(but,"parseOrigin");function vut(e){if(e[0]==="["){let r=e.indexOf("]");return GT(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o(vut,"getHostname");function Iut(e){if(!e)return null;GT(typeof e=="string");let t=vut(e);return fut.isIP(t)?"":t}o(Iut,"getServerName");function Tut(e){return JSON.parse(JSON.stringify(e))}o(Tut,"deepClone");function wut(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(wut,"isAsyncIterable");function vIe(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(vIe,"isIterable");function IIe(e){if(e==null)return 0;if(UQ(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(EIe(e))return e.size!=null?e.size:null;if(_Ie(e))return e.byteLength}return null}o(IIe,"bodyLength");function TIe(e){return e&&!!(e.destroyed||e[yIe]||OQ.isDestroyed?.(e))}o(TIe,"isDestroyed");function _ut(e,t){e==null||!UQ(e)||TIe(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===uut&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[yIe]=!0))}o(_ut,"destroy");var Sut=/timeout=(\d+)/;function But(e){let t=e.toString().match(Sut);return t?parseInt(t[1],10)*1e3:null}o(But,"parseKeepAliveTimeout");function wIe(e){return typeof e=="string"?gut[e]??e.toLowerCase():CIe.lookup(e)??e.toString("latin1").toLowerCase()}o(wIe,"headerNameToString");function kut(e){return CIe.lookup(e)??e.toString("latin1").toLowerCase()}o(kut,"bufferToLowerCasedHeaderName");function Rut(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=wIe(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(Rut,"parseHeaders");function Dut(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(Dut,"parseRawHeaders");function _Ie(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(_Ie,"isBuffer");function Put(e,t,r){if(!e||typeof e!="object")throw new yl("handler must be an object");if(typeof e.onConnect!="function")throw new yl("invalid onConnect method");if(typeof e.onError!="function")throw new yl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new yl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new yl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new yl("invalid onHeaders method");if(typeof e.onData!="function")throw new yl("invalid onData method");if(typeof e.onComplete!="function")throw new yl("invalid onComplete method")}}o(Put,"validateHandler");function Nut(e){return!!(e&&(OQ.isDisturbed(e)||e[nI]))}o(Nut,"isDisturbed");function Fut(e){return!!(e&&OQ.isErrored(e))}o(Fut,"isErrored");function Lut(e){return!!(e&&OQ.isReadable(e))}o(Lut,"isReadable");function Qut(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(Qut,"getSocketInfo");function Mut(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(Mut,"ReadableStreamFrom");function Out(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(Out,"isFormDataLike");function Uut(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(Uut,"addAbortListener");var qut=typeof String.prototype.toWellFormed=="function",Gut=typeof String.prototype.isWellFormed=="function";function SIe(e){return qut?`${e}`.toWellFormed():mut.toUSVString(e)}o(SIe,"toUSVString");function Wut(e){return Gut?`${e}`.isWellFormed():SIe(e)===`${e}`}o(Wut,"isUSVString");function BIe(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(BIe,"isTokenCharCode");function Hut(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!BIe(e.charCodeAt(t)))return!1;return!0}o(Hut,"isValidHTTPToken");var Vut=/[^\t\x20-\x7e\x80-\xff]/;function jut(e){return!Vut.test(e)}o(jut,"isValidHeaderValue");function $ut(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o($ut,"parseRangeHeader");function zut(e,t,r){return(e[zee]??=[]).push([t,r]),e.on(t,r),e}o(zut,"addListener");function Yut(e){for(let[t,r]of e[zee]??[])e.removeListener(t,r);e[zee]=null}o(Yut,"removeAllListeners");function Kut(e,t,r){try{t.onError(r),GT(t.aborted)}catch(n){e.emit("error",n)}}o(Kut,"errorRequest");var kIe=Object.create(null);kIe.enumerable=!0;var Yee={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},RIe={...Yee,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Yee,null);Object.setPrototypeOf(RIe,null);DIe.exports={kEnumerableProperty:kIe,nop:Eut,isDisturbed:Nut,isErrored:Fut,isReadable:Lut,toUSVString:SIe,isUSVString:Wut,isBlobLike:EIe,parseOrigin:but,parseURL:bIe,getServerName:Iut,isStream:UQ,isIterable:vIe,isAsyncIterable:wut,isDestroyed:TIe,headerNameToString:wIe,bufferToLowerCasedHeaderName:kut,addListener:zut,removeAllListeners:Yut,errorRequest:Kut,parseRawHeaders:Dut,parseHeaders:Rut,parseKeepAliveTimeout:But,destroy:_ut,bodyLength:IIe,deepClone:Tut,ReadableStreamFrom:Mut,isBuffer:_Ie,validateHandler:Put,getSocketInfo:Qut,isFormDataLike:Out,buildURL:xut,addAbortListener:Uut,isValidHTTPToken:Hut,isValidHeaderValue:jut,isTokenCharCode:BIe,parseRangeHeader:$ut,normalizedMethodRecordsBase:Yee,normalizedMethodRecords:RIe,isValidPort:xIe,isHttpOrHttpsPrefixed:QQ,nodeMajor:Aut,nodeMinor:yut,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Cut}});var iI=V((INr,NIe)=>{"use strict";d();var uo=require("node:diagnostics_channel"),Jee=require("node:util"),qQ=Jee.debuglog("undici"),Kee=Jee.debuglog("fetch"),c4=Jee.debuglog("websocket"),PIe=!1,Jut={beforeConnect:uo.channel("undici:client:beforeConnect"),connected:uo.channel("undici:client:connected"),connectError:uo.channel("undici:client:connectError"),sendHeaders:uo.channel("undici:client:sendHeaders"),create:uo.channel("undici:request:create"),bodySent:uo.channel("undici:request:bodySent"),headers:uo.channel("undici:request:headers"),trailers:uo.channel("undici:request:trailers"),error:uo.channel("undici:request:error"),open:uo.channel("undici:websocket:open"),close:uo.channel("undici:websocket:close"),socketError:uo.channel("undici:websocket:socket_error"),ping:uo.channel("undici:websocket:ping"),pong:uo.channel("undici:websocket:pong")};if(qQ.enabled||Kee.enabled){let e=Kee.enabled?Kee:qQ;uo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),uo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),uo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),uo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),uo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),uo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),uo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),PIe=!0}if(c4.enabled){if(!PIe){let e=qQ.enabled?qQ:c4;uo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),uo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),uo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),uo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}uo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;c4("connection opened %s%s",t,r?`:${r}`:"")}),uo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;c4("closed connection to %s - %s %s",t.url,r,n)}),uo.channel("undici:websocket:socket_error").subscribe(e=>{c4("connection errored - %s",e.message)}),uo.channel("undici:websocket:ping").subscribe(e=>{c4("ping received")}),uo.channel("undici:websocket:pong").subscribe(e=>{c4("pong received")})}NIe.exports={channels:Jut}});var OIe=V((wNr,MIe)=>{"use strict";d();var{InvalidArgumentError:Ds,NotSupportedError:Xut}=ao(),x1=require("node:assert"),{isValidHTTPToken:QIe,isValidHeaderValue:FIe,isStream:Zut,destroy:eft,isBuffer:tft,isFormDataLike:rft,isIterable:nft,isBlobLike:ift,buildURL:oft,validateHandler:sft,getServerName:aft,normalizedMethodRecords:lft}=ci(),{channels:Ap}=iI(),{headerNameLowerCasedRecord:LIe}=FQ(),cft=/[^\u0021-\u00ff]/,sd=Symbol("handler"),Xee=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:A,servername:E},x){if(typeof r!="string")throw new Ds("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ds("path must be an absolute URL or start with a slash");if(cft.test(r))throw new Ds("invalid request path");if(typeof n!="string")throw new Ds("method must be a string");if(lft[n]===void 0&&!QIe(n))throw new Ds("invalid request method");if(u&&typeof u!="string")throw new Ds("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new Ds("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new Ds("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Ds("invalid reset");if(A!=null&&typeof A!="boolean")throw new Ds("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(Zut(i)){this.body=i;let v=this.body._readableState;(!v||!v.autoDestroy)&&(this.endHandler=o(function(){eft(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=b=>{this.abort?this.abort(b):this.error=b},this.body.on("error",this.errorHandler)}else if(tft(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(rft(i)||nft(i)||ift(i))this.body=i;else throw new Ds("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?oft(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=A??!1,Array.isArray(s)){if(s.length%2!==0)throw new Ds("headers array must be even");for(let v=0;v<s.length;v+=2)GQ(this,s[v],s[v+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let v of s){if(!Array.isArray(v)||v.length!==2)throw new Ds("headers must be in key-value pair format");GQ(this,v[0],v[1])}else{let v=Object.keys(s);for(let b=0;b<v.length;++b)GQ(this,v[b],s[v[b]])}else if(s!=null)throw new Ds("headers must be an object or an array");sft(x,n,u),this.servername=E||aft(this.host),this[sd]=x,Ap.create.hasSubscribers&&Ap.create.publish({request:this})}onBodySent(t){if(this[sd].onBodySent)try{return this[sd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(Ap.bodySent.hasSubscribers&&Ap.bodySent.publish({request:this}),this[sd].onRequestSent)try{return this[sd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(x1(!this.aborted),x1(!this.completed),this.error)t(this.error);else return this.abort=t,this[sd].onConnect(t)}onResponseStarted(){return this[sd].onResponseStarted?.()}onHeaders(t,r,n,i){x1(!this.aborted),x1(!this.completed),Ap.headers.hasSubscribers&&Ap.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[sd].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){x1(!this.aborted),x1(!this.completed);try{return this[sd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return x1(!this.aborted),x1(!this.completed),this[sd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),x1(!this.aborted),this.completed=!0,Ap.trailers.hasSubscribers&&Ap.trailers.publish({request:this,trailers:t});try{return this[sd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),Ap.error.hasSubscribers&&Ap.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[sd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return GQ(this,t,r),this}};function GQ(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ds(`invalid ${t} header`);if(r===void 0)return;let n=LIe[t];if(n===void 0&&(n=t.toLowerCase(),LIe[n]===void 0&&!QIe(n)))throw new Ds("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!FIe(r[s]))throw new Ds(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Ds(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!FIe(r))throw new Ds(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new Ds("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new Ds("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ds(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Ds("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new Xut("expect header not supported");e.headers.push(t,r)}}}o(GQ,"processHeader");MIe.exports=Xee});var WT=V((BNr,UIe)=>{"use strict";d();var uft=require("node:events"),WQ=class extends uft{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new Zee(this,n)}},Zee=class extends WQ{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};UIe.exports=WQ});var lI=V((DNr,qIe)=>{"use strict";d();var fft=WT(),{ClientDestroyedError:ete,ClientClosedError:dft,InvalidArgumentError:oI}=ao(),{kDestroy:mft,kClose:hft,kClosed:HT,kDestroyed:sI,kDispatch:tte,kInterceptors:u4}=xs(),b1=Symbol("onDestroyed"),aI=Symbol("onClosed"),HQ=Symbol("Intercepted Dispatch"),rte=class extends fft{static{o(this,"DispatcherBase")}constructor(){super(),this[sI]=!1,this[b1]=null,this[HT]=!1,this[aI]=[]}get destroyed(){return this[sI]}get closed(){return this[HT]}get interceptors(){return this[u4]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[u4][r]!="function")throw new oI("interceptor must be an function")}this[u4]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new oI("invalid callback");if(this[sI]){queueMicrotask(()=>t(new ete,null));return}if(this[HT]){this[aI]?this[aI].push(t):queueMicrotask(()=>t(null,null));return}this[HT]=!0,this[aI].push(t);let r=o(()=>{let n=this[aI];this[aI]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[hft]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new oI("invalid callback");if(this[sI]){this[b1]?this[b1].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new ete),this[sI]=!0,this[b1]=this[b1]||[],this[b1].push(r);let n=o(()=>{let i=this[b1];this[b1]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[mft](t).then(()=>{queueMicrotask(n)})}[HQ](t,r){if(!this[u4]||this[u4].length===0)return this[HQ]=this[tte],this[tte](t,r);let n=this[tte].bind(this);for(let i=this[u4].length-1;i>=0;i--)n=this[u4][i](n);return this[HQ]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new oI("handler must be an object");try{if(!t||typeof t!="object")throw new oI("opts must be an object.");if(this[sI]||this[b1])throw new ete;if(this[HT])throw new dft;return this[HQ](t,r)}catch(n){if(typeof r.onError!="function")throw new oI("invalid onError method");return r.onError(n),!1}}};qIe.exports=rte});var cte=V((FNr,VIe)=>{"use strict";d();var cI=0,nte=1e3,ite=(nte>>1)-1,v1,ote=Symbol("kFastTimer"),I1=[],ste=-2,ate=-1,WIe=0,GIe=1;function lte(){cI+=ite;let e=0,t=I1.length;for(;e<t;){let r=I1[e];r._state===WIe?(r._idleStart=cI-ite,r._state=GIe):r._state===GIe&&cI>=r._idleStart+r._idleTimeout&&(r._state=ate,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===ate?(r._state=ste,--t!==0&&(I1[e]=I1[t])):++e}I1.length=t,I1.length!==0&&HIe()}o(lte,"onTick");function HIe(){v1?v1.refresh():(clearTimeout(v1),v1=setTimeout(lte,ite),v1.unref&&v1.unref())}o(HIe,"refreshTimeout");var VQ=class{static{o(this,"FastTimer")}[ote]=!0;_state=ste;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===ste&&I1.push(this),(!v1||I1.length===1)&&HIe(),this._state=WIe}clear(){this._state=ate,this._idleStart=-1}};VIe.exports={setTimeout(e,t,r){return t<=nte?setTimeout(e,t,r):new VQ(e,t,r)},clearTimeout(e){e[ote]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new VQ(e,t,r)},clearFastTimeout(e){e.clear()},now(){return cI},tick(e=0){cI+=e-nte+1,lte(),lte()},reset(){cI=0,I1.length=0,clearTimeout(v1),v1=null},kFastTimer:ote}});var VT=V((UNr,KIe)=>{"use strict";d();var pft=require("node:net"),jIe=require("node:assert"),YIe=ci(),{InvalidArgumentError:gft,ConnectTimeoutError:Aft}=ao(),jQ=cte();function $Ie(){}o($Ie,"noop");var ute,fte;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?fte=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:fte=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function yft({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new gft("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new fte(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:A,httpSocket:E},x){let v;if(m==="https:"){ute||(ute=require("node:tls")),p=p||a.servername||YIe.getServerName(f)||null;let S=p||u;jIe(S);let k=i||l.get(S)||null;h=h||443,v=ute.connect({highWaterMark:16384,...a,servername:p,session:k,localAddress:A,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:E,port:h,host:u}),v.on("session",function(P){l.set(S,P)})}else jIe(!E,"httpSocket can only be sent on TLS update"),h=h||80,v=pft.connect({highWaterMark:64*1024,...a,localAddress:A,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let S=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;v.setKeepAlive(!0,S)}let b=Cft(new WeakRef(v),{timeout:n,hostname:u,port:h});return v.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(b),x){let S=x;x=null,S(null,this)}}).on("error",function(S){if(queueMicrotask(b),x){let k=x;x=null,k(S)}}),v},"connect")}o(yft,"buildConnector");var Cft=process.platform==="win32"?(e,t)=>{if(!t.timeout)return $Ie;let r=null,n=null,i=jQ.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>zIe(e.deref(),t))})},t.timeout);return()=>{jQ.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return $Ie;let r=null,n=jQ.setFastTimeout(()=>{r=setImmediate(()=>{zIe(e.deref(),t)})},t.timeout);return()=>{jQ.clearFastTimeout(n),clearImmediate(r)}};function zIe(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,YIe.destroy(e,new Aft(r))}o(zIe,"onConnectTimeout");KIe.exports=yft});var JIe=V($Q=>{"use strict";d();Object.defineProperty($Q,"__esModule",{value:!0});$Q.enumToMap=void 0;function Eft(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(Eft,"enumToMap");$Q.enumToMap=Eft});var XIe=V(Zt=>{"use strict";d();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.SPECIAL_HEADERS=Zt.HEADER_STATE=Zt.MINOR=Zt.MAJOR=Zt.CONNECTION_TOKEN_CHARS=Zt.HEADER_CHARS=Zt.TOKEN=Zt.STRICT_TOKEN=Zt.HEX=Zt.URL_CHAR=Zt.STRICT_URL_CHAR=Zt.USERINFO_CHARS=Zt.MARK=Zt.ALPHANUM=Zt.NUM=Zt.HEX_MAP=Zt.NUM_MAP=Zt.ALPHA=Zt.FINISH=Zt.H_METHOD_MAP=Zt.METHOD_MAP=Zt.METHODS_RTSP=Zt.METHODS_ICE=Zt.METHODS_HTTP=Zt.METHODS=Zt.LENIENT_FLAGS=Zt.FLAGS=Zt.TYPE=Zt.ERROR=void 0;var xft=JIe(),bft;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(bft=Zt.ERROR||(Zt.ERROR={}));var vft;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(vft=Zt.TYPE||(Zt.TYPE={}));var Ift;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(Ift=Zt.FLAGS||(Zt.FLAGS={}));var Tft;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(Tft=Zt.LENIENT_FLAGS||(Zt.LENIENT_FLAGS={}));var rn;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(rn=Zt.METHODS||(Zt.METHODS={}));Zt.METHODS_HTTP=[rn.DELETE,rn.GET,rn.HEAD,rn.POST,rn.PUT,rn.CONNECT,rn.OPTIONS,rn.TRACE,rn.COPY,rn.LOCK,rn.MKCOL,rn.MOVE,rn.PROPFIND,rn.PROPPATCH,rn.SEARCH,rn.UNLOCK,rn.BIND,rn.REBIND,rn.UNBIND,rn.ACL,rn.REPORT,rn.MKACTIVITY,rn.CHECKOUT,rn.MERGE,rn["M-SEARCH"],rn.NOTIFY,rn.SUBSCRIBE,rn.UNSUBSCRIBE,rn.PATCH,rn.PURGE,rn.MKCALENDAR,rn.LINK,rn.UNLINK,rn.PRI,rn.SOURCE];Zt.METHODS_ICE=[rn.SOURCE];Zt.METHODS_RTSP=[rn.OPTIONS,rn.DESCRIBE,rn.ANNOUNCE,rn.SETUP,rn.PLAY,rn.PAUSE,rn.TEARDOWN,rn.GET_PARAMETER,rn.SET_PARAMETER,rn.REDIRECT,rn.RECORD,rn.FLUSH,rn.GET,rn.POST];Zt.METHOD_MAP=xft.enumToMap(rn);Zt.H_METHOD_MAP={};Object.keys(Zt.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(Zt.H_METHOD_MAP[e]=Zt.METHOD_MAP[e])});var wft;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(wft=Zt.FINISH||(Zt.FINISH={}));Zt.ALPHA=[];for(let e=65;e<=90;e++)Zt.ALPHA.push(String.fromCharCode(e)),Zt.ALPHA.push(String.fromCharCode(e+32));Zt.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};Zt.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};Zt.NUM=["0","1","2","3","4","5","6","7","8","9"];Zt.ALPHANUM=Zt.ALPHA.concat(Zt.NUM);Zt.MARK=["-","_",".","!","~","*","'","(",")"];Zt.USERINFO_CHARS=Zt.ALPHANUM.concat(Zt.MARK).concat(["%",";",":","&","=","+","$",","]);Zt.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(Zt.ALPHANUM);Zt.URL_CHAR=Zt.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)Zt.URL_CHAR.push(e);Zt.HEX=Zt.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);Zt.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(Zt.ALPHANUM);Zt.TOKEN=Zt.STRICT_TOKEN.concat([" "]);Zt.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&Zt.HEADER_CHARS.push(e);Zt.CONNECTION_TOKEN_CHARS=Zt.HEADER_CHARS.filter(e=>e!==44);Zt.MAJOR=Zt.NUM_MAP;Zt.MINOR=Zt.MAJOR;var uI;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(uI=Zt.HEADER_STATE||(Zt.HEADER_STATE={}));Zt.SPECIAL_HEADERS={connection:uI.CONNECTION,"content-length":uI.CONTENT_LENGTH,"proxy-connection":uI.CONNECTION,"transfer-encoding":uI.TRANSFER_ENCODING,upgrade:uI.UPGRADE}});var dte=V((zNr,ZIe)=>{"use strict";d();var{Buffer:_ft}=require("node:buffer");ZIe.exports=_ft.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var t8e=V((KNr,e8e)=>{"use strict";d();var{Buffer:Sft}=require("node:buffer");e8e.exports=Sft.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var jT=V((XNr,c8e)=>{"use strict";d();var r8e=["GET","HEAD","POST"],Bft=new Set(r8e),kft=[101,204,205,304],n8e=[301,302,303,307,308],Rft=new Set(n8e),i8e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],Dft=new Set(i8e),o8e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Pft=new Set(o8e),Nft=["follow","manual","error"],s8e=["GET","HEAD","OPTIONS","TRACE"],Fft=new Set(s8e),Lft=["navigate","same-origin","no-cors","cors"],Qft=["omit","same-origin","include"],Mft=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Oft=["content-encoding","content-language","content-location","content-type","content-length"],Uft=["half"],a8e=["CONNECT","TRACE","TRACK"],qft=new Set(a8e),l8e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Gft=new Set(l8e);c8e.exports={subresource:l8e,forbiddenMethods:a8e,requestBodyHeader:Oft,referrerPolicy:o8e,requestRedirect:Nft,requestMode:Lft,requestCredentials:Qft,requestCache:Mft,redirectStatus:n8e,corsSafeListedMethods:r8e,nullBodyStatus:kft,safeMethods:s8e,badPorts:i8e,requestDuplex:Uft,subresourceSet:Gft,badPortsSet:Dft,redirectStatusSet:Rft,corsSafeListedMethodsSet:Bft,safeMethodsSet:Fft,forbiddenMethodsSet:qft,referrerPolicySet:Pft}});var hte=V((eFr,u8e)=>{"use strict";d();var mte=Symbol.for("undici.globalOrigin.1");function Wft(){return globalThis[mte]}o(Wft,"getGlobalOrigin");function Hft(e){if(e===void 0){Object.defineProperty(globalThis,mte,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,mte,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(Hft,"setGlobalOrigin");u8e.exports={getGlobalOrigin:Wft,setGlobalOrigin:Hft}});var Nc=V((nFr,A8e)=>{"use strict";d();var YQ=require("node:assert"),Vft=new TextEncoder,$T=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,jft=/[\u000A\u000D\u0009\u0020]/,$ft=/[\u0009\u000A\u000C\u000D\u0020]/g,zft=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Yft(e){YQ(e.protocol==="data:");let t=m8e(e,!0);t=t.slice(5);let r={position:0},n=fI(",",t,r),i=n.length;if(n=tdt(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=h8e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=g8e(a);if(a=Jft(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=pte(n);return l==="failure"&&(l=pte("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o(Yft,"dataURLProcessor");function m8e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(m8e,"URLSerializer");function KQ(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(KQ,"collectASequenceOfCodePoints");function fI(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(fI,"collectASequenceOfCodePointsFast");function h8e(e){let t=Vft.encode(e);return Kft(t)}o(h8e,"stringPercentDecode");function f8e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(f8e,"isHexCharByte");function d8e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(d8e,"hexByteToNumber");function Kft(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(f8e(e[i+1])&&f8e(e[i+2]))?r[n++]=37:(r[n++]=d8e(e[i+1])<<4|d8e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(Kft,"percentDecode");function pte(e){e=zQ(e,!0,!0);let t={position:0},r=fI("/",e,t);if(r.length===0||!$T.test(r)||t.position>e.length)return"failure";t.position++;let n=fI(";",e,t);if(n=zQ(n,!1,!0),n.length===0||!$T.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,KQ(u=>jft.test(u),e,t);let l=KQ(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=p8e(e,t,!0),fI(";",e,t);else if(c=fI(";",e,t),c=zQ(c,!1,!0),c.length===0)continue;l.length!==0&&$T.test(l)&&(c.length===0||zft.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(pte,"parseMIMEType");function Jft(e){e=e.replace($ft,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(Jft,"forgivingBase64");function p8e(e,t,r){let n=t.position,i="";for(YQ(e[t.position]==='"'),t.position++;i+=KQ(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{YQ(s==='"');break}}return r?i:e.slice(n,t.position)}o(p8e,"collectAnHTTPQuotedString");function Xft(e){YQ(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",$T.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(Xft,"serializeAMimeType");function Zft(e){return e===13||e===10||e===9||e===32}o(Zft,"isHTTPWhiteSpace");function zQ(e,t=!0,r=!0){return gte(e,t,r,Zft)}o(zQ,"removeHTTPWhitespace");function edt(e){return e===13||e===10||e===9||e===12||e===32}o(edt,"isASCIIWhitespace");function tdt(e,t=!0,r=!0){return gte(e,t,r,edt)}o(tdt,"removeASCIIWhitespace");function gte(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(gte,"removeChars");function g8e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(g8e,"isomorphicDecode");function rdt(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(rdt,"minimizeSupportedMimeType");A8e.exports={dataURLProcessor:Yft,URLSerializer:m8e,collectASequenceOfCodePoints:KQ,collectASequenceOfCodePointsFast:fI,stringPercentDecode:h8e,parseMIMEType:pte,collectAnHTTPQuotedString:p8e,serializeAMimeType:Xft,removeChars:gte,removeHTTPWhitespace:zQ,minimizeSupportedMimeType:rdt,HTTP_TOKEN_CODEPOINTS:$T,isomorphicDecode:g8e}});var Vl=V((sFr,y8e)=>{"use strict";d();var{types:yp,inspect:ndt}=require("node:util"),{markAsUncloneable:idt}=require("node:worker_threads"),{toUSVString:odt}=ci(),Wt={};Wt.converters={};Wt.util={};Wt.errors={};Wt.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};Wt.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return Wt.errors.exception({header:e.prefix,message:r})};Wt.errors.invalidArgument=function(e){return Wt.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};Wt.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Wt.argumentLengthCheck=function({length:e},t,r){if(e<t)throw Wt.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};Wt.illegalConstructor=function(){throw Wt.errors.exception({header:"TypeError",message:"Illegal constructor"})};Wt.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};Wt.util.markAsUncloneable=idt||(()=>{});Wt.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw Wt.errors.exception({header:"Integer conversion",message:`Could not convert ${Wt.util.Stringify(e)} to an integer.`});if(a=Wt.util.IntegerPart(a),a<s||a>i)throw Wt.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=Wt.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};Wt.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};Wt.util.Stringify=function(e){switch(Wt.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return ndt(e);case"String":return`"${e}"`;default:return`${e}`}};Wt.sequenceConverter=function(e){return(t,r,n,i)=>{if(Wt.util.Type(t)!=="Object")throw Wt.errors.exception({header:r,message:`${n} (${Wt.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw Wt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};Wt.recordConverter=function(e,t){return(r,n,i)=>{if(Wt.util.Type(r)!=="Object")throw Wt.errors.exception({header:n,message:`${i} ("${Wt.util.Type(r)}") is not an Object.`});let s={};if(!yp.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};Wt.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw Wt.errors.exception({header:r,message:`Expected ${n} ("${Wt.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};Wt.dictionaryConverter=function(e){return(t,r,n)=>{let i=Wt.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw Wt.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw Wt.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw Wt.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};Wt.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};Wt.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw Wt.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};Wt.converters.ByteString=function(e,t,r){let n=Wt.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};Wt.converters.USVString=odt;Wt.converters.boolean=function(e){return!!e};Wt.converters.any=function(e){return e};Wt.converters["long long"]=function(e,t,r){return Wt.util.ConvertToInt(e,64,"signed",void 0,t,r)};Wt.converters["unsigned long long"]=function(e,t,r){return Wt.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};Wt.converters["unsigned long"]=function(e,t,r){return Wt.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};Wt.converters["unsigned short"]=function(e,t,r,n){return Wt.util.ConvertToInt(e,16,"unsigned",n,t,r)};Wt.converters.ArrayBuffer=function(e,t,r,n){if(Wt.util.Type(e)!=="Object"||!yp.isAnyArrayBuffer(e))throw Wt.errors.conversionFailed({prefix:t,argument:`${r} ("${Wt.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&yp.isSharedArrayBuffer(e))throw Wt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw Wt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Wt.converters.TypedArray=function(e,t,r,n,i){if(Wt.util.Type(e)!=="Object"||!yp.isTypedArray(e)||e.constructor.name!==t.name)throw Wt.errors.conversionFailed({prefix:r,argument:`${n} ("${Wt.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&yp.isSharedArrayBuffer(e.buffer))throw Wt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Wt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Wt.converters.DataView=function(e,t,r,n){if(Wt.util.Type(e)!=="Object"||!yp.isDataView(e))throw Wt.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&yp.isSharedArrayBuffer(e.buffer))throw Wt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Wt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Wt.converters.BufferSource=function(e,t,r,n){if(yp.isAnyArrayBuffer(e))return Wt.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(yp.isTypedArray(e))return Wt.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(yp.isDataView(e))return Wt.converters.DataView(e,t,r,{...n,allowShared:!1});throw Wt.errors.conversionFailed({prefix:t,argument:`${r} ("${Wt.util.Stringify(e)}")`,types:["BufferSource"]})};Wt.converters["sequence<ByteString>"]=Wt.sequenceConverter(Wt.converters.ByteString);Wt.converters["sequence<sequence<ByteString>>"]=Wt.sequenceConverter(Wt.converters["sequence<ByteString>"]);Wt.converters["record<ByteString, ByteString>"]=Wt.recordConverter(Wt.converters.ByteString,Wt.converters.ByteString);y8e.exports={webidl:Wt}});var Mu=V((lFr,D8e)=>{"use strict";d();var{Transform:sdt}=require("node:stream"),C8e=require("node:zlib"),{redirectStatusSet:adt,referrerPolicySet:ldt,badPortsSet:cdt}=jT(),{getGlobalOrigin:E8e}=hte(),{collectASequenceOfCodePoints:f4,collectAnHTTPQuotedString:udt,removeChars:fdt,parseMIMEType:ddt}=Nc(),{performance:mdt}=require("node:perf_hooks"),{isBlobLike:hdt,ReadableStreamFrom:pdt,isValidHTTPToken:x8e,normalizedMethodRecordsBase:gdt}=ci(),d4=require("node:assert"),{isUint8Array:Adt}=require("node:util/types"),{webidl:zT}=Vl(),b8e=[],XQ;try{XQ=require("node:crypto");let e=["sha256","sha384","sha512"];b8e=XQ.getHashes().filter(t=>e.includes(t))}catch{}function v8e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(v8e,"responseURL");function ydt(e,t){if(!adt.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&T8e(r)&&(I8e(r)||(r=Cdt(r)),r=new URL(r,v8e(e))),r&&!r.hash&&(r.hash=t),r}o(ydt,"responseLocationURL");function I8e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(I8e,"isValidEncodedURL");function Cdt(e){return Buffer.from(e,"binary").toString("utf8")}o(Cdt,"normalizeBinaryStringToUtf8");function KT(e){return e.urlList[e.urlList.length-1]}o(KT,"requestCurrentURL");function Edt(e){let t=KT(e);return k8e(t)&&cdt.has(t.port)?"blocked":"allowed"}o(Edt,"requestBadPort");function xdt(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(xdt,"isErrorLike");function bdt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(bdt,"isValidReasonPhrase");var vdt=x8e;function T8e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(T8e,"isValidHeaderValue");function Idt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(ldt.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o(Idt,"setRequestReferrerPolicyOnRedirect");function Tdt(){return"allowed"}o(Tdt,"crossOriginResourcePolicyCheck");function wdt(){return"success"}o(wdt,"corsCheck");function _dt(){return"success"}o(_dt,"TAOCheck");function Sdt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(Sdt,"appendFetchMetadata");function Bdt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&yte(e.origin)&&!yte(KT(e))&&(t=null);break;case"same-origin":ZQ(e,KT(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(Bdt,"appendRequestOriginHeader");function dI(e,t){return e}o(dI,"coarsenTime");function kdt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:dI(e.domainLookupStartTime,r),domainLookupEndTime:dI(e.domainLookupEndTime,r),connectionStartTime:dI(e.connectionStartTime,r),connectionEndTime:dI(e.connectionEndTime,r),secureConnectionStartTime:dI(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(kdt,"clampAndCoarsenConnectionTimingInfo");function Rdt(e){return dI(mdt.now(),e)}o(Rdt,"coarsenedSharedCurrentTime");function Ddt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(Ddt,"createOpaqueTimingInfo");function w8e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(w8e,"makePolicyContainer");function Pdt(e){return{referrerPolicy:e.referrerPolicy}}o(Pdt,"clonePolicyContainer");function Ndt(e){let t=e.referrerPolicy;d4(t);let r=null;if(e.referrer==="client"){let l=E8e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=Ate(r),i=Ate(r,!0);n.toString().length>4096&&(n=i);let s=ZQ(e,n),a=YT(n)&&!YT(e.url);switch(t){case"origin":return i??Ate(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=KT(e);return ZQ(n,l)?n:YT(n)&&!YT(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(Ndt,"determineRequestsReferrer");function Ate(e,t){return d4(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(Ate,"stripURLForReferrer");function YT(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(YT,"isURLPotentiallyTrustworthy");function Fdt(e,t){if(XQ===void 0)return!0;let r=_8e(t);if(r==="no metadata"||r.length===0)return!0;let n=Qdt(r),i=Mdt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=XQ.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),Odt(c,l))return!0}return!1}o(Fdt,"bytesMatch");var Ldt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function _8e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=Ldt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();b8e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(_8e,"parseMetadata");function Qdt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(Qdt,"getStrongestMetadata");function Mdt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(Mdt,"filterMetadataListByAlgorithm");function Odt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(Odt,"compareBase64Mixed");function Udt(e){}o(Udt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function ZQ(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(ZQ,"sameOrigin");function qdt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(qdt,"createDeferredPromise");function Gdt(e){return e.controller.state==="aborted"}o(Gdt,"isAborted");function Wdt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(Wdt,"isCancelled");function Hdt(e){return gdt[e.toLowerCase()]??e}o(Hdt,"normalizeMethod");function Vdt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return d4(typeof t=="string"),t}o(Vdt,"serializeJavascriptValueToJSONString");var jdt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function S8e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,jdt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(S8e,"createIterator");function $dt(e,t,r,n=0,i=1){let s=S8e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return zT.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return zT.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return zT.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if(zT.brandCheck(this,t),zT.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o($dt,"iteratorMixin");async function zdt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await B8e(s))}catch(a){i(a)}}o(zdt,"fullyReadBody");function Ydt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o(Ydt,"isReadableStreamLike");function Kdt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(Kdt,"readableStreamClose");var Jdt=/[^\x00-\xFF]/;function JQ(e){return d4(!Jdt.test(e)),e}o(JQ,"isomorphicEncode");async function B8e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!Adt(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(B8e,"readAllBytes");function Xdt(e){d4("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(Xdt,"urlIsLocal");function yte(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(yte,"urlHasHttpsScheme");function k8e(e){d4("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(k8e,"urlIsHttpHttpsScheme");function Zdt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&f4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&f4(c=>c==="	"||c===" ",r,n);let i=f4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&f4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&f4(c=>c==="	"||c===" ",r,n);let a=f4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(Zdt,"simpleRangeHeaderValue");function emt(e,t,r){let n="bytes ";return n+=JQ(`${e}`),n+="-",n+=JQ(`${t}`),n+="/",n+=JQ(`${r}`),n}o(emt,"buildContentRange");var Cte=class extends sdt{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?C8e.createInflate(this.#e):C8e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function tmt(e){return new Cte(e)}o(tmt,"createInflate");function rmt(e){let t=null,r=null,n=null,i=R8e("content-type",e);if(i===null)return"failure";for(let s of i){let a=ddt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(rmt,"extractMimeType");function nmt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=f4(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=udt(t,r),r.position<t.length)continue}else d4(t.charCodeAt(r.position)===44),r.position++;i=fdt(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(nmt,"gettingDecodingSplitting");function R8e(e,t){let r=t.get(e,!0);return r===null?null:nmt(r)}o(R8e,"getDecodeSplit");var imt=new TextDecoder;function omt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),imt.decode(e))}o(omt,"utf8DecodeBytes");var Ete=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return E8e()}get origin(){return this.baseUrl?.origin}policyContainer=w8e()},xte=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new Ete},smt=new xte;D8e.exports={isAborted:Gdt,isCancelled:Wdt,isValidEncodedURL:I8e,createDeferredPromise:qdt,ReadableStreamFrom:pdt,tryUpgradeRequestToAPotentiallyTrustworthyURL:Udt,clampAndCoarsenConnectionTimingInfo:kdt,coarsenedSharedCurrentTime:Rdt,determineRequestsReferrer:Ndt,makePolicyContainer:w8e,clonePolicyContainer:Pdt,appendFetchMetadata:Sdt,appendRequestOriginHeader:Bdt,TAOCheck:_dt,corsCheck:wdt,crossOriginResourcePolicyCheck:Tdt,createOpaqueTimingInfo:Ddt,setRequestReferrerPolicyOnRedirect:Idt,isValidHTTPToken:x8e,requestBadPort:Edt,requestCurrentURL:KT,responseURL:v8e,responseLocationURL:ydt,isBlobLike:hdt,isURLPotentiallyTrustworthy:YT,isValidReasonPhrase:bdt,sameOrigin:ZQ,normalizeMethod:Hdt,serializeJavascriptValueToJSONString:Vdt,iteratorMixin:$dt,createIterator:S8e,isValidHeaderName:vdt,isValidHeaderValue:T8e,isErrorLike:xdt,fullyReadBody:zdt,bytesMatch:Fdt,isReadableStreamLike:Ydt,readableStreamClose:Kdt,isomorphicEncode:JQ,urlIsLocal:Xdt,urlHasHttpsScheme:yte,urlIsHttpHttpsScheme:k8e,readAllBytes:B8e,simpleRangeHeaderValue:Zdt,buildContentRange:emt,parseMetadata:_8e,createInflate:tmt,extractMimeType:rmt,getDecodeSplit:R8e,utf8DecodeBytes:omt,environmentSettingsObject:smt}});var F5=V((fFr,P8e)=>{"use strict";d();P8e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var vte=V((mFr,N8e)=>{"use strict";d();var{Blob:amt,File:lmt}=require("node:buffer"),{kState:T1}=F5(),{webidl:Cp}=Vl(),bte=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[T1]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Cp.brandCheck(this,e),this[T1].blobLike.stream(...t)}arrayBuffer(...t){return Cp.brandCheck(this,e),this[T1].blobLike.arrayBuffer(...t)}slice(...t){return Cp.brandCheck(this,e),this[T1].blobLike.slice(...t)}text(...t){return Cp.brandCheck(this,e),this[T1].blobLike.text(...t)}get size(){return Cp.brandCheck(this,e),this[T1].blobLike.size}get type(){return Cp.brandCheck(this,e),this[T1].blobLike.type}get name(){return Cp.brandCheck(this,e),this[T1].name}get lastModified(){return Cp.brandCheck(this,e),this[T1].lastModified}get[Symbol.toStringTag](){return"File"}};Cp.converters.Blob=Cp.interfaceConverter(amt);function cmt(e){return e instanceof lmt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(cmt,"isFileLike");N8e.exports={FileLike:bte,isFileLike:cmt}});var XT=V((gFr,O8e)=>{"use strict";d();var{isBlobLike:eM,iteratorMixin:umt}=Mu(),{kState:G0}=F5(),{kEnumerableProperty:mI}=ci(),{FileLike:F8e,isFileLike:fmt}=vte(),{webidl:Oo}=Vl(),{File:M8e}=require("node:buffer"),L8e=require("node:util"),Q8e=globalThis.File??M8e,JT=class e{static{o(this,"FormData")}constructor(t){if(Oo.util.markAsUncloneable(this),t!==void 0)throw Oo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[G0]=[]}append(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.append";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!eM(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=eM(r)?Oo.converters.Blob(r,i,"value",{strict:!1}):Oo.converters.USVString(r,i,"value"),n=arguments.length===3?Oo.converters.USVString(n,i,"filename"):void 0;let s=Ite(t,r,n);this[G0].push(s)}delete(t){Oo.brandCheck(this,e);let r="FormData.delete";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[G0]=this[G0].filter(n=>n.name!==t)}get(t){Oo.brandCheck(this,e);let r="FormData.get";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name");let n=this[G0].findIndex(i=>i.name===t);return n===-1?null:this[G0][n].value}getAll(t){Oo.brandCheck(this,e);let r="FormData.getAll";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[G0].filter(n=>n.name===t).map(n=>n.value)}has(t){Oo.brandCheck(this,e);let r="FormData.has";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[G0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.set";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!eM(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=eM(r)?Oo.converters.Blob(r,i,"name",{strict:!1}):Oo.converters.USVString(r,i,"name"),n=arguments.length===3?Oo.converters.USVString(n,i,"name"):void 0;let s=Ite(t,r,n),a=this[G0].findIndex(l=>l.name===t);a!==-1?this[G0]=[...this[G0].slice(0,a),s,...this[G0].slice(a+1).filter(l=>l.name!==t)]:this[G0].push(s)}[L8e.inspect.custom](t,r){let n=this[G0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=L8e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};umt("FormData",JT,G0,"name","value");Object.defineProperties(JT.prototype,{append:mI,delete:mI,get:mI,getAll:mI,has:mI,set:mI,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function Ite(e,t,r){if(typeof t!="string"){if(fmt(t)||(t=t instanceof Blob?new Q8e([t],"blob",{type:t.type}):new F8e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof M8e?new Q8e([t],r,n):new F8e(t,r,n)}}return{name:e,value:t}}o(Ite,"makeEntry");O8e.exports={FormData:JT,makeEntry:Ite}});var V8e=V((CFr,H8e)=>{"use strict";d();var{isUSVString:U8e,bufferToLowerCasedHeaderName:dmt}=ci(),{utf8DecodeBytes:mmt}=Mu(),{HTTP_TOKEN_CODEPOINTS:hmt,isomorphicDecode:q8e}=Nc(),{isFileLike:pmt}=vte(),{makeEntry:gmt}=XT(),tM=require("node:assert"),{File:Amt}=require("node:buffer"),ymt=globalThis.File??Amt,Cmt=Buffer.from('form-data; name="'),G8e=Buffer.from("; filename"),Emt=Buffer.from("--"),xmt=Buffer.from(`--\r
`);function bmt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(bmt,"isAsciiString");function vmt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(vmt,"validateBoundary");function Imt(e,t){tM(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&rM(e,Emt,s)||s.position===e.length-4&&rM(e,xmt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=Tmt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let A=e.indexOf(n.subarray(2),s.position);if(A===-1)return"failure";h=e.subarray(s.position,A-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",bmt(f)||(f=""),p=new ymt([h],u,{type:f})):p=mmt(Buffer.from(h)),tM(U8e(c)),tM(typeof p=="string"&&U8e(p)||pmt(p)),i.push(gmt(c,p,u))}}o(Imt,"multipartFormDataParser");function Tmt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=hI(l=>l!==10&&l!==13&&l!==58,e,t);if(a=Tte(a,!0,!0,l=>l===9||l===32),!hmt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,hI(l=>l===32||l===9,e,t),dmt(a)){case"content-disposition":{if(r=n=null,!rM(e,Cmt,t)||(t.position+=17,r=W8e(e,t),r===null))return"failure";if(rM(e,G8e,t)){let l=t.position+G8e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=W8e(e,t),n===null))return"failure"}break}case"content-type":{let l=hI(c=>c!==10&&c!==13,e,t);l=Tte(l,!1,!0,c=>c===9||c===32),i=q8e(l);break}case"content-transfer-encoding":{let l=hI(c=>c!==10&&c!==13,e,t);l=Tte(l,!1,!0,c=>c===9||c===32),s=q8e(l);break}default:hI(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(Tmt,"parseMultipartFormDataHeaders");function W8e(e,t){tM(e[t.position-1]===34);let r=hI(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(W8e,"parseMultipartFormDataName");function hI(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(hI,"collectASequenceOfBytes");function Tte(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(Tte,"removeChars");function rM(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(rM,"bufferStartsWith");H8e.exports={multipartFormDataParser:Imt,validateBoundary:vmt}});var AI=V((bFr,Z8e)=>{"use strict";d();var ZT=ci(),{ReadableStreamFrom:wmt,isBlobLike:j8e,isReadableStreamLike:_mt,readableStreamClose:Smt,createDeferredPromise:Bmt,fullyReadBody:kmt,extractMimeType:Rmt,utf8DecodeBytes:Y8e}=Mu(),{FormData:$8e}=XT(),{kState:gI}=F5(),{webidl:Dmt}=Vl(),{Blob:Pmt}=require("node:buffer"),wte=require("node:assert"),{isErrored:K8e,isDisturbed:Nmt}=require("node:stream"),{isArrayBuffer:Fmt}=require("node:util/types"),{serializeAMimeType:Lmt}=Nc(),{multipartFormDataParser:Qmt}=V8e(),_te;try{let e=require("node:crypto");_te=o(t=>e.randomInt(0,t),"random")}catch{_te=o(e=>Math.floor(Math.random(e)),"random")}var nM=new TextEncoder;function Mmt(){}o(Mmt,"noop");var Ste=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Bte;Ste&&(Bte=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!Nmt(t)&&!K8e(t)&&t.cancel("Response object has been garbage collected").catch(Mmt)}));function J8e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:j8e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?nM.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>Smt(c))},start(){},type:"bytes"}),wte(_mt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(Fmt(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(ZT.isFormDataLike(e)){let c=`----formdata-undici-0${`${_te(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(x=>x.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(x=>x.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let A=!1;for(let[x,v]of e)if(typeof v=="string"){let b=nM.encode(u+`; name="${f(m(x))}"\r
\r
${m(v)}\r
`);h.push(b),s+=b.byteLength}else{let b=nM.encode(`${u}; name="${f(m(x))}"`+(v.name?`; filename="${f(v.name)}"`:"")+`\r
Content-Type: ${v.type||"application/octet-stream"}\r
\r
`);h.push(b,v,p),typeof v.size=="number"?s+=b.byteLength+v.size+p.byteLength:A=!0}let E=nM.encode(`--${c}--`);h.push(E),s+=E.byteLength,A&&(s=null),i=e,n=o(async function*(){for(let x of h)x.stream?yield*x.stream():yield x},"action"),a=`multipart/form-data; boundary=${c}`}else if(j8e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(ZT.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:wmt(e)}if((typeof i=="string"||ZT.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!K8e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(J8e,"extractBody");function Omt(e,t=!1){return e instanceof ReadableStream&&(wte(!ZT.isDisturbed(e),"The body has already been consumed."),wte(!e.locked,"The stream is locked.")),J8e(e,t)}o(Omt,"safelyExtractBody");function Umt(e,t){let[r,n]=t.stream.tee();return Ste&&Bte.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(Umt,"cloneBody");function qmt(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(qmt,"throwIfAborted");function Gmt(e){return{blob(){return pI(this,r=>{let n=z8e(this);return n===null?n="":n&&(n=Lmt(n)),new Pmt([r],{type:n})},e)},arrayBuffer(){return pI(this,r=>new Uint8Array(r).buffer,e)},text(){return pI(this,Y8e,e)},json(){return pI(this,Hmt,e)},formData(){return pI(this,r=>{let n=z8e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=Qmt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new $8e;return s[gI]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new $8e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return pI(this,r=>new Uint8Array(r),e)}}}o(Gmt,"bodyMixinMethods");function Wmt(e){Object.assign(e.prototype,Gmt(e))}o(Wmt,"mixinBody");async function pI(e,t,r){if(Dmt.brandCheck(e,r),X8e(e))throw new TypeError("Body is unusable: Body has already been read");qmt(e[gI]);let n=Bmt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[gI].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await kmt(e[gI].body,s,i),n.promise)}o(pI,"consumeBody");function X8e(e){let t=e[gI].body;return t!=null&&(t.stream.locked||ZT.isDisturbed(t.stream))}o(X8e,"bodyUnusable");function Hmt(e){return JSON.parse(Y8e(e))}o(Hmt,"parseJSONFromBytes");function z8e(e){let t=e[gI].headersList,r=Rmt(t);return r==="failure"?null:r}o(z8e,"bodyMimeType");Z8e.exports={extractBody:J8e,safelyExtractBody:Omt,cloneBody:Umt,mixinBody:Wmt,streamRegistry:Bte,hasFinalizationRegistry:Ste,bodyUnusable:X8e}});var u6e=V((TFr,c6e)=>{"use strict";d();var fn=require("node:assert"),Fn=ci(),{channels:e6e}=iI(),kte=cte(),{RequestContentLengthMismatchError:m4,ResponseContentLengthMismatchError:Vmt,RequestAbortedError:s6e,HeadersTimeoutError:jmt,HeadersOverflowError:$mt,SocketError:cM,InformationalError:yI,BodyTimeoutError:zmt,HTTPParserError:Ymt,ResponseExceededMaxSizeError:Kmt}=ao(),{kUrl:a6e,kReset:Fc,kClient:Nte,kParser:Ws,kBlocking:rw,kRunning:y0,kPending:Jmt,kSize:t6e,kWriting:Q5,kQueue:Dm,kNoRef:ew,kKeepAliveDefaultTimeout:Xmt,kHostHeader:Zmt,kPendingIdx:eht,kRunningIdx:ad,kError:ld,kPipelining:aM,kSocket:CI,kKeepAliveTimeoutValue:uM,kMaxHeadersSize:Rte,kKeepAliveMaxTimeout:tht,kKeepAliveTimeoutThreshold:rht,kHeadersTimeout:nht,kBodyTimeout:iht,kStrictContentLength:Fte,kMaxRequests:r6e,kCounter:oht,kMaxResponseSize:sht,kOnError:aht,kResume:L5,kHTTPContext:l6e}=xs(),Ep=XIe(),lht=Buffer.alloc(0),iM=Buffer[Symbol.species],oM=Fn.addListener,cht=Fn.removeAllListeners,Dte;async function uht(){let e=process.env.JEST_WORKER_ID?dte():void 0,t;try{t=await WebAssembly.compile(t8e())}catch{t=await WebAssembly.compile(e||dte())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{fn(Ya.ptr===r);let s=n-bp+xp.byteOffset;return Ya.onStatus(new iM(xp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(fn(Ya.ptr===r),Ya.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{fn(Ya.ptr===r);let s=n-bp+xp.byteOffset;return Ya.onHeaderField(new iM(xp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{fn(Ya.ptr===r);let s=n-bp+xp.byteOffset;return Ya.onHeaderValue(new iM(xp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(fn(Ya.ptr===r),Ya.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{fn(Ya.ptr===r);let s=n-bp+xp.byteOffset;return Ya.onBody(new iM(xp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(fn(Ya.ptr===r),Ya.onMessageComplete()||0),"wasm_on_message_complete")}})}o(uht,"lazyllhttp");var Pte=null,Lte=uht();Lte.catch();var Ya=null,xp=null,sM=0,bp=null,fht=0,tw=1,EI=2|tw,lM=4|tw,Qte=8|fht,Mte=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){fn(Number.isFinite(t[Rte])&&t[Rte]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Ep.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Rte],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[sht]}setTimeout(t,r){t!==this.timeoutValue||r&tw^this.timeoutType&tw?(this.timeout&&(kte.clearTimeout(this.timeout),this.timeout=null),t&&(r&tw?this.timeout=kte.setFastTimeout(n6e,t,new WeakRef(this)):(this.timeout=setTimeout(n6e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(fn(this.ptr!=null),fn(Ya==null),this.llhttp.llhttp_resume(this.ptr),fn(this.timeoutType===lM),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||lht),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){fn(this.ptr!=null),fn(Ya==null),fn(!this.paused);let{socket:r,llhttp:n}=this;t.length>sM&&(bp&&n.free(bp),sM=Math.ceil(t.length/4096)*4096,bp=n.malloc(sM)),new Uint8Array(n.memory.buffer,bp,sM).set(t);try{let i;try{xp=t,Ya=this,i=n.llhttp_execute(this.ptr,bp,t.length)}catch(a){throw a}finally{Ya=null,xp=null}let s=n.llhttp_get_error_pos(this.ptr)-bp;if(i===Ep.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===Ep.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==Ep.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new Ymt(l,Ep.ERROR[i],t.slice(s))}}catch(i){Fn.destroy(r,i)}}destroy(){fn(this.ptr!=null),fn(Ya==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&kte.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[Dm][r[ad]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Fn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Fn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Fn.destroy(this.socket,new $mt)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;fn(r),fn(n[CI]===i),fn(!i.destroyed),fn(!this.paused),fn((s.length&1)===0);let l=n[Dm][n[ad]];fn(l),fn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[Ws].destroy(),i[Ws]=null,i[Nte]=null,i[ld]=null,cht(i),n[CI]=null,n[l6e]=null,n[Dm][n[ad]++]=null,n.emit("disconnect",n[a6e],[n],new yI("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Fn.destroy(i,c)}n[L5]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[Dm][i[ad]];if(!c)return-1;if(fn(!this.upgrade),fn(this.statusCode<200),t===100)return Fn.destroy(s,new cM("bad response",Fn.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Fn.destroy(s,new cM("bad upgrade",Fn.getSocketInfo(s))),-1;if(fn(this.timeoutType===EI),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[Fc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[iht];this.setTimeout(f,lM)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return fn(i[y0]===1),this.upgrade=!0,2;if(r)return fn(i[y0]===1),this.upgrade=!0,2;if(fn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[aM]){let f=this.keepAlive?Fn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[rht],i[tht]);m<=0?s[Fc]=!0:i[uM]=m}else i[uM]=i[Xmt]}else s[Fc]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[rw]&&(s[rw]=!1,i[L5]()),u?Ep.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[Dm][r[ad]];if(fn(a),fn(this.timeoutType===lM),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),fn(i>=200),s>-1&&this.bytesRead+t.length>s)return Fn.destroy(n,new Kmt),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return Ep.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;fn(n>=100),fn((this.headers.length&1)===0);let u=t[Dm][t[ad]];if(fn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Fn.destroy(r,new Vmt),-1;if(u.onComplete(s),t[Dm][t[ad]++]=null,r[Q5])return fn(t[y0]===0),Fn.destroy(r,new yI("reset")),Ep.ERROR.PAUSED;if(c){if(r[Fc]&&t[y0]===0)return Fn.destroy(r,new yI("reset")),Ep.ERROR.PAUSED;t[aM]==null||t[aM]===1?setImmediate(()=>t[L5]()):t[L5]()}else return Fn.destroy(r,new yI("reset")),Ep.ERROR.PAUSED}}};function n6e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===EI?(!t[Q5]||t.writableNeedDrain||n[y0]>1)&&(fn(!i,"cannot be paused while waiting for headers"),Fn.destroy(t,new jmt)):r===lM?i||Fn.destroy(t,new zmt):r===Qte&&(fn(n[y0]===0&&n[uM]),Fn.destroy(t,new yI("socket idle timeout")))}o(n6e,"onParserTimeout");async function dht(e,t){e[CI]=t,Pte||(Pte=await Lte,Lte=null),t[ew]=!1,t[Q5]=!1,t[Fc]=!1,t[rw]=!1,t[Ws]=new Mte(e,t,Pte),oM(t,"error",function(n){fn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Ws];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[ld]=n,this[Nte][aht](n)}),oM(t,"readable",function(){let n=this[Ws];n&&n.readMore()}),oM(t,"end",function(){let n=this[Ws];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Fn.destroy(this,new cM("other side closed",Fn.getSocketInfo(this)))}),oM(t,"close",function(){let n=this[Nte],i=this[Ws];i&&(!this[ld]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Ws].destroy(),this[Ws]=null);let s=this[ld]||new cM("closed",Fn.getSocketInfo(this));if(n[CI]=null,n[l6e]=null,n.destroyed){fn(n[Jmt]===0);let a=n[Dm].splice(n[ad]);for(let l=0;l<a.length;l++){let c=a[l];Fn.errorRequest(n,c,s)}}else if(n[y0]>0&&s.code!=="UND_ERR_INFO"){let a=n[Dm][n[ad]];n[Dm][n[ad]++]=null,Fn.errorRequest(n,a,s)}n[eht]=n[ad],fn(n[y0]===0),n.emit("disconnect",n[a6e],[n],s),n[L5]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return pht(e,...n)},resume(){mht(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[Q5]||t[Fc]||t[rw]||n&&(e[y0]>0&&!n.idempotent||e[y0]>0&&(n.upgrade||n.method==="CONNECT")||e[y0]>0&&Fn.bodyLength(n.body)!==0&&(Fn.isStream(n.body)||Fn.isAsyncIterable(n.body)||Fn.isFormDataLike(n.body))))}}}o(dht,"connectH1");function mht(e){let t=e[CI];if(t&&!t.destroyed){if(e[t6e]===0?!t[ew]&&t.unref&&(t.unref(),t[ew]=!0):t[ew]&&t.ref&&(t.ref(),t[ew]=!1),e[t6e]===0)t[Ws].timeoutType!==Qte&&t[Ws].setTimeout(e[uM],Qte);else if(e[y0]>0&&t[Ws].statusCode<200&&t[Ws].timeoutType!==EI){let r=e[Dm][e[ad]],n=r.headersTimeout!=null?r.headersTimeout:e[nht];t[Ws].setTimeout(n,EI)}}}o(mht,"resumeH1");function hht(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(hht,"shouldSendContentLength");function pht(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Fn.isFormDataLike(c)){Dte||(Dte=AI().extractBody);let[x,v]=Dte(c);t.contentType==null&&u.push("content-type",v),c=x.stream,f=x.length}else Fn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Fn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),hht(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[Fte])return Fn.errorRequest(e,t,new m4),!1;process.emitWarning(new m4)}let p=e[CI],A=o(x=>{t.aborted||t.completed||(Fn.errorRequest(e,t,x||new s6e),Fn.destroy(c),Fn.destroy(p,new yI("aborted")))},"abort");try{t.onConnect(A)}catch(x){Fn.errorRequest(e,t,x)}if(t.aborted)return!1;r==="HEAD"&&(p[Fc]=!0),(s||r==="CONNECT")&&(p[Fc]=!0),l!=null&&(p[Fc]=l),e[r6e]&&p[oht]++>=e[r6e]&&(p[Fc]=!0),a&&(p[rw]=!0);let E=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?E+=`host: ${i}\r
`:E+=e[Zmt],s?E+=`connection: upgrade\r
upgrade: ${s}\r
`:e[aM]&&!p[Fc]?E+=`connection: keep-alive\r
`:E+=`connection: close\r
`,Array.isArray(u))for(let x=0;x<u.length;x+=2){let v=u[x+0],b=u[x+1];if(Array.isArray(b))for(let S=0;S<b.length;S++)E+=`${v}: ${b[S]}\r
`;else E+=`${v}: ${b}\r
`}return e6e.sendHeaders.hasSubscribers&&e6e.sendHeaders.publish({request:t,headers:E,socket:p}),!c||h===0?i6e(A,null,e,t,p,f,E,m):Fn.isBuffer(c)?i6e(A,c,e,t,p,f,E,m):Fn.isBlobLike(c)?typeof c.stream=="function"?o6e(A,c.stream(),e,t,p,f,E,m):Aht(A,c,e,t,p,f,E,m):Fn.isStream(c)?ght(A,c,e,t,p,f,E,m):Fn.isIterable(c)?o6e(A,c,e,t,p,f,E,m):fn(!1),!0}o(pht,"writeH1");function ght(e,t,r,n,i,s,a,l){fn(s!==0||r[y0]===0,"stream body cannot be pipelined");let c=!1,u=new fM({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(A){if(!c)try{!u.write(A)&&this.pause&&this.pause()}catch(E){Fn.destroy(this,E)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let A=new s6e;queueMicrotask(()=>p(A))}},"onClose"),p=o(function(A){if(!c){if(c=!0,fn(i.destroyed||i[Q5]&&r[y0]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!A)try{u.end()}catch(E){A=E}u.destroy(A),A&&(A.code!=="UND_ERR_INFO"||A.message!=="reset")?Fn.destroy(t,A):Fn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(ght,"writeStream");function i6e(e,t,r,n,i,s,a,l){try{t?Fn.isBuffer(t)&&(fn(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[Fc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(fn(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[L5]()}catch(c){e(c)}}o(i6e,"writeBuffer");async function Aht(e,t,r,n,i,s,a,l){fn(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new m4;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[Fc]=!0),r[L5]()}catch(c){e(c)}}o(Aht,"writeBlob");async function o6e(e,t,r,n,i,s,a,l){fn(s!==0||r[y0]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{fn(c===null),i[ld]?p(i[ld]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new fM({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[ld])throw i[ld];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(o6e,"writeIterable");var fM=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[Q5]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[ld])throw r[ld];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[Fte])throw new m4;process.emitWarning(new m4)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[Fc]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[Ws].timeout&&r[Ws].timeoutType===EI&&r[Ws].timeout.refresh&&r[Ws].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[Q5]=!1,t[ld])throw t[ld];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[Fte])throw new m4;process.emitWarning(new m4)}t[Ws].timeout&&t[Ws].timeoutType===EI&&t[Ws].timeout.refresh&&t[Ws].timeout.refresh(),n[L5]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[Q5]=!1,t&&(fn(n[y0]<=1,"pipeline should only contain this request"),i(t))}};c6e.exports=dht});var y6e=V((SFr,A6e)=>{"use strict";d();var cd=require("node:assert"),{pipeline:yht}=require("node:stream"),wi=ci(),{RequestContentLengthMismatchError:Ote,RequestAbortedError:f6e,SocketError:nw,InformationalError:Ute}=ao(),{kUrl:dM,kReset:hM,kClient:xI,kRunning:pM,kPending:Cht,kQueue:M5,kPendingIdx:qte,kRunningIdx:Pm,kError:Fm,kSocket:Cl,kStrictContentLength:Eht,kOnError:Gte,kMaxConcurrentStreams:g6e,kHTTP2Session:Nm,kResume:O5,kSize:xht,kHTTPContext:bht}=xs(),w1=Symbol("open streams"),d6e,m6e=!1,mM;try{mM=require("node:http2")}catch{mM={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:vht,HTTP2_HEADER_METHOD:Iht,HTTP2_HEADER_PATH:Tht,HTTP2_HEADER_SCHEME:wht,HTTP2_HEADER_CONTENT_LENGTH:_ht,HTTP2_HEADER_EXPECT:Sht,HTTP2_HEADER_STATUS:Bht}}=mM;function kht(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(kht,"parseH2Headers");async function Rht(e,t){e[Cl]=t,m6e||(m6e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=mM.connect(e[dM],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[g6e]});r[w1]=0,r[xI]=e,r[Cl]=t,wi.addListener(r,"error",Pht),wi.addListener(r,"frameError",Nht),wi.addListener(r,"end",Fht),wi.addListener(r,"goaway",Lht),wi.addListener(r,"close",function(){let{[xI]:i}=this,{[Cl]:s}=i,a=this[Cl][Fm]||this[Fm]||new nw("closed",wi.getSocketInfo(s));if(i[Nm]=null,i.destroyed){cd(i[Cht]===0);let l=i[M5].splice(i[Pm]);for(let c=0;c<l.length;c++){let u=l[c];wi.errorRequest(i,u,a)}}}),r.unref(),e[Nm]=r,t[Nm]=r,wi.addListener(t,"error",function(i){cd(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Fm]=i,this[xI][Gte](i)}),wi.addListener(t,"end",function(){wi.destroy(this,new nw("other side closed",wi.getSocketInfo(this)))}),wi.addListener(t,"close",function(){let i=this[Fm]||new nw("closed",wi.getSocketInfo(this));e[Cl]=null,this[Nm]!=null&&this[Nm].destroy(i),e[qte]=e[Pm],cd(e[pM]===0),e.emit("disconnect",e[dM],[e],i),e[O5]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return Mht(e,...i)},resume(){Dht(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(Rht,"connectH2");function Dht(e){let t=e[Cl];t?.destroyed===!1&&(e[xht]===0&&e[g6e]===0?(t.unref(),e[Nm].unref()):(t.ref(),e[Nm].ref()))}o(Dht,"resumeH2");function Pht(e){cd(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Cl][Fm]=e,this[xI][Gte](e)}o(Pht,"onHttp2SessionError");function Nht(e,t,r){if(r===0){let n=new Ute(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[Cl][Fm]=n,this[xI][Gte](n)}}o(Nht,"onHttp2FrameError");function Fht(){let e=new nw("other side closed",wi.getSocketInfo(this[Cl]));this.destroy(e),wi.destroy(this[Cl],e)}o(Fht,"onHttp2SessionEnd");function Lht(e){let t=this[Fm]||new nw(`HTTP/2: "GOAWAY" frame received with code ${e}`,wi.getSocketInfo(this)),r=this[xI];if(r[Cl]=null,r[bht]=null,this[Nm]!=null&&(this[Nm].destroy(t),this[Nm]=null),wi.destroy(this[Cl],t),r[Pm]<r[M5].length){let n=r[M5][r[Pm]];r[M5][r[Pm]++]=null,wi.errorRequest(r,n,t),r[qte]=r[Pm]}cd(r[pM]===0),r.emit("disconnect",r[dM],[r],t),r[O5]()}o(Lht,"onHTTP2GoAway");function Qht(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(Qht,"shouldSendContentLength");function Mht(e,t){let r=e[Nm],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return wi.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let k=0;k<u.length;k+=2){let P=u[k+0],N=u[k+1];if(Array.isArray(N))for(let W=0;W<N.length;W++)m[P]?m[P]+=`,${N[W]}`:m[P]=N[W];else m[P]=N}let h,{hostname:p,port:A}=e[dM];m[vht]=s||`${p}${A?`:${A}`:""}`,m[Iht]=n;let E=o(k=>{t.aborted||t.completed||(k=k||new f6e,wi.errorRequest(e,t,k),h!=null&&wi.destroy(h,k),wi.destroy(f,k),e[M5][e[Pm]++]=null,e[O5]())},"abort");try{t.onConnect(E)}catch(k){wi.errorRequest(e,t,k)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[w1],e[M5][e[Pm]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[w1],e[M5][e[Pm]++]=null}),h.once("close",()=>{r[w1]-=1,r[w1]===0&&r.unref()}),!0;m[Tht]=i,m[wht]="https";let x=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let v=wi.bodyLength(f);if(wi.isFormDataLike(f)){d6e??=AI().extractBody;let[k,P]=d6e(f);m["content-type"]=P,f=k.stream,v=k.length}if(v==null&&(v=t.contentLength),(v===0||!x)&&(v=null),Qht(n)&&v>0&&t.contentLength!=null&&t.contentLength!==v){if(e[Eht])return wi.errorRequest(e,t,new Ote),!1;process.emitWarning(new Ote)}v!=null&&(cd(f,"no body must not have content length"),m[_ht]=`${v}`),r.ref();let b=n==="GET"||n==="HEAD"||f===null;return l?(m[Sht]="100-continue",h=r.request(m,{endStream:b,signal:c}),h.once("continue",S)):(h=r.request(m,{endStream:b,signal:c}),S()),++r[w1],h.once("response",k=>{let{[Bht]:P,...N}=k;if(t.onResponseStarted(),t.aborted){let W=new f6e;wi.errorRequest(e,t,W),wi.destroy(h,W);return}t.onHeaders(Number(P),kht(N),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",W=>{t.onData(W)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[w1]===0&&r.unref(),E(new Ute("HTTP/2: stream half-closed (remote)")),e[M5][e[Pm]++]=null,e[qte]=e[Pm],e[O5]()}),h.once("close",()=>{r[w1]-=1,r[w1]===0&&r.unref()}),h.once("error",function(k){E(k)}),h.once("frameError",(k,P)=>{E(new Ute(`HTTP/2: "frameError" received - type ${k}, code ${P}`))}),!0;function S(){!f||v===0?h6e(E,h,null,e,t,e[Cl],v,x):wi.isBuffer(f)?h6e(E,h,f,e,t,e[Cl],v,x):wi.isBlobLike(f)?typeof f.stream=="function"?p6e(E,h,f.stream(),e,t,e[Cl],v,x):Uht(E,h,f,e,t,e[Cl],v,x):wi.isStream(f)?Oht(E,e[Cl],x,h,f,e,t,v):wi.isIterable(f)?p6e(E,h,f,e,t,e[Cl],v,x):cd(!1)}o(S,"writeBodyH2")}o(Mht,"writeH2");function h6e(e,t,r,n,i,s,a,l){try{r!=null&&wi.isBuffer(r)&&(cd(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[hM]=!0),i.onRequestSent(),n[O5]()}catch(c){e(c)}}o(h6e,"writeBuffer");function Oht(e,t,r,n,i,s,a,l){cd(l!==0||s[pM]===0,"stream body cannot be pipelined");let c=yht(i,n,f=>{f?(wi.destroy(c,f),e(f)):(wi.removeAllListeners(c),a.onRequestSent(),r||(t[hM]=!0),s[O5]())});wi.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(Oht,"writeStream");async function Uht(e,t,r,n,i,s,a,l){cd(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new Ote;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[hM]=!0),n[O5]()}catch(c){e(c)}}o(Uht,"writeBlob");async function p6e(e,t,r,n,i,s,a,l){cd(a!==0||n[pM]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{cd(c===null),s[Fm]?h(s[Fm]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[Fm])throw s[Fm];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[hM]=!0),n[O5]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(p6e,"writeIterable");A6e.exports=Rht});var AM=V((RFr,x6e)=>{"use strict";d();var vp=ci(),{kBodyUsed:iw}=xs(),Hte=require("node:assert"),{InvalidArgumentError:qht}=ao(),Ght=require("node:events"),Wht=[300,301,302,303,307,308],C6e=Symbol("body"),gM=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[C6e]=t,this[iw]=!1}async*[Symbol.asyncIterator](){Hte(!this[iw],"disturbed"),this[iw]=!0,yield*this[C6e]}},Wte=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new qht("maxRedirections must be a positive number");vp.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,vp.isStream(this.opts.body)?(vp.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){Hte(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[iw]=!1,Ght.prototype.on.call(this.opts.body,"data",function(){this[iw]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new gM(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&vp.isIterable(this.opts.body)&&(this.opts.body=new gM(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||vp.isDisturbed(this.opts.body)?null:Hht(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=vp.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=Vht(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function Hht(e,t){if(Wht.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&vp.headerNameToString(t[r])==="location")return t[r+1]}o(Hht,"parseLocation");function E6e(e,t,r){if(e.length===4)return vp.headerNameToString(e)==="host";if(t&&vp.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=vp.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(E6e,"shouldRemoveHeader");function Vht(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)E6e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))E6e(i,t,r)||n.push(i,e[i]);else Hte(e==null,"headers must be an object or an array");return n}o(Vht,"cleanRequestHeaders");x6e.exports=Wte});var yM=V((NFr,b6e)=>{"use strict";d();var jht=AM();function $ht({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new jht(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o($ht,"createRedirectInterceptor");b6e.exports=$ht});var fw=V((QFr,D6e)=>{"use strict";d();var _1=require("node:assert"),S6e=require("node:net"),zht=require("node:http"),h4=ci(),{channels:bI}=iI(),Yht=OIe(),Kht=lI(),{InvalidArgumentError:la,InformationalError:Jht,ClientDestroyedError:Xht}=ao(),Zht=VT(),{kUrl:Ip,kServerName:U5,kClient:ept,kBusy:Vte,kConnect:tpt,kResuming:p4,kRunning:cw,kPending:uw,kSize:lw,kQueue:Lm,kConnected:rpt,kConnecting:vI,kNeedDrain:G5,kKeepAliveDefaultTimeout:v6e,kHostHeader:npt,kPendingIdx:Qm,kRunningIdx:S1,kError:ipt,kPipelining:CM,kKeepAliveTimeoutValue:opt,kMaxHeadersSize:spt,kKeepAliveMaxTimeout:apt,kKeepAliveTimeoutThreshold:lpt,kHeadersTimeout:cpt,kBodyTimeout:upt,kStrictContentLength:fpt,kConnector:ow,kMaxRedirections:dpt,kMaxRequests:jte,kCounter:mpt,kClose:hpt,kDestroy:ppt,kDispatch:gpt,kInterceptors:I6e,kLocalAddress:sw,kMaxResponseSize:Apt,kOnError:ypt,kHTTPContext:ca,kMaxConcurrentStreams:Cpt,kResume:aw}=xs(),Ept=u6e(),xpt=y6e(),T6e=!1,q5=Symbol("kClosedResolve"),w6e=o(()=>{},"noop");function B6e(e){return e[CM]??e[ca]?.defaultPipelining??1}o(B6e,"getPipelining");var $te=class extends Kht{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:A,socketPath:E,pipelining:x,tls:v,strictContentLength:b,maxCachedSessions:S,maxRedirections:k,connect:P,maxRequestsPerClient:N,localAddress:W,maxResponseSize:te,autoSelectFamily:ge,autoSelectFamilyAttemptTimeout:re,maxConcurrentStreams:G,allowH2:q}={}){if(super(),f!==void 0)throw new la("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new la("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new la("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new la("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new la("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new la("invalid maxHeaderSize");if(E!=null&&typeof E!="string")throw new la("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new la("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new la("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new la("invalid keepAliveMaxTimeout");if(A!=null&&!Number.isFinite(A))throw new la("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new la("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new la("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new la("connect must be a function or an object");if(k!=null&&(!Number.isInteger(k)||k<0))throw new la("maxRedirections must be a positive number");if(N!=null&&(!Number.isInteger(N)||N<0))throw new la("maxRequestsPerClient must be a positive number");if(W!=null&&(typeof W!="string"||S6e.isIP(W)===0))throw new la("localAddress must be valid string IP address");if(te!=null&&(!Number.isInteger(te)||te<-1))throw new la("maxResponseSize must be a positive number");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new la("autoSelectFamilyAttemptTimeout must be a positive number");if(q!=null&&typeof q!="boolean")throw new la("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new la("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=Zht({...v,maxCachedSessions:S,allowH2:q,socketPath:E,timeout:l,...ge?{autoSelectFamily:ge,autoSelectFamilyAttemptTimeout:re}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[I6e]=r.Client,T6e||(T6e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[I6e]=[bpt({maxRedirections:k})],this[Ip]=h4.parseOrigin(t),this[ow]=P,this[CM]=x??1,this[spt]=n||zht.maxHeaderSize,this[v6e]=m??4e3,this[apt]=p??6e5,this[lpt]=A??2e3,this[opt]=this[v6e],this[U5]=null,this[sw]=W??null,this[p4]=0,this[G5]=0,this[npt]=`host: ${this[Ip].hostname}${this[Ip].port?`:${this[Ip].port}`:""}\r
`,this[upt]=c??3e5,this[cpt]=i??3e5,this[fpt]=b??!0,this[dpt]=k,this[jte]=N,this[q5]=null,this[Apt]=te>-1?te:-1,this[Cpt]=G??100,this[ca]=null,this[Lm]=[],this[S1]=0,this[Qm]=0,this[aw]=se=>zte(this,se),this[ypt]=se=>k6e(this,se)}get pipelining(){return this[CM]}set pipelining(t){this[CM]=t,this[aw](!0)}get[uw](){return this[Lm].length-this[Qm]}get[cw](){return this[Qm]-this[S1]}get[lw](){return this[Lm].length-this[S1]}get[rpt](){return!!this[ca]&&!this[vI]&&!this[ca].destroyed}get[Vte](){return!!(this[ca]?.busy(null)||this[lw]>=(B6e(this)||1)||this[uw]>0)}[tpt](t){R6e(this),this.once("connect",t)}[gpt](t,r){let n=t.origin||this[Ip].origin,i=new Yht(n,t,r);return this[Lm].push(i),this[p4]||(h4.bodyLength(i.body)==null&&h4.isIterable(i.body)?(this[p4]=1,queueMicrotask(()=>zte(this))):this[aw](!0)),this[p4]&&this[G5]!==2&&this[Vte]&&(this[G5]=2),this[G5]<2}async[hpt](){return new Promise(t=>{this[lw]?this[q5]=t:t(null)})}async[ppt](t){return new Promise(r=>{let n=this[Lm].splice(this[Qm]);for(let s=0;s<n.length;s++){let a=n[s];h4.errorRequest(this,a,t)}let i=o(()=>{this[q5]&&(this[q5](),this[q5]=null),r(null)},"callback");this[ca]?(this[ca].destroy(t,i),this[ca]=null):queueMicrotask(i),this[aw]()})}},bpt=yM();function k6e(e,t){if(e[cw]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){_1(e[Qm]===e[S1]);let r=e[Lm].splice(e[S1]);for(let n=0;n<r.length;n++){let i=r[n];h4.errorRequest(e,i,t)}_1(e[lw]===0)}}o(k6e,"onError");async function R6e(e){_1(!e[vI]),_1(!e[ca]);let{host:t,hostname:r,protocol:n,port:i}=e[Ip];if(r[0]==="["){let s=r.indexOf("]");_1(s!==-1);let a=r.substring(1,s);_1(S6e.isIP(a)),r=a}e[vI]=!0,bI.beforeConnect.hasSubscribers&&bI.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ca]?.version,servername:e[U5],localAddress:e[sw]},connector:e[ow]});try{let s=await new Promise((a,l)=>{e[ow]({host:t,hostname:r,protocol:n,port:i,servername:e[U5],localAddress:e[sw]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){h4.destroy(s.on("error",w6e),new Xht);return}_1(s);try{e[ca]=s.alpnProtocol==="h2"?await xpt(e,s):await Ept(e,s)}catch(a){throw s.destroy().on("error",w6e),a}e[vI]=!1,s[mpt]=0,s[jte]=e[jte],s[ept]=e,s[ipt]=null,bI.connected.hasSubscribers&&bI.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ca]?.version,servername:e[U5],localAddress:e[sw]},connector:e[ow],socket:s}),e.emit("connect",e[Ip],[e])}catch(s){if(e.destroyed)return;if(e[vI]=!1,bI.connectError.hasSubscribers&&bI.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ca]?.version,servername:e[U5],localAddress:e[sw]},connector:e[ow],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(_1(e[cw]===0);e[uw]>0&&e[Lm][e[Qm]].servername===e[U5];){let a=e[Lm][e[Qm]++];h4.errorRequest(e,a,s)}else k6e(e,s);e.emit("connectionError",e[Ip],[e],s)}e[aw]()}o(R6e,"connect");function _6e(e){e[G5]=0,e.emit("drain",e[Ip],[e])}o(_6e,"emitDrain");function zte(e,t){e[p4]!==2&&(e[p4]=2,vpt(e,t),e[p4]=0,e[S1]>256&&(e[Lm].splice(0,e[S1]),e[Qm]-=e[S1],e[S1]=0))}o(zte,"resume");function vpt(e,t){for(;;){if(e.destroyed){_1(e[uw]===0);return}if(e[q5]&&!e[lw]){e[q5](),e[q5]=null;return}if(e[ca]&&e[ca].resume(),e[Vte])e[G5]=2;else if(e[G5]===2){t?(e[G5]=1,queueMicrotask(()=>_6e(e))):_6e(e);continue}if(e[uw]===0||e[cw]>=(B6e(e)||1))return;let r=e[Lm][e[Qm]];if(e[Ip].protocol==="https:"&&e[U5]!==r.servername){if(e[cw]>0)return;e[U5]=r.servername,e[ca]?.destroy(new Jht("servername changed"),()=>{e[ca]=null,zte(e)})}if(e[vI])return;if(!e[ca]){R6e(e);return}if(e[ca].destroyed||e[ca].busy(r))return;!r.aborted&&e[ca].write(r)?e[Qm]++:e[Lm].splice(e[Qm],1)}}o(vpt,"_resume");D6e.exports=$te});var Yte=V((qFr,P6e)=>{"use strict";d();var EM=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};P6e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new EM}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new EM),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var F6e=V((HFr,N6e)=>{d();var{kFree:Ipt,kConnected:Tpt,kPending:wpt,kQueued:_pt,kRunning:Spt,kSize:Bpt}=xs(),g4=Symbol("pool"),Kte=class{static{o(this,"PoolStats")}constructor(t){this[g4]=t}get connected(){return this[g4][Tpt]}get free(){return this[g4][Ipt]}get pending(){return this[g4][wpt]}get queued(){return this[g4][_pt]}get running(){return this[g4][Spt]}get size(){return this[g4][Bpt]}};N6e.exports=Kte});var rre=V(($Fr,V6e)=>{"use strict";d();var kpt=lI(),Rpt=Yte(),{kConnected:Jte,kSize:L6e,kRunning:Q6e,kPending:M6e,kQueued:dw,kBusy:Dpt,kFree:Ppt,kUrl:Npt,kClose:Fpt,kDestroy:Lpt,kDispatch:Qpt}=xs(),Mpt=F6e(),Lc=Symbol("clients"),W0=Symbol("needDrain"),mw=Symbol("queue"),Xte=Symbol("closed resolve"),Zte=Symbol("onDrain"),O6e=Symbol("onConnect"),U6e=Symbol("onDisconnect"),q6e=Symbol("onConnectionError"),ere=Symbol("get dispatcher"),W6e=Symbol("add client"),H6e=Symbol("remove client"),G6e=Symbol("stats"),tre=class extends kpt{static{o(this,"PoolBase")}constructor(){super(),this[mw]=new Rpt,this[Lc]=[],this[dw]=0;let t=this;this[Zte]=o(function(n,i){let s=t[mw],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[dw]--,a=!this.dispatch(l.opts,l.handler)}this[W0]=a,!this[W0]&&t[W0]&&(t[W0]=!1,t.emit("drain",n,[t,...i])),t[Xte]&&s.isEmpty()&&Promise.all(t[Lc].map(l=>l.close())).then(t[Xte])},"onDrain"),this[O6e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[U6e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[q6e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[G6e]=new Mpt(this)}get[Dpt](){return this[W0]}get[Jte](){return this[Lc].filter(t=>t[Jte]).length}get[Ppt](){return this[Lc].filter(t=>t[Jte]&&!t[W0]).length}get[M6e](){let t=this[dw];for(let{[M6e]:r}of this[Lc])t+=r;return t}get[Q6e](){let t=0;for(let{[Q6e]:r}of this[Lc])t+=r;return t}get[L6e](){let t=this[dw];for(let{[L6e]:r}of this[Lc])t+=r;return t}get stats(){return this[G6e]}async[Fpt](){this[mw].isEmpty()?await Promise.all(this[Lc].map(t=>t.close())):await new Promise(t=>{this[Xte]=t})}async[Lpt](t){for(;;){let r=this[mw].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Lc].map(r=>r.destroy(t)))}[Qpt](t,r){let n=this[ere]();return n?n.dispatch(t,r)||(n[W0]=!0,this[W0]=!this[ere]()):(this[W0]=!0,this[mw].push({opts:t,handler:r}),this[dw]++),!this[W0]}[W6e](t){return t.on("drain",this[Zte]).on("connect",this[O6e]).on("disconnect",this[U6e]).on("connectionError",this[q6e]),this[Lc].push(t),this[W0]&&queueMicrotask(()=>{this[W0]&&this[Zte](t[Npt],[this,t])}),this}[H6e](t){t.close(()=>{let r=this[Lc].indexOf(t);r!==-1&&this[Lc].splice(r,1)}),this[W0]=this[Lc].some(r=>!r[W0]&&r.closed!==!0&&r.destroyed!==!0)}};V6e.exports={PoolBase:tre,kClients:Lc,kNeedDrain:W0,kAddClient:W6e,kRemoveClient:H6e,kGetDispatcher:ere}});var II=V((KFr,K6e)=>{"use strict";d();var{PoolBase:Opt,kClients:j6e,kNeedDrain:Upt,kAddClient:qpt,kGetDispatcher:Gpt}=rre(),Wpt=fw(),{InvalidArgumentError:nre}=ao(),$6e=ci(),{kUrl:z6e,kInterceptors:Hpt}=xs(),Vpt=VT(),ire=Symbol("options"),ore=Symbol("connections"),Y6e=Symbol("factory");function jpt(e,t){return new Wpt(e,t)}o(jpt,"defaultFactory");var sre=class extends Opt{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=jpt,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new nre("invalid connections");if(typeof n!="function")throw new nre("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new nre("connect must be a function or an object");typeof i!="function"&&(i=Vpt({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[Hpt]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[ore]=r||null,this[z6e]=$6e.parseOrigin(t),this[ire]={...$6e.deepClone(h),connect:i,allowH2:m},this[ire].interceptors=h.interceptors?{...h.interceptors}:void 0,this[Y6e]=n}[Gpt](){for(let t of this[j6e])if(!t[Upt])return t;if(!this[ore]||this[j6e].length<this[ore]){let t=this[Y6e](this[z6e],this[ire]);return this[qpt](t),t}}};K6e.exports=sre});var t9e=V((ZFr,e9e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:$pt,InvalidArgumentError:zpt}=ao(),{PoolBase:Ypt,kClients:C0,kNeedDrain:hw,kAddClient:Kpt,kRemoveClient:Jpt,kGetDispatcher:Xpt}=rre(),Zpt=II(),{kUrl:are,kInterceptors:egt}=xs(),{parseOrigin:J6e}=ci(),X6e=Symbol("factory"),xM=Symbol("options"),Z6e=Symbol("kGreatestCommonDivisor"),A4=Symbol("kCurrentWeight"),y4=Symbol("kIndex"),ud=Symbol("kWeight"),bM=Symbol("kMaxWeightPerServer"),vM=Symbol("kErrorPenalty");function tgt(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(tgt,"getGreatestCommonDivisor");function rgt(e,t){return new Zpt(e,t)}o(rgt,"defaultFactory");var lre=class extends Ypt{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=rgt,...n}={}){if(super(),this[xM]=n,this[y4]=-1,this[A4]=0,this[bM]=this[xM].maxWeightPerServer||100,this[vM]=this[xM].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new zpt("factory must be a function.");this[egt]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[X6e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=J6e(t).origin;if(this[C0].find(i=>i[are].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[X6e](r,Object.assign({},this[xM]));this[Kpt](n),n.on("connect",()=>{n[ud]=Math.min(this[bM],n[ud]+this[vM])}),n.on("connectionError",()=>{n[ud]=Math.max(1,n[ud]-this[vM]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[ud]=Math.max(1,n[ud]-this[vM]),this._updateBalancedPoolStats())});for(let i of this[C0])i[ud]=this[bM];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[C0].length;r++)t=tgt(this[C0][r][ud],t);this[Z6e]=t}removeUpstream(t){let r=J6e(t).origin,n=this[C0].find(i=>i[are].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[Jpt](n),this}get upstreams(){return this[C0].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[are].origin)}[Xpt](){if(this[C0].length===0)throw new $pt;if(!this[C0].find(s=>!s[hw]&&s.closed!==!0&&s.destroyed!==!0)||this[C0].map(s=>s[hw]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[C0].findIndex(s=>!s[hw]);for(;n++<this[C0].length;){this[y4]=(this[y4]+1)%this[C0].length;let s=this[C0][this[y4]];if(s[ud]>this[C0][i][ud]&&!s[hw]&&(i=this[y4]),this[y4]===0&&(this[A4]=this[A4]-this[Z6e],this[A4]<=0&&(this[A4]=this[bM])),s[ud]>=this[A4]&&!s[hw])return s}return this[A4]=this[C0][i][ud],this[y4]=i,this[C0][i]}};e9e.exports=lre});var TI=V((rLr,l9e)=>{"use strict";d();var{InvalidArgumentError:IM}=ao(),{kClients:W5,kRunning:r9e,kClose:ngt,kDestroy:igt,kDispatch:ogt,kInterceptors:sgt}=xs(),agt=lI(),lgt=II(),cgt=fw(),ugt=ci(),fgt=yM(),n9e=Symbol("onConnect"),i9e=Symbol("onDisconnect"),o9e=Symbol("onConnectionError"),dgt=Symbol("maxRedirections"),s9e=Symbol("onDrain"),a9e=Symbol("factory"),cre=Symbol("options");function mgt(e,t){return t&&t.connections===1?new cgt(e,t):new lgt(e,t)}o(mgt,"defaultFactory");var ure=class extends agt{static{o(this,"Agent")}constructor({factory:t=mgt,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new IM("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new IM("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new IM("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[sgt]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[fgt({maxRedirections:r})],this[cre]={...ugt.deepClone(i),connect:n},this[cre].interceptors=i.interceptors?{...i.interceptors}:void 0,this[dgt]=r,this[a9e]=t,this[W5]=new Map,this[s9e]=(s,a)=>{this.emit("drain",s,[this,...a])},this[n9e]=(s,a)=>{this.emit("connect",s,[this,...a])},this[i9e]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[o9e]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[r9e](){let t=0;for(let r of this[W5].values())t+=r[r9e];return t}[ogt](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new IM("opts.origin must be a non-empty string or URL.");let i=this[W5].get(n);return i||(i=this[a9e](t.origin,this[cre]).on("drain",this[s9e]).on("connect",this[n9e]).on("disconnect",this[i9e]).on("connectionError",this[o9e]),this[W5].set(n,i)),i.dispatch(t,r)}async[ngt](){let t=[];for(let r of this[W5].values())t.push(r.close());this[W5].clear(),await Promise.all(t)}async[igt](t){let r=[];for(let n of this[W5].values())r.push(n.destroy(t));this[W5].clear(),await Promise.all(r)}};l9e.exports=ure});var mre=V((oLr,d9e)=>{"use strict";d();var{kProxy:hgt,kClose:pgt,kDestroy:ggt,kInterceptors:Agt}=xs(),{URL:pw}=require("node:url"),ygt=TI(),Cgt=II(),Egt=lI(),{InvalidArgumentError:_M,RequestAbortedError:xgt,SecureProxyConnectionError:bgt}=ao(),c9e=VT(),TM=Symbol("proxy agent"),wM=Symbol("proxy client"),gw=Symbol("proxy headers"),fre=Symbol("request tls settings"),u9e=Symbol("proxy tls settings"),f9e=Symbol("connect endpoint function");function vgt(e){return e==="https:"?443:80}o(vgt,"defaultProtocolPort");function Igt(e,t){return new Cgt(e,t)}o(Igt,"defaultFactory");var Tgt=o(()=>{},"noop"),dre=class extends Egt{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof pw)&&!t.uri)throw new _M("Proxy uri is mandatory");let{clientFactory:r=Igt}=t;if(typeof r!="function")throw new _M("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[hgt]={uri:i,protocol:l},this[Agt]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[fre]=t.requestTls,this[u9e]=t.proxyTls,this[gw]=t.headers||{},t.auth&&t.token)throw new _M("opts.auth cannot be used in combination with opts.token");t.auth?this[gw]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[gw]["proxy-authorization"]=t.token:c&&u&&(this[gw]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=c9e({...t.proxyTls});this[f9e]=c9e({...t.requestTls}),this[wM]=r(n,{connect:m}),this[TM]=new ygt({...t,connect:o(async(h,p)=>{let A=h.host;h.port||(A+=`:${vgt(h.protocol)}`);try{let{socket:E,statusCode:x}=await this[wM].connect({origin:s,port:a,path:A,signal:h.signal,headers:{...this[gw],host:h.host},servername:this[u9e]?.servername||f});if(x!==200&&(E.on("error",Tgt).destroy(),p(new xgt(`Proxy response (${x}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,E);return}let v;this[fre]?v=this[fre].servername:v=h.servername,this[f9e]({...h,servername:v,httpSocket:E},p)}catch(E){E.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new bgt(E)):p(E)}},"connect")})}dispatch(t,r){let n=wgt(t.headers);if(_gt(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new pw(t.origin);n.host=i}return this[TM].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new pw(t):t instanceof pw?t:new pw(t.uri)}async[pgt](){await this[TM].close(),await this[wM].close()}async[ggt](){await this[TM].destroy(),await this[wM].destroy()}};function wgt(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(wgt,"buildHeaders");function _gt(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new _M("Proxy-Authorization should be sent in ProxyAgent constructor")}o(_gt,"throwIfProxyAuthIsSent");d9e.exports=dre});var y9e=V((lLr,A9e)=>{"use strict";d();var Sgt=lI(),{kClose:Bgt,kDestroy:kgt,kClosed:m9e,kDestroyed:h9e,kDispatch:Rgt,kNoProxyAgent:Aw,kHttpProxyAgent:H5,kHttpsProxyAgent:C4}=xs(),p9e=mre(),Dgt=TI(),Pgt={"http:":80,"https:":443},g9e=!1,hre=class extends Sgt{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,g9e||(g9e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[Aw]=new Dgt(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[H5]=new p9e({...s,uri:a}):this[H5]=this[Aw];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[C4]=new p9e({...s,uri:l}):this[C4]=this[H5],this.#o()}[Rgt](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[Bgt](){await this[Aw].close(),this[H5][m9e]||await this[H5].close(),this[C4][m9e]||await this[C4].close()}async[kgt](t){await this[Aw].destroy(t),this[H5][h9e]||await this[H5].destroy(t),this[C4][h9e]||await this[C4].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||Pgt[r]||0,this.#r(n,i)?r==="https:"?this[C4]:this[H5]:this[Aw]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};A9e.exports=hre});var SM=V((fLr,b9e)=>{"use strict";d();var wI=require("node:assert"),{kRetryHandlerDefaultRetry:C9e}=xs(),{RequestRetryError:yw}=ao(),{isDisturbed:E9e,parseHeaders:Ngt,parseRangeHeader:x9e,wrapRequestBody:Fgt}=ci();function Lgt(e){let t=Date.now();return new Date(e).getTime()-t}o(Lgt,"calculateRetryAfterHeader");var pre=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:Fgt(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[C9e],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(A=>{this.aborted=!0,this.abort?this.abort(A):this.reason=A})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[C9e](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:A,errorCodes:E,methods:x}=u,{counter:v}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!E.includes(a)){i(t);return}if(Array.isArray(x)&&!x.includes(c)){i(t);return}if(s!=null&&Array.isArray(A)&&!A.includes(s)){i(t);return}if(v>f){i(t);return}let b=l?.["retry-after"];b&&(b=Number(b),b=Number.isNaN(b)?Lgt(b):b*1e3);let S=b>0?Math.min(b,h):Math.min(m*p**(v-1),h);setTimeout(()=>i(null),S)}onHeaders(t,r,n,i){let s=Ngt(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new yw("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new yw("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=x9e(s["content-range"]);if(!l)return this.abort(new yw("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new yw("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return wI(this.start===c,"content-range mismatch"),wI(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=x9e(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;wI(c!=null&&Number.isFinite(c),"content-range mismatch"),wI(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return wI(Number.isFinite(this.start)),wI(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new yw("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||E9e(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||E9e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};b9e.exports=pre});var I9e=V((hLr,v9e)=>{"use strict";d();var Qgt=WT(),Mgt=SM(),gre=class extends Qgt{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new Mgt({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};v9e.exports=gre});var bre=V((ALr,P9e)=>{"use strict";d();var B9e=require("node:assert"),{Readable:Ogt}=require("node:stream"),{RequestAbortedError:k9e,NotSupportedError:Ugt,InvalidArgumentError:qgt,AbortError:Are}=ao(),R9e=ci(),{ReadableStreamFrom:Ggt}=ci(),Ou=Symbol("kConsume"),Cw=Symbol("kReading"),V5=Symbol("kBody"),T9e=Symbol("kAbort"),D9e=Symbol("kContentType"),w9e=Symbol("kContentLength"),Wgt=o(()=>{},"noop"),yre=class extends Ogt{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[T9e]=r,this[Ou]=null,this[V5]=null,this[D9e]=n,this[w9e]=i,this[Cw]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new k9e),t&&this[T9e](),super.destroy(t)}_destroy(t,r){this[Cw]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[Cw]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[Cw]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[Ou]&&t!==null?(Ere(this[Ou],t),this[Cw]?super.push(t):!0):super.push(t)}async text(){return Ew(this,"text")}async json(){return Ew(this,"json")}async blob(){return Ew(this,"blob")}async bytes(){return Ew(this,"bytes")}async arrayBuffer(){return Ew(this,"arrayBuffer")}async formData(){throw new Ugt}get bodyUsed(){return R9e.isDisturbed(this)}get body(){return this[V5]||(this[V5]=Ggt(this),this[Ou]&&(this[V5].getReader(),B9e(this[V5].locked))),this[V5]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new qgt("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[w9e]>r&&this.destroy(new Are);let a=o(()=>{this.destroy(n.reason??new Are)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new Are):i(null)}).on("error",Wgt).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function Hgt(e){return e[V5]&&e[V5].locked===!0||e[Ou]}o(Hgt,"isLocked");function Vgt(e){return R9e.isDisturbed(e)||Hgt(e)}o(Vgt,"isUnusable");async function Ew(e,t){return B9e(!e[Ou]),new Promise((r,n)=>{if(Vgt(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[Ou]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){xre(this[Ou],i)}).on("close",function(){this[Ou].body!==null&&xre(this[Ou],new k9e)}),jgt(e[Ou])})})}o(Ew,"consume");function jgt(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)Ere(e,t.buffer[i])}else for(let r of t.buffer)Ere(e,r);for(t.endEmitted?S9e(this[Ou]):e.stream.on("end",function(){S9e(this[Ou])}),e.stream.resume();e.stream.read()!=null;);}o(jgt,"consumeStart");function Cre(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(Cre,"chunksDecode");function _9e(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(_9e,"chunksConcat");function S9e(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(Cre(r,s)):t==="json"?n(JSON.parse(Cre(r,s))):t==="arrayBuffer"?n(_9e(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[D9e]})):t==="bytes"&&n(_9e(r,s)),xre(e)}catch(a){i.destroy(a)}}o(S9e,"consumeEnd");function Ere(e,t){e.length+=t.length,e.body.push(t)}o(Ere,"consumePush");function xre(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(xre,"consumeFinish");P9e.exports={Readable:yre,chunksDecode:Cre}});var vre=V((ELr,M9e)=>{d();var $gt=require("node:assert"),{ResponseStatusCodeError:N9e}=ao(),{chunksDecode:F9e}=bre(),zgt=128*1024;async function Ygt({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){$gt(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>zgt){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new N9e(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{L9e(r)?f=JSON.parse(F9e(a,l)):Q9e(r)&&(f=F9e(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new N9e(c,n,s,f)))}o(Ygt,"getResolveErrorBodyCallback");var L9e=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),Q9e=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");M9e.exports={getResolveErrorBodyCallback:Ygt,isContentTypeApplicationJson:L9e,isContentTypeText:Q9e}});var q9e=V((vLr,Ire)=>{"use strict";d();var Kgt=require("node:assert"),{Readable:Jgt}=bre(),{InvalidArgumentError:_I,RequestAbortedError:O9e}=ao(),Uu=ci(),{getResolveErrorBodyCallback:Xgt}=vre(),{AsyncResource:Zgt}=require("node:async_hooks"),BM=class extends Zgt{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new _I("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new _I("invalid callback");if(f&&(typeof f!="number"||f<0))throw new _I("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new _I("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new _I("invalid method");if(l&&typeof l!="function")throw new _I("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw Uu.isStream(a)&&Uu.destroy(a.on("error",Uu.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,Uu.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new O9e:this.removeAbortListener=Uu.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new O9e,this.res?Uu.destroy(this.res.on("error",Uu.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}Kgt(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?Uu.parseRawHeaders(r):Uu.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?Uu.parseHeaders(r):m,p=h["content-type"],A=h["content-length"],E=new Jgt({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&A?Number(A):null,highWaterMark:f});this.removeAbortListener&&E.on("close",this.removeAbortListener),this.callback=null,this.res=E,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(Xgt,null,{callback:s,body:E,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:E,context:c}))}onData(t){return this.res.push(t)}onComplete(t){Uu.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{Uu.destroy(r,t)})),i&&(this.body=null,Uu.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function U9e(e,t){if(t===void 0)return new Promise((r,n)=>{U9e.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new BM(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(U9e,"request");Ire.exports=U9e;Ire.exports.RequestHandler=BM});var xw=V((wLr,H9e)=>{d();var{addAbortListener:e1t}=ci(),{RequestAbortedError:t1t}=ao(),SI=Symbol("kListener"),Tp=Symbol("kSignal");function G9e(e){e.abort?e.abort(e[Tp]?.reason):e.reason=e[Tp]?.reason??new t1t,W9e(e)}o(G9e,"abort");function r1t(e,t){if(e.reason=null,e[Tp]=null,e[SI]=null,!!t){if(t.aborted){G9e(e);return}e[Tp]=t,e[SI]=()=>{G9e(e)},e1t(e[Tp],e[SI])}}o(r1t,"addSignal");function W9e(e){e[Tp]&&("removeEventListener"in e[Tp]?e[Tp].removeEventListener("abort",e[SI]):e[Tp].removeListener("abort",e[SI]),e[Tp]=null,e[SI]=null)}o(W9e,"removeSignal");H9e.exports={addSignal:r1t,removeSignal:W9e}});var z9e=V((BLr,$9e)=>{"use strict";d();var n1t=require("node:assert"),{finished:i1t,PassThrough:o1t}=require("node:stream"),{InvalidArgumentError:BI,InvalidReturnValueError:s1t}=ao(),Mm=ci(),{getResolveErrorBodyCallback:a1t}=vre(),{AsyncResource:l1t}=require("node:async_hooks"),{addSignal:c1t,removeSignal:V9e}=xw(),Tre=class extends l1t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new BI("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new BI("invalid callback");if(typeof r!="function")throw new BI("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new BI("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new BI("invalid method");if(c&&typeof c!="function")throw new BI("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Mm.isStream(l)&&Mm.destroy(l.on("error",Mm.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Mm.isStream(l)&&l.on("error",m=>{this.onError(m)}),c1t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}n1t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Mm.parseRawHeaders(r):Mm.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let A=(u==="raw"?Mm.parseHeaders(r):f)["content-type"];m=new o1t,this.callback=null,this.runInAsyncScope(a1t,null,{callback:c,body:m,contentType:A,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new s1t("expected Writable");i1t(m,{readable:!1},p=>{let{callback:A,res:E,opaque:x,trailers:v,abort:b}=this;this.res=null,(p||!E.readable)&&Mm.destroy(E,p),this.callback=null,this.runInAsyncScope(A,null,p||null,{opaque:x,trailers:v}),p&&b()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;V9e(this),r&&(this.trailers=Mm.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;V9e(this),this.factory=null,r?(this.res=null,Mm.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,Mm.destroy(s,t))}};function j9e(e,t,r){if(r===void 0)return new Promise((n,i)=>{j9e.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new Tre(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(j9e,"stream");$9e.exports=j9e});var X9e=V((DLr,J9e)=>{"use strict";d();var{Readable:K9e,Duplex:u1t,PassThrough:f1t}=require("node:stream"),{InvalidArgumentError:bw,InvalidReturnValueError:d1t,RequestAbortedError:wre}=ao(),fd=ci(),{AsyncResource:m1t}=require("node:async_hooks"),{addSignal:h1t,removeSignal:p1t}=xw(),Y9e=require("node:assert"),kI=Symbol("resume"),_re=class extends K9e{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[kI]=null}_read(){let{[kI]:t}=this;t&&(this[kI]=null,t())}_destroy(t,r){this._read(),r(t)}},Sre=class extends K9e{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[kI]=t}_read(){this[kI]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new wre),r(t)}},Bre=class extends m1t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new bw("invalid opts");if(typeof r!="function")throw new bw("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new bw("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new bw("invalid method");if(a&&typeof a!="function")throw new bw("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new _re().on("error",fd.nop),this.ret=new u1t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[kI]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:A}=this;!c&&!p._readableState.endEmitted&&(c=new wre),A&&c&&A(),fd.destroy(f,c),fd.destroy(m,c),fd.destroy(h,c),p1t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,h1t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}Y9e(!i,"pipeline cannot be retried"),Y9e(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?fd.parseRawHeaders(r):fd.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Sre(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?fd.parseRawHeaders(r):fd.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",fd.nop),c}if(!l||typeof l.on!="function")throw new d1t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;fd.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||fd.destroy(c,new wre)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,fd.destroy(r,t)}};function g1t(e,t){try{let r=new Bre(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new f1t().destroy(r)}}o(g1t,"pipeline");J9e.exports=g1t});var i7e=V((FLr,n7e)=>{"use strict";d();var{InvalidArgumentError:kre,SocketError:A1t}=ao(),{AsyncResource:y1t}=require("node:async_hooks"),Z9e=ci(),{addSignal:C1t,removeSignal:e7e}=xw(),t7e=require("node:assert"),Rre=class extends y1t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new kre("invalid opts");if(typeof r!="function")throw new kre("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new kre("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,C1t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}t7e(this.callback),this.abort=t,this.context=null}onHeaders(){throw new A1t("bad upgrade",null)}onUpgrade(t,r,n){t7e(t===101);let{callback:i,opaque:s,context:a}=this;e7e(this),this.callback=null;let l=this.responseHeaders==="raw"?Z9e.parseRawHeaders(r):Z9e.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;e7e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function r7e(e,t){if(t===void 0)return new Promise((r,n)=>{r7e.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Rre(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(r7e,"upgrade");n7e.exports=r7e});var c7e=V((MLr,l7e)=>{"use strict";d();var E1t=require("node:assert"),{AsyncResource:x1t}=require("node:async_hooks"),{InvalidArgumentError:Dre,SocketError:b1t}=ao(),o7e=ci(),{addSignal:v1t,removeSignal:s7e}=xw(),Pre=class extends x1t{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Dre("invalid opts");if(typeof r!="function")throw new Dre("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Dre("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,v1t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}E1t(this.callback),this.abort=t,this.context=r}onHeaders(){throw new b1t("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;s7e(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?o7e.parseRawHeaders(r):o7e.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;s7e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function a7e(e,t){if(t===void 0)return new Promise((r,n)=>{a7e.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Pre(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(a7e,"connect");l7e.exports=a7e});var u7e=V((qLr,RI)=>{"use strict";d();RI.exports.request=q9e();RI.exports.stream=z9e();RI.exports.pipeline=X9e();RI.exports.upgrade=i7e();RI.exports.connect=c7e()});var Fre=V((WLr,f7e)=>{"use strict";d();var{UndiciError:I1t}=ao(),Nre=class e extends I1t{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};f7e.exports={MockNotMatchedError:Nre}});var DI=V((jLr,d7e)=>{"use strict";d();d7e.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var vw=V((zLr,v7e)=>{"use strict";d();var{MockNotMatchedError:E4}=Fre(),{kDispatches:kM,kMockAgent:T1t,kOriginalDispatch:w1t,kOrigin:_1t,kGetNetConnect:S1t}=DI(),{buildURL:B1t}=ci(),{STATUS_CODES:k1t}=require("node:http"),{types:{isPromise:R1t}}=require("node:util");function B1(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o(B1,"matchValue");function h7e(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(h7e,"lowerCaseEntries");function p7e(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):h7e(e)[t.toLocaleLowerCase()]}o(p7e,"getHeaderByName");function Mre(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(Mre,"buildHeadersFromArray");function g7e(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=Mre(t)),e.headers(t?h7e(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=p7e(t,r);if(!B1(n,i))return!1}return!0}o(g7e,"matchHeaders");function m7e(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(m7e,"safeUrl");function D1t(e,{path:t,method:r,body:n,headers:i}){let s=B1(e.path,t),a=B1(e.method,r),l=typeof e.body<"u"?B1(e.body,n):!0,c=g7e(e,i);return s&&a&&l&&c}o(D1t,"matchKey");function A7e(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(A7e,"getResponseData");function y7e(e,t){let r=t.query?B1t(t.path,t.query):t.path,n=typeof r=="string"?m7e(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>B1(m7e(s),n));if(i.length===0)throw new E4(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>B1(s,t.method)),i.length===0)throw new E4(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?B1(s,t.body):!0),i.length===0)throw new E4(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>g7e(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new E4(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(y7e,"getMockDispatch");function P1t(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(P1t,"addMockDispatch");function Lre(e,t){let r=e.findIndex(n=>n.consumed?D1t(n,t):!1);r!==-1&&e.splice(r,1)}o(Lre,"deleteMockDispatch");function C7e(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(C7e,"buildKey");function Qre(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(Qre,"generateKeyValues");function E7e(e){return k1t[e]||"unknown"}o(E7e,"getStatusText");async function N1t(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(N1t,"getResponse");function x7e(e,t){let r=C7e(e),n=y7e(this[kM],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return Lre(this[kM],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[kM])},u):p(this[kM]);function p(E,x=s){let v=Array.isArray(e.headers)?Mre(e.headers):e.headers,b=typeof x=="function"?x({...e,headers:v}):x;if(R1t(b)){b.then(N=>p(E,N));return}let S=A7e(b),k=Qre(a),P=Qre(l);t.onConnect?.(N=>t.onError(N),null),t.onHeaders?.(i,k,A,E7e(i)),t.onData?.(Buffer.from(S)),t.onComplete?.(P),Lre(E,r)}o(p,"handleReply");function A(){}return o(A,"resume"),!0}o(x7e,"mockDispatch");function F1t(){let e=this[T1t],t=this[_1t],r=this[w1t];return o(function(i,s){if(e.isMockActive)try{x7e.call(this,i,s)}catch(a){if(a instanceof E4){let l=e[S1t]();if(l===!1)throw new E4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(b7e(l,t))r.call(this,i,s);else throw new E4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(F1t,"buildMockDispatch");function b7e(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>B1(n,r.host)))}o(b7e,"checkNetConnect");function L1t(e){if(e){let{agent:t,...r}=e;return r}}o(L1t,"buildMockOptions");v7e.exports={getResponseData:A7e,getMockDispatch:y7e,addMockDispatch:P1t,deleteMockDispatch:Lre,buildKey:C7e,generateKeyValues:Qre,matchValue:B1,getResponse:N1t,getStatusText:E7e,mockDispatch:x7e,buildMockDispatch:F1t,checkNetConnect:b7e,buildMockOptions:L1t,getHeaderByName:p7e,buildHeadersFromArray:Mre}});var Vre=V((JLr,Hre)=>{"use strict";d();var{getResponseData:Q1t,buildKey:M1t,addMockDispatch:Ore}=vw(),{kDispatches:RM,kDispatchKey:DM,kDefaultHeaders:Ure,kDefaultTrailers:qre,kContentLength:Gre,kMockDispatch:PM}=DI(),{InvalidArgumentError:wp}=ao(),{buildURL:O1t}=ci(),PI=class{static{o(this,"MockScope")}constructor(t){this[PM]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new wp("waitInMs must be a valid integer > 0");return this[PM].delay=t,this}persist(){return this[PM].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new wp("repeatTimes must be a valid integer > 0");return this[PM].times=t,this}},Wre=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new wp("opts must be an object");if(typeof t.path>"u")throw new wp("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=O1t(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[DM]=M1t(t),this[RM]=r,this[Ure]={},this[qre]={},this[Gre]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=Q1t(r),s=this[Gre]?{"content-length":i.length}:{},a={...this[Ure],...s,...n.headers},l={...this[qre],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new wp("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new wp("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new wp("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=Ore(this[RM],this[DM],s);return new PI(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=Ore(this[RM],this[DM],n);return new PI(i)}replyWithError(t){if(typeof t>"u")throw new wp("error must be defined");let r=Ore(this[RM],this[DM],{error:t});return new PI(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new wp("headers must be defined");return this[Ure]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new wp("trailers must be defined");return this[qre]=t,this}replyContentLength(){return this[Gre]=!0,this}};Hre.exports.MockInterceptor=Wre;Hre.exports.MockScope=PI});var zre=V((eQr,k7e)=>{"use strict";d();var{promisify:U1t}=require("node:util"),q1t=fw(),{buildMockDispatch:G1t}=vw(),{kDispatches:I7e,kMockAgent:T7e,kClose:w7e,kOriginalClose:_7e,kOrigin:S7e,kOriginalDispatch:W1t,kConnected:jre}=DI(),{MockInterceptor:H1t}=Vre(),B7e=xs(),{InvalidArgumentError:V1t}=ao(),$re=class extends q1t{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new V1t("Argument opts.agent must implement Agent");this[T7e]=r.agent,this[S7e]=t,this[I7e]=[],this[jre]=1,this[W1t]=this.dispatch,this[_7e]=this.close.bind(this),this.dispatch=G1t.call(this),this.close=this[w7e]}get[B7e.kConnected](){return this[jre]}intercept(t){return new H1t(t,this[I7e])}async[w7e](){await U1t(this[_7e])(),this[jre]=0,this[T7e][B7e.kClients].delete(this[S7e])}};k7e.exports=$re});var Jre=V((nQr,Q7e)=>{"use strict";d();var{promisify:j1t}=require("node:util"),$1t=II(),{buildMockDispatch:z1t}=vw(),{kDispatches:R7e,kMockAgent:D7e,kClose:P7e,kOriginalClose:N7e,kOrigin:F7e,kOriginalDispatch:Y1t,kConnected:Yre}=DI(),{MockInterceptor:K1t}=Vre(),L7e=xs(),{InvalidArgumentError:J1t}=ao(),Kre=class extends $1t{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new J1t("Argument opts.agent must implement Agent");this[D7e]=r.agent,this[F7e]=t,this[R7e]=[],this[Yre]=1,this[Y1t]=this.dispatch,this[N7e]=this.close.bind(this),this.dispatch=z1t.call(this),this.close=this[P7e]}get[L7e.kConnected](){return this[Yre]}intercept(t){return new K1t(t,this[R7e])}async[P7e](){await j1t(this[N7e])(),this[Yre]=0,this[D7e][L7e.kClients].delete(this[F7e])}};Q7e.exports=Kre});var O7e=V((aQr,M7e)=>{"use strict";d();var X1t={pronoun:"it",is:"is",was:"was",this:"this"},Z1t={pronoun:"they",is:"are",was:"were",this:"these"};M7e.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?X1t:Z1t,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var q7e=V((fQr,U7e)=>{"use strict";d();var{Transform:eAt}=require("node:stream"),{Console:tAt}=require("node:console"),rAt=process.versions.icu?"\u2705":"Y ",nAt=process.versions.icu?"\u274C":"N ";U7e.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new eAt({transform(r,n,i){i(null,r)}}),this.logger=new tAt({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?rAt:nAt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var V7e=V((hQr,H7e)=>{"use strict";d();var{kClients:x4}=xs(),iAt=TI(),{kAgent:Xre,kMockAgentSet:NM,kMockAgentGet:G7e,kDispatches:Zre,kIsMockActive:FM,kNetConnect:b4,kGetNetConnect:oAt,kOptions:LM,kFactory:QM}=DI(),sAt=zre(),aAt=Jre(),{matchValue:lAt,buildMockOptions:cAt}=vw(),{InvalidArgumentError:W7e,UndiciError:uAt}=ao(),fAt=WT(),dAt=O7e(),mAt=q7e(),ene=class extends fAt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[b4]=!0,this[FM]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new W7e("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new iAt(t);this[Xre]=r,this[x4]=r[x4],this[LM]=cAt(t)}get(t){let r=this[G7e](t);return r||(r=this[QM](t),this[NM](t,r)),r}dispatch(t,r){return this.get(t.origin),this[Xre].dispatch(t,r)}async close(){await this[Xre].close(),this[x4].clear()}deactivate(){this[FM]=!1}activate(){this[FM]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[b4])?this[b4].push(t):this[b4]=[t];else if(typeof t>"u")this[b4]=!0;else throw new W7e("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[b4]=!1}get isMockActive(){return this[FM]}[NM](t,r){this[x4].set(t,r)}[QM](t){let r=Object.assign({agent:this},this[LM]);return this[LM]&&this[LM].connections===1?new sAt(t,r):new aAt(t,r)}[G7e](t){let r=this[x4].get(t);if(r)return r;if(typeof t!="string"){let n=this[QM]("http://localhost:9999");return this[NM](t,n),n}for(let[n,i]of Array.from(this[x4]))if(i&&typeof n!="string"&&lAt(n,t)){let s=this[QM](t);return this[NM](t,s),s[Zre]=i[Zre],s}}[oAt](){return this[b4]}pendingInterceptors(){let t=this[x4];return Array.from(t.entries()).flatMap(([r,n])=>n[Zre].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new mAt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new dAt("interceptor","interceptors").pluralize(r.length);throw new uAt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};H7e.exports=ene});var MM=V((AQr,Y7e)=>{"use strict";d();var j7e=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:hAt}=ao(),pAt=TI();z7e()===void 0&&$7e(new pAt);function $7e(e){if(!e||typeof e.dispatch!="function")throw new hAt("Argument agent must implement Agent");Object.defineProperty(globalThis,j7e,{value:e,writable:!0,enumerable:!1,configurable:!1})}o($7e,"setGlobalDispatcher");function z7e(){return globalThis[j7e]}o(z7e,"getGlobalDispatcher");Y7e.exports={setGlobalDispatcher:$7e,getGlobalDispatcher:z7e}});var OM=V((xQr,K7e)=>{"use strict";d();K7e.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var X7e=V((IQr,J7e)=>{"use strict";d();var gAt=AM();J7e.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new gAt(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var eTe=V((_Qr,Z7e)=>{"use strict";d();var AAt=SM();Z7e.exports=e=>t=>o(function(n,i){return t(n,new AAt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var rTe=V((kQr,tTe)=>{"use strict";d();var yAt=ci(),{InvalidArgumentError:CAt,RequestAbortedError:EAt}=ao(),xAt=OM(),tne=class extends xAt{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new CAt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=yAt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new EAt(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function bAt({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new tne({maxSize:s},i);return t(n,a)},"Intercept")}o(bAt,"createDumpInterceptor");tTe.exports=bAt});var oTe=V((PQr,iTe)=>{"use strict";d();var{isIP:vAt}=require("node:net"),{lookup:IAt}=require("node:dns"),TAt=OM(),{InvalidArgumentError:NI,InformationalError:wAt}=ao(),nTe=Math.pow(2,31)-1,rne=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new wAt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){IAt(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===nTe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===nTe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new nne(this,t,r)}},nne=class extends TAt{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};iTe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new NI("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new NI("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new NI("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new NI("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new NI("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new NI("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new rne(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return vAt(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var v4=V((LQr,dTe)=>{"use strict";d();var{kConstruct:_At}=xs(),{kEnumerableProperty:FI}=ci(),{iteratorMixin:SAt,isValidHeaderName:Iw,isValidHeaderValue:aTe}=Mu(),{webidl:Ui}=Vl(),ine=require("node:assert"),UM=require("node:util"),Ra=Symbol("headers map"),qu=Symbol("headers map sorted");function sTe(e){return e===10||e===13||e===9||e===32}o(sTe,"isHTTPWhiteSpaceCharCode");function lTe(e){let t=0,r=e.length;for(;r>t&&sTe(e.charCodeAt(r-1));)--r;for(;r>t&&sTe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(lTe,"headerValueNormalize");function cTe(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Ui.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});one(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)one(e,r[n],t[r[n]])}else throw Ui.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(cTe,"fill");function one(e,t,r){if(r=lTe(r),Iw(t)){if(!aTe(r))throw Ui.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Ui.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(fTe(e)==="immutable")throw new TypeError("immutable");return sne(e).append(t,r,!1)}o(one,"appendHeader");function uTe(e,t){return e[0]<t[0]?-1:1}o(uTe,"compareHeaderName");var qM=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[Ra]=new Map(t[Ra]),this[qu]=t[qu],this.cookies=t.cookies===null?null:[...t.cookies]):(this[Ra]=new Map(t),this[qu]=null)}contains(t,r){return this[Ra].has(r?t:t.toLowerCase())}clear(){this[Ra].clear(),this[qu]=null,this.cookies=null}append(t,r,n){this[qu]=null;let i=n?t:t.toLowerCase(),s=this[Ra].get(i);if(s){let a=i==="cookie"?"; ":", ";this[Ra].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[Ra].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[qu]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[Ra].set(i,{name:t,value:r})}delete(t,r){this[qu]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[Ra].delete(t)}get(t,r){return this[Ra].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[Ra])yield[t,r]}get entries(){let t={};if(this[Ra].size!==0)for(let{name:r,value:n}of this[Ra].values())t[r]=n;return t}rawValues(){return this[Ra].values()}get entriesList(){let t=[];if(this[Ra].size!==0)for(let{0:r,1:{name:n,value:i}}of this[Ra])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[Ra].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[Ra][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],ine(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],ine(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[Ra])r[n++]=[i,s],ine(s!==null);return r.sort(uTe)}}},Om=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){Ui.util.markAsUncloneable(this),t!==_At&&(this.#t=new qM,this.#e="none",t!==void 0&&(t=Ui.converters.HeadersInit(t,"Headers contructor","init"),cTe(this,t)))}append(t,r){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Ui.converters.ByteString(t,n,"name"),r=Ui.converters.ByteString(r,n,"value"),one(this,t,r)}delete(t){if(Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,1,"Headers.delete"),t=Ui.converters.ByteString(t,"Headers.delete","name"),!Iw(t))throw Ui.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Ui.converters.ByteString(t,r,"name"),!Iw(t))throw Ui.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Ui.converters.ByteString(t,r,"name"),!Iw(t))throw Ui.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Ui.converters.ByteString(t,n,"name"),r=Ui.converters.ByteString(r,n,"value"),r=lTe(r),Iw(t)){if(!aTe(r))throw Ui.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Ui.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Ui.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[qu](){if(this.#t[qu])return this.#t[qu];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[qu]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[qu]=t}[UM.inspect.custom](t,r){return r.depth??=t,`Headers ${UM.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:fTe,setHeadersGuard:BAt,getHeadersList:sne,setHeadersList:kAt}=Om;Reflect.deleteProperty(Om,"getHeadersGuard");Reflect.deleteProperty(Om,"setHeadersGuard");Reflect.deleteProperty(Om,"getHeadersList");Reflect.deleteProperty(Om,"setHeadersList");SAt("Headers",Om,qu,0,1);Object.defineProperties(Om.prototype,{append:FI,delete:FI,get:FI,has:FI,set:FI,getSetCookie:FI,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[UM.inspect.custom]:{enumerable:!1}});Ui.converters.HeadersInit=function(e,t,r){if(Ui.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!UM.types.isProxy(e)&&n===Om.prototype.entries)try{return sne(e).entriesList}catch{}return typeof n=="function"?Ui.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Ui.converters["record<ByteString, ByteString>"](e,t,r)}throw Ui.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};dTe.exports={fill:cTe,compareHeaderName:uTe,Headers:Om,HeadersList:qM,getHeadersGuard:fTe,setHeadersGuard:BAt,setHeadersList:kAt,getHeadersList:sne}});var ww=V((OQr,bTe)=>{"use strict";d();var{Headers:yTe,HeadersList:mTe,fill:RAt,getHeadersGuard:DAt,setHeadersGuard:CTe,setHeadersList:ETe}=v4(),{extractBody:hTe,cloneBody:PAt,mixinBody:NAt,hasFinalizationRegistry:FAt,streamRegistry:LAt,bodyUnusable:QAt}=AI(),ane=ci(),pTe=require("node:util"),{kEnumerableProperty:Gu}=ane,{isValidReasonPhrase:MAt,isCancelled:OAt,isAborted:UAt,isBlobLike:qAt,serializeJavascriptValueToJSONString:GAt,isErrorLike:WAt,isomorphicEncode:HAt,environmentSettingsObject:VAt}=Mu(),{redirectStatusSet:jAt,nullBodyStatus:$At}=jT(),{kState:Hs,kHeaders:k1}=F5(),{webidl:jn}=Vl(),{FormData:zAt}=XT(),{URLSerializer:gTe}=Nc(),{kConstruct:WM}=xs(),lne=require("node:assert"),{types:YAt}=require("node:util"),KAt=new TextEncoder("utf-8"),I4=class e{static{o(this,"Response")}static error(){return Tw(HM(),"immutable")}static json(t,r={}){jn.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=jn.converters.ResponseInit(r));let n=KAt.encode(GAt(t)),i=hTe(n),s=Tw(LI({}),"response");return ATe(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){jn.argumentLengthCheck(arguments,1,"Response.redirect"),t=jn.converters.USVString(t),r=jn.converters["unsigned short"](r);let n;try{n=new URL(t,VAt.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!jAt.has(r))throw new RangeError(`Invalid status code ${r}`);let i=Tw(LI({}),"immutable");i[Hs].status=r;let s=HAt(gTe(n));return i[Hs].headersList.append("location",s,!0),i}constructor(t=null,r={}){if(jn.util.markAsUncloneable(this),t===WM)return;t!==null&&(t=jn.converters.BodyInit(t)),r=jn.converters.ResponseInit(r),this[Hs]=LI({}),this[k1]=new yTe(WM),CTe(this[k1],"response"),ETe(this[k1],this[Hs].headersList);let n=null;if(t!=null){let[i,s]=hTe(t);n={body:i,type:s}}ATe(this,r,n)}get type(){return jn.brandCheck(this,e),this[Hs].type}get url(){jn.brandCheck(this,e);let t=this[Hs].urlList,r=t[t.length-1]??null;return r===null?"":gTe(r,!0)}get redirected(){return jn.brandCheck(this,e),this[Hs].urlList.length>1}get status(){return jn.brandCheck(this,e),this[Hs].status}get ok(){return jn.brandCheck(this,e),this[Hs].status>=200&&this[Hs].status<=299}get statusText(){return jn.brandCheck(this,e),this[Hs].statusText}get headers(){return jn.brandCheck(this,e),this[k1]}get body(){return jn.brandCheck(this,e),this[Hs].body?this[Hs].body.stream:null}get bodyUsed(){return jn.brandCheck(this,e),!!this[Hs].body&&ane.isDisturbed(this[Hs].body.stream)}clone(){if(jn.brandCheck(this,e),QAt(this))throw jn.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=cne(this[Hs]);return Tw(t,DAt(this[k1]))}[pTe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${pTe.formatWithOptions(r,n)}`}};NAt(I4);Object.defineProperties(I4.prototype,{type:Gu,url:Gu,status:Gu,ok:Gu,redirected:Gu,statusText:Gu,headers:Gu,clone:Gu,body:Gu,bodyUsed:Gu,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(I4,{json:Gu,redirect:Gu,error:Gu});function cne(e){if(e.internalResponse)return xTe(cne(e.internalResponse),e.type);let t=LI({...e,body:null});return e.body!=null&&(t.body=PAt(t,e.body)),t}o(cne,"cloneResponse");function LI(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new mTe(e?.headersList):new mTe,urlList:e?.urlList?[...e.urlList]:[]}}o(LI,"makeResponse");function HM(e){let t=WAt(e);return LI({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(HM,"makeNetworkError");function JAt(e){return e.type==="error"&&e.status===0}o(JAt,"isNetworkError");function GM(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return lne(!(n in t)),r[n]=i,!0}})}o(GM,"makeFilteredResponse");function xTe(e,t){if(t==="basic")return GM(e,{type:"basic",headersList:e.headersList});if(t==="cors")return GM(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return GM(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return GM(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});lne(!1)}o(xTe,"filterResponse");function XAt(e,t=null){return lne(OAt(e)),UAt(e)?HM(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):HM(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(XAt,"makeAppropriateNetworkError");function ATe(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!MAt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[Hs].status=t.status),"statusText"in t&&t.statusText!=null&&(e[Hs].statusText=t.statusText),"headers"in t&&t.headers!=null&&RAt(e[k1],t.headers),r){if($At.includes(e.status))throw jn.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[Hs].body=r.body,r.type!=null&&!e[Hs].headersList.contains("content-type",!0)&&e[Hs].headersList.append("content-type",r.type,!0)}}o(ATe,"initializeResponse");function Tw(e,t){let r=new I4(WM);return r[Hs]=e,r[k1]=new yTe(WM),ETe(r[k1],e.headersList),CTe(r[k1],t),FAt&&e.body?.stream&&LAt.register(r,new WeakRef(e.body.stream)),r}o(Tw,"fromInnerResponse");jn.converters.ReadableStream=jn.interfaceConverter(ReadableStream);jn.converters.FormData=jn.interfaceConverter(zAt);jn.converters.URLSearchParams=jn.interfaceConverter(URLSearchParams);jn.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?jn.converters.USVString(e,t,r):qAt(e)?jn.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||YAt.isArrayBuffer(e)?jn.converters.BufferSource(e,t,r):ane.isFormDataLike(e)?jn.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?jn.converters.URLSearchParams(e,t,r):jn.converters.DOMString(e,t,r)};jn.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?jn.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:jn.converters.XMLHttpRequestBodyInit(e,t,r)};jn.converters.ResponseInit=jn.dictionaryConverter([{key:"status",converter:jn.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:jn.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:jn.converters.HeadersInit}]);bTe.exports={isNetworkError:JAt,makeNetworkError:HM,makeResponse:LI,makeAppropriateNetworkError:XAt,filterResponse:xTe,Response:I4,cloneResponse:cne,fromInnerResponse:Tw}});var wTe=V((GQr,TTe)=>{"use strict";d();var{kConnected:vTe,kSize:ITe}=xs(),une=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[vTe]===0&&this.value[ITe]===0?void 0:this.value}},fne=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[vTe]===0&&t[ITe]===0&&this.finalizer(r)})}unregister(t){}};TTe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:une,FinalizationRegistry:fne}):{WeakRef,FinalizationRegistry}}});var QI=V((VQr,qTe)=>{"use strict";d();var{extractBody:ZAt,mixinBody:e2t,cloneBody:t2t,bodyUnusable:_Te}=AI(),{Headers:LTe,fill:r2t,HeadersList:zM,setHeadersGuard:mne,getHeadersGuard:n2t,setHeadersList:QTe,getHeadersList:STe}=v4(),{FinalizationRegistry:i2t}=wTe()(),jM=ci(),BTe=require("node:util"),{isValidHTTPToken:o2t,sameOrigin:kTe,environmentSettingsObject:VM}=Mu(),{forbiddenMethodsSet:s2t,corsSafeListedMethodsSet:a2t,referrerPolicy:l2t,requestRedirect:c2t,requestMode:u2t,requestCredentials:f2t,requestCache:d2t,requestDuplex:m2t}=jT(),{kEnumerableProperty:Da,normalizedMethodRecordsBase:h2t,normalizedMethodRecords:p2t}=jM,{kHeaders:Wu,kSignal:$M,kState:rs,kDispatcher:dne}=F5(),{webidl:dn}=Vl(),{URLSerializer:g2t}=Nc(),{kConstruct:YM}=xs(),A2t=require("node:assert"),{getMaxListeners:RTe,setMaxListeners:DTe,getEventListeners:y2t,defaultMaxListeners:PTe}=require("node:events"),C2t=Symbol("abortController"),MTe=new i2t(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),KM=new WeakMap;function NTe(e){return t;function t(){let r=e.deref();if(r!==void 0){MTe.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=KM.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}KM.delete(r.signal)}}}}o(NTe,"buildAbort");var FTe=!1,j5=class e{static{o(this,"Request")}constructor(t,r={}){if(dn.util.markAsUncloneable(this),t===YM)return;let n="Request constructor";dn.argumentLengthCheck(arguments,1,n),t=dn.converters.RequestInfo(t,n,"input"),r=dn.converters.RequestInit(r,n,"init");let i=null,s=null,a=VM.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[dne]=r.dispatcher;let v;try{v=new URL(t,a)}catch(b){throw new TypeError("Failed to parse URL from "+t,{cause:b})}if(v.username||v.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=JM({urlList:[v]}),s="cors"}else this[dne]=r.dispatcher||t[dne],A2t(t instanceof e),i=t[rs],l=t[$M];let c=VM.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&kTe(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=JM({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:VM.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let v=r.referrer;if(v==="")i.referrer="no-referrer";else{let b;try{b=new URL(v,a)}catch(S){throw new TypeError(`Referrer "${v}" is not a valid URL.`,{cause:S})}b.protocol==="about:"&&b.hostname==="client"||c&&!kTe(b,VM.settingsObject.baseUrl)?i.referrer="client":i.referrer=b}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw dn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let v=r.method,b=p2t[v];if(b!==void 0)i.method=b;else{if(!o2t(v))throw new TypeError(`'${v}' is not a valid HTTP method.`);let S=v.toUpperCase();if(s2t.has(S))throw new TypeError(`'${v}' HTTP method is unsupported.`);v=h2t[S]??v,i.method=v}!FTe&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),FTe=!0)}r.signal!==void 0&&(l=r.signal),this[rs]=i;let h=new AbortController;if(this[$M]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[C2t]=h;let v=new WeakRef(h),b=NTe(v);try{(typeof RTe=="function"&&RTe(l)===PTe||y2t(l,"abort").length>=PTe)&&DTe(1500,l)}catch{}jM.addAbortListener(l,b),MTe.register(h,{signal:l,abort:b},b)}}if(this[Wu]=new LTe(YM),QTe(this[Wu],i.headersList),mne(this[Wu],"request"),m==="no-cors"){if(!a2t.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);mne(this[Wu],"request-no-cors")}if(f){let v=STe(this[Wu]),b=r.headers!==void 0?r.headers:new zM(v);if(v.clear(),b instanceof zM){for(let{name:S,value:k}of b.rawValues())v.append(S,k,!1);v.cookies=b.cookies}else r2t(this[Wu],b)}let p=t instanceof e?t[rs].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let A=null;if(r.body!=null){let[v,b]=ZAt(r.body,i.keepalive);A=v,b&&!STe(this[Wu]).contains("content-type",!0)&&this[Wu].append("content-type",b)}let E=A??p;if(E!=null&&E.source==null){if(A!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let x=E;if(A==null&&p!=null){if(_Te(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let v=new TransformStream;p.stream.pipeThrough(v),x={source:p.source,length:p.length,stream:v.readable}}this[rs].body=x}get method(){return dn.brandCheck(this,e),this[rs].method}get url(){return dn.brandCheck(this,e),g2t(this[rs].url)}get headers(){return dn.brandCheck(this,e),this[Wu]}get destination(){return dn.brandCheck(this,e),this[rs].destination}get referrer(){return dn.brandCheck(this,e),this[rs].referrer==="no-referrer"?"":this[rs].referrer==="client"?"about:client":this[rs].referrer.toString()}get referrerPolicy(){return dn.brandCheck(this,e),this[rs].referrerPolicy}get mode(){return dn.brandCheck(this,e),this[rs].mode}get credentials(){return this[rs].credentials}get cache(){return dn.brandCheck(this,e),this[rs].cache}get redirect(){return dn.brandCheck(this,e),this[rs].redirect}get integrity(){return dn.brandCheck(this,e),this[rs].integrity}get keepalive(){return dn.brandCheck(this,e),this[rs].keepalive}get isReloadNavigation(){return dn.brandCheck(this,e),this[rs].reloadNavigation}get isHistoryNavigation(){return dn.brandCheck(this,e),this[rs].historyNavigation}get signal(){return dn.brandCheck(this,e),this[$M]}get body(){return dn.brandCheck(this,e),this[rs].body?this[rs].body.stream:null}get bodyUsed(){return dn.brandCheck(this,e),!!this[rs].body&&jM.isDisturbed(this[rs].body.stream)}get duplex(){return dn.brandCheck(this,e),"half"}clone(){if(dn.brandCheck(this,e),_Te(this))throw new TypeError("unusable");let t=OTe(this[rs]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=KM.get(this.signal);n===void 0&&(n=new Set,KM.set(this.signal,n));let i=new WeakRef(r);n.add(i),jM.addAbortListener(r.signal,NTe(i))}return UTe(t,r.signal,n2t(this[Wu]))}[BTe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${BTe.formatWithOptions(r,n)}`}};e2t(j5);function JM(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new zM(e.headersList):new zM}}o(JM,"makeRequest");function OTe(e){let t=JM({...e,body:null});return e.body!=null&&(t.body=t2t(t,e.body)),t}o(OTe,"cloneRequest");function UTe(e,t,r){let n=new j5(YM);return n[rs]=e,n[$M]=t,n[Wu]=new LTe(YM),QTe(n[Wu],e.headersList),mne(n[Wu],r),n}o(UTe,"fromInnerRequest");Object.defineProperties(j5.prototype,{method:Da,url:Da,headers:Da,redirect:Da,clone:Da,signal:Da,duplex:Da,destination:Da,body:Da,bodyUsed:Da,isHistoryNavigation:Da,isReloadNavigation:Da,keepalive:Da,integrity:Da,cache:Da,credentials:Da,attribute:Da,referrerPolicy:Da,referrer:Da,mode:Da,[Symbol.toStringTag]:{value:"Request",configurable:!0}});dn.converters.Request=dn.interfaceConverter(j5);dn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?dn.converters.USVString(e,t,r):e instanceof j5?dn.converters.Request(e,t,r):dn.converters.USVString(e,t,r)};dn.converters.AbortSignal=dn.interfaceConverter(AbortSignal);dn.converters.RequestInit=dn.dictionaryConverter([{key:"method",converter:dn.converters.ByteString},{key:"headers",converter:dn.converters.HeadersInit},{key:"body",converter:dn.nullableConverter(dn.converters.BodyInit)},{key:"referrer",converter:dn.converters.USVString},{key:"referrerPolicy",converter:dn.converters.DOMString,allowedValues:l2t},{key:"mode",converter:dn.converters.DOMString,allowedValues:u2t},{key:"credentials",converter:dn.converters.DOMString,allowedValues:f2t},{key:"cache",converter:dn.converters.DOMString,allowedValues:d2t},{key:"redirect",converter:dn.converters.DOMString,allowedValues:c2t},{key:"integrity",converter:dn.converters.DOMString},{key:"keepalive",converter:dn.converters.boolean},{key:"signal",converter:dn.nullableConverter(e=>dn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:dn.converters.any},{key:"duplex",converter:dn.converters.DOMString,allowedValues:m2t},{key:"dispatcher",converter:dn.converters.any}]);qTe.exports={Request:j5,makeRequest:JM,fromInnerRequest:UTe,cloneRequest:OTe}});var Sw=V((zQr,rwe)=>{"use strict";d();var{makeNetworkError:Co,makeAppropriateNetworkError:XM,filterResponse:hne,makeResponse:ZM,fromInnerResponse:E2t}=ww(),{HeadersList:GTe}=v4(),{Request:x2t,cloneRequest:b2t}=QI(),$5=require("node:zlib"),{bytesMatch:v2t,makePolicyContainer:I2t,clonePolicyContainer:T2t,requestBadPort:w2t,TAOCheck:_2t,appendRequestOriginHeader:S2t,responseLocationURL:B2t,requestCurrentURL:_p,setRequestReferrerPolicyOnRedirect:k2t,tryUpgradeRequestToAPotentiallyTrustworthyURL:R2t,createOpaqueTimingInfo:Cne,appendFetchMetadata:D2t,corsCheck:P2t,crossOriginResourcePolicyCheck:N2t,determineRequestsReferrer:F2t,coarsenedSharedCurrentTime:_w,createDeferredPromise:L2t,isBlobLike:Q2t,sameOrigin:yne,isCancelled:T4,isAborted:WTe,isErrorLike:M2t,fullyReadBody:O2t,readableStreamClose:U2t,isomorphicEncode:eO,urlIsLocal:q2t,urlIsHttpHttpsScheme:Ene,urlHasHttpsScheme:G2t,clampAndCoarsenConnectionTimingInfo:W2t,simpleRangeHeaderValue:H2t,buildContentRange:V2t,createInflate:j2t,extractMimeType:$2t}=Mu(),{kState:$Te,kDispatcher:z2t}=F5(),w4=require("node:assert"),{safelyExtractBody:xne,extractBody:HTe}=AI(),{redirectStatusSet:zTe,nullBodyStatus:YTe,safeMethodsSet:Y2t,requestBodyHeader:K2t,subresourceSet:J2t}=jT(),X2t=require("node:events"),{Readable:Z2t,pipeline:e5t,finished:t5t}=require("node:stream"),{addAbortListener:r5t,isErrored:n5t,isReadable:tO,bufferToLowerCasedHeaderName:VTe}=ci(),{dataURLProcessor:i5t,serializeAMimeType:o5t,minimizeSupportedMimeType:s5t}=Nc(),{getGlobalDispatcher:a5t}=MM(),{webidl:l5t}=Vl(),{STATUS_CODES:c5t}=require("node:http"),u5t=["GET","HEAD"],f5t=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",pne,rO=class extends X2t{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function d5t(e){KTe(e,"fetch")}o(d5t,"handleFetchDone");function m5t(e,t=void 0){l5t.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=L2t(),n;try{n=new x2t(e,t)}catch(f){return r.reject(f),r.promise}let i=n[$Te];if(n.signal.aborted)return gne(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return r5t(n.signal,()=>{l=!0,w4(c!=null),c.abort(n.signal.reason);let f=a?.deref();gne(r,i,f,n.signal.reason)}),c=XTe({request:i,processResponseEndOfBody:d5t,processResponse:o(f=>{if(!l){if(f.aborted){gne(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(E2t(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[z2t]}),r.promise}o(m5t,"fetch");function KTe(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;Ene(r)&&n!==null&&(e.timingAllowPassed||(n=Cne({startTime:n.startTime}),i=""),n.endTime=_w(),e.timingInfo=n,JTe(n,r.href,t,globalThis,i))}o(KTe,"finalizeAndReportTiming");var JTe=performance.markResourceTiming;function gne(e,t,r,n){if(e&&e.reject(n),t.body!=null&&tO(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[$Te];i.body!=null&&tO(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(gne,"abortFetch");function XTe({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=a5t()}){w4(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=_w(u),m=Cne({startTime:f}),h={controller:new rO(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return w4(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=T2t(e.client.policyContainer):e.policyContainer=I2t()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,J2t.has(e.destination),ZTe(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(XTe,"fetching");async function ZTe(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!q2t(_p(r))&&(n=Co("local URLs only")),R2t(r),w2t(r)==="blocked"&&(n=Co("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=F2t(r)),n===null&&(n=await(async()=>{let s=_p(r);return yne(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await jTe(e)):r.mode==="same-origin"?Co('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Co('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await jTe(e)):Ene(_p(r))?(r.responseTainting="cors",await ewe(e)):Co("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=hne(n,"basic"):r.responseTainting==="cors"?n=hne(n,"cors"):r.responseTainting==="opaque"?n=hne(n,"opaque"):w4(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=Co()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||YTe.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>Ane(e,Co(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!v2t(l,r.integrity)){s("integrity mismatch");return}n.body=xne(l)[0],Ane(e,n)},"processBody");await O2t(n.body,a,s)}else Ane(e,n)}o(ZTe,"mainFetch");function jTe(e){if(T4(e)&&e.request.redirectCount===0)return Promise.resolve(XM(e));let{request:t}=e,{protocol:r}=_p(t);switch(r){case"about:":return Promise.resolve(Co("about scheme is not supported"));case"blob:":{pne||(pne=require("node:buffer").resolveObjectURL);let n=_p(t);if(n.search.length!==0)return Promise.resolve(Co("NetworkError when attempting to fetch resource."));let i=pne(n.toString());if(t.method!=="GET"||!Q2t(i))return Promise.resolve(Co("invalid method"));let s=ZM(),a=i.size,l=eO(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=H2t(u,!0);if(f==="failure")return Promise.resolve(Co("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(Co("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),A=HTe(p);s.body=A[0];let E=eO(`${p.size}`),x=V2t(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",E,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",x,!0)}else{let u=HTe(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=_p(t),i=i5t(n);if(i==="failure")return Promise.resolve(Co("failed to fetch the data URL"));let s=o5t(i.mimeType);return Promise.resolve(ZM({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:xne(i.body)[0]}))}case"file:":return Promise.resolve(Co("not implemented... yet..."));case"http:":case"https:":return ewe(e).catch(n=>Co(n));default:return Promise.resolve(Co("unknown scheme"))}}o(jTe,"schemeFetch");function h5t(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(h5t,"finalizeResponse");function Ane(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=Cne(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=$2t(t.headersList);f!=="failure"&&(c.contentType=s5t(f))}e.request.initiatorType!=null&&JTe(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():t5t(i.body.stream,()=>{n()})}o(Ane,"fetchFinale");async function ewe(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await twe(e),t.responseTainting==="cors"&&P2t(t,r)==="failure")return Co("cors failure");_2t(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&N2t(t.origin,t.client,t.destination,n)==="blocked"?Co("blocked"):(zTe.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=Co("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await p5t(e,r):w4(!1)),r.timingInfo=i,r)}o(ewe,"httpFetch");function p5t(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=B2t(n,_p(r).hash),i==null)return t}catch(a){return Promise.resolve(Co(a))}if(!Ene(i))return Promise.resolve(Co("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Co("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!yne(r,i))return Promise.resolve(Co('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Co('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Co());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!u5t.includes(r.method)){r.method="GET",r.body=null;for(let a of K2t)r.headersList.delete(a)}yne(_p(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(w4(r.body.source!=null),r.body=xne(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=_w(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),k2t(r,n),ZTe(e,!0)}o(p5t,"httpRedirectFetch");async function twe(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=b2t(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=eO(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",eO(s.referrer.href),!0),S2t(s),D2t(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",f5t),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(G2t(_p(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return Co("only if cached");let h=await g5t(i,u,r);!Y2t.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?Co():T4(e)?XM(e):Co("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(T4(e))return XM(e);e.controller.connection.destroy(),a=await twe(e,t,!0)}return a}o(twe,"httpNetworkOrCacheFetch");async function g5t(e,t=!1,r=!1){w4(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(A,E=!0){this.destroyed||(this.destroyed=!0,E&&this.abort?.(A??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let A=o(async function*(v){T4(e)||(yield v,e.processRequestBodyChunkLength?.(v.byteLength))},"processBodyChunk"),E=o(()=>{T4(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),x=o(v=>{T4(e)||(v.name==="AbortError"?e.controller.abort():e.controller.terminate(v))},"processBodyError");c=async function*(){try{for await(let v of n.body.stream)yield*A(v);E()}catch(v){x(v)}}()}try{let{body:A,status:E,statusText:x,headersList:v,socket:b}=await p({body:c});if(b)i=ZM({status:E,statusText:x,headersList:v,socket:b});else{let S=A[Symbol.asyncIterator]();e.controller.next=()=>S.next(),i=ZM({status:E,statusText:x,headersList:v})}}catch(A){return A.name==="AbortError"?(e.controller.connection.destroy(),XM(e,A)):Co(A)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(A=>{T4(e)||e.controller.abort(A)},"cancelAlgorithm"),m=new ReadableStream({async start(A){e.controller.controller=A},async pull(A){await u(A)},async cancel(A){await f(A)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let A,E;try{let{done:v,value:b}=await e.controller.next();if(WTe(e))break;A=v?void 0:b}catch(v){e.controller.ended&&!s.encodedBodySize?A=void 0:(A=v,E=!0)}if(A===void 0){U2t(e.controller.controller),h5t(e,i);return}if(s.decodedBodySize+=A?.byteLength??0,E){e.controller.terminate(A);return}let x=new Uint8Array(A);if(x.byteLength&&e.controller.controller.enqueue(x),n5t(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(A){WTe(e)?(i.aborted=!0,tO(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):tO(m)&&e.controller.controller.error(new TypeError("terminated",{cause:M2t(A)?A:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:A}){let E=_p(n),x=e.controller.dispatcher;return new Promise((v,b)=>x.dispatch({path:E.pathname+E.search,origin:E.origin,method:n.method,body:x.isMockActive?n.body&&(n.body.source||n.body.stream):A,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:k}=e.controller;s.finalConnectionTimingInfo=W2t(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),k.destroyed?S(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",S),this.abort=k.abort=S),s.finalNetworkRequestStartTime=_w(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=_w(e.crossOriginIsolatedCapability)},onHeaders(S,k,P,N){if(S<200)return;let W=[],te="",ge=new GTe;for(let ne=0;ne<k.length;ne+=2)ge.append(VTe(k[ne]),k[ne+1].toString("latin1"),!0);let re=ge.get("content-encoding",!0);re&&(W=re.toLowerCase().split(",").map(ne=>ne.trim())),te=ge.get("location",!0),this.body=new Z2t({read:P});let G=[],q=te&&n.redirect==="follow"&&zTe.has(S);if(W.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!YTe.includes(S)&&!q)for(let ne=W.length-1;ne>=0;--ne){let H=W[ne];if(H==="x-gzip"||H==="gzip")G.push($5.createGunzip({flush:$5.constants.Z_SYNC_FLUSH,finishFlush:$5.constants.Z_SYNC_FLUSH}));else if(H==="deflate")G.push(j2t({flush:$5.constants.Z_SYNC_FLUSH,finishFlush:$5.constants.Z_SYNC_FLUSH}));else if(H==="br")G.push($5.createBrotliDecompress({flush:$5.constants.BROTLI_OPERATION_FLUSH,finishFlush:$5.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let se=this.onError.bind(this);return v({status:S,statusText:N,headersList:ge,body:G.length?e5t(this.body,...G,ne=>{ne&&this.onError(ne)}).on("error",se):this.body.on("error",se)}),!0},onData(S){if(e.controller.dump)return;let k=S;return s.encodedBodySize+=k.byteLength,this.body.push(k)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(S),e.controller.terminate(S),b(S)},onUpgrade(S,k,P){if(S!==101)return;let N=new GTe;for(let W=0;W<k.length;W+=2)N.append(VTe(k[W]),k[W+1].toString("latin1"),!0);return v({status:S,statusText:c5t[S],headersList:N,socket:P}),!0}}))}o(p,"dispatch")}o(g5t,"httpNetworkFetch");rwe.exports={fetch:m5t,Fetch:rO,fetching:XTe,finalizeAndReportTiming:KTe}});var bne=V((JQr,nwe)=>{"use strict";d();nwe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var owe=V((ZQr,iwe)=>{"use strict";d();var{webidl:Hu}=Vl(),nO=Symbol("ProgressEvent state"),vne=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=Hu.converters.DOMString(t,"ProgressEvent constructor","type"),r=Hu.converters.ProgressEventInit(r??{}),super(t,r),this[nO]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return Hu.brandCheck(this,e),this[nO].lengthComputable}get loaded(){return Hu.brandCheck(this,e),this[nO].loaded}get total(){return Hu.brandCheck(this,e),this[nO].total}};Hu.converters.ProgressEventInit=Hu.dictionaryConverter([{key:"lengthComputable",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:Hu.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:Hu.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);iwe.exports={ProgressEvent:vne}});var awe=V((rMr,swe)=>{"use strict";d();function A5t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(A5t,"getEncoding");swe.exports={getEncoding:A5t}});var pwe=V((oMr,hwe)=>{"use strict";d();var{kState:MI,kError:Ine,kResult:lwe,kAborted:Bw,kLastProgressEventFired:Tne}=bne(),{ProgressEvent:y5t}=owe(),{getEncoding:cwe}=awe(),{serializeAMimeType:C5t,parseMIMEType:uwe}=Nc(),{types:E5t}=require("node:util"),{StringDecoder:fwe}=require("string_decoder"),{btoa:dwe}=require("node:buffer"),x5t={enumerable:!0,writable:!1,configurable:!1};function b5t(e,t,r,n){if(e[MI]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[MI]="loading",e[lwe]=null,e[Ine]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[Bw];)try{let{done:u,value:f}=await l;if(c&&!e[Bw]&&queueMicrotask(()=>{z5("loadstart",e)}),c=!1,!u&&E5t.isUint8Array(f))a.push(f),(e[Tne]===void 0||Date.now()-e[Tne]>=50)&&!e[Bw]&&(e[Tne]=Date.now(),queueMicrotask(()=>{z5("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[MI]="done";try{let m=v5t(a,r,t.type,n);if(e[Bw])return;e[lwe]=m,z5("load",e)}catch(m){e[Ine]=m,z5("error",e)}e[MI]!=="loading"&&z5("loadend",e)});break}}catch(u){if(e[Bw])return;queueMicrotask(()=>{e[MI]="done",e[Ine]=u,z5("error",e),e[MI]!=="loading"&&z5("loadend",e)});break}})()}o(b5t,"readOperation");function z5(e,t){let r=new y5t(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(z5,"fireAProgressEvent");function v5t(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=uwe(r||"application/octet-stream");s!=="failure"&&(i+=C5t(s)),i+=";base64,";let a=new fwe("latin1");for(let l of e)i+=dwe(a.write(l));return i+=dwe(a.end()),i}case"Text":{let i="failure";if(n&&(i=cwe(n)),i==="failure"&&r){let s=uwe(r);s!=="failure"&&(i=cwe(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),I5t(e,i)}case"ArrayBuffer":return mwe(e).buffer;case"BinaryString":{let i="",s=new fwe("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o(v5t,"packageData");function I5t(e,t){let r=mwe(e),n=T5t(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o(I5t,"decode");function T5t(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(T5t,"BOMSniffing");function mwe(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(mwe,"combineByteSequences");hwe.exports={staticPropertyDescriptors:x5t,readOperation:b5t,fireAProgressEvent:z5}});var Cwe=V((lMr,ywe)=>{"use strict";d();var{staticPropertyDescriptors:OI,readOperation:iO,fireAProgressEvent:gwe}=pwe(),{kState:_4,kError:Awe,kResult:oO,kEvents:lo,kAborted:w5t}=bne(),{webidl:vo}=Vl(),{kEnumerableProperty:Qc}=ci(),Um=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[_4]="empty",this[oO]=null,this[Awe]=null,this[lo]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){vo.brandCheck(this,e),vo.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=vo.converters.Blob(t,{strict:!1}),iO(this,t,"ArrayBuffer")}readAsBinaryString(t){vo.brandCheck(this,e),vo.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=vo.converters.Blob(t,{strict:!1}),iO(this,t,"BinaryString")}readAsText(t,r=void 0){vo.brandCheck(this,e),vo.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=vo.converters.Blob(t,{strict:!1}),r!==void 0&&(r=vo.converters.DOMString(r,"FileReader.readAsText","encoding")),iO(this,t,"Text",r)}readAsDataURL(t){vo.brandCheck(this,e),vo.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=vo.converters.Blob(t,{strict:!1}),iO(this,t,"DataURL")}abort(){if(this[_4]==="empty"||this[_4]==="done"){this[oO]=null;return}this[_4]==="loading"&&(this[_4]="done",this[oO]=null),this[w5t]=!0,gwe("abort",this),this[_4]!=="loading"&&gwe("loadend",this)}get readyState(){switch(vo.brandCheck(this,e),this[_4]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return vo.brandCheck(this,e),this[oO]}get error(){return vo.brandCheck(this,e),this[Awe]}get onloadend(){return vo.brandCheck(this,e),this[lo].loadend}set onloadend(t){vo.brandCheck(this,e),this[lo].loadend&&this.removeEventListener("loadend",this[lo].loadend),typeof t=="function"?(this[lo].loadend=t,this.addEventListener("loadend",t)):this[lo].loadend=null}get onerror(){return vo.brandCheck(this,e),this[lo].error}set onerror(t){vo.brandCheck(this,e),this[lo].error&&this.removeEventListener("error",this[lo].error),typeof t=="function"?(this[lo].error=t,this.addEventListener("error",t)):this[lo].error=null}get onloadstart(){return vo.brandCheck(this,e),this[lo].loadstart}set onloadstart(t){vo.brandCheck(this,e),this[lo].loadstart&&this.removeEventListener("loadstart",this[lo].loadstart),typeof t=="function"?(this[lo].loadstart=t,this.addEventListener("loadstart",t)):this[lo].loadstart=null}get onprogress(){return vo.brandCheck(this,e),this[lo].progress}set onprogress(t){vo.brandCheck(this,e),this[lo].progress&&this.removeEventListener("progress",this[lo].progress),typeof t=="function"?(this[lo].progress=t,this.addEventListener("progress",t)):this[lo].progress=null}get onload(){return vo.brandCheck(this,e),this[lo].load}set onload(t){vo.brandCheck(this,e),this[lo].load&&this.removeEventListener("load",this[lo].load),typeof t=="function"?(this[lo].load=t,this.addEventListener("load",t)):this[lo].load=null}get onabort(){return vo.brandCheck(this,e),this[lo].abort}set onabort(t){vo.brandCheck(this,e),this[lo].abort&&this.removeEventListener("abort",this[lo].abort),typeof t=="function"?(this[lo].abort=t,this.addEventListener("abort",t)):this[lo].abort=null}};Um.EMPTY=Um.prototype.EMPTY=0;Um.LOADING=Um.prototype.LOADING=1;Um.DONE=Um.prototype.DONE=2;Object.defineProperties(Um.prototype,{EMPTY:OI,LOADING:OI,DONE:OI,readAsArrayBuffer:Qc,readAsBinaryString:Qc,readAsText:Qc,readAsDataURL:Qc,abort:Qc,readyState:Qc,result:Qc,error:Qc,onloadstart:Qc,onprogress:Qc,onload:Qc,onabort:Qc,onerror:Qc,onloadend:Qc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Um,{EMPTY:OI,LOADING:OI,DONE:OI});ywe.exports={FileReader:Um}});var sO=V((fMr,Ewe)=>{"use strict";d();Ewe.exports={kConstruct:xs().kConstruct}});var vwe=V((mMr,bwe)=>{"use strict";d();var _5t=require("node:assert"),{URLSerializer:xwe}=Nc(),{isValidHeaderName:S5t}=Mu();function B5t(e,t,r=!1){let n=xwe(e,r),i=xwe(t,r);return n===i}o(B5t,"urlEquals");function k5t(e){_5t(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),S5t(r)&&t.push(r);return t}o(k5t,"getFieldValues");bwe.exports={urlEquals:B5t,getFieldValues:k5t}});var wwe=V((gMr,Twe)=>{"use strict";d();var{kConstruct:R5t}=sO(),{urlEquals:D5t,getFieldValues:wne}=vwe(),{kEnumerableProperty:S4,isDisturbed:P5t}=ci(),{webidl:Jr}=Vl(),{Response:N5t,cloneResponse:F5t,fromInnerResponse:L5t}=ww(),{Request:R1,fromInnerRequest:Q5t}=QI(),{kState:qm}=F5(),{fetching:M5t}=Sw(),{urlIsHttpHttpsScheme:aO,createDeferredPromise:UI,readAllBytes:O5t}=Mu(),_ne=require("node:assert"),lO=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==R5t&&Jr.illegalConstructor(),Jr.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){Jr.brandCheck(this,e);let n="Cache.match";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){Jr.brandCheck(this,e);let r="Cache.add";Jr.argumentLengthCheck(arguments,1,r),t=Jr.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){Jr.brandCheck(this,e);let r="Cache.addAll";Jr.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw Jr.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=Jr.converters.RequestInfo(h),typeof h=="string")continue;let p=h[qm];if(!aO(p.url)||p.method!=="GET")throw Jr.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new R1(h)[qm];if(!aO(p.url))throw Jr.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let A=UI();s.push(M5t({request:p,processResponse(E){if(E.type==="error"||E.status===206||E.status<200||E.status>299)A.reject(Jr.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(E.headersList.contains("vary")){let x=wne(E.headersList.get("vary"));for(let v of x)if(v==="*"){A.reject(Jr.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let b of s)b.abort();return}}},processResponseEndOfBody(E){if(E.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(E)}})),n.push(A.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=UI(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){Jr.brandCheck(this,e);let n="Cache.put";Jr.argumentLengthCheck(arguments,2,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.Response(r,n,"response");let i=null;if(t instanceof R1?i=t[qm]:i=new R1(t)[qm],!aO(i.url)||i.method!=="GET")throw Jr.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[qm];if(s.status===206)throw Jr.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=wne(s.headersList.get("vary"));for(let A of p)if(A==="*")throw Jr.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(P5t(s.body.stream)||s.body.stream.locked))throw Jr.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=F5t(s),l=UI();if(s.body!=null){let A=s.body.stream.getReader();O5t(A).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=UI(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){Jr.brandCheck(this,e);let n="Cache.delete";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof R1){if(i=t[qm],i.method!=="GET"&&!r.ignoreMethod)return!1}else _ne(typeof t=="string"),i=new R1(t)[qm];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=UI(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof R1){if(i=t[qm],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new R1(t)[qm]);let s=UI(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=Q5t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);_ne(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!aO(c.url))throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);_ne(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!D5t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=wne(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof R1){if(i=t[qm],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new R1(t)[qm]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=L5t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(lO.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:S4,matchAll:S4,add:S4,addAll:S4,put:S4,delete:S4,keys:S4});var Iwe=[{key:"ignoreSearch",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Jr.converters.CacheQueryOptions=Jr.dictionaryConverter(Iwe);Jr.converters.MultiCacheQueryOptions=Jr.dictionaryConverter([...Iwe,{key:"cacheName",converter:Jr.converters.DOMString}]);Jr.converters.Response=Jr.interfaceConverter(N5t);Jr.converters["sequence<RequestInfo>"]=Jr.sequenceConverter(Jr.converters.RequestInfo);Twe.exports={Cache:lO}});var Swe=V((CMr,_we)=>{"use strict";d();var{kConstruct:kw}=sO(),{Cache:cO}=wwe(),{webidl:E0}=Vl(),{kEnumerableProperty:Rw}=ci(),uO=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==kw&&E0.illegalConstructor(),E0.util.markAsUncloneable(this)}async match(t,r={}){if(E0.brandCheck(this,e),E0.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=E0.converters.RequestInfo(t),r=E0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new cO(kw,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new cO(kw,n).match(t,r);if(s!==void 0)return s}}async has(t){E0.brandCheck(this,e);let r="CacheStorage.has";return E0.argumentLengthCheck(arguments,1,r),t=E0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){E0.brandCheck(this,e);let r="CacheStorage.open";if(E0.argumentLengthCheck(arguments,1,r),t=E0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new cO(kw,i)}let n=[];return this.#e.set(t,n),new cO(kw,n)}async delete(t){E0.brandCheck(this,e);let r="CacheStorage.delete";return E0.argumentLengthCheck(arguments,1,r),t=E0.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return E0.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(uO.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:Rw,has:Rw,open:Rw,delete:Rw,keys:Rw});_we.exports={CacheStorage:uO}});var kwe=V((bMr,Bwe)=>{"use strict";d();Bwe.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Sne=V((IMr,Fwe)=>{"use strict";d();function U5t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(U5t,"isCTLExcludingHtab");function Rwe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(Rwe,"validateCookieName");function Dwe(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(Dwe,"validateCookieValue");function Pwe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(Pwe,"validateCookiePath");function q5t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(q5t,"validateCookieDomain");var G5t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],W5t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fO=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function Nwe(e){return typeof e=="number"&&(e=new Date(e)),`${G5t[e.getUTCDay()]}, ${fO[e.getUTCDate()]} ${W5t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${fO[e.getUTCHours()]}:${fO[e.getUTCMinutes()]}:${fO[e.getUTCSeconds()]} GMT`}o(Nwe,"toIMFDate");function H5t(e){if(e<0)throw new Error("Invalid cookie max-age")}o(H5t,"validateCookieMaxAge");function V5t(e){if(e.name.length===0)return null;Rwe(e.name),Dwe(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(H5t(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(q5t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(Pwe(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${Nwe(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(V5t,"stringify");Fwe.exports={isCTLExcludingHtab:U5t,validateCookieName:Rwe,validateCookiePath:Pwe,validateCookieValue:Dwe,toIMFDate:Nwe,stringify:V5t}});var Qwe=V((_Mr,Lwe)=>{"use strict";d();var{maxNameValuePairSize:j5t,maxAttributeValueSize:$5t}=kwe(),{isCTLExcludingHtab:z5t}=Sne(),{collectASequenceOfCodePointsFast:dO}=Nc(),Y5t=require("node:assert");function K5t(e){if(z5t(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=dO(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=dO("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>j5t?null:{name:n,value:i,...qI(r)}}o(K5t,"parseSetCookie");function qI(e,t={}){if(e.length===0)return t;Y5t(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=dO(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=dO("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>$5t)return qI(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return qI(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return qI(e,t)}o(qI,"parseUnparsedAttributes");Lwe.exports={parseSetCookie:K5t,parseUnparsedAttributes:qI}});var Uwe=V((kMr,Owe)=>{"use strict";d();var{parseSetCookie:J5t}=Qwe(),{stringify:X5t}=Sne(),{webidl:_i}=Vl(),{Headers:mO}=v4();function Z5t(e){_i.argumentLengthCheck(arguments,1,"getCookies"),_i.brandCheck(e,mO,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(Z5t,"getCookies");function eyt(e,t,r){_i.brandCheck(e,mO,{strict:!1});let n="deleteCookie";_i.argumentLengthCheck(arguments,2,n),t=_i.converters.DOMString(t,n,"name"),r=_i.converters.DeleteCookieAttributes(r),Mwe(e,{name:t,value:"",expires:new Date(0),...r})}o(eyt,"deleteCookie");function tyt(e){_i.argumentLengthCheck(arguments,1,"getSetCookies"),_i.brandCheck(e,mO,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>J5t(r)):[]}o(tyt,"getSetCookies");function Mwe(e,t){_i.argumentLengthCheck(arguments,2,"setCookie"),_i.brandCheck(e,mO,{strict:!1}),t=_i.converters.Cookie(t);let r=X5t(t);r&&e.append("Set-Cookie",r)}o(Mwe,"setCookie");_i.converters.DeleteCookieAttributes=_i.dictionaryConverter([{converter:_i.nullableConverter(_i.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);_i.converters.Cookie=_i.dictionaryConverter([{converter:_i.converters.DOMString,key:"name"},{converter:_i.converters.DOMString,key:"value"},{converter:_i.nullableConverter(e=>typeof e=="number"?_i.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:_i.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:_i.sequenceConverter(_i.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);Owe.exports={getCookies:Z5t,deleteCookie:eyt,getSetCookies:tyt,setCookie:Mwe}});var WI=V((PMr,Gwe)=>{"use strict";d();var{webidl:zr}=Vl(),{kEnumerableProperty:Mc}=ci(),{kConstruct:qwe}=xs(),{MessagePort:ryt}=require("node:worker_threads"),GI=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===qwe){super(arguments[1],arguments[2]),zr.util.markAsUncloneable(this);return}let n="MessageEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get data(){return zr.brandCheck(this,e),this.#e.data}get origin(){return zr.brandCheck(this,e),this.#e.origin}get lastEventId(){return zr.brandCheck(this,e),this.#e.lastEventId}get source(){return zr.brandCheck(this,e),this.#e.source}get ports(){return zr.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return zr.brandCheck(this,e),zr.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(qwe,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:nyt}=GI;delete GI.createFastMessageEvent;var hO=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.CloseEventInit(r),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get wasClean(){return zr.brandCheck(this,e),this.#e.wasClean}get code(){return zr.brandCheck(this,e),this.#e.code}get reason(){return zr.brandCheck(this,e),this.#e.reason}},pO=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";zr.argumentLengthCheck(arguments,1,n),super(t,r),zr.util.markAsUncloneable(this),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return zr.brandCheck(this,e),this.#e.message}get filename(){return zr.brandCheck(this,e),this.#e.filename}get lineno(){return zr.brandCheck(this,e),this.#e.lineno}get colno(){return zr.brandCheck(this,e),this.#e.colno}get error(){return zr.brandCheck(this,e),this.#e.error}};Object.defineProperties(GI.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Mc,origin:Mc,lastEventId:Mc,source:Mc,ports:Mc,initMessageEvent:Mc});Object.defineProperties(hO.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Mc,code:Mc,wasClean:Mc});Object.defineProperties(pO.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Mc,filename:Mc,lineno:Mc,colno:Mc,error:Mc});zr.converters.MessagePort=zr.interfaceConverter(ryt);zr.converters["sequence<MessagePort>"]=zr.sequenceConverter(zr.converters.MessagePort);var Bne=[{key:"bubbles",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];zr.converters.MessageEventInit=zr.dictionaryConverter([...Bne,{key:"data",converter:zr.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:zr.nullableConverter(zr.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:zr.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);zr.converters.CloseEventInit=zr.dictionaryConverter([...Bne,{key:"wasClean",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:zr.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);zr.converters.ErrorEventInit=zr.dictionaryConverter([...Bne,{key:"message",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:zr.converters.any}]);Gwe.exports={MessageEvent:GI,CloseEvent:hO,ErrorEvent:pO,createFastMessageEvent:nyt}});var B4=V((LMr,Wwe)=>{"use strict";d();var iyt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",oyt={enumerable:!0,writable:!1,configurable:!1},syt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},ayt={NOT_SENT:0,PROCESSING:1,SENT:2},lyt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},cyt=2**16-1,uyt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},fyt=Buffer.allocUnsafe(0),dyt={string:1,typedArray:2,arrayBuffer:3,blob:4};Wwe.exports={uid:iyt,sentCloseFrameState:ayt,staticPropertyDescriptors:oyt,states:syt,opcodes:lyt,maxUnsigned16Bit:cyt,parserStates:uyt,emptyBuffer:fyt,sendHints:dyt}});var Dw=V((MMr,Hwe)=>{"use strict";d();Hwe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var Fw=V((UMr,Zwe)=>{"use strict";d();var{kReadyState:Pw,kController:myt,kResponse:hyt,kBinaryType:pyt,kWebSocketURL:gyt}=Dw(),{states:Nw,opcodes:Y5}=B4(),{ErrorEvent:Ayt,createFastMessageEvent:yyt}=WI(),{isUtf8:Cyt}=require("node:buffer"),{collectASequenceOfCodePointsFast:Eyt,removeHTTPWhitespace:Vwe}=Nc();function xyt(e){return e[Pw]===Nw.CONNECTING}o(xyt,"isConnecting");function byt(e){return e[Pw]===Nw.OPEN}o(byt,"isEstablished");function vyt(e){return e[Pw]===Nw.CLOSING}o(vyt,"isClosing");function Iyt(e){return e[Pw]===Nw.CLOSED}o(Iyt,"isClosed");function kne(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(kne,"fireEvent");function Tyt(e,t,r){if(e[Pw]!==Nw.OPEN)return;let n;if(t===Y5.TEXT)try{n=Xwe(r)}catch{$we(e,"Received invalid UTF-8 in text frame.");return}else t===Y5.BINARY&&(e[pyt]==="blob"?n=new Blob([r]):n=wyt(r));kne("message",e,yyt,{origin:e[gyt].origin,data:n})}o(Tyt,"websocketMessageReceived");function wyt(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(wyt,"toArrayBuffer");function _yt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(_yt,"isValidSubprotocol");function Syt(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(Syt,"isValidStatusCode");function $we(e,t){let{[myt]:r,[hyt]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&kne("error",e,(i,s)=>new Ayt(i,s),{error:new Error(t),message:t})}o($we,"failWebsocketConnection");function zwe(e){return e===Y5.CLOSE||e===Y5.PING||e===Y5.PONG}o(zwe,"isControlFrame");function Ywe(e){return e===Y5.CONTINUATION}o(Ywe,"isContinuationFrame");function Kwe(e){return e===Y5.TEXT||e===Y5.BINARY}o(Kwe,"isTextBinaryFrame");function Byt(e){return Kwe(e)||Ywe(e)||zwe(e)}o(Byt,"isValidOpcode");function kyt(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=Eyt(";",e,t),[i,s=""]=n.split("=");r.set(Vwe(i,!0,!1),Vwe(s,!1,!0)),t.position++}return r}o(kyt,"parseExtensions");function Ryt(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(Ryt,"isValidClientWindowBits");var Jwe=typeof process.versions.icu=="string",jwe=Jwe?new TextDecoder("utf-8",{fatal:!0}):void 0,Xwe=Jwe?jwe.decode.bind(jwe):function(e){if(Cyt(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};Zwe.exports={isConnecting:xyt,isEstablished:byt,isClosing:vyt,isClosed:Iyt,fireEvent:kne,isValidSubprotocol:_yt,isValidStatusCode:Syt,failWebsocketConnection:$we,websocketMessageReceived:Tyt,utf8Decode:Xwe,isControlFrame:zwe,isContinuationFrame:Ywe,isTextBinaryFrame:Kwe,isValidOpcode:Byt,parseExtensions:kyt,isValidClientWindowBits:Ryt}});var AO=V((WMr,e_e)=>{"use strict";d();var{maxUnsigned16Bit:Dyt}=B4(),gO=16386,Rne,Lw=null,HI=gO;try{Rne=require("node:crypto")}catch{Rne={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function Pyt(){return HI===gO&&(HI=0,Rne.randomFillSync(Lw??=Buffer.allocUnsafe(gO),0,gO)),[Lw[HI++],Lw[HI++],Lw[HI++],Lw[HI++]]}o(Pyt,"generateMask");var Dne=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=Pyt(),i=r?.byteLength??0,s=i,a=6;i>Dyt?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};e_e.exports={WebsocketFrameSend:Dne}});var Nne=V((jMr,a_e)=>{"use strict";d();var{uid:Nyt,states:Qw,sentCloseFrameState:yO,emptyBuffer:Fyt,opcodes:Lyt}=B4(),{kReadyState:Mw,kSentClose:CO,kByteParser:r_e,kReceivedClose:t_e,kResponse:n_e}=Dw(),{fireEvent:Qyt,failWebsocketConnection:K5,isClosing:Myt,isClosed:Oyt,isEstablished:Uyt,parseExtensions:qyt}=Fw(),{channels:VI}=iI(),{CloseEvent:Gyt}=WI(),{makeRequest:Wyt}=QI(),{fetching:Hyt}=Sw(),{Headers:Vyt,getHeadersList:jyt}=v4(),{getDecodeSplit:$yt}=Mu(),{WebsocketFrameSend:zyt}=AO(),Pne;try{Pne=require("node:crypto")}catch{}function Yyt(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=Wyt({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=jyt(new Vyt(s.headers));l.headersList=m}let c=Pne.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),Hyt({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){K5(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){K5(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){K5(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){K5(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=Pne.createHash("sha1").update(c+Nyt).digest("base64");if(h!==p){K5(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=m.headersList.get("Sec-WebSocket-Extensions"),E;if(A!==null&&(E=qyt(A),!E.has("permessage-deflate"))){K5(n,"Sec-WebSocket-Extensions header does not match.");return}let x=m.headersList.get("Sec-WebSocket-Protocol");if(x!==null&&!$yt("sec-websocket-protocol",l.headersList).includes(x)){K5(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",i_e),m.socket.on("close",o_e),m.socket.on("error",s_e),VI.open.hasSubscribers&&VI.open.publish({address:m.socket.address(),protocol:x,extensions:A}),i(m,E)}})}o(Yyt,"establishWebSocketConnection");function Kyt(e,t,r,n){if(!(Myt(e)||Oyt(e)))if(!Uyt(e))K5(e,"Connection was closed before it was established."),e[Mw]=Qw.CLOSING;else if(e[CO]===yO.NOT_SENT){e[CO]=yO.PROCESSING;let i=new zyt;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=Fyt,e[n_e].socket.write(i.createFrame(Lyt.CLOSE)),e[CO]=yO.SENT,e[Mw]=Qw.CLOSING}else e[Mw]=Qw.CLOSING}o(Kyt,"closeWebSocketConnection");function i_e(e){this.ws[r_e].write(e)||this.pause()}o(i_e,"onSocketData");function o_e(){let{ws:e}=this,{[n_e]:t}=e;t.socket.off("data",i_e),t.socket.off("close",o_e),t.socket.off("error",s_e);let r=e[CO]===yO.SENT&&e[t_e],n=1005,i="",s=e[r_e].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[t_e]||(n=1006),e[Mw]=Qw.CLOSED,Qyt("close",e,(a,l)=>new Gyt(a,l),{wasClean:r,code:n,reason:i}),VI.close.hasSubscribers&&VI.close.publish({websocket:e,code:n,reason:i})}o(o_e,"onSocketClose");function s_e(e){let{ws:t}=this;t[Mw]=Qw.CLOSING,VI.socketError.hasSubscribers&&VI.socketError.publish(e),this.destroy()}o(s_e,"onSocketError");a_e.exports={establishWebSocketConnection:Yyt,closeWebSocketConnection:Kyt}});var c_e=V((YMr,l_e)=>{"use strict";d();var{createInflateRaw:Jyt,Z_DEFAULT_WINDOWBITS:Xyt}=require("node:zlib"),{isValidClientWindowBits:Zyt}=Fw(),e3t=Buffer.from([0,0,255,255]),EO=Symbol("kBuffer"),xO=Symbol("kLength"),Fne=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=Xyt;if(this.#t.serverMaxWindowBits){if(!Zyt(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=Jyt({windowBits:i}),this.#e[EO]=[],this.#e[xO]=0,this.#e.on("data",s=>{this.#e[EO].push(s),this.#e[xO]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(e3t),this.#e.flush(()=>{let i=Buffer.concat(this.#e[EO],this.#e[xO]);this.#e[EO].length=0,this.#e[xO]=0,n(null,i)})}};l_e.exports={PerMessageDeflate:Fne}});var E_e=V((XMr,C_e)=>{"use strict";d();var{Writable:t3t}=require("node:stream"),r3t=require("node:assert"),{parserStates:Oc,opcodes:jI,states:n3t,emptyBuffer:u_e,sentCloseFrameState:f_e}=B4(),{kReadyState:i3t,kSentClose:d_e,kResponse:m_e,kReceivedClose:h_e}=Dw(),{channels:bO}=iI(),{isValidStatusCode:o3t,isValidOpcode:s3t,failWebsocketConnection:dd,websocketMessageReceived:p_e,utf8Decode:a3t,isControlFrame:g_e,isTextBinaryFrame:Lne,isContinuationFrame:l3t}=Fw(),{WebsocketFrameSend:A_e}=AO(),{closeWebSocketConnection:y_e}=Nne(),{PerMessageDeflate:c3t}=c_e(),Qne=class extends t3t{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=Oc.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new c3t(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===Oc.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==jI.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!s3t(i))return dd(this.ws,"Invalid opcode received"),t();if(s)return dd(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){dd(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){dd(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!Lne(i)){dd(this.ws,"Invalid frame type was fragmented.");return}if(Lne(i)&&this.#o.length>0){dd(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){dd(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&g_e(i)){dd(this.ws,"Control frame either too large or fragmented");return}if(l3t(i)&&this.#o.length===0&&!this.#r.compressed){dd(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=Oc.READ_DATA):l===126?this.#n=Oc.PAYLOADLENGTH_16:l===127&&(this.#n=Oc.PAYLOADLENGTH_64),Lne(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===Oc.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=Oc.READ_DATA}else if(this.#n===Oc.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){dd(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=Oc.READ_DATA}else if(this.#n===Oc.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(g_e(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=Oc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){y_e(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=Oc.INFO,this.#i=!0,this.run(t);return}p_e(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=Oc.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);p_e(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=Oc.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return u_e;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){r3t(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!o3t(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=a3t(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===jI.CLOSE){if(n===1)return dd(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return y_e(this.ws,i,s,s.length),dd(this.ws,s),!1}if(this.ws[d_e]!==f_e.SENT){let i=u_e;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new A_e(i);this.ws[m_e].socket.write(s.createFrame(jI.CLOSE),a=>{a||(this.ws[d_e]=f_e.SENT)})}return this.ws[i3t]=n3t.CLOSING,this.ws[h_e]=!0,!1}else if(r===jI.PING){if(!this.ws[h_e]){let i=new A_e(t);this.ws[m_e].socket.write(i.createFrame(jI.PONG)),bO.ping.hasSubscribers&&bO.ping.publish({payload:t})}}else r===jI.PONG&&bO.pong.hasSubscribers&&bO.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};C_e.exports={ByteParser:Qne}});var T_e=V((tOr,I_e)=>{"use strict";d();var{WebsocketFrameSend:u3t}=AO(),{opcodes:x_e,sendHints:$I}=B4(),f3t=Yte(),b_e=Buffer[Symbol.species],Mne=class{static{o(this,"SendQueue")}#e=new f3t;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==$I.blob){let s=v_e(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=v_e(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function v_e(e,t){return new u3t(d3t(e,t)).createFrame(t===$I.string?x_e.TEXT:x_e.BINARY)}o(v_e,"createFrame");function d3t(e,t){switch(t){case $I.string:return Buffer.from(e);case $I.arrayBuffer:case $I.blob:return new b_e(e);case $I.typedArray:return new b_e(e.buffer,e.byteOffset,e.byteLength)}}o(d3t,"toBuffer");I_e.exports={SendQueue:Mne}});var N_e=V((iOr,P_e)=>{"use strict";d();var{webidl:Bn}=Vl(),{URLSerializer:m3t}=Nc(),{environmentSettingsObject:w_e}=Mu(),{staticPropertyDescriptors:J5,states:Ow,sentCloseFrameState:h3t,sendHints:vO}=B4(),{kWebSocketURL:__e,kReadyState:One,kController:p3t,kBinaryType:IO,kResponse:S_e,kSentClose:g3t,kByteParser:A3t}=Dw(),{isConnecting:y3t,isEstablished:C3t,isClosing:E3t,isValidSubprotocol:x3t,fireEvent:B_e}=Fw(),{establishWebSocketConnection:b3t,closeWebSocketConnection:k_e}=Nne(),{ByteParser:v3t}=E_e(),{kEnumerableProperty:md,isBlobLike:R_e}=ci(),{getGlobalDispatcher:I3t}=MM(),{types:D_e}=require("node:util"),{ErrorEvent:T3t,CloseEvent:w3t}=WI(),{SendQueue:_3t}=T_e(),Vu=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Bn.util.markAsUncloneable(this);let n="WebSocket constructor";Bn.argumentLengthCheck(arguments,1,n);let i=Bn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Bn.converters.USVString(t,n,"url"),r=i.protocols;let s=w_e.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>x3t(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[__e]=new URL(a.href);let l=w_e.settingsObject;this[p3t]=b3t(a,r,l,this,(c,u)=>this.#o(c,u),i),this[One]=e.CONNECTING,this[g3t]=h3t.NOT_SENT,this[IO]="blob"}close(t=void 0,r=void 0){Bn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Bn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Bn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");k_e(this,t,r,i)}send(t){Bn.brandCheck(this,e);let r="WebSocket.send";if(Bn.argumentLengthCheck(arguments,1,r),t=Bn.converters.WebSocketSendData(t,r,"data"),y3t(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!C3t(this)||E3t(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},vO.string)}else D_e.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},vO.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},vO.typedArray)):R_e(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},vO.blob))}get readyState(){return Bn.brandCheck(this,e),this[One]}get bufferedAmount(){return Bn.brandCheck(this,e),this.#t}get url(){return Bn.brandCheck(this,e),m3t(this[__e])}get extensions(){return Bn.brandCheck(this,e),this.#n}get protocol(){return Bn.brandCheck(this,e),this.#i}get onopen(){return Bn.brandCheck(this,e),this.#e.open}set onopen(t){Bn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Bn.brandCheck(this,e),this.#e.error}set onerror(t){Bn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Bn.brandCheck(this,e),this.#e.close}set onclose(t){Bn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Bn.brandCheck(this,e),this.#e.message}set onmessage(t){Bn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Bn.brandCheck(this,e),this[IO]}set binaryType(t){Bn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[IO]="blob":this[IO]=t}#o(t,r){this[S_e]=t;let n=new v3t(this,r);n.on("drain",S3t),n.on("error",B3t.bind(this)),t.socket.ws=this,this[A3t]=n,this.#r=new _3t(t.socket),this[One]=Ow.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),B_e("open",this)}};Vu.CONNECTING=Vu.prototype.CONNECTING=Ow.CONNECTING;Vu.OPEN=Vu.prototype.OPEN=Ow.OPEN;Vu.CLOSING=Vu.prototype.CLOSING=Ow.CLOSING;Vu.CLOSED=Vu.prototype.CLOSED=Ow.CLOSED;Object.defineProperties(Vu.prototype,{CONNECTING:J5,OPEN:J5,CLOSING:J5,CLOSED:J5,url:md,readyState:md,bufferedAmount:md,onopen:md,onerror:md,onclose:md,close:md,onmessage:md,binaryType:md,send:md,extensions:md,protocol:md,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Vu,{CONNECTING:J5,OPEN:J5,CLOSING:J5,CLOSED:J5});Bn.converters["sequence<DOMString>"]=Bn.sequenceConverter(Bn.converters.DOMString);Bn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Bn.util.Type(e)==="Object"&&Symbol.iterator in e?Bn.converters["sequence<DOMString>"](e):Bn.converters.DOMString(e,t,r)};Bn.converters.WebSocketInit=Bn.dictionaryConverter([{key:"protocols",converter:Bn.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Bn.converters.any,defaultValue:o(()=>I3t(),"defaultValue")},{key:"headers",converter:Bn.nullableConverter(Bn.converters.HeadersInit)}]);Bn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Bn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Bn.converters.WebSocketInit(e):{protocols:Bn.converters["DOMString or sequence<DOMString>"](e)}};Bn.converters.WebSocketSendData=function(e){if(Bn.util.Type(e)==="Object"){if(R_e(e))return Bn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||D_e.isArrayBuffer(e))return Bn.converters.BufferSource(e)}return Bn.converters.USVString(e)};function S3t(){this.ws[S_e].socket.resume()}o(S3t,"onParserDrain");function B3t(e){let t,r;e instanceof w3t?(t=e.reason,r=e.code):t=e.message,B_e("error",this,()=>new T3t("error",{error:e,message:t})),k_e(this,r)}o(B3t,"onParserError");P_e.exports={WebSocket:Vu}});var Une=V((aOr,F_e)=>{"use strict";d();function k3t(e){return e.indexOf("\0")===-1}o(k3t,"isValidLastEventId");function R3t(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(R3t,"isASCIINumber");function D3t(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(D3t,"delay");F_e.exports={isValidLastEventId:k3t,isASCIINumber:R3t,delay:D3t}});var O_e=V((uOr,M_e)=>{"use strict";d();var{Transform:P3t}=require("node:stream"),{isASCIINumber:L_e,isValidLastEventId:Q_e}=Une(),D1=[239,187,191],qne=10,TO=13,N3t=58,F3t=32,Gne=class extends P3t{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===D1[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===D1[0]&&this.buffer[1]===D1[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===D1[0]&&this.buffer[1]===D1[1]&&this.buffer[2]===D1[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===D1[0]&&this.buffer[1]===D1[1]&&this.buffer[2]===D1[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===qne){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===qne||this.buffer[this.pos]===TO){this.buffer[this.pos]===TO&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===qne||this.buffer[this.pos]===TO){this.buffer[this.pos]===TO&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(N3t);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===F3t&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":L_e(s)&&(r[i]=s);break;case"id":Q_e(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&L_e(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&Q_e(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};M_e.exports={EventSourceStream:Gne}});var $_e=V((mOr,j_e)=>{"use strict";d();var{pipeline:L3t}=require("node:stream"),{fetching:Q3t}=Sw(),{makeRequest:M3t}=QI(),{webidl:P1}=Vl(),{EventSourceStream:O3t}=O_e(),{parseMIMEType:U3t}=Nc(),{createFastMessageEvent:q3t}=WI(),{isNetworkError:U_e}=ww(),{delay:G3t}=Une(),{kEnumerableProperty:k4}=ci(),{environmentSettingsObject:q_e}=Mu(),G_e=!1,W_e=3e3,Uw=0,H_e=1,qw=2,W3t="anonymous",H3t="use-credentials",zI=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=Uw;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),P1.util.markAsUncloneable(this);let n="EventSource constructor";P1.argumentLengthCheck(arguments,1,n),G_e||(G_e=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=P1.converters.USVString(t,n,"url"),r=P1.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:W_e};let i=q_e,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=W3t;r.withCredentials&&(a=H3t,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=q_e.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=M3t(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===qw)return;this.#n=Uw;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{U_e(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(U_e(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?U3t(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=H_e,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new O3t({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(q3t(c.type,c.options))},"push")});L3t(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=Q3t(t)}async#c(){this.#n!==qw&&(this.#n=Uw,this.dispatchEvent(new Event("error")),await G3t(this.#a.reconnectionTime),this.#n===Uw&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){P1.brandCheck(this,e),this.#n!==qw&&(this.#n=qw,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},V_e={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:Uw,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:H_e,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:qw,writable:!1}};Object.defineProperties(zI,V_e);Object.defineProperties(zI.prototype,V_e);Object.defineProperties(zI.prototype,{close:k4,onerror:k4,onmessage:k4,onopen:k4,readyState:k4,url:k4,withCredentials:k4});P1.converters.EventSourceInitDict=P1.dictionaryConverter([{key:"withCredentials",converter:P1.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:P1.converters.any}]);j_e.exports={EventSource:zI,defaultReconnectionTime:W_e}});var J_e=V((gOr,Cn)=>{"use strict";d();var V3t=fw(),z_e=WT(),j3t=II(),$3t=t9e(),z3t=TI(),Y3t=mre(),K3t=y9e(),J3t=I9e(),Y_e=ao(),_O=ci(),{InvalidArgumentError:wO}=Y_e,YI=u7e(),X3t=VT(),Z3t=zre(),eCt=V7e(),tCt=Jre(),rCt=Fre(),nCt=SM(),{getGlobalDispatcher:K_e,setGlobalDispatcher:iCt}=MM(),oCt=OM(),sCt=AM(),aCt=yM();Object.assign(z_e.prototype,YI);Cn.exports.Dispatcher=z_e;Cn.exports.Client=V3t;Cn.exports.Pool=j3t;Cn.exports.BalancedPool=$3t;Cn.exports.Agent=z3t;Cn.exports.ProxyAgent=Y3t;Cn.exports.EnvHttpProxyAgent=K3t;Cn.exports.RetryAgent=J3t;Cn.exports.RetryHandler=nCt;Cn.exports.DecoratorHandler=oCt;Cn.exports.RedirectHandler=sCt;Cn.exports.createRedirectInterceptor=aCt;Cn.exports.interceptors={redirect:X7e(),retry:eTe(),dump:rTe(),dns:oTe()};Cn.exports.buildConnector=X3t;Cn.exports.errors=Y_e;Cn.exports.util={parseHeaders:_O.parseHeaders,headerNameToString:_O.headerNameToString};function Gw(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new wO("invalid url");if(r!=null&&typeof r!="object")throw new wO("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new wO("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(_O.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=_O.parseURL(t);let{agent:i,dispatcher:s=K_e()}=r;if(i)throw new wO("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(Gw,"makeDispatcher");Cn.exports.setGlobalDispatcher=iCt;Cn.exports.getGlobalDispatcher=K_e;var lCt=Sw().fetch;Cn.exports.fetch=o(async function(t,r=void 0){try{return await lCt(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Cn.exports.Headers=v4().Headers;Cn.exports.Response=ww().Response;Cn.exports.Request=QI().Request;Cn.exports.FormData=XT().FormData;Cn.exports.File=globalThis.File??require("node:buffer").File;Cn.exports.FileReader=Cwe().FileReader;var{setGlobalOrigin:cCt,getGlobalOrigin:uCt}=hte();Cn.exports.setGlobalOrigin=cCt;Cn.exports.getGlobalOrigin=uCt;var{CacheStorage:fCt}=Swe(),{kConstruct:dCt}=sO();Cn.exports.caches=new fCt(dCt);var{deleteCookie:mCt,getCookies:hCt,getSetCookies:pCt,setCookie:gCt}=Uwe();Cn.exports.deleteCookie=mCt;Cn.exports.getCookies=hCt;Cn.exports.getSetCookies=pCt;Cn.exports.setCookie=gCt;var{parseMIMEType:ACt,serializeAMimeType:yCt}=Nc();Cn.exports.parseMIMEType=ACt;Cn.exports.serializeAMimeType=yCt;var{CloseEvent:CCt,ErrorEvent:ECt,MessageEvent:xCt}=WI();Cn.exports.WebSocket=N_e().WebSocket;Cn.exports.CloseEvent=CCt;Cn.exports.ErrorEvent=ECt;Cn.exports.MessageEvent=xCt;Cn.exports.request=Gw(YI.request);Cn.exports.stream=Gw(YI.stream);Cn.exports.pipeline=Gw(YI.pipeline);Cn.exports.connect=Gw(YI.connect);Cn.exports.upgrade=Gw(YI.upgrade);Cn.exports.MockClient=Z3t;Cn.exports.MockPool=tCt;Cn.exports.MockAgent=eCt;Cn.exports.mockErrors=rCt;var{EventSource:bCt}=$_e();Cn.exports.EventSource=bCt});var Jn=V((COr,X_e)=>{d();X_e.exports={options:{usePureJavaScript:!1}}});var tSe=V((xOr,eSe)=>{d();var Wne={};eSe.exports=Wne;var Z_e={};Wne.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=vCt(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};Wne.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Z_e[t];if(!r){r=Z_e[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function vCt(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o(vCt,"_encodeWithByteBuffer")});var Ki=V((IOr,oSe)=>{d();var rSe=Jn(),nSe=tSe(),Ne=oSe.exports=rSe.util=rSe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Ne.nextTick=process.nextTick,typeof setImmediate=="function"?Ne.setImmediate=setImmediate:Ne.setImmediate=Ne.nextTick;return}if(typeof setImmediate=="function"){Ne.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Ne.nextTick=function(l){return setImmediate(l)};return}if(Ne.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Ne.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Ne.setImmediate;Ne.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Ne.nextTick=Ne.setImmediate})();Ne.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Ne.globalScope=function(){return Ne.isNodejs?global:typeof self>"u"?window:self}();Ne.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Ne.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Ne.isArrayBufferView=function(e){return e&&Ne.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Ww(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(Ww,"_checkBitsParam");Ne.ByteBuffer=Hne;function Hne(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Ne.isArrayBuffer(e)||Ne.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Hne||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(Hne,"ByteStringBuffer");Ne.ByteStringBuffer=Hne;var ICt=4096;Ne.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>ICt&&(this.data.substr(0,1),this._constructedStringLength=0)};Ne.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Ne.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Ne.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Ne.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Ne.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Ne.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Ne.encodeUtf8(e))};Ne.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Ne.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Ne.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Ne.ByteStringBuffer.prototype.putInt=function(e,t){Ww(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Ne.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Ne.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Ne.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Ne.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Ne.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Ne.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Ne.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Ne.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Ne.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Ne.ByteStringBuffer.prototype.getInt=function(e){Ww(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Ne.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Ne.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Ne.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Ne.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Ne.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Ne.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Ne.ByteStringBuffer.prototype.copy=function(){var e=Ne.createBuffer(this.data);return e.read=this.read,e};Ne.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Ne.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Ne.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Ne.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Ne.ByteStringBuffer.prototype.toString=function(){return Ne.decodeUtf8(this.bytes())};function TCt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Ne.isArrayBuffer(e),n=Ne.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(TCt,"DataBuffer");Ne.DataBuffer=TCt;Ne.DataBuffer.prototype.length=function(){return this.write-this.read};Ne.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Ne.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Ne.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Ne.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Ne.DataBuffer.prototype.putBytes=function(e,t){if(Ne.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Ne.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Ne.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Ne.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Ne.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Ne.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Ne.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Ne.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Ne.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Ne.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Ne.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Ne.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Ne.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Ne.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Ne.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Ne.DataBuffer.prototype.putInt=function(e,t){Ww(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Ne.DataBuffer.prototype.putSignedInt=function(e,t){return Ww(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Ne.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Ne.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Ne.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Ne.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Ne.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Ne.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Ne.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Ne.DataBuffer.prototype.getInt=function(e){Ww(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Ne.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Ne.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Ne.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Ne.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Ne.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Ne.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Ne.DataBuffer.prototype.copy=function(){return new Ne.DataBuffer(this)};Ne.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Ne.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Ne.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Ne.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Ne.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Ne.binary.raw.encode(t);if(e==="hex")return Ne.binary.hex.encode(t);if(e==="base64")return Ne.binary.base64.encode(t);if(e==="utf8")return Ne.text.utf8.decode(t);if(e==="utf16")return Ne.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Ne.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Ne.encodeUtf8(e)),new Ne.ByteBuffer(e)};Ne.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Ne.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Ne.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Ne.bytesToHex=function(e){return Ne.createBuffer(e).toHex()};Ne.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var X5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Z5=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],iSe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ne.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=X5.charAt(i>>2),r+=X5.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=X5.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":X5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Ne.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=Z5[e.charCodeAt(a++)-43],n=Z5[e.charCodeAt(a++)-43],i=Z5[e.charCodeAt(a++)-43],s=Z5[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Ne.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Ne.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Ne.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:nSe.encode,decode:nSe.decode}};Ne.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Ne.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Ne.binary.hex.encode=Ne.bytesToHex;Ne.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Ne.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=X5.charAt(i>>2),r+=X5.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=X5.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":X5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Ne.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=Z5[e.charCodeAt(c++)-43],s=Z5[e.charCodeAt(c++)-43],a=Z5[e.charCodeAt(c++)-43],l=Z5[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Ne.binary.base58.encode=function(e,t){return Ne.binary.baseN.encode(e,iSe,t)};Ne.binary.base58.decode=function(e,t){return Ne.binary.baseN.decode(e,iSe,t)};Ne.text={utf8:{},utf16:{}};Ne.text.utf8.encode=function(e,t,r){e=Ne.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Ne.text.utf8.decode=function(e){return Ne.decodeUtf8(String.fromCharCode.apply(null,e))};Ne.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Ne.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Ne.deflate=function(e,t,r){if(t=Ne.decode64(e.deflate(Ne.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Ne.inflate=function(e,t,r){var n=e.inflate(Ne.encode64(t)).rval;return n===null?null:Ne.decode64(n)};var Vne=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Ne.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),jne=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Ne.decode64(r))),r},"_getStorageObject"),wCt=o(function(e,t,r,n){var i=jne(e,t);i===null&&(i={}),i[r]=n,Vne(e,t,i)},"_setItem"),_Ct=o(function(e,t,r){var n=jne(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),SCt=o(function(e,t,r){var n=jne(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Vne(e,t,n)}},"_removeItem"),BCt=o(function(e,t){Vne(e,t,null)},"_clearItems"),SO=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Ne.setItem=function(e,t,r,n,i){SO(wCt,arguments,i)};Ne.getItem=function(e,t,r,n){return SO(_Ct,arguments,n)};Ne.removeItem=function(e,t,r,n){SO(SCt,arguments,n)};Ne.clearItems=function(e,t,r){SO(BCt,arguments,r)};Ne.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Ne.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Ne.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Ne.formatSize=function(e){return e>=1073741824?e=Ne.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Ne.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Ne.formatNumber(e/1024,0)+" KiB":e=Ne.formatNumber(e,0)+" bytes",e};Ne.bytesFromIP=function(e){return e.indexOf(".")!==-1?Ne.bytesFromIPv4(e):e.indexOf(":")!==-1?Ne.bytesFromIPv6(e):null};Ne.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Ne.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Ne.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Ne.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Ne.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Ne.bytesToIP=function(e){return e.length===4?Ne.bytesToIPv4(e):e.length===16?Ne.bytesToIPv6(e):null};Ne.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Ne.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Ne.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Ne.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Ne&&!e.update)return t(null,Ne.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Ne.cores=navigator.hardwareConcurrency,t(null,Ne.cores);if(typeof Worker>"u")return Ne.cores=1,t(null,Ne.cores);if(typeof Blob>"u")return Ne.cores=2,t(null,Ne.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Ne.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Ne.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(A,E){return Math.max(A,E.length)},0)}o(s,"reduce")}});var BO=V((_Or,sSe)=>{d();var El=Jn();Ki();sSe.exports=El.cipher=El.cipher||{};El.cipher.algorithms=El.cipher.algorithms||{};El.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=El.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new El.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};El.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=El.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new El.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};El.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),El.cipher.algorithms[e]=t};El.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in El.cipher.algorithms?El.cipher.algorithms[e]:null};var $ne=El.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};$ne.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=El.util.createBuffer(),this.output=e.output||El.util.createBuffer(),this.mode.start(t)};$ne.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};$ne.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Yne=V((BOr,aSe)=>{d();var xl=Jn();Ki();xl.cipher=xl.cipher||{};var Ai=aSe.exports=xl.cipher.modes=xl.cipher.modes||{};Ai.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ai.ecb.prototype.start=function(e){};Ai.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ai.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ai.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ai.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ai.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ai.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=kO(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ai.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ai.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ai.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ai.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ai.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};Ai.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=kO(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};Ai.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=kO(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.ofb.prototype.decrypt=Ai.ofb.prototype.encrypt;Ai.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};Ai.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=kO(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}RO(this._inBlock)};Ai.ctr.prototype.decrypt=Ai.ctr.prototype.encrypt;Ai.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ai.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=xl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=xl.util.createBuffer(e.additionalData):r=xl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=xl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(zne(n*8)))}this._inBlock=this._j0.slice(0),RO(this._inBlock),this._partialBytes=0,r=xl.util.createBuffer(r),this._aDataLength=zne(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ai.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),RO(this._inBlock)};Ai.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),RO(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ai.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=xl.util.createBuffer();var n=this._aDataLength.concat(zne(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ai.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ai.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ai.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};Ai.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ai.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};Ai.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function kO(e,t){if(typeof e=="string"&&(e=xl.util.createBuffer(e)),xl.util.isArray(e)&&e.length>4){var r=e;e=xl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!xl.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(kO,"transformIV");function RO(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(RO,"inc32");function zne(e){return[e/4294967296|0,e&4294967295]}o(zne,"from64To32")});var ey=V((DOr,fSe)=>{d();var Uo=Jn();BO();Yne();Ki();fSe.exports=Uo.aes=Uo.aes||{};Uo.aes.startEncrypting=function(e,t,r,n){var i=DO({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Uo.aes.createEncryptionCipher=function(e,t){return DO({key:e,output:null,decrypt:!1,mode:t})};Uo.aes.startDecrypting=function(e,t,r,n){var i=DO({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Uo.aes.createDecryptionCipher=function(e,t){return DO({key:e,output:null,decrypt:!0,mode:t})};Uo.aes.Algorithm=function(e,t){Xne||cSe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return Jne(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return Jne(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Uo.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Uo.util.createBuffer(t);else if(Uo.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Uo.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Uo.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Uo.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=uSe(t,e.decrypt&&!a),this._init=!0}};Uo.aes._expandKey=function(e,t){return Xne||cSe(),uSe(e,t)};Uo.aes._updateBlock=Jne;JI("AES-ECB",Uo.cipher.modes.ecb);JI("AES-CBC",Uo.cipher.modes.cbc);JI("AES-CFB",Uo.cipher.modes.cfb);JI("AES-OFB",Uo.cipher.modes.ofb);JI("AES-CTR",Uo.cipher.modes.ctr);JI("AES-GCM",Uo.cipher.modes.gcm);function JI(e,t){var r=o(function(){return new Uo.aes.Algorithm(e,t)},"factory");Uo.cipher.registerAlgorithm(e,r)}o(JI,"registerAlgorithm");var Xne=!1,KI=4,H0,Kne,lSe,R4,Gm;function cSe(){Xne=!0,lSe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;H0=new Array(256),Kne=new Array(256),R4=new Array(4),Gm=new Array(4);for(var t=0;t<4;++t)R4[t]=new Array(256),Gm[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,H0[r]=l,Kne[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)R4[m][r]=u,Gm[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o(cSe,"initialize");function uSe(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=KI*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=H0[n>>>16&255]<<24^H0[n>>>8&255]<<16^H0[n&255]<<8^H0[n>>>24]^lSe[i]<<24,i++):s>6&&c%s===4&&(n=H0[n>>>24]<<24^H0[n>>>16&255]<<16^H0[n>>>8&255]<<8^H0[n&255]),r[c]=r[c-s]^n;if(t){var u,f=Gm[0],m=Gm[1],h=Gm[2],p=Gm[3],A=r.slice(0);l=r.length;for(var c=0,E=l-KI;c<l;c+=KI,E-=KI)if(c===0||c===l-KI)A[c]=r[E],A[c+1]=r[E+3],A[c+2]=r[E+2],A[c+3]=r[E+1];else for(var x=0;x<KI;++x)u=r[E+x],A[c+(3&-x)]=f[H0[u>>>24]]^m[H0[u>>>16&255]]^h[H0[u>>>8&255]]^p[H0[u&255]];r=A}return r}o(uSe,"_expandKey");function Jne(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=Gm[0],a=Gm[1],l=Gm[2],c=Gm[3],u=Kne):(s=R4[0],a=R4[1],l=R4[2],c=R4[3],u=H0);var f,m,h,p,A,E,x;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var v=3,b=1;b<i;++b)A=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++v],E=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++v],x=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++v],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++v],f=A,m=E,h=x;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++v],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++v],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++v],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++v]}o(Jne,"_updateBlock");function DO(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Uo.cipher.createDecipher(r,e.key):n=Uo.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Uo.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(DO,"_createCipher")});var ty=V((FOr,dSe)=>{d();var Hw=Jn();Hw.pki=Hw.pki||{};var Zne=dSe.exports=Hw.pki.oids=Hw.oids=Hw.oids||{};function Lt(e,t){Zne[e]=t,Zne[t]=e}o(Lt,"_IN");function fo(e,t){Zne[e]=t}o(fo,"_I_");Lt("1.2.840.113549.1.1.1","rsaEncryption");Lt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Lt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Lt("1.2.840.113549.1.1.7","RSAES-OAEP");Lt("1.2.840.113549.1.1.8","mgf1");Lt("1.2.840.113549.1.1.9","pSpecified");Lt("1.2.840.113549.1.1.10","RSASSA-PSS");Lt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Lt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Lt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Lt("1.3.101.112","EdDSA25519");Lt("1.2.840.10040.4.3","dsa-with-sha1");Lt("1.3.14.3.2.7","desCBC");Lt("1.3.14.3.2.26","sha1");Lt("1.3.14.3.2.29","sha1WithRSASignature");Lt("2.16.840.1.101.3.4.2.1","sha256");Lt("2.16.840.1.101.3.4.2.2","sha384");Lt("2.16.840.1.101.3.4.2.3","sha512");Lt("2.16.840.1.101.3.4.2.4","sha224");Lt("2.16.840.1.101.3.4.2.5","sha512-224");Lt("2.16.840.1.101.3.4.2.6","sha512-256");Lt("1.2.840.113549.2.2","md2");Lt("1.2.840.113549.2.5","md5");Lt("1.2.840.113549.1.7.1","data");Lt("1.2.840.113549.1.7.2","signedData");Lt("1.2.840.113549.1.7.3","envelopedData");Lt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Lt("1.2.840.113549.1.7.5","digestedData");Lt("1.2.840.113549.1.7.6","encryptedData");Lt("1.2.840.113549.1.9.1","emailAddress");Lt("1.2.840.113549.1.9.2","unstructuredName");Lt("1.2.840.113549.1.9.3","contentType");Lt("1.2.840.113549.1.9.4","messageDigest");Lt("1.2.840.113549.1.9.5","signingTime");Lt("1.2.840.113549.1.9.6","counterSignature");Lt("1.2.840.113549.1.9.7","challengePassword");Lt("1.2.840.113549.1.9.8","unstructuredAddress");Lt("1.2.840.113549.1.9.14","extensionRequest");Lt("1.2.840.113549.1.9.20","friendlyName");Lt("1.2.840.113549.1.9.21","localKeyId");Lt("1.2.840.113549.1.9.22.1","x509Certificate");Lt("1.2.840.113549.1.12.10.1.1","keyBag");Lt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Lt("1.2.840.113549.1.12.10.1.3","certBag");Lt("1.2.840.113549.1.12.10.1.4","crlBag");Lt("1.2.840.113549.1.12.10.1.5","secretBag");Lt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Lt("1.2.840.113549.1.5.13","pkcs5PBES2");Lt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Lt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Lt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Lt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Lt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Lt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Lt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Lt("1.2.840.113549.2.7","hmacWithSHA1");Lt("1.2.840.113549.2.8","hmacWithSHA224");Lt("1.2.840.113549.2.9","hmacWithSHA256");Lt("1.2.840.113549.2.10","hmacWithSHA384");Lt("1.2.840.113549.2.11","hmacWithSHA512");Lt("1.2.840.113549.3.7","des-EDE3-CBC");Lt("2.16.840.1.101.3.4.1.2","aes128-CBC");Lt("2.16.840.1.101.3.4.1.22","aes192-CBC");Lt("2.16.840.1.101.3.4.1.42","aes256-CBC");Lt("2.5.4.3","commonName");Lt("2.5.4.4","surname");Lt("2.5.4.5","serialNumber");Lt("2.5.4.6","countryName");Lt("2.5.4.7","localityName");Lt("2.5.4.8","stateOrProvinceName");Lt("2.5.4.9","streetAddress");Lt("2.5.4.10","organizationName");Lt("2.5.4.11","organizationalUnitName");Lt("2.5.4.12","title");Lt("2.5.4.13","description");Lt("2.5.4.15","businessCategory");Lt("2.5.4.17","postalCode");Lt("2.5.4.42","givenName");Lt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Lt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Lt("2.16.840.1.113730.1.1","nsCertType");Lt("2.16.840.1.113730.1.13","nsComment");fo("2.5.29.1","authorityKeyIdentifier");fo("2.5.29.2","keyAttributes");fo("2.5.29.3","certificatePolicies");fo("2.5.29.4","keyUsageRestriction");fo("2.5.29.5","policyMapping");fo("2.5.29.6","subtreesConstraint");fo("2.5.29.7","subjectAltName");fo("2.5.29.8","issuerAltName");fo("2.5.29.9","subjectDirectoryAttributes");fo("2.5.29.10","basicConstraints");fo("2.5.29.11","nameConstraints");fo("2.5.29.12","policyConstraints");fo("2.5.29.13","basicConstraints");Lt("2.5.29.14","subjectKeyIdentifier");Lt("2.5.29.15","keyUsage");fo("2.5.29.16","privateKeyUsagePeriod");Lt("2.5.29.17","subjectAltName");Lt("2.5.29.18","issuerAltName");Lt("2.5.29.19","basicConstraints");fo("2.5.29.20","cRLNumber");fo("2.5.29.21","cRLReason");fo("2.5.29.22","expirationDate");fo("2.5.29.23","instructionCode");fo("2.5.29.24","invalidityDate");fo("2.5.29.25","cRLDistributionPoints");fo("2.5.29.26","issuingDistributionPoint");fo("2.5.29.27","deltaCRLIndicator");fo("2.5.29.28","issuingDistributionPoint");fo("2.5.29.29","certificateIssuer");fo("2.5.29.30","nameConstraints");Lt("2.5.29.31","cRLDistributionPoints");Lt("2.5.29.32","certificatePolicies");fo("2.5.29.33","policyMappings");fo("2.5.29.34","policyConstraints");Lt("2.5.29.35","authorityKeyIdentifier");fo("2.5.29.36","policyConstraints");Lt("2.5.29.37","extKeyUsage");fo("2.5.29.46","freshestCRL");fo("2.5.29.54","inhibitAnyPolicy");Lt("1.3.6.1.4.1.11129.2.4.2","timestampList");Lt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Lt("1.3.6.1.5.5.7.3.1","serverAuth");Lt("1.3.6.1.5.5.7.3.2","clientAuth");Lt("1.3.6.1.5.5.7.3.3","codeSigning");Lt("1.3.6.1.5.5.7.3.4","emailProtection");Lt("1.3.6.1.5.5.7.3.8","timeStamping")});var Wm=V((MOr,hSe)=>{d();var ns=Jn();Ki();ty();var Ar=hSe.exports=ns.asn1=ns.asn1||{};Ar.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ar.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ar.create=function(e,t,r,n,i){if(ns.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||ns.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Ar.copy(l)),l};Ar.copy=function(e,t){var r;if(ns.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Ar.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Ar.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Ar.equals=function(e,t,r){if(ns.util.isArray(e)){if(!ns.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ar.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Ar.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Ar.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Vw(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(Vw,"_checkBufferLength");var kCt=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Vw(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ar.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=ns.util.createBuffer(e));var r=e.length(),n=PO(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function PO(e,t,r,n){var i;Vw(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=kCt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(Vw(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(PO(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(PO(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&c>1){var p=e.read,A=t,E=0;if(l===Ar.Type.BITSTRING&&(Vw(e,t,1),E=e.getByte(),t--),E===0)try{i=e.length();var x={strict:!0,decodeBitStrings:!0},v=PO(e,t,r+1,x),b=i-e.length();t-=b,l==Ar.Type.BITSTRING&&b++;var S=v.tagClass;b===c&&(S===Ar.Class.UNIVERSAL||S===Ar.Class.CONTEXT_SPECIFIC)&&(f=[v])}catch{}f===void 0&&(e.read=p,t=A)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Ar.Type.BMPSTRING)for(f="";c>0;c-=2)Vw(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var k=m===void 0?null:{bitStringContents:m};return Ar.create(a,l,h,f,k)}o(PO,"_fromDer");Ar.toDer=function(e){var t=ns.util.createBuffer(),r=e.tagClass|e.type,n=ns.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Ar.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(Ar.toDer(e.value[s]))}else if(e.type===Ar.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===Ar.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};Ar.oidToDer=function(e){var t=e.split("."),r=ns.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Ar.derToOid=function(e){var t;typeof e=="string"&&(e=ns.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Ar.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Ar.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),A=parseInt(e.substr(m+4,2),10);u=p*60+A,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};Ar.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.integerToDer=function(e){var t=ns.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Ar.derToInteger=function(e){typeof e=="string"&&(e=ns.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Ar.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&ns.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=Ar.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var mSe=/[^\\u0000-\\u00ff]/;Ar.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Ar.Class.UNIVERSAL:n+="Universal:";break;case Ar.Class.APPLICATION:n+="Application:";break;case Ar.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ar.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Ar.Class.UNIVERSAL)switch(n+=e.type,e.type){case Ar.Type.NONE:n+=" (None)";break;case Ar.Type.BOOLEAN:n+=" (Boolean)";break;case Ar.Type.INTEGER:n+=" (Integer)";break;case Ar.Type.BITSTRING:n+=" (Bit string)";break;case Ar.Type.OCTETSTRING:n+=" (Octet string)";break;case Ar.Type.NULL:n+=" (Null)";break;case Ar.Type.OID:n+=" (Object Identifier)";break;case Ar.Type.ODESC:n+=" (Object Descriptor)";break;case Ar.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ar.Type.REAL:n+=" (Real)";break;case Ar.Type.ENUMERATED:n+=" (Enumerated)";break;case Ar.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ar.Type.UTF8:n+=" (UTF8)";break;case Ar.Type.ROID:n+=" (Relative Object Identifier)";break;case Ar.Type.SEQUENCE:n+=" (Sequence)";break;case Ar.Type.SET:n+=" (Set)";break;case Ar.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ar.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ar.Type.UTCTIME:n+=" (UTC time)";break;case Ar.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ar.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=Ar.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===Ar.Type.OID){var c=Ar.derToOid(e.value);n+=c,ns.pki&&ns.pki.oids&&c in ns.pki.oids&&(n+=" ("+ns.pki.oids[c]+") ")}if(e.type===Ar.Type.INTEGER)try{n+=Ar.derToInteger(e.value)}catch{n+="0x"+ns.util.bytesToHex(e.value)}else if(e.type===Ar.Type.BITSTRING){if(e.value.length>1?n+="0x"+ns.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Ar.Type.OCTETSTRING)mSe.test(e.value)||(n+="("+e.value+") "),n+="0x"+ns.util.bytesToHex(e.value);else if(e.type===Ar.Type.UTF8)try{n+=ns.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+ns.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===Ar.Type.PRINTABLESTRING||e.type===Ar.Type.IA5String?n+=e.value:mSe.test(e.value)?n+="0x"+ns.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Sp=V((qOr,pSe)=>{d();var NO=Jn();pSe.exports=NO.md=NO.md||{};NO.md.algorithms=NO.md.algorithms||{}});var XI=V((WOr,gSe)=>{d();var N1=Jn();Sp();Ki();var RCt=gSe.exports=N1.hmac=N1.hmac||{};RCt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in N1.md.algorithms)t=N1.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=N1.util.createBuffer(a);else if(N1.util.isArray(a)){var l=a;a=N1.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=N1.util.createBuffer(),n=N1.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var LO=V((VOr,ESe)=>{d();var Bp=Jn();Sp();Ki();var ySe=ESe.exports=Bp.md5=Bp.md5||{};Bp.md.md5=Bp.md.algorithms.md5=ySe;ySe.create=function(){CSe||DCt();var e=null,t=Bp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Bp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Bp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),ASe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Bp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(eie.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};ASe(f,r,i);var m=Bp.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var eie=null,FO=null,jw=null,ZI=null,CSe=!1;function DCt(){eie="\x80",eie+=Bp.util.fillString("\0",64),FO=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],jw=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],ZI=new Array(64);for(var e=0;e<64;++e)ZI[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);CSe=!0}o(DCt,"_init");function ASe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+ZI[f]+t[f],u=jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+ZI[f]+t[FO[f]],u=jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+ZI[f]+t[FO[f]],u=jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+ZI[f]+t[FO[f]],u=jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(ASe,"_update")});var D4=V((zOr,bSe)=>{d();var MO=Jn();Ki();var xSe=bSe.exports=MO.pem=MO.pem||{};xSe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=QO(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=QO(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=QO(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=QO(e.headers[i]);return e.procType&&(r+=`\r
`),r+=MO.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};xSe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:MO.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},A=s[2].split(","),E=0;E<A.length;++E)p.values.push(PCt(A[E]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=A[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:A[0],parameters:A[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:A[0],type:A[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function QO(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(QO,"foldHeader");function PCt(e){return e.replace(/^\s+/,"")}o(PCt,"ltrim")});var $w=V((JOr,ISe)=>{d();var bs=Jn();BO();Yne();Ki();ISe.exports=bs.des=bs.des||{};bs.des.startEncrypting=function(e,t,r,n){var i=OO({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};bs.des.createEncryptionCipher=function(e,t){return OO({key:e,output:null,decrypt:!1,mode:t})};bs.des.startDecrypting=function(e,t,r,n){var i=OO({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};bs.des.createDecryptionCipher=function(e,t){return OO({key:e,output:null,decrypt:!0,mode:t})};bs.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return vSe(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return vSe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};bs.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=bs.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=GCt(t),this._init=!0}};kp("DES-ECB",bs.cipher.modes.ecb);kp("DES-CBC",bs.cipher.modes.cbc);kp("DES-CFB",bs.cipher.modes.cfb);kp("DES-OFB",bs.cipher.modes.ofb);kp("DES-CTR",bs.cipher.modes.ctr);kp("3DES-ECB",bs.cipher.modes.ecb);kp("3DES-CBC",bs.cipher.modes.cbc);kp("3DES-CFB",bs.cipher.modes.cfb);kp("3DES-OFB",bs.cipher.modes.ofb);kp("3DES-CTR",bs.cipher.modes.ctr);function kp(e,t){var r=o(function(){return new bs.des.Algorithm(e,t)},"factory");bs.cipher.registerAlgorithm(e,r)}o(kp,"registerAlgorithm");var NCt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],FCt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],LCt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],QCt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],MCt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],OCt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],UCt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],qCt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function GCt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=e.length()>8?3:1,x=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,S,k=0;k<E;k++){var P=e.getInt32(),N=e.getInt32();S=(P>>>4^N)&252645135,N^=S,P^=S<<4,S=(N>>>-16^P)&65535,P^=S,N^=S<<-16,S=(P>>>2^N)&858993459,N^=S,P^=S<<2,S=(N>>>-16^P)&65535,P^=S,N^=S<<-16,S=(P>>>1^N)&1431655765,N^=S,P^=S<<1,S=(N>>>8^P)&16711935,P^=S,N^=S<<8,S=(P>>>1^N)&1431655765,N^=S,P^=S<<1,S=P<<8|N>>>20&240,P=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=S;for(var W=0;W<v.length;++W){v[W]?(P=P<<2|P>>>26,N=N<<2|N>>>26):(P=P<<1|P>>>27,N=N<<1|N>>>27),P&=-15,N&=-15;var te=t[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|l[P>>>4&15],ge=c[N>>>28]|u[N>>>24&15]|f[N>>>20&15]|m[N>>>16&15]|h[N>>>12&15]|p[N>>>8&15]|A[N>>>4&15];S=(ge>>>16^te)&65535,x[b++]=te^S,x[b++]=ge^S<<16}}return x}o(GCt,"_createKeys");function vSe(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],A=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(FCt[p>>>24&63]|QCt[p>>>16&63]|OCt[p>>>8&63]|qCt[p&63]|NCt[A>>>24&63]|LCt[A>>>16&63]|MCt[A>>>8&63]|UCt[A&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(vSe,"_updateBlock");function OO(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=bs.cipher.createDecipher(r,e.key):n=bs.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof bs.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(OO,"_createCipher")});var UO=V((eUr,TSe)=>{d();var V0=Jn();XI();Sp();Ki();var WCt=V0.pkcs5=V0.pkcs5||{},F1;V0.util.isNodejs&&!V0.options.usePureJavaScript&&(F1=require("crypto"));TSe.exports=V0.pbkdf2=WCt.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),V0.util.isNodejs&&!V0.options.usePureJavaScript&&F1.pbkdf2&&(i===null||typeof i!="object")&&(F1.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?F1.pbkdf2Sync.length===4?F1.pbkdf2(e,t,r,n,function(S,k){if(S)return s(S);s(null,k.toString("binary"))}):F1.pbkdf2(e,t,r,n,i,function(S,k){if(S)return s(S);s(null,k.toString("binary"))}):F1.pbkdf2Sync.length===4?F1.pbkdf2Sync(e,t,r,n).toString("binary"):F1.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in V0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=V0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=V0.hmac.create();f.start(i,e);var m="",h,p,A;if(!s){for(var E=1;E<=c;++E){f.start(null,null),f.update(t),f.update(V0.util.int32ToBytes(E)),h=A=f.digest().getBytes();for(var x=2;x<=r;++x)f.start(null,null),f.update(A),p=f.digest().getBytes(),h=V0.util.xorBytes(h,p,a),A=p;m+=E<c?h:h.substr(0,u)}return m}var E=1,x;function v(){if(E>c)return s(null,m);f.start(null,null),f.update(t),f.update(V0.util.int32ToBytes(E)),h=A=f.digest().getBytes(),x=2,b()}o(v,"outer");function b(){if(x<=r)return f.start(null,null),f.update(A),p=f.digest().getBytes(),h=V0.util.xorBytes(h,p,a),A=p,++x,V0.util.setImmediate(b);m+=E<c?h:h.substr(0,u),++E,v()}o(b,"inner"),v()}});var rie=V((nUr,kSe)=>{d();var Rp=Jn();Sp();Ki();var _Se=kSe.exports=Rp.sha256=Rp.sha256||{};Rp.md.sha256=Rp.md.algorithms.sha256=_Se;_Se.create=function(){SSe||HCt();var e=null,t=Rp.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Rp.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Rp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),wSe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Rp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(tie.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};wSe(m,r,i);var h=Rp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var tie=null,SSe=!1,BSe=null;function HCt(){tie="\x80",tie+=Rp.util.fillString("\0",64),BSe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],SSe=!0}o(HCt,"_init");function wSe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,E,x,v,b=r.length();b>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,A=e.h4,E=e.h5,x=e.h6,v=e.h7,u=0;u<64;++u)a=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),l=x^A&(E^x),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=v+a+l+BSe[u]+t[u],i=s+c,v=x,x=E,E=A,A=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+A|0,e.h5=e.h5+E|0,e.h6=e.h6+x|0,e.h7=e.h7+v|0,b-=64}}o(wSe,"_update")});var nie=V((sUr,RSe)=>{d();var Dp=Jn();Ki();var qO=null;Dp.util.isNodejs&&!Dp.options.usePureJavaScript&&!process.versions["node-webkit"]&&(qO=require("crypto"));var VCt=RSe.exports=Dp.prng=Dp.prng||{};VCt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,A=t.plugin.formatSeed,E=Dp.util.createBuffer();t.key=null,x();function x(v){if(v)return f(v);if(E.length()>=u)return f(null,E.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Dp.util.nextTick(function(){s(x)});var b=m(t.key,t.seed);t.generated+=b.length,E.putBytes(b),t.key=p(m(t.key,h(t.seed))),t.seed=A(m(t.key,t.seed)),Dp.util.setImmediate(x)}o(x,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var A=Dp.util.createBuffer();A.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var E=f(t.key,t.seed);t.generated+=E.length,A.putBytes(E),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return A.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=Dp.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(P){return h.getRandomValues(P)},"getRandomValues"));var p=Dp.util.createBuffer();if(f)for(;p.length()<u;){var A=Math.max(1,Math.min(u-p.length(),65536)/4),E=new Uint32Array(Math.floor(A));try{f(E);for(var x=0;x<E.length;++x)p.putInt32(E[x])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(p.length()<u)for(var v,b,S,k=Math.floor(Math.random()*65536);p.length()<u;){b=16807*(k&65535),v=16807*(k>>16),b+=(v&32767)<<16,b+=v>>15,b=(b&2147483647)+(b>>31),k=b&4294967295;for(var x=0;x<3;++x)S=k>>>(x<<3),S^=Math.floor(Math.random()*256),p.putByte(S&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),qO?(t.seedFile=function(u,f){qO.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return qO.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(A){var E=A.data;E.forge&&E.forge.prng&&(self.removeEventListener("message",p),h(E.forge.prng.err,E.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,A){u.postMessage({forge:{prng:{err:p,bytes:A}}})})},"listener");u.addEventListener("message",f)}},t}});var hd=V((cUr,iie)=>{d();var bl=Jn();ey();rie();nie();Ki();(function(){if(bl.random&&bl.random.getBytes){iie.exports=bl.random;return}(function(e){var t={},r=new Array(4),n=bl.util.createBuffer();t.formatKey=function(m){var h=bl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),bl.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=bl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return bl.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=bl.md.sha256;function i(){var m=bl.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=bl.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),bl.options.usePureJavaScript||!bl.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!bl.random)bl.random=s;else for(var f in s)bl.random[f]=s[f];bl.random.createInstance=i,iie.exports=bl.random})(typeof jQuery<"u"?jQuery:null)})()});var sie=V((dUr,NSe)=>{d();var Uc=Jn();Ki();var oie=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],DSe=[1,2,3,5],jCt=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),$Ct=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");NSe.exports=Uc.rc2=Uc.rc2||{};Uc.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Uc.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(oie[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,oie[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,oie[r.at(l+1)^r.at(l+s)]);return r};var PSe=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=Uc.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(A){for(u=0;u<4;u++)A[u]+=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),A[u]=jCt(A[u],DSe[u]),f++},"mixRound"),c=o(function(A){for(u=0;u<4;u++)A[u]+=m[A[(u+3)%4]&63]},"mashRound")):(l=o(function(A){for(u=3;u>=0;u--)A[u]=$Ct(A[u],DSe[u]),A[u]-=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),f--},"mixRound"),c=o(function(A){for(u=3;u>=0;u--)A[u]-=m[A[(u+3)%4]&63]},"mashRound"));var h=o(function(A){var E=[];for(u=0;u<4;u++){var x=i.getInt16Le();a!==null&&(r?x^=a.getInt16Le():a.putInt16Le(x)),E.push(x&65535)}f=r?0:63;for(var v=0;v<A.length;v++)for(var b=0;b<A[v][0];b++)A[v][1](E);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(E[u]):E[u]^=a.getInt16Le()),s.putInt16Le(E[u])},"runPlan"),p=null;return p={start:o(function(A,E){A&&typeof A=="string"&&(A=Uc.util.createBuffer(A)),n=!1,i=Uc.util.createBuffer(),s=E||new Uc.util.createBuffer,a=A,p.output=s},"start"),update:o(function(A){for(n||i.putBuffer(A);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(A){var E=!0;if(r)if(A)E=A(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(E&&(n=!0,p.update()),!r&&(E=i.length()===0,E))if(A)E=A(8,s,!r);else{var v=s.length(),b=s.at(v-1);b>v?E=!1:s.truncate(b)}return E},"finish")},p},"createCipher");Uc.rc2.startEncrypting=function(e,t,r){var n=Uc.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Uc.rc2.createEncryptionCipher=function(e,t){return PSe(e,t,!0)};Uc.rc2.startDecrypting=function(e,t,r){var n=Uc.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Uc.rc2.createDecryptionCipher=function(e,t){return PSe(e,t,!1)}});var Yw=V((pUr,GSe)=>{d();var aie=Jn();GSe.exports=aie.jsbn=aie.jsbn||{};var L1,zCt=0xdeadbeefcafe,FSe=(zCt&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(Bt,"BigInteger");aie.jsbn.BigInteger=Bt;function Ji(){return new Bt(null)}o(Ji,"nbi");function YCt(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(YCt,"am1");function KCt(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(KCt,"am2");function LSe(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(LSe,"am3");typeof navigator>"u"?(Bt.prototype.am=LSe,L1=28):FSe&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=KCt,L1=30):FSe&&navigator.appName!="Netscape"?(Bt.prototype.am=YCt,L1=26):(Bt.prototype.am=LSe,L1=28);Bt.prototype.DB=L1;Bt.prototype.DM=(1<<L1)-1;Bt.prototype.DV=1<<L1;var lie=52;Bt.prototype.FV=Math.pow(2,lie);Bt.prototype.F1=lie-L1;Bt.prototype.F2=2*L1-lie;var JCt="0123456789abcdefghijklmnopqrstuvwxyz",GO=new Array,e8,pd;e8=48;for(pd=0;pd<=9;++pd)GO[e8++]=pd;e8=97;for(pd=10;pd<36;++pd)GO[e8++]=pd;e8=65;for(pd=10;pd<36;++pd)GO[e8++]=pd;function QSe(e){return JCt.charAt(e)}o(QSe,"int2char");function MSe(e,t){var r=GO[e.charCodeAt(t)];return r??-1}o(MSe,"intAt");function XCt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(XCt,"bnpCopyTo");function ZCt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(ZCt,"bnpFromInt");function ry(e){var t=Ji();return t.fromInt(e),t}o(ry,"nbv");function e4t(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:MSe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}o(e4t,"bnpFromString");function t4t(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(t4t,"bnpClamp");function r4t(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=QSe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=QSe(n));return i?s:"0"}o(r4t,"bnToString");function n4t(){var e=Ji();return Bt.ZERO.subTo(this,e),e}o(n4t,"bnNegate");function i4t(){return this.s<0?this.negate():this}o(i4t,"bnAbs");function o4t(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(o4t,"bnCompareTo");function WO(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(WO,"nbits");function s4t(){return this.t<=0?0:this.DB*(this.t-1)+WO(this.data[this.t-1]^this.s&this.DM)}o(s4t,"bnBitLength");function a4t(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(a4t,"bnpDLShiftTo");function l4t(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(l4t,"bnpDRShiftTo");function c4t(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(c4t,"bnpLShiftTo");function u4t(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(u4t,"bnpRShiftTo");function f4t(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(f4t,"bnpSubTo");function d4t(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}o(d4t,"bnpMultiplyTo");function m4t(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(m4t,"bnpSquareTo");function h4t(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ji());var s=Ji(),a=this.s,l=e.s,c=this.DB-WO(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,A=1<<this.F2,E=r.t,x=E-u,v=t??Ji();for(s.dlShiftTo(x,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),Bt.ONE.dlShiftTo(u,v),v.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--x>=0;){var b=r.data[--E]==f?this.DM:Math.floor(r.data[E]*h+(r.data[E-1]+A)*p);if((r.data[E]+=s.am(0,b,r,x,0,u))<b)for(s.dlShiftTo(x,v),r.subTo(v,r);r.data[E]<--b;)r.subTo(v,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}o(h4t,"bnpDivRemTo");function p4t(e){var t=Ji();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}o(p4t,"bnMod");function P4(e){this.m=e}o(P4,"Classic");function g4t(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(g4t,"cConvert");function A4t(e){return e}o(A4t,"cRevert");function y4t(e){e.divRemTo(this.m,null,e)}o(y4t,"cReduce");function C4t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(C4t,"cMulTo");function E4t(e,t){e.squareTo(t),this.reduce(t)}o(E4t,"cSqrTo");P4.prototype.convert=g4t;P4.prototype.revert=A4t;P4.prototype.reduce=y4t;P4.prototype.mulTo=C4t;P4.prototype.sqrTo=E4t;function x4t(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(x4t,"bnpInvDigit");function N4(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(N4,"Montgomery");function b4t(e){var t=Ji();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}o(b4t,"montConvert");function v4t(e){var t=Ji();return e.copyTo(t),this.reduce(t),t}o(v4t,"montRevert");function I4t(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(I4t,"montReduce");function T4t(e,t){e.squareTo(t),this.reduce(t)}o(T4t,"montSqrTo");function w4t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(w4t,"montMulTo");N4.prototype.convert=b4t;N4.prototype.revert=v4t;N4.prototype.reduce=I4t;N4.prototype.mulTo=w4t;N4.prototype.sqrTo=T4t;function _4t(){return(this.t>0?this.data[0]&1:this.s)==0}o(_4t,"bnpIsEven");function S4t(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=Ji(),n=Ji(),i=t.convert(this),s=WO(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(S4t,"bnpExp");function B4t(e,t){var r;return e<256||t.isEven()?r=new P4(t):r=new N4(t),this.exp(e,r)}o(B4t,"bnModPowInt");Bt.prototype.copyTo=XCt;Bt.prototype.fromInt=ZCt;Bt.prototype.fromString=e4t;Bt.prototype.clamp=t4t;Bt.prototype.dlShiftTo=a4t;Bt.prototype.drShiftTo=l4t;Bt.prototype.lShiftTo=c4t;Bt.prototype.rShiftTo=u4t;Bt.prototype.subTo=f4t;Bt.prototype.multiplyTo=d4t;Bt.prototype.squareTo=m4t;Bt.prototype.divRemTo=h4t;Bt.prototype.invDigit=x4t;Bt.prototype.isEven=_4t;Bt.prototype.exp=S4t;Bt.prototype.toString=r4t;Bt.prototype.negate=n4t;Bt.prototype.abs=i4t;Bt.prototype.compareTo=o4t;Bt.prototype.bitLength=s4t;Bt.prototype.mod=p4t;Bt.prototype.modPowInt=B4t;Bt.ZERO=ry(0);Bt.ONE=ry(1);function k4t(){var e=Ji();return this.copyTo(e),e}o(k4t,"bnClone");function R4t(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(R4t,"bnIntValue");function D4t(){return this.t==0?this.s:this.data[0]<<24>>24}o(D4t,"bnByteValue");function P4t(){return this.t==0?this.s:this.data[0]<<16>>16}o(P4t,"bnShortValue");function N4t(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(N4t,"bnpChunkSize");function F4t(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(F4t,"bnSigNum");function L4t(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=ry(r),i=Ji(),s=Ji(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(L4t,"bnpToRadix");function Q4t(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=MSe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}o(Q4t,"bnpFromRadix");function M4t(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),cie,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(M4t,"bnpFromNumber");function O4t(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(O4t,"bnToByteArray");function U4t(e){return this.compareTo(e)==0}o(U4t,"bnEquals");function q4t(e){return this.compareTo(e)<0?this:e}o(q4t,"bnMin");function G4t(e){return this.compareTo(e)>0?this:e}o(G4t,"bnMax");function W4t(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(W4t,"bnpBitwiseTo");function H4t(e,t){return e&t}o(H4t,"op_and");function V4t(e){var t=Ji();return this.bitwiseTo(e,H4t,t),t}o(V4t,"bnAnd");function cie(e,t){return e|t}o(cie,"op_or");function j4t(e){var t=Ji();return this.bitwiseTo(e,cie,t),t}o(j4t,"bnOr");function OSe(e,t){return e^t}o(OSe,"op_xor");function $4t(e){var t=Ji();return this.bitwiseTo(e,OSe,t),t}o($4t,"bnXor");function USe(e,t){return e&~t}o(USe,"op_andnot");function z4t(e){var t=Ji();return this.bitwiseTo(e,USe,t),t}o(z4t,"bnAndNot");function Y4t(){for(var e=Ji(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(Y4t,"bnNot");function K4t(e){var t=Ji();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(K4t,"bnShiftLeft");function J4t(e){var t=Ji();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(J4t,"bnShiftRight");function X4t(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(X4t,"lbit");function Z4t(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+X4t(this.data[e]);return this.s<0?this.t*this.DB:-1}o(Z4t,"bnGetLowestSetBit");function eEt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(eEt,"cbit");function tEt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=eEt(this.data[r]^t);return e}o(tEt,"bnBitCount");function rEt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(rEt,"bnTestBit");function nEt(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(nEt,"bnpChangeBit");function iEt(e){return this.changeBit(e,cie)}o(iEt,"bnSetBit");function oEt(e){return this.changeBit(e,USe)}o(oEt,"bnClearBit");function sEt(e){return this.changeBit(e,OSe)}o(sEt,"bnFlipBit");function aEt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(aEt,"bnpAddTo");function lEt(e){var t=Ji();return this.addTo(e,t),t}o(lEt,"bnAdd");function cEt(e){var t=Ji();return this.subTo(e,t),t}o(cEt,"bnSubtract");function uEt(e){var t=Ji();return this.multiplyTo(e,t),t}o(uEt,"bnMultiply");function fEt(e){var t=Ji();return this.divRemTo(e,t,null),t}o(fEt,"bnDivide");function dEt(e){var t=Ji();return this.divRemTo(e,null,t),t}o(dEt,"bnRemainder");function mEt(e){var t=Ji(),r=Ji();return this.divRemTo(e,t,r),new Array(t,r)}o(mEt,"bnDivideAndRemainder");function hEt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(hEt,"bnpDMultiply");function pEt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(pEt,"bnpDAddOffset");function zw(){}o(zw,"NullExp");function qSe(e){return e}o(qSe,"nNop");function gEt(e,t,r){e.multiplyTo(t,r)}o(gEt,"nMulTo");function AEt(e,t){e.squareTo(t)}o(AEt,"nSqrTo");zw.prototype.convert=qSe;zw.prototype.revert=qSe;zw.prototype.mulTo=gEt;zw.prototype.sqrTo=AEt;function yEt(e){return this.exp(e,new zw)}o(yEt,"bnPow");function CEt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(CEt,"bnpMultiplyLowerTo");function EEt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(EEt,"bnpMultiplyUpperTo");function t8(e){this.r2=Ji(),this.q3=Ji(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(t8,"Barrett");function xEt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ji();return e.copyTo(t),this.reduce(t),t}o(xEt,"barrettConvert");function bEt(e){return e}o(bEt,"barrettRevert");function vEt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(vEt,"barrettReduce");function IEt(e,t){e.squareTo(t),this.reduce(t)}o(IEt,"barrettSqrTo");function TEt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(TEt,"barrettMulTo");t8.prototype.convert=xEt;t8.prototype.revert=bEt;t8.prototype.reduce=vEt;t8.prototype.mulTo=TEt;t8.prototype.sqrTo=IEt;function wEt(e,t){var r=e.bitLength(),n,i=ry(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new P4(t):t.isEven()?s=new t8(t):s=new N4(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=Ji();for(s.sqrTo(a[1],f);l<=u;)a[l]=Ji(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,A=Ji(),E;for(r=WO(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,A),s.sqrTo(A,i),l-=2;l>0?s.sqrTo(i,A):(E=i,i=A,A=E),s.mulTo(A,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,A),E=i,i=A,A=E,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(wEt,"bnModPow");function _Et(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(_Et,"bnGCD");function SEt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(SEt,"bnpModInt");function BEt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=ry(1),s=ry(0),a=ry(0),l=ry(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(BEt,"bnModInverse");var Hm=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],kEt=(1<<26)/Hm[Hm.length-1];function REt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Hm[Hm.length-1]){for(t=0;t<Hm.length;++t)if(r.data[0]==Hm[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Hm.length;){for(var n=Hm[t],i=t+1;i<Hm.length&&n<kEt;)n*=Hm[i++];for(n=r.modInt(n);t<i;)if(n%Hm[t++]==0)return!1}return r.millerRabin(e)}o(REt,"bnIsProbablePrime");function DEt(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=PEt(),s,a=0;a<e;++a){do s=new Bt(this.bitLength(),i);while(s.compareTo(Bt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(DEt,"bnpMillerRabin");function PEt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(PEt,"bnGetPrng");Bt.prototype.chunkSize=N4t;Bt.prototype.toRadix=L4t;Bt.prototype.fromRadix=Q4t;Bt.prototype.fromNumber=M4t;Bt.prototype.bitwiseTo=W4t;Bt.prototype.changeBit=nEt;Bt.prototype.addTo=aEt;Bt.prototype.dMultiply=hEt;Bt.prototype.dAddOffset=pEt;Bt.prototype.multiplyLowerTo=CEt;Bt.prototype.multiplyUpperTo=EEt;Bt.prototype.modInt=SEt;Bt.prototype.millerRabin=DEt;Bt.prototype.clone=k4t;Bt.prototype.intValue=R4t;Bt.prototype.byteValue=D4t;Bt.prototype.shortValue=P4t;Bt.prototype.signum=F4t;Bt.prototype.toByteArray=O4t;Bt.prototype.equals=U4t;Bt.prototype.min=q4t;Bt.prototype.max=G4t;Bt.prototype.and=V4t;Bt.prototype.or=j4t;Bt.prototype.xor=$4t;Bt.prototype.andNot=z4t;Bt.prototype.not=Y4t;Bt.prototype.shiftLeft=K4t;Bt.prototype.shiftRight=J4t;Bt.prototype.getLowestSetBit=Z4t;Bt.prototype.bitCount=tEt;Bt.prototype.testBit=rEt;Bt.prototype.setBit=iEt;Bt.prototype.clearBit=oEt;Bt.prototype.flipBit=sEt;Bt.prototype.add=lEt;Bt.prototype.subtract=cEt;Bt.prototype.multiply=uEt;Bt.prototype.divide=fEt;Bt.prototype.remainder=dEt;Bt.prototype.divideAndRemainder=mEt;Bt.prototype.modPow=wEt;Bt.prototype.modInverse=BEt;Bt.prototype.pow=yEt;Bt.prototype.gcd=_Et;Bt.prototype.isProbablePrime=REt});var r8=V((yUr,jSe)=>{d();var Pp=Jn();Sp();Ki();var HSe=jSe.exports=Pp.sha1=Pp.sha1||{};Pp.md.sha1=Pp.md.algorithms.sha1=HSe;HSe.create=function(){VSe||NEt();var e=null,t=Pp.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Pp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Pp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),WSe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Pp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(uie.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};WSe(m,r,i);var h=Pp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var uie=null,VSe=!1;function NEt(){uie="\x80",uie+=Pp.util.fillString("\0",64),VSe=!0}o(NEt,"_init");function WSe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o(WSe,"_update")});var fie=V((xUr,zSe)=>{d();var Np=Jn();Ki();hd();r8();var $Se=zSe.exports=Np.pkcs1=Np.pkcs1||{};$Se.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=Np.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var A=f.getBytes()+m+""+t;if(!i)i=Np.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var E=HO(i,l-s.digestLength-1,a),x=Np.util.xorBytes(A,E,A.length),v=HO(x,s.digestLength,a),b=Np.util.xorBytes(i,v,i.length);return"\0"+b+x};$Se.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=t.length,x.expectedLength=a,x}if(i===void 0?i=Np.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=HO(f,i.digestLength,s),h=Np.util.xorBytes(u,m,u.length),p=HO(h,a-i.digestLength-1,s),A=Np.util.xorBytes(f,p,f.length),E=A.substring(0,i.digestLength),x=c!=="\0",v=0;v<i.digestLength;++v)x|=l.charAt(v)!==E.charAt(v);for(var b=1,S=i.digestLength,k=i.digestLength;k<A.length;k++){var P=A.charCodeAt(k),N=P&1^1,W=b?65534:0;x|=P&W,b=b&N,S+=b}if(x||A.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(S+1)};function HO(e,t,r){r||(r=Np.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(HO,"rsa_mgf1")});var mie=V((IUr,die)=>{d();var ny=Jn();Ki();Yw();hd();(function(){if(ny.prime){die.exports=ny.prime;return}var e=die.exports=ny.prime=ny.prime||{},t=ny.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var A=h.algorithm||"PRIMEINC";typeof A=="string"&&(A={name:A}),A.options=A.options||{};var E=h.prng||ny.random,x={nextBytes:o(function(v){for(var b=E.getBytesSync(v.length),S=0;S<v.length;++S)v[S]=b.charCodeAt(S)},"nextBytes")};if(A.name==="PRIMEINC")return s(m,x,A.options,p);throw new Error("Invalid prime generation algorithm: "+A.name)};function s(m,h,p,A){return"workers"in p?c(m,h,p,A):a(m,h,p,A)}o(s,"primeincFindPrime");function a(m,h,p,A){var E=u(m,h),x=0,v=f(E.bitLength());"millerRabinTests"in p&&(v=p.millerRabinTests);var b=10;"maxBlockTime"in p&&(b=p.maxBlockTime),l(E,m,h,x,v,b,A)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,A,E,x,v){var b=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(E))return v(null,m);m.dAddOffset(r[A++%8],0)}while(x<0||+new Date-b<x);ny.util.setImmediate(function(){l(m,h,p,A,E,x,v)})}o(l,"_primeinc");function c(m,h,p,A){if(typeof Worker>"u")return a(m,h,p,A);var E=u(m,h),x=p.workers,v=p.workLoad||100,b=v*30/8,S=p.workerScript||"forge/prime.worker.js";if(x===-1)return ny.util.estimateCores(function(P,N){P&&(N=2),x=N-1,k()});k();function k(){x=Math.max(1,x);for(var P=[],N=0;N<x;++N)P[N]=new Worker(S);for(var W=x,N=0;N<x;++N)P[N].addEventListener("message",ge);var te=!1;function ge(re){if(!te){--W;var G=re.data;if(G.found){for(var q=0;q<P.length;++q)P[q].terminate();return te=!0,A(null,new t(G.prime,16))}E.bitLength()>m&&(E=u(m,h));var se=E.toString(16);re.target.postMessage({hex:se,workLoad:v}),E.dAddOffset(b,0)}}o(ge,"workerMessage")}o(k,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),A=m-1;return p.testBit(A)||p.bitwiseTo(t.ONE.shiftLeft(A),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var Kw=V((_Ur,tBe)=>{d();var Xr=Jn();Wm();Yw();ty();fie();mie();hd();Ki();typeof qi>"u"&&(qi=Xr.jsbn.BigInteger);var qi,hie=Xr.util.isNodejs?require("crypto"):null,$e=Xr.asn1,gd=Xr.util;Xr.pki=Xr.pki||{};tBe.exports=Xr.pki.rsa=Xr.rsa=Xr.rsa||{};var On=Xr.pki,FEt=[6,4,2,4,2,4,6,2],LEt={name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},QEt={name:"RSAPrivateKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},MEt={name:"RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},OEt=Xr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},UEt={name:"DigestInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$e.Class.UNIVERSAL,type:$e.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},qEt=o(function(e){var t;if(e.algorithm in On.oids)t=On.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$e.oidToDer(t).getBytes(),i=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]),s=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]);s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,n)),s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,""));var a=$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),$e.toDer(i).getBytes()},"emsaPkcs1v15encode"),ZSe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(qi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(qi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new qi(Xr.util.bytesToHex(Xr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(qi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");On.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=eBe(e,t,r)):(i=Xr.util.createBuffer(),i.putBytes(e));for(var a=new qi(i.toHex(),16),l=ZSe(a,t,n),c=l.toString(16),u=Xr.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),u.getBytes()};On.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new qi(Xr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=ZSe(a,t,r),c=l.toString(16),u=Xr.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),n!==!1?VO(u.getBytes(),t,r):u.getBytes()};On.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Xr.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new qi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};On.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new qi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new qi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(qi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(WEt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(FEt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(qi.ONE).gcd(e.e).compareTo(qi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(qi.ONE),e.q1=e.q.subtract(qi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(qi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:On.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:On.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};On.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Xr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(YSe("generateKeyPair"))return hie.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:On.privateKeyFromPem(u),publicKey:On.publicKeyFromPem(c)})});if(KSe("generateKey")&&KSe("exportKey"))return gd.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:XSe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return gd.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=On.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(l)));n(null,{privateKey:c,publicKey:On.setRsaPublicKey(c.n,c.e)})}});if(JSe("generateKey")&&JSe("exportKey")){var i=gd.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:XSe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=gd.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=On.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(m)));n(null,{privateKey:h,publicKey:On.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(YSe("generateKeyPairSync")){var s=hie.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:On.privateKeyFromPem(s.privateKey),publicKey:On.publicKeyFromPem(s.publicKey)}}}var a=On.rsa.createKeyPairGenerationState(e,t,r);if(!n)return On.rsa.stepKeyPairGenerationState(a,0),a.keys;GEt(a,r,n)};On.setRsaPublicKey=On.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return eBe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return Xr.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return On.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=VO(u,r,!0);var f=$e.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!$e.validate(f,UEt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var A=$e.derToOid(m.algorithmIdentifier);if(!(A===Xr.oids.md2||A===Xr.oids.md5||A===Xr.oids.sha1||A===Xr.oids.sha224||A===Xr.oids.sha256||A===Xr.oids.sha384||A===Xr.oids.sha512||A===Xr.oids["sha512-224"]||A===Xr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=A,p}if((A===Xr.oids.md2||A===Xr.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=VO(u,r,!0),c===u},"verify")});var l=On.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};On.setRsaPrivateKey=On.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=On.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:VO};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,A){return Xr.pkcs1.decode_rsa_oaep(A,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:qEt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return On.rsa.encrypt(h,c,m)},c};On.wrapRsaPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(On.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,$e.toDer(e).getBytes())])};On.privateKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,LEt,t,r)&&(e=$e.fromDer(Xr.util.createBuffer(t.privateKey))),t={},r=[],!$e.validate(e,QEt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=Xr.util.createBuffer(t.privateKeyModulus).toHex(),s=Xr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Xr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=Xr.util.createBuffer(t.privateKeyPrime1).toHex(),c=Xr.util.createBuffer(t.privateKeyPrime2).toHex(),u=Xr.util.createBuffer(t.privateKeyExponent1).toHex(),f=Xr.util.createBuffer(t.privateKeyExponent2).toHex(),m=Xr.util.createBuffer(t.privateKeyCoefficient).toHex(),On.setRsaPrivateKey(new qi(i,16),new qi(s,16),new qi(a,16),new qi(l,16),new qi(c,16),new qi(u,16),new qi(f,16),new qi(m,16))};On.privateKeyToAsn1=On.privateKeyToRSAPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.e)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.d)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.p)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.q)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.dP)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.dQ)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.qInv))])};On.publicKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,OEt,t,r)){var n=$e.derToOid(t.publicKeyOid);if(n!==On.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$e.validate(e,MEt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Xr.util.createBuffer(t.publicKeyModulus).toHex(),a=Xr.util.createBuffer(t.publicKeyExponent).toHex();return On.setRsaPublicKey(new qi(s,16),new qi(a,16))};On.publicKeyToAsn1=On.publicKeyToSubjectPublicKeyInfo=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(On.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.BITSTRING,!1,[On.publicKeyToRSAPublicKey(e)])])};On.publicKeyToRSAPublicKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Fp(e.e))])};function eBe(e,t,r){var n=Xr.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=Xr.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(eBe,"_encodePkcs1_v1_5");function VO(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=Xr.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(VO,"_decodePkcs1_v1_5");function GEt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){Xr.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(qi.ONE).gcd(e.e).compareTo(qi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(qi.ONE).gcd(e.e).compareTo(qi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(qi.ONE),e.q1=e.q.subtract(qi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(qi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:On.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:On.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(GEt,"_generateKeyPair");function Fp(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Xr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Fp,"_bnToBytes");function WEt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(WEt,"_getMillerRabinTests");function YSe(e){return Xr.util.isNodejs&&typeof hie[e]=="function"}o(YSe,"_detectNodeCrypto");function KSe(e){return typeof gd.globalScope<"u"&&typeof gd.globalScope.crypto=="object"&&typeof gd.globalScope.crypto.subtle=="object"&&typeof gd.globalScope.crypto.subtle[e]=="function"}o(KSe,"_detectSubtleCrypto");function JSe(e){return typeof gd.globalScope<"u"&&typeof gd.globalScope.msCrypto=="object"&&typeof gd.globalScope.msCrypto.subtle=="object"&&typeof gd.globalScope.msCrypto.subtle[e]=="function"}o(JSe,"_detectSubtleMsCrypto");function XSe(e){for(var t=Xr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(XSe,"_intToUint8Array")});var pie=V((kUr,sBe)=>{d();var vr=Jn();ey();Wm();$w();Sp();ty();UO();D4();hd();sie();Kw();Ki();typeof rBe>"u"&&(rBe=vr.jsbn.BigInteger);var rBe,mt=vr.asn1,$n=vr.pki=vr.pki||{};sBe.exports=$n.pbe=vr.pbe=vr.pbe||{};var F4=$n.oids,HEt={name:"EncryptedPrivateKeyInfo",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},VEt={name:"PBES2Algorithms",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},jEt={name:"pkcs-12PbeParams",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"iterations"}]};$n.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=vr.random.getBytesSync(r.saltSize),i=r.count,s=mt.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=F4["aes128-CBC"],m=vr.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=F4["aes192-CBC"],m=vr.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=F4["aes256-CBC"],m=vr.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=F4.desCBC,m=vr.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),A=oBe(p),E=vr.pkcs5.pbkdf2(t,n,i,a,A),x=vr.random.getBytesSync(u),v=m(E);v.start(x),v.update(mt.toDer(e)),v.finish(),c=v.output.getBytes();var b=$Et(n,s,a,p);l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(F4.pkcs5PBES2).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(F4.pkcs5PBKDF2).getBytes()),b]),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(f).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){a=24;var S=new vr.util.ByteBuffer(n),E=$n.pbe.generatePkcs12Key(t,S,1,i,a),x=$n.pbe.generatePkcs12Key(t,S,2,i,a),v=vr.des.createEncryptionCipher(E);v.start(x),v.update(mt.toDer(e)),v.finish(),c=v.output.getBytes(),l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(F4["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,n),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var k=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[l,mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,c)]);return k};$n.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!mt.validate(e,HEt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=mt.derToOid(n.encryptionOid),l=$n.pbe.getCipher(a,n.encryptionParams,t),c=vr.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=mt.fromDer(l.output)),r};$n.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:mt.toDer(e).getBytes()};return vr.pem.encode(r,{maxline:t})};$n.encryptedPrivateKeyFromPem=function(e){var t=vr.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return mt.fromDer(t.body)};$n.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=$n.wrapRsaPrivateKey($n.privateKeyToAsn1(e));return n=$n.encryptPrivateKeyInfo(n,t,r),$n.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=vr.random.getBytesSync(8),l=vr.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=vr.random.getBytesSync(8),l=vr.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=vr.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(mt.toDer($n.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:vr.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return vr.pem.encode(m)};$n.decryptRsaPrivateKey=function(e,t){var r=null,n=vr.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=vr.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=vr.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=vr.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=vr.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=vr.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return vr.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return vr.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return vr.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=vr.util.hexToBytes(n.dekInfo.parameters),c=vr.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(vr.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=$n.decryptPrivateKeyInfo(mt.fromDer(r),t):r=mt.fromDer(r),r!==null&&(r=$n.privateKeyFromAsn1(r)),r};$n.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in vr.md))throw new Error('"sha1" hash algorithm unavailable.');s=vr.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new vr.util.ByteBuffer,m=new vr.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),A=new vr.util.ByteBuffer;A.fillWithByte(r,u);var E=u*Math.ceil(p/u),x=new vr.util.ByteBuffer;for(l=0;l<E;l++)x.putByte(t.at(l%p));var v=u*Math.ceil(h/u),b=new vr.util.ByteBuffer;for(l=0;l<v;l++)b.putByte(m.at(l%h));var S=x;S.putBuffer(b);for(var k=Math.ceil(i/c),P=1;P<=k;P++){var N=new vr.util.ByteBuffer;N.putBytes(A.bytes()),N.putBytes(S.bytes());for(var W=0;W<n;W++)s.start(),s.update(N.getBytes()),N=s.digest();var te=new vr.util.ByteBuffer;for(l=0;l<u;l++)te.putByte(N.at(l%c));var ge=Math.ceil(p/u)+Math.ceil(h/u),re=new vr.util.ByteBuffer;for(a=0;a<ge;a++){var G=new vr.util.ByteBuffer(S.getBytes(u)),q=511;for(l=te.length()-1;l>=0;l--)q=q>>8,q+=te.at(l)+G.at(l),G.setAt(l,q&255);re.putBuffer(G)}S=re,f.putBuffer(N)}return f.truncate(f.length()-i),f};$n.pbe.getCipher=function(e,t,r){switch(e){case $n.oids.pkcs5PBES2:return $n.pbe.getCipherForPBES2(e,t,r);case $n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case $n.oids["pbewithSHAAnd40BitRC2-CBC"]:return $n.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};$n.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!mt.validate(t,VEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=mt.derToOid(n.kdfOid),e!==$n.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=mt.derToOid(n.encOid),e!==$n.oids["aes128-CBC"]&&e!==$n.oids["aes192-CBC"]&&e!==$n.oids["aes256-CBC"]&&e!==$n.oids["des-EDE3-CBC"]&&e!==$n.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=vr.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch($n.oids[e]){case"aes128-CBC":c=16,u=vr.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=vr.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=vr.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=vr.des.createDecryptionCipher;break;case"desCBC":c=8,u=vr.des.createDecryptionCipher;break}var f=iBe(n.prfOid),m=vr.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};$n.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!mt.validate(t,jEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=vr.util.createBuffer(n.salt),l=vr.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case $n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=vr.des.startDecrypting;break;case $n.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(E,x){var v=vr.rc2.createDecryptionCipher(E,40);return v.start(x,null),v},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=iBe(n.prfOid),h=$n.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=$n.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};$n.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in vr.md))throw new Error('"md5" hash algorithm unavailable.');n=vr.md.md5.create()}t===null&&(t="");for(var i=[nBe(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(nBe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function nBe(e,t){return e.start().update(t).digest().getBytes()}o(nBe,"hash");function iBe(e){var t;if(!e)t="hmacWithSHA1";else if(t=$n.oids[mt.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return oBe(t)}o(iBe,"prfOidToMessageDigest");function oBe(e){var t=vr.md;switch(e){case"hmacWithSHA224":t=vr.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(oBe,"prfAlgorithmToMessageDigest");function $Et(e,t,r,n){var i=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,e),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,vr.util.hexToBytes(r.toString(16))),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer($n.oids[n]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.NULL,!1,"")])),i}o($Et,"createPbkdf2Params")});var gie=V((PUr,cBe)=>{d();var n8=Jn();Wm();Ki();var Cr=n8.asn1,i8=cBe.exports=n8.pkcs7asn1=n8.pkcs7asn1||{};n8.pkcs7=n8.pkcs7||{};n8.pkcs7.asn1=i8;var aBe={name:"ContentInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i8.contentInfoValidator=aBe;var lBe={name:"EncryptedContentInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Cr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i8.envelopedDataValidator={name:"EnvelopedData",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(lBe)};i8.encryptedDataValidator={name:"EncryptedData",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"}].concat(lBe)};var zEt={name:"SignerInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Cr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i8.signedDataValidator={name:"SignedData",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},aBe,{name:"SignedData.Certificates",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SET,capture:"signerInfos",optional:!0,value:[zEt]}]};i8.recipientInfoValidator={name:"RecipientInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Cr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var Aie=V((FUr,uBe)=>{d();var L4=Jn();Ki();L4.mgf=L4.mgf||{};var YEt=uBe.exports=L4.mgf.mgf1=L4.mgf1=L4.mgf1||{};YEt.create=function(e){var t={generate:o(function(r,n){for(var i=new L4.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new L4.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var dBe=V((MUr,fBe)=>{d();var jO=Jn();Aie();fBe.exports=jO.mgf=jO.mgf||{};jO.mgf.mgf1=jO.mgf1});var $O=V((UUr,mBe)=>{d();var Q4=Jn();hd();Ki();var KEt=mBe.exports=Q4.pss=Q4.pss||{};KEt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Q4.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Q4.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var A;i===null?A=a.getBytesSync(s):A=i.bytes();var E=new Q4.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(p),E.putBytes(A),t.start(),t.update(E.getBytes());var x=t.digest().getBytes(),v=new Q4.util.ByteBuffer;v.fillWithByte(0,h-s-n-2),v.putByte(1),v.putBytes(A);var b=v.getBytes(),S=h-n-1,k=r.generate(x,S),P="";for(f=0;f<S;f++)P+=String.fromCharCode(b.charCodeAt(f)^k.charCodeAt(f));var N=65280>>8*h-m&255;return P=String.fromCharCode(P.charCodeAt(0)&~N)+P.substr(1),P+x+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=p-n-1,E=u.substr(0,A),x=u.substr(A,n),v=65280>>8*p-h&255;if((E.charCodeAt(0)&v)!==0)throw new Error("Bits beyond keysize not zero as expected.");var b=r.generate(x,A),S="";for(m=0;m<A;m++)S+=String.fromCharCode(E.charCodeAt(m)^b.charCodeAt(m));S=String.fromCharCode(S.charCodeAt(0)&~v)+S.substr(1);var k=p-n-s-2;for(m=0;m<k;m++)if(S.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(S.charCodeAt(k)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=S.substr(-s),N=new Q4.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(c),N.putBytes(P),t.start(),t.update(N.getBytes());var W=t.digest().getBytes();return x===W},l}});var KO=V((GUr,yBe)=>{d();var Zr=Jn();ey();Wm();$w();Sp();dBe();ty();D4();$O();Kw();Ki();var $=Zr.asn1,nr=yBe.exports=Zr.pki=Zr.pki||{},Gi=nr.oids,Vs={};Vs.CN=Gi.commonName;Vs.commonName="CN";Vs.C=Gi.countryName;Vs.countryName="C";Vs.L=Gi.localityName;Vs.localityName="L";Vs.ST=Gi.stateOrProvinceName;Vs.stateOrProvinceName="ST";Vs.O=Gi.organizationName;Vs.organizationName="O";Vs.OU=Gi.organizationalUnitName;Vs.organizationalUnitName="OU";Vs.E=Gi.emailAddress;Vs.emailAddress="E";var pBe=Zr.pki.rsa.publicKeyValidator,JEt={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},pBe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},XEt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},ZEt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},pBe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},ext={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[ZEt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};nr.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in Gi&&(s.name=Gi[s.type],s.name in Vs&&(s.shortName=Vs[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};nr.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in Gi&&(l.name=Gi[l.type],l.name in Vs&&(l.shortName=Vs[l.name])),l.type===Gi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(nr.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function iy(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(iy,"_getAttribute");var zO=o(function(e,t,r){var n={};if(e!==Gi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Gi.sha1},mgf:{algorithmOid:Gi.mgf1,hash:{algorithmOid:Gi.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,XEt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),YO=o(function(e){switch(Gi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Zr.md.sha1.create();case"md5WithRSAEncryption":return Zr.md.md5.create();case"sha256WithRSAEncryption":return Zr.md.sha256.create();case"sha384WithRSAEncryption":return Zr.md.sha384.create();case"sha512WithRSAEncryption":return Zr.md.sha512.create();case"RSASSA-PSS":return Zr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),gBe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Gi.sha1WithRSAEncryption:case Gi.sha1WithRSASignature:break;case Gi["RSASSA-PSS"]:var n,i;if(n=Gi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=Gi[t.signatureParameters.mgf.algorithmOid],i===void 0||Zr.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=Zr.mgf[i].create(Zr.md[n].create()),n=Gi[t.signatureParameters.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=Zr.pss.create(Zr.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");nr.certificateFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return nr.certificateFromAsn1(s,t)};nr.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(nr.certificateToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.publicKeyFromPem=function(e){var t=Zr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return nr.publicKeyFromAsn1(n)};nr.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(nr.publicKeyToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(nr.publicKeyToRSAPublicKey(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Zr.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(nr.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(nr.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};nr.certificationRequestFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return nr.certificationRequestFromAsn1(s,t)};nr.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(nr.certificationRequestToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return iy(e.issuer,t)},e.issuer.addField=function(t){Ad([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return iy(e.subject,t)},e.subject.addField=function(t){Ad([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Ad(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Ad(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)ABe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=nr.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=YO({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||nr.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=gBe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return nr.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Gi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Zr.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};nr.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,JEt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==nr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=nr.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=Zr.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=Zr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=zO(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=zO(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=YO({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=Zr.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(A){return iy(a.issuer,A)},a.issuer.addField=function(A){Ad([A]),a.issuer.attributes.push(A)},a.issuer.attributes=nr.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=Zr.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(A){return iy(a.subject,A)},a.subject.addField=function(A){Ad([A]),a.subject.attributes.push(A)},a.subject.attributes=nr.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=nr.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=nr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};nr.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(nr.certificateExtensionFromAsn1(n.value[i]));return t};nr.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Gi){if(t.name=Gi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Gi?t[Gi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=Zr.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=Zr.util.bytesToHex(r.value)}}return t};nr.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,ext,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==nr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=nr.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=Zr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=zO(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=zO(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=YO({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=Zr.md.sha1.create();return a.subject.getField=function(u){return iy(a.subject,u)},a.subject.addField=function(u){Ad([u]),a.subject.attributes.push(u)},a.subject.attributes=nr.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=nr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return iy(a,u)},a.addAttribute=function(u){Ad([u]),a.attributes.push(u)},a.attributes=nr.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};nr.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return iy(e.subject,t)},e.subject.addField=function(t){Ad([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return iy(e,t)},e.addAttribute=function(t){Ad([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Ad(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Ad(t),e.attributes=t},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=nr.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=YO({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||nr.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=gBe({certificate:e,md:r,signature:e.signature})),t},e};function o8(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=Zr.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(o8,"_dnToAsn1");function Ad(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in nr.oids?t.name=nr.oids[t.type]:t.shortName&&t.shortName in Vs&&(t.name=nr.oids[Vs[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in nr.oids)t.type=nr.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Vs&&(t.shortName=Vs[t.name]),t.type===Gi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(nr.certificateExtensionToAsn1(ABe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(Ad,"_fillMissingFields");function ABe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in nr.oids&&(e.name=nr.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in nr.oids)e.id=nr.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Gi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Gi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[o8(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var A=Zr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,A))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,E=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),x=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));x.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}E.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[x])),l.push(E)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(ABe,"_fillMissingExtensionFields");function yie(e,t){switch(e){case Gi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(yie,"_signatureParametersToAsn1");function txt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=Zr.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(txt,"_CRIAttributesToAsn1");var rxt=new Date("1950-01-01T00:00:00Z"),nxt=new Date("2050-01-01T00:00:00Z");function hBe(e){return e>=rxt&&e<nxt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(hBe,"_dateToAsn1");nr.getTBSCertificate=function(e){var t=hBe(e.validity.notBefore),r=hBe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Zr.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),yie(e.siginfo.algorithmOid,e.siginfo.parameters)]),o8(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),o8(e.subject),nr.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(nr.certificateExtensionsToAsn1(e.extensions)),n};nr.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),o8(e.subject),nr.publicKeyToAsn1(e.publicKey),txt(e)]);return t};nr.distinguishedNameToAsn1=function(e){return o8(e)};nr.certificateToAsn1=function(e){var t=e.tbsCertificate||nr.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),yie(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};nr.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(nr.certificateExtensionToAsn1(e[n]));return t};nr.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};nr.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||nr.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),yie(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};nr.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];Zr.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=Zr.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;Zr.util.isArray(l)||(l=[l]);for(var c=$.toDer(nr.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(nr.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!Zr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!Zr.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(nr.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(nr.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=Zr.md.sha1.create();a.attributes=nr.RDNAttributesAsArray(o8(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};nr.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};nr.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:nr.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;Zr.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:nr.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:nr.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:nr.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},A=0;a===null&&A<c.extensions.length;++A){var E=c.extensions[A];E.critical&&!(E.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:nr.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var x=c.getExtension("basicConstraints"),v=c.getExtension("keyUsage");if(v!==null&&(!v.keyCertSign||x===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:nr.certificateError.bad_certificate}),a===null&&x!==null&&!x.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:nr.certificateError.bad_certificate}),a===null&&v!==null&&"pathLenConstraint"in x){var b=l-1;b>x.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:nr.certificateError.bad_certificate})}}var S=a===null?!0:a.error,k=r.verify?r.verify(S,l,n):S;if(k===!0)a=null;else throw S===!0&&(a={message:"The application rejected the certificate.",error:nr.certificateError.bad_certificate}),(k||k===0)&&(typeof k=="object"&&!Zr.util.isArray(k)?(k.message&&(a.message=k.message),k.error&&(a.error=k.error)):typeof k=="string"&&(a.error=k)),a;s=!1,++l}while(t.length>0);return!0}});var Eie=V((VUr,EBe)=>{d();var qo=Jn();Wm();XI();ty();gie();pie();hd();Kw();r8();Ki();KO();var we=qo.asn1,yi=qo.pki,Xw=EBe.exports=qo.pkcs12=qo.pkcs12||{},CBe={name:"ContentInfo",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},ixt={name:"PFX",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"version"},CBe,{name:"PFX.macData",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:we.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},oxt={name:"SafeBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},sxt={name:"Attribute",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,capture:"values"}]},axt={name:"CertBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:we.Class.UNIVERSAL,type:we.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Jw(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(Jw,"_getBagsByAttribute");Xw.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!we.validate(e,ixt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(x){var v={},b;return"localKeyId"in x?b=x.localKeyId:"localKeyIdHex"in x&&(b=qo.util.hexToBytes(x.localKeyIdHex)),b===void 0&&!("friendlyName"in x)&&"bagType"in x&&(v[x.bagType]=Jw(a.safeContents,null,null,x.bagType)),b!==void 0&&(v.localKeyId=Jw(a.safeContents,"localKeyId",b,x.bagType)),"friendlyName"in x&&(v.friendlyName=Jw(a.safeContents,"friendlyName",x.friendlyName,x.bagType)),v},"getBags"),getBagsByFriendlyName:o(function(x,v){return Jw(a.safeContents,"friendlyName",x,v)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(x,v){return Jw(a.safeContents,"localKeyId",x,v)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(we.derToOid(n.contentType)!==yi.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=we.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==we.Class.UNIVERSAL||l.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=Cie(l),n.mac){var c=null,u=0,f=we.derToOid(n.macAlgorithm);switch(f){case yi.oids.sha1:c=qo.md.sha1.create(),u=20;break;case yi.oids.sha256:c=qo.md.sha256.create(),u=32;break;case yi.oids.sha384:c=qo.md.sha384.create(),u=48;break;case yi.oids.sha512:c=qo.md.sha512.create(),u=64;break;case yi.oids.md5:c=qo.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new qo.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(qo.util.bytesToHex(n.macIterations),16):1,p=Xw.generateKey(r,m,3,h,u,c),A=qo.hmac.create();A.start(c,p),A.update(l.value);var E=A.getMac();if(E.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return lxt(a,l.value,t,r),a};function Cie(e){if(e.composed||e.constructed){for(var t=qo.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(Cie,"_decodePkcs7Data");function lxt(e,t,r,n){if(t=we.fromDer(t,r),t.tagClass!==we.Class.UNIVERSAL||t.type!==we.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!we.validate(s,CBe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(we.derToOid(a.contentType)){case yi.oids.data:if(m.tagClass!==we.Class.UNIVERSAL||m.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=Cie(m).value;break;case yi.oids.encryptedData:f=cxt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=we.derToOid(a.contentType),c}u.safeBags=uxt(f,r,n),e.safeContents.push(u)}}o(lxt,"_decodeAuthenticatedSafe");function cxt(e,t){var r={},n=[];if(!we.validate(e,qo.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=we.derToOid(r.contentType);if(s!==yi.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=we.derToOid(r.encAlgorithm);var a=yi.pbe.getCipher(s,r.encParameter,t),l=Cie(r.encryptedContentAsn1),c=qo.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(cxt,"_decryptSafeContents");function uxt(e,t,r){if(!t&&e.length===0)return[];if(e=we.fromDer(e,t),e.tagClass!==we.Class.UNIVERSAL||e.type!==we.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!we.validate(s,oxt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:we.derToOid(a.bagId),attributes:fxt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case yi.oids.pkcs8ShroudedKeyBag:if(h=yi.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yi.oids.keyBag:try{u.key=yi.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case yi.oids.certBag:f=axt,m=o(function(){if(we.derToOid(a.certId)!==yi.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=we.derToOid(a.certId),A}var E=we.fromDer(a.cert,t);try{u.cert=yi.certificateFromAsn1(E,!0)}catch{u.cert=null,u.asn1=E}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!we.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(uxt,"_decodeSafeContents");function fxt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!we.validate(e[r],sxt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=we.derToOid(n.oid);if(yi.oids[a]!==void 0){t[yi.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[yi.oids[a]].push(n.values[l].value)}}return t}o(fxt,"_decodeBagAttributes");Xw.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=qo.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=qo.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=yi.certificateFromPem(a));var l=qo.md.sha1.create();l.update(we.toDer(yi.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=qo.random.getBytes(20);var c=[];i!==null&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.localKeyId).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.friendlyName).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=we.create(we.Class.UNIVERSAL,we.Type.SET,!0,c));var u=[],f=[];t!==null&&(qo.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=yi.certificateFromPem(t));var p=h===0?s:void 0,A=yi.certificateToAsn1(t),E=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.certBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.x509Certificate).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(A).getBytes())])])]),p]);m.push(E)}if(m.length>0){var x=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,m),v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(x).getBytes())])]);u.push(v)}var b=null;if(e!==null){var S=yi.wrapRsaPrivateKey(yi.privateKeyToAsn1(e));r===null?b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.keyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[S]),s]):b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.pkcs8ShroudedKeyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[yi.encryptPrivateKeyInfo(S,r,n)]),s]);var k=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[b]),P=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(k).getBytes())])]);u.push(P)}var N=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,u),W;if(n.useMac){var l=qo.md.sha1.create(),te=new qo.util.ByteBuffer(qo.random.getBytes(n.saltSize)),ge=n.count,e=Xw.generateKey(r,te,3,ge,20),re=qo.hmac.create();re.start(l,e),re.update(we.toDer(N).getBytes());var G=re.getMac();W=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.sha1).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.NULL,!1,"")]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,G.getBytes())]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,te.getBytes()),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(ge).getBytes())])}return we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(3).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(N).getBytes())])]),W])};Xw.generateKey=qo.pbe.generatePkcs12Key});var bie=V((zUr,xBe)=>{d();var oy=Jn();Wm();ty();pie();D4();UO();Eie();$O();Kw();Ki();KO();var xie=oy.asn1,s8=xBe.exports=oy.pki=oy.pki||{};s8.pemToDer=function(e){var t=oy.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return oy.util.createBuffer(t.body)};s8.privateKeyFromPem=function(e){var t=oy.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=xie.fromDer(t.body);return s8.privateKeyFromAsn1(n)};s8.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:xie.toDer(s8.privateKeyToAsn1(e)).getBytes()};return oy.pem.encode(r,{maxline:t})};s8.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:xie.toDer(e).getBytes()};return oy.pem.encode(r,{maxline:t})}});var Sie=V((KUr,BBe)=>{d();var kt=Jn();Wm();XI();LO();D4();bie();hd();r8();Ki();var eU=o(function(e,t,r,n){var i=kt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=kt.util.createBuffer(),f=kt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=kt.util.createBuffer();u.putBytes(r);for(var A=0;A<m;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var E=kt.util.createBuffer();u.clear(),u.putBytes(r);for(var A=0;A<h;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),E.putBuffer(f.digest());return i.putBytes(kt.util.xorBytes(p.getBytes(),E.getBytes(),n)),i},"prf_TLS1"),dxt=o(function(e,t,r){var n=kt.hmac.create();n.start("SHA1",e);var i=kt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),mxt=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=kt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),hxt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=kt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),ju=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return kt.util.createBuffer(e.getBytes(r))},"readVector"),yd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:kt.util.createBuffer(s.getBytes(32)),session_id:ju(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=ju(s,2),n.compression_methods=ju(s,1)),a=r-(a-s.length()),a>0){for(var l=ju(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:ju(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=ju(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(ju(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var h=kt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=X.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:kt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=IBe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=gxt,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=i,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=kt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<X.SupportedVersions.length&&(a=X.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=wie,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?vxt:Tie,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:ju(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=ju(i.certificate_list,3),a=kt.asn1.fromDer(s),s=kt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?bBe:Tie:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],X.verifyCertificateChain(e,l)&&(e.expect=c?bBe:Tie)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=Axt,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:ju(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=kt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=kt.random.getBytes(48)}e.expect=wie,e.session.clientCertificate!==null&&(e.expect=Ixt),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:ju(n,1),certificate_authorities:ju(n,2)};e.session.certificateRequest=i,e.expect=yxt,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:ju(n,2).getBytes()},a=kt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=wie,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!kt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=xxt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createCertificateVerify(l,c)})),X.queue(l,X.createRecord(l,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),l.state.pending=X.createConnectionState(l),l.state.current.write=l.state.pending.write,X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createFinished(l)})),l.expect=IBe,X.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?Cxt:Txt,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=kt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=eU;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?Ext:wxt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case X.Alert.Description.close_notify:i="Connection closed.";break;case X.Alert.Description.unexpected_message:i="Unexpected message.";break;case X.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case X.Alert.Description.decryption_failed:i="Decryption failed.";break;case X.Alert.Description.record_overflow:i="Record overflow.";break;case X.Alert.Description.decompression_failure:i="Decompression failed.";break;case X.Alert.Description.handshake_failure:i="Handshake failure.";break;case X.Alert.Description.bad_certificate:i="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case X.Alert.Description.certificate_expired:i="Certificate expired.";break;case X.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case X.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case X.Alert.Description.access_denied:i="Access denied.";break;case X.Alert.Description.decode_error:i="Decode error.";break;case X.Alert.Description.decrypt_error:i="Decrypt error.";break;case X.Alert.Description.export_restriction:i="Export restriction.";break;case X.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:i="Insufficient security.";break;case X.Alert.Description.internal_error:i="Internal error.";break;case X.Alert.Description.user_canceled:i="User canceled.";break;case X.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=kt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in ZO[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:kt.md.md5.create(),sha1:kt.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),ZO[e.entity][e.expect][n](e,t,i)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,s)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,kt.util.createBuffer(s))}e.process()};var pxt=0,gxt=1,bBe=2,Axt=3,yxt=4,IBe=5,Cxt=6,Ext=7,xxt=8,bxt=0,vxt=1,Tie=2,Ixt=3,wie=4,Txt=5,wxt=6,K=X.handleUnexpected,TBe=X.handleChangeCipherSpec,jl=X.handleAlert,j0=X.handleHandshake,wBe=X.handleApplicationData,$l=X.handleHeartbeat,_ie=[];_ie[X.ConnectionEnd.client]=[[K,jl,j0,K,$l],[K,jl,j0,K,$l],[K,jl,j0,K,$l],[K,jl,j0,K,$l],[K,jl,j0,K,$l],[TBe,jl,K,K,$l],[K,jl,j0,K,$l],[K,jl,j0,wBe,$l],[K,jl,j0,K,$l]];_ie[X.ConnectionEnd.server]=[[K,jl,j0,K,$l],[K,jl,j0,K,$l],[K,jl,j0,K,$l],[K,jl,j0,K,$l],[TBe,jl,K,K,$l],[K,jl,j0,K,$l],[K,jl,j0,wBe,$l],[K,jl,j0,K,$l]];var sy=X.handleHelloRequest,_xt=X.handleServerHello,_Be=X.handleCertificate,vBe=X.handleServerKeyExchange,vie=X.handleCertificateRequest,JO=X.handleServerHelloDone,SBe=X.handleFinished,ZO=[];ZO[X.ConnectionEnd.client]=[[K,K,_xt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,_Be,vBe,vie,JO,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,K,vBe,vie,JO,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,K,K,vie,JO,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,K,K,K,JO,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,SBe],[sy,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[sy,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];var Sxt=X.handleClientHello,Bxt=X.handleClientKeyExchange,kxt=X.handleCertificateVerify;ZO[X.ConnectionEnd.server]=[[K,Sxt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,_Be,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,Bxt,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,kxt,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,SBe],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];X.generateKeys=function(e,t){var r=eU,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=X.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=hxt,n.write.compressFunction=mxt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=kt.util.createBuffer();return r.putInt32(t),r.putBytes(kt.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=kt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=kt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=kt.util.createBuffer();s.putByte(X.CompressionMethod.none);var a=s.length(),l=kt.util.createBuffer();if(e.virtualHost){var c=kt.util.createBuffer();c.putByte(0),c.putByte(0);var u=kt.util.createBuffer();u.putByte(0),yd(u,2,kt.util.createBuffer(e.virtualHost));var f=kt.util.createBuffer();yd(f,2,u),yd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,A=kt.util.createBuffer();return A.putByte(X.HandshakeType.client_hello),A.putInt24(p),A.putByte(e.version.major),A.putByte(e.version.minor),A.putBytes(e.session.sp.client_random),yd(A,1,kt.util.createBuffer(h)),yd(A,2,t),yd(A,1,s),m>0&&yd(A,2,l),A};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=kt.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),yd(n,1,kt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=kt.util.createBuffer();if(r!==null)try{kt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=kt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=kt.util.createBuffer(l.body);s===null&&(s=kt.asn1.fromDer(u.bytes(),!1));var f=kt.util.createBuffer();yd(f,3,u),i.putBuffer(f)}r=kt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var m=3+i.length(),h=kt.util.createBuffer();return h.putByte(X.HandshakeType.certificate),h.putInt24(m),yd(h,3,i),h};X.createClientKeyExchange=function(e){var t=kt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(kt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=kt.util.createBuffer();return s.putByte(X.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};X.createServerKeyExchange=function(e){var t=0,r=kt.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=kt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=kt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=kt.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=kt.util.createBuffer();t.putByte(1);var r=kt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=kt.pki.distinguishedNameToAsn1(i.subject),a=kt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=kt.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(l),yd(c,1,t),yd(c,2,r),c};X.createServerHelloDone=function(e){var t=kt.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=kt.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=kt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,i=12,s=eU,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=kt.util.createBuffer();return l.putByte(X.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=kt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(kt.random.getBytes(s)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:kt.util.createBuffer(i.slice(0,X.MaxFragment))})),i=i.slice(X.MaxFragment);i.length>0&&n.push(X.createRecord(e,{type:t.type,data:kt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Iie=o(function(e){switch(e){case!0:return!0;case kt.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case kt.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case kt.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case kt.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case kt.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case kt.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Rxt=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return kt.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return kt.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return kt.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return kt.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return kt.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return kt.pki.certificateError.unknown_ca;default:return kt.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=Iie(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!kt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=Rxt(u))}return u},kt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||kt.util.isArray(i))&&(i={send:!0,alert:{level:X.Alert.Level.fatal,description:Iie(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:X.Alert.Level.fatal,description:Iie(i.error)}),e.error(e,i)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=kt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=kt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};X.createConnection=function(e){var t=null;e.caStore?kt.util.isArray(e.caStore)?t=kt.pki.createCaStore(e.caStore):t=e.caStore:t=kt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var i=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,s=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:kt.util.createBuffer(),tlsData:kt.util.createBuffer(),data:kt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===X.ConnectionEnd.client?"client":"server"),m.send&&(X.queue(f,X.createAlert(f,m.alert)),X.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?pxt:bxt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-X.ContentType.change_cipher_spec,p=_ie[f.entity][f.expect];h in p?p[h](f,m):X.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:kt.util.createBuffer(),ready:!1};var A=f.record.version.major===f.version.major;A&&f.session&&f.session.version&&(A=f.record.version.minor===f.version.minor),A||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var A=f.state.current.read;A.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:kt.md.md5.create(),sha1:kt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:kt.util.createBuffer(f)})),X.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof kt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,f,m)})),X.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(f)},a};BBe.exports=kt.tls=kt.tls||{};for(XO in X)typeof X[XO]!="function"&&(kt.tls[XO]=X[XO]);var XO;kt.tls.prf_tls1=eU;kt.tls.hmac_sha1=dxt;kt.tls.createSessionCache=X.createSessionCache;kt.tls.createConnection=X.createConnection});var DBe=V((ZUr,RBe)=>{d();var ay=Jn();ey();Sie();var Cd=RBe.exports=ay.tls;Cd.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Cd.BulkCipherAlgorithm.aes,e.cipher_type=Cd.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Cd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:kBe};Cd.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Cd.BulkCipherAlgorithm.aes,e.cipher_type=Cd.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Cd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:kBe};function kBe(e,t,r){var n=t.entity===ay.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:ay.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:ay.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=Fxt,e.write.cipherFunction=Dxt,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Cd.hmac_sha1}o(kBe,"initConnectionState");function Dxt(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Cd.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=ay.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=Cd.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(Pxt)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(Dxt,"encrypt_aes_cbc_sha1");function Pxt(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(Pxt,"encrypt_aes_cbc_sha1_padding");function Nxt(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(Nxt,"decrypt_aes_cbc_sha1_padding");function Fxt(e,t){var r=!1,n;e.version.minor===Cd.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Nxt);var s=t.macLength,a=ay.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=ay.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Lxt(t.macKey,a,c)&&r,r}o(Fxt,"decrypt_aes_cbc_sha1");function Lxt(e,t,r){var n=ay.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(Lxt,"compareMacs")});var Rie=V((rqr,LBe)=>{d();var is=Jn();Sp();Ki();var Zw=LBe.exports=is.sha512=is.sha512||{};is.md.sha512=is.md.algorithms.sha512=Zw;var NBe=is.sha384=is.sha512.sha384=is.sha512.sha384||{};NBe.create=function(){return Zw.create("SHA-384")};is.md.sha384=is.md.algorithms.sha384=NBe;is.sha512.sha256=is.sha512.sha256||{create:o(function(){return Zw.create("SHA-512/256")},"create")};is.md["sha512/256"]=is.md.algorithms["sha512/256"]=is.sha512.sha256;is.sha512.sha224=is.sha512.sha224||{create:o(function(){return Zw.create("SHA-512/224")},"create")};is.md["sha512/224"]=is.md.algorithms["sha512/224"]=is.sha512.sha224;Zw.create=function(e){if(FBe||Qxt(),typeof e>"u"&&(e="SHA-512"),!(e in M4))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=M4[e],r=null,n=is.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=is.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=is.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),PBe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=is.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(Bie.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,A=0;A<l.fullMessageLength.length-1;++A)m=l.fullMessageLength[A+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var E=new Array(r.length),A=0;A<r.length;++A)E[A]=r[A].slice(0);PBe(E,i,c);var x=is.util.createBuffer(),v;e==="SHA-512"?v=E.length:e==="SHA-384"?v=E.length-2:v=E.length-4;for(var A=0;A<v;++A)x.putInt32(E[A][0]),(A!==v-1||e!=="SHA-512/224")&&x.putInt32(E[A][1]);return x},l};var Bie=null,FBe=!1,kie=null,M4=null;function Qxt(){Bie="\x80",Bie+=is.util.fillString("\0",128),kie=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],M4={},M4["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],M4["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],M4["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],M4["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],FBe=!0}o(Qxt,"_init");function PBe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,E,x,v,b,S,k,P,N,W,te,ge,re,G,q,se,ne,H,O,j,J,le,Z,ae,ce=r.length();ce>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)J=t[H-2],O=J[0],j=J[1],n=((O>>>19|j<<13)^(j>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|j>>>19)^(j<<3|O>>>29)^(O<<26|j>>>6))>>>0,Z=t[H-15],O=Z[0],j=Z[1],s=((O>>>1|j<<31)^(O>>>8|j<<24)^O>>>7)>>>0,a=((O<<31|j>>>1)^(O<<24|j>>>8)^(O<<25|j>>>7))>>>0,le=t[H-7],ae=t[H-16],j=i+le[1]+a+ae[1],t[H][0]=n+le[0]+s+ae[0]+(j/4294967296>>>0)>>>0,t[H][1]=j>>>0;for(E=e[0][0],x=e[0][1],v=e[1][0],b=e[1][1],S=e[2][0],k=e[2][1],P=e[3][0],N=e[3][1],W=e[4][0],te=e[4][1],ge=e[5][0],re=e[5][1],G=e[6][0],q=e[6][1],se=e[7][0],ne=e[7][1],H=0;H<80;++H)u=((W>>>14|te<<18)^(W>>>18|te<<14)^(te>>>9|W<<23))>>>0,f=((W<<18|te>>>14)^(W<<14|te>>>18)^(te<<23|W>>>9))>>>0,m=(G^W&(ge^G))>>>0,h=(q^te&(re^q))>>>0,l=((E>>>28|x<<4)^(x>>>2|E<<30)^(x>>>7|E<<25))>>>0,c=((E<<4|x>>>28)^(x<<30|E>>>2)^(x<<25|E>>>7))>>>0,p=(E&v|S&(E^v))>>>0,A=(x&b|k&(x^b))>>>0,j=ne+f+h+kie[H][1]+t[H][1],n=se+u+m+kie[H][0]+t[H][0]+(j/4294967296>>>0)>>>0,i=j>>>0,j=c+A,s=l+p+(j/4294967296>>>0)>>>0,a=j>>>0,se=G,ne=q,G=ge,q=re,ge=W,re=te,j=N+i,W=P+n+(j/4294967296>>>0)>>>0,te=j>>>0,P=S,N=k,S=v,k=b,v=E,b=x,j=i+a,E=n+s+(j/4294967296>>>0)>>>0,x=j>>>0;j=e[0][1]+x,e[0][0]=e[0][0]+E+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+b,e[1][0]=e[1][0]+v+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+k,e[2][0]=e[2][0]+S+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+N,e[3][0]=e[3][0]+P+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+te,e[4][0]=e[4][0]+W+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+re,e[5][0]=e[5][0]+ge+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+q,e[6][0]=e[6][0]+G+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+ne,e[7][0]=e[7][0]+se+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,ce-=128}}o(PBe,"_update")});var QBe=V(Die=>{d();var Mxt=Jn();Wm();var vl=Mxt.asn1;Die.privateKeyValidator={name:"PrivateKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:vl.Class.UNIVERSAL,type:vl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Die.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:vl.Class.UNIVERSAL,type:vl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var KBe=V((aqr,YBe)=>{d();var zl=Jn();Yw();hd();Rie();Ki();var WBe=QBe(),Oxt=WBe.publicKeyValidator,Uxt=WBe.privateKeyValidator;typeof MBe>"u"&&(MBe=zl.jsbn.BigInteger);var MBe,Fie=zl.util.ByteBuffer,qc=typeof Buffer>"u"?Uint8Array:Buffer;zl.pki=zl.pki||{};YBe.exports=zl.pki.ed25519=zl.ed25519=zl.ed25519||{};var Ci=zl.ed25519;Ci.constants={};Ci.constants.PUBLIC_KEY_BYTE_LENGTH=32;Ci.constants.PRIVATE_KEY_BYTE_LENGTH=64;Ci.constants.SEED_BYTE_LENGTH=32;Ci.constants.SIGN_BYTE_LENGTH=64;Ci.constants.HASH_BYTE_LENGTH=64;Ci.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=zl.random.getBytesSync(Ci.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==Ci.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Ci.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Q1({message:t,encoding:"binary"});for(var r=new qc(Ci.constants.PUBLIC_KEY_BYTE_LENGTH),n=new qc(Ci.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return Hxt(r,n),{publicKey:r,privateKey:n}};Ci.privateKeyFromAsn1=function(e){var t={},r=[],n=zl.asn1.validate(e,Uxt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=zl.asn1.derToOid(t.privateKeyOid),a=zl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=Q1({message:zl.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};Ci.publicKeyFromAsn1=function(e){var t={},r=[],n=zl.asn1.validate(e,Oxt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=zl.asn1.derToOid(t.publicKeyOid),a=zl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==Ci.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Q1({message:l,encoding:"binary"})};Ci.publicKeyFromPrivateKey=function(e){e=e||{};var t=Q1({message:e.privateKey,encoding:"binary"});if(t.length!==Ci.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ci.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new qc(Ci.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};Ci.sign=function(e){e=e||{};var t=Q1(e),r=Q1({message:e.privateKey,encoding:"binary"});if(r.length===Ci.constants.SEED_BYTE_LENGTH){var n=Ci.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Ci.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ci.constants.SEED_BYTE_LENGTH+" or "+Ci.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new qc(Ci.constants.SIGN_BYTE_LENGTH+t.length);Vxt(i,t,t.length,r);for(var s=new qc(Ci.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};Ci.verify=function(e){e=e||{};var t=Q1(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Q1({message:e.signature,encoding:"binary"});if(r.length!==Ci.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Ci.constants.SIGN_BYTE_LENGTH);var n=Q1({message:e.publicKey,encoding:"binary"});if(n.length!==Ci.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Ci.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new qc(Ci.constants.SIGN_BYTE_LENGTH+t.length),s=new qc(Ci.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<Ci.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+Ci.constants.SIGN_BYTE_LENGTH]=t[a];return jxt(s,i,i.length,n)>=0};function Q1(e){var t=e.message;if(t instanceof Uint8Array||t instanceof qc)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Fie(t,r)}else if(!(t instanceof Fie))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new qc(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(Q1,"messageToNativeBuffer");var Lie=mn(),tU=mn([1]),qxt=mn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Gxt=mn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),OBe=mn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),UBe=mn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Pie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Wxt=mn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function e_(e,t){var r=zl.md.sha512.create(),n=new Fie(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new qc(Ci.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(e_,"sha512");function Hxt(e,t){var r=[mn(),mn(),mn(),mn()],n,i=e_(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Uie(r,i),Oie(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(Hxt,"crypto_sign_keypair");function Vxt(e,t,r,n){var i,s,a=new Float64Array(64),l=[mn(),mn(),mn(),mn()],c=e_(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=e_(e.subarray(32),r+32);for(Qie(f),Uie(l,f),Oie(e,l),i=32;i<64;++i)e[i]=n[i];var m=e_(e,r+64);for(Qie(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return HBe(e.subarray(32),a),u}o(Vxt,"crypto_sign");function jxt(e,t,r,n){var i,s,a=new qc(32),l=[mn(),mn(),mn(),mn()],c=[mn(),mn(),mn(),mn()];if(s=-1,r<64||$xt(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=e_(e,r);if(Qie(u),$Be(l,c,u),Uie(c,t.subarray(32)),Mie(l,c),Oie(a,l),r-=64,VBe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(jxt,"crypto_sign_open");function HBe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Pie[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Pie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Pie[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(HBe,"modL");function Qie(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;HBe(e,t)}o(Qie,"reduce");function Mie(e,t){var r=mn(),n=mn(),i=mn(),s=mn(),a=mn(),l=mn(),c=mn(),u=mn(),f=mn();l8(r,e[1],e[0]),l8(f,t[1],t[0]),Ro(r,r,f),a8(n,e[0],e[1]),a8(f,t[0],t[1]),Ro(n,n,f),Ro(i,e[3],t[3]),Ro(i,i,Gxt),Ro(s,e[2],t[2]),a8(s,s,s),l8(a,n,r),l8(l,s,i),a8(c,s,i),a8(u,n,r),Ro(e[0],a,l),Ro(e[1],u,c),Ro(e[2],c,l),Ro(e[3],a,u)}o(Mie,"add");function qBe(e,t,r){for(var n=0;n<4;++n)zBe(e[n],t[n],r)}o(qBe,"cswap");function Oie(e,t){var r=mn(),n=mn(),i=mn();Jxt(i,t[2]),Ro(r,t[0],i),Ro(n,t[1],i),rU(e,n),e[31]^=jBe(r)<<7}o(Oie,"pack");function rU(e,t){var r,n,i,s=mn(),a=mn();for(r=0;r<16;++r)a[r]=t[r];for(Nie(a),Nie(a),Nie(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,zBe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(rU,"pack25519");function $xt(e,t){var r=mn(),n=mn(),i=mn(),s=mn(),a=mn(),l=mn(),c=mn();return ly(e[2],tU),zxt(e[1],t),O4(i,e[1]),Ro(s,i,qxt),l8(i,i,e[2]),a8(s,e[2],s),O4(a,s),O4(l,a),Ro(c,l,a),Ro(r,c,i),Ro(r,r,s),Yxt(r,r),Ro(r,r,i),Ro(r,r,s),Ro(r,r,s),Ro(e[0],r,s),O4(n,e[0]),Ro(n,n,s),GBe(n,i)&&Ro(e[0],e[0],Wxt),O4(n,e[0]),Ro(n,n,s),GBe(n,i)?-1:(jBe(e[0])===t[31]>>7&&l8(e[0],Lie,e[0]),Ro(e[3],e[0],e[1]),0)}o($xt,"unpackneg");function zxt(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(zxt,"unpack25519");function Yxt(e,t){var r=mn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)O4(r,r),n!==1&&Ro(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(Yxt,"pow2523");function GBe(e,t){var r=new qc(32),n=new qc(32);return rU(r,e),rU(n,t),VBe(r,0,n,0)}o(GBe,"neq25519");function VBe(e,t,r,n){return Kxt(e,t,r,n,32)}o(VBe,"crypto_verify_32");function Kxt(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(Kxt,"vn");function jBe(e){var t=new qc(32);return rU(t,e),t[0]&1}o(jBe,"par25519");function $Be(e,t,r){var n,i;for(ly(e[0],Lie),ly(e[1],tU),ly(e[2],tU),ly(e[3],Lie),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,qBe(e,t,n),Mie(t,e),Mie(e,e),qBe(e,t,n)}o($Be,"scalarmult");function Uie(e,t){var r=[mn(),mn(),mn(),mn()];ly(r[0],OBe),ly(r[1],UBe),ly(r[2],tU),Ro(r[3],OBe,UBe),$Be(e,r,t)}o(Uie,"scalarbase");function ly(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(ly,"set25519");function Jxt(e,t){var r=mn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)O4(r,r),n!==2&&n!==4&&Ro(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(Jxt,"inv25519");function Nie(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(Nie,"car25519");function zBe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(zBe,"sel25519");function mn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(mn,"gf");function a8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(a8,"A");function l8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(l8,"Z");function O4(e,t){Ro(e,t,t)}o(O4,"S");function Ro(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,A=0,E=0,x=0,v=0,b=0,S=0,k=0,P=0,N=0,W=0,te=0,ge=0,re=0,G=0,q=0,se=0,ne=0,H=0,O=0,j=0,J=0,le=0,Z=r[0],ae=r[1],ce=r[2],Re=r[3],ve=r[4],Ue=r[5],Be=r[6],Je=r[7],ft=r[8],it=r[9],ot=r[10],ie=r[11],Pe=r[12],Ae=r[13],Ge=r[14],z=r[15];n=t[0],s+=n*Z,a+=n*ae,l+=n*ce,c+=n*Re,u+=n*ve,f+=n*Ue,m+=n*Be,h+=n*Je,p+=n*ft,A+=n*it,E+=n*ot,x+=n*ie,v+=n*Pe,b+=n*Ae,S+=n*Ge,k+=n*z,n=t[1],a+=n*Z,l+=n*ae,c+=n*ce,u+=n*Re,f+=n*ve,m+=n*Ue,h+=n*Be,p+=n*Je,A+=n*ft,E+=n*it,x+=n*ot,v+=n*ie,b+=n*Pe,S+=n*Ae,k+=n*Ge,P+=n*z,n=t[2],l+=n*Z,c+=n*ae,u+=n*ce,f+=n*Re,m+=n*ve,h+=n*Ue,p+=n*Be,A+=n*Je,E+=n*ft,x+=n*it,v+=n*ot,b+=n*ie,S+=n*Pe,k+=n*Ae,P+=n*Ge,N+=n*z,n=t[3],c+=n*Z,u+=n*ae,f+=n*ce,m+=n*Re,h+=n*ve,p+=n*Ue,A+=n*Be,E+=n*Je,x+=n*ft,v+=n*it,b+=n*ot,S+=n*ie,k+=n*Pe,P+=n*Ae,N+=n*Ge,W+=n*z,n=t[4],u+=n*Z,f+=n*ae,m+=n*ce,h+=n*Re,p+=n*ve,A+=n*Ue,E+=n*Be,x+=n*Je,v+=n*ft,b+=n*it,S+=n*ot,k+=n*ie,P+=n*Pe,N+=n*Ae,W+=n*Ge,te+=n*z,n=t[5],f+=n*Z,m+=n*ae,h+=n*ce,p+=n*Re,A+=n*ve,E+=n*Ue,x+=n*Be,v+=n*Je,b+=n*ft,S+=n*it,k+=n*ot,P+=n*ie,N+=n*Pe,W+=n*Ae,te+=n*Ge,ge+=n*z,n=t[6],m+=n*Z,h+=n*ae,p+=n*ce,A+=n*Re,E+=n*ve,x+=n*Ue,v+=n*Be,b+=n*Je,S+=n*ft,k+=n*it,P+=n*ot,N+=n*ie,W+=n*Pe,te+=n*Ae,ge+=n*Ge,re+=n*z,n=t[7],h+=n*Z,p+=n*ae,A+=n*ce,E+=n*Re,x+=n*ve,v+=n*Ue,b+=n*Be,S+=n*Je,k+=n*ft,P+=n*it,N+=n*ot,W+=n*ie,te+=n*Pe,ge+=n*Ae,re+=n*Ge,G+=n*z,n=t[8],p+=n*Z,A+=n*ae,E+=n*ce,x+=n*Re,v+=n*ve,b+=n*Ue,S+=n*Be,k+=n*Je,P+=n*ft,N+=n*it,W+=n*ot,te+=n*ie,ge+=n*Pe,re+=n*Ae,G+=n*Ge,q+=n*z,n=t[9],A+=n*Z,E+=n*ae,x+=n*ce,v+=n*Re,b+=n*ve,S+=n*Ue,k+=n*Be,P+=n*Je,N+=n*ft,W+=n*it,te+=n*ot,ge+=n*ie,re+=n*Pe,G+=n*Ae,q+=n*Ge,se+=n*z,n=t[10],E+=n*Z,x+=n*ae,v+=n*ce,b+=n*Re,S+=n*ve,k+=n*Ue,P+=n*Be,N+=n*Je,W+=n*ft,te+=n*it,ge+=n*ot,re+=n*ie,G+=n*Pe,q+=n*Ae,se+=n*Ge,ne+=n*z,n=t[11],x+=n*Z,v+=n*ae,b+=n*ce,S+=n*Re,k+=n*ve,P+=n*Ue,N+=n*Be,W+=n*Je,te+=n*ft,ge+=n*it,re+=n*ot,G+=n*ie,q+=n*Pe,se+=n*Ae,ne+=n*Ge,H+=n*z,n=t[12],v+=n*Z,b+=n*ae,S+=n*ce,k+=n*Re,P+=n*ve,N+=n*Ue,W+=n*Be,te+=n*Je,ge+=n*ft,re+=n*it,G+=n*ot,q+=n*ie,se+=n*Pe,ne+=n*Ae,H+=n*Ge,O+=n*z,n=t[13],b+=n*Z,S+=n*ae,k+=n*ce,P+=n*Re,N+=n*ve,W+=n*Ue,te+=n*Be,ge+=n*Je,re+=n*ft,G+=n*it,q+=n*ot,se+=n*ie,ne+=n*Pe,H+=n*Ae,O+=n*Ge,j+=n*z,n=t[14],S+=n*Z,k+=n*ae,P+=n*ce,N+=n*Re,W+=n*ve,te+=n*Ue,ge+=n*Be,re+=n*Je,G+=n*ft,q+=n*it,se+=n*ot,ne+=n*ie,H+=n*Pe,O+=n*Ae,j+=n*Ge,J+=n*z,n=t[15],k+=n*Z,P+=n*ae,N+=n*ce,W+=n*Re,te+=n*ve,ge+=n*Ue,re+=n*Be,G+=n*Je,q+=n*ft,se+=n*it,ne+=n*ot,H+=n*ie,O+=n*Pe,j+=n*Ae,J+=n*Ge,le+=n*z,s+=38*P,a+=38*N,l+=38*W,c+=38*te,u+=38*ge,f+=38*re,m+=38*G,h+=38*q,p+=38*se,A+=38*ne,E+=38*H,x+=38*O,v+=38*j,b+=38*J,S+=38*le,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=A,e[10]=E,e[11]=x,e[12]=v,e[13]=b,e[14]=S,e[15]=k}o(Ro,"M")});var eke=V((uqr,ZBe)=>{d();var $u=Jn();Ki();hd();Yw();ZBe.exports=$u.kem=$u.kem||{};var JBe=$u.jsbn.BigInteger;$u.kem.rsa={};$u.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||$u.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new JBe($u.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(JBe.ONE)<=0);l=$u.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=$u.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};$u.kem.kdf1=function(e,t){XBe(this,e,0,t||e.digestLength)};$u.kem.kdf2=function(e,t){XBe(this,e,1,t||e.digestLength)};function XBe(e,t,r,n){e.generate=function(i,s){for(var a=new $u.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new $u.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(XBe,"_createKDF")});var ike=V((mqr,nke)=>{d();var Si=Jn();Ki();nke.exports=Si.log=Si.log||{};Si.log.levels=["none","error","warning","info","debug","verbose","max"];var nU={},Wie=[],r_=null;Si.log.LEVEL_LOCKED=2;Si.log.NO_LEVEL_CHECK=4;Si.log.INTERPOLATE=8;for(Lp=0;Lp<Si.log.levels.length;++Lp)qie=Si.log.levels[Lp],nU[qie]={index:Lp,name:qie.toUpperCase()};var qie,Lp;Si.log.logMessage=function(e){for(var t=nU[e.level].index,r=0;r<Wie.length;++r){var n=Wie[r];if(n.flags&Si.log.NO_LEVEL_CHECK)n.f(e);else{var i=nU[n.level].index;t<=i&&n.f(n,e)}}};Si.log.prepareStandard=function(e){"standard"in e||(e.standard=nU[e.level].name+" ["+e.category+"] "+e.message)};Si.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Si.util.format.apply(this,t)}};Si.log.prepareStandardFull=function(e){"standardFull"in e||(Si.log.prepareStandard(e),e.standardFull=e.standard)};for(Gie=["error","warning","info","debug","verbose"],Lp=0;Lp<Gie.length;++Lp)(function(t){Si.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};Si.log.logMessage(s)}})(Gie[Lp]);var Gie,Lp;Si.log.makeLogger=function(e){var t={flags:0,f:e};return Si.log.setLevel(t,"none"),t};Si.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Si.log.LEVEL_LOCKED))for(var n=0;n<Si.log.levels.length;++n){var i=Si.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Si.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Si.log.LEVEL_LOCKED:e.flags&=~Si.log.LEVEL_LOCKED};Si.log.addLogger=function(e){Wie.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(tke={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},n_=o(function(e,t){Si.log.prepareStandard(t);var r=tke[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),c8=Si.log.makeLogger(n_)):(n_=o(function(t,r){Si.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),c8=Si.log.makeLogger(n_)),Si.log.setLevel(c8,"debug"),Si.log.addLogger(c8),r_=c8):console={log:o(function(){},"log")};var c8,tke,n_;r_!==null&&typeof window<"u"&&window.location&&(t_=new URL(window.location.href).searchParams,t_.has("console.level")&&Si.log.setLevel(r_,t_.get("console.level").slice(-1)[0]),t_.has("console.lock")&&(rke=t_.get("console.lock").slice(-1)[0],rke=="true"&&Si.log.lock(r_)));var t_,rke;Si.log.consoleLogger=r_});var ske=V((gqr,oke)=>{d();oke.exports=Sp();LO();r8();rie();Rie()});var cke=V((yqr,lke)=>{d();var mr=Jn();ey();Wm();$w();ty();D4();gie();hd();Ki();KO();var De=mr.asn1,$0=lke.exports=mr.pkcs7=mr.pkcs7||{};$0.messageFromPem=function(e){var t=mr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=De.fromDer(t.body);return $0.messageFromAsn1(n)};$0.messageToPem=function(e,t){var r={type:"PKCS7",body:De.toDer(e.toAsn1()).getBytes()};return mr.pem.encode(r,{maxline:t})};$0.messageFromAsn1=function(e){var t={},r=[];if(!De.validate(e,$0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=De.derToOid(t.contentType),s;switch(i){case mr.pki.oids.envelopedData:s=$0.createEnvelopedData();break;case mr.pki.oids.encryptedData:s=$0.createEncryptedData();break;case mr.pki.oids.signedData:s=$0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};$0.createSignedData=function(){var e=null;return e={type:mr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(Vie(e,n,$0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(mr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(mr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.signerInfos)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=mr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=mr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||mr.pki.oids.sha1;switch(c){case mr.pki.oids.sha1:case mr.pki.oids.sha256:case mr.pki.oids.sha384:case mr.pki.oids.sha512:case mr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===mr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===mr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:mr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof mr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=mr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=mr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=mr.md[mr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=mr.md[mr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(a).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=De.derToOid(e.contentInfo.value[0].value),a=De.toDer(i);a.getByte(),De.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==mr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===mr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===mr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(Hie(p)),f.authenticatedAttributesAsn1.value.push(Hie(p))}a=De.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=nbt(e.signers)}o(r,"addSignerInfos")};$0.createEncryptedData=function(){var e=null;return e={type:mr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){Vie(e,t,$0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),ake(e)},"decrypt")},e};$0.createEnvelopedData=function(){var e=null;return e={type:mr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=Vie(e,t,$0.asn1.envelopedDataValidator);e.recipients=ebt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,tbt(e.recipients)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,ibt(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:case mr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=mr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}ake(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:mr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case mr.pki.oids["aes128-CBC"]:n=16,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes192-CBC"]:n=24,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes256-CBC"]:n=32,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=mr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=mr.util.createBuffer(mr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=mr.util.createBuffer(mr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function Xxt(e){var t={},r=[];if(!De.validate(e,$0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:mr.pki.RDNAttributesAsArray(t.issuer),serialNumber:mr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:De.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(Xxt,"_recipientFromAsn1");function Zxt(e){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.encryptedContent.algorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(Zxt,"_recipientToAsn1");function ebt(e){for(var t=[],r=0;r<e.length;++r)t.push(Xxt(e[r]));return t}o(ebt,"_recipientsFromAsn1");function tbt(e){for(var t=[],r=0;r<e.length;++r)t.push(Zxt(e[r]));return t}o(tbt,"_recipientsToAsn1");function rbt(e){var t=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.digestAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.signatureAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=De.create(De.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(Hie(i))}t.value.push(r)}return t}o(rbt,"_signerToAsn1");function nbt(e){for(var t=[],r=0;r<e.length;++r)t.push(rbt(e[r]));return t}o(nbt,"_signersToAsn1");function Hie(e){var t;if(e.type===mr.pki.oids.contentType)t=De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.value).getBytes());else if(e.type===mr.pki.oids.messageDigest)t=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===mr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=De.utcTimeToDate(i):i=De.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=De.create(De.Class.UNIVERSAL,De.Type.UTCTIME,!1,De.dateToUtcTime(i)):t=De.create(De.Class.UNIVERSAL,De.Type.GENERALIZEDTIME,!1,De.dateToGeneralizedTime(i))}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[t])])}o(Hie,"_attributeToAsn1");function ibt(e){return[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.algorithm).getBytes()),e.parameter?De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(ibt,"_encryptedContentToAsn1");function Vie(e,t,r){var n={},i=[];if(!De.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=De.derToOid(n.contentType);if(a!==mr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(mr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:De.derToOid(n.encAlgorithm),parameter:mr.util.createBuffer(n.encParameter.value),content:mr.util.createBuffer(l)}}if(n.content){var l="";if(mr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=mr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(Vie,"_fromAsn1");function ake(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case mr.pki.oids["aes128-CBC"]:case mr.pki.oids["aes192-CBC"]:case mr.pki.oids["aes256-CBC"]:t=mr.aes.createDecryptionCipher(e.encryptedContent.key);break;case mr.pki.oids.desCBC:case mr.pki.oids["des-EDE3-CBC"]:t=mr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(ake,"_decryptContent")});var fke=V((xqr,uke)=>{d();var Pa=Jn();ey();XI();LO();r8();Ki();var oU=uke.exports=Pa.ssh=Pa.ssh||{};oU.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Pa.util.createBuffer();u8(a,n),Qp(a,e.e),Qp(a,e.n);var l=Pa.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Pa.util.createBuffer();Qp(u,e.d),Qp(u,e.p),Qp(u,e.q),Qp(u,e.qInv);var f;if(!t)f=Pa.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=iU(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Pa.util.createBuffer();p.putBuffer(iU("\0\0\0\0",t)),p.putBuffer(iU("\0\0\0",t));var A=Pa.aes.createEncryptionCipher(p.truncate(8),"CBC");A.start(Pa.util.createBuffer().fillWithByte(0,16)),A.update(u.copy()),A.finish();var E=A.output;E.truncate(16),f=Pa.util.encode64(E.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var x=iU("putty-private-key-file-mac-key",t),v=Pa.util.createBuffer();u8(v,n),u8(v,i),u8(v,r),v.putInt32(a.length()),v.putBuffer(a),v.putInt32(u.length()),v.putBuffer(u);var b=Pa.hmac.create();return b.start("sha1",x),b.update(v.bytes()),s+=`\r
Private-MAC: `+b.digest().toHex()+`\r
`,s};oU.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Pa.util.createBuffer();return u8(n,r),Qp(n,e.e),Qp(n,e.n),r+" "+Pa.util.encode64(n.bytes())+" "+t};oU.privateKeyToOpenSSH=function(e,t){return t?Pa.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Pa.pki.privateKeyToPem(e)};oU.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Pa.md.md5.create(),n="ssh-rsa",i=Pa.util.createBuffer();u8(i,n),Qp(i,e.e),Qp(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function Qp(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Pa.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(Qp,"_addBigIntegerToBuffer");function u8(e,t){e.putInt32(t.length),e.putString(t)}o(u8,"_addStringToBuffer");function iU(){for(var e=Pa.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(iU,"_sha1")});var mke=V((Iqr,dke)=>{d();dke.exports=Jn();ey();DBe();Wm();BO();$w();KBe();XI();eke();ike();ske();Aie();UO();D4();fie();Eie();cke();bie();mie();nie();$O();hd();sie();fke();Sie();Ki()});var gke=V(U4=>{"use strict";d();Object.defineProperty(U4,"__esModule",{value:!0});U4.convert=U4.Format=void 0;var i_=mke(),cy;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(cy=U4.Format||(U4.Format={}));function hke(e){var t=i_.pki.pemToDer(e),r=i_.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(hke,"myASN");function obt(e){var t=hke(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(obt,"txtFormat");function pke(e,t){switch(t){case cy.der:return i_.pki.pemToDer(e);case cy.pem:return e;case cy.txt:return obt(e);case cy.asn1:return hke(e);case cy.fingerprint:var r=i_.md.sha1.create(),n=pke(e,cy.der);return r.update(n.getBytes()),r.digest().toHex();case cy.x509:return i_.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(pke,"convert");U4.convert=pke});var bke=V(Gc=>{"use strict";d();var uy=Gc&&Gc.__assign||function(){return uy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},uy.apply(this,arguments)},sU=Gc&&Gc.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.convert=Gc.Format=Gc.addToGlobalAgent=Gc.get=void 0;var jie=require("https"),sbt=require("tls"),Ake=require("child_process"),yke=J_e(),M1=gke();Object.defineProperty(Gc,"Format",{enumerable:!0,get:o(function(){return M1.Format},"get")});Object.defineProperty(Gc,"convert",{enumerable:!0,get:o(function(){return M1.convert},"get")});var Cke=process.platform==="darwin",Eke=jie.globalAgent,lU={keychain:"all",unique:!0,excludeBundled:!0,format:M1.Format.pem};function xke(e){if(e===void 0&&(e=lU),!Cke)return[];e=uy(uy({},lU),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,Ake.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=sU(sU([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,Ake.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=sU(sU([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,M1.convert)(u,M1.Format.fingerprint)}),c=e.excludeBundled?sbt.rootCertificates.map(function(u){return(0,M1.convert)(u,M1.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,M1.convert)(u,e.format)})}o(xke,"get");Gc.get=xke;var aU=Eke.options.ca,abt=o(function(e){if(e===void 0&&(e=lU),!!Cke){var t;Array.isArray(aU)?t=Array.from(aU):t=typeof aU<"u"?[aU]:[],xke(uy(uy(uy({},lU),e),{format:M1.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),Eke.options.ca=t,jie.Agent=function(r){return function(n){var i=typeof n<"u"?uy({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(jie.Agent),(0,yke.setGlobalDispatcher)(new yke.Agent({connect:{ca:t}}))}},"addToGlobalAgent");Gc.addToGlobalAgent=abt});var vke=V((Dqr,$ie)=>{d();function lbt(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(lbt,"all");process.platform!=="win32"?$ie.exports.all=()=>[]:$ie.exports.all=lbt});var Pke=V((Oqr,Dke)=>{d();var roe=require("fs"),uU=require("path"),o_=uU.join,ubt=uU.dirname,kke=roe.accessSync&&function(e){try{roe.accessSync(e)}catch{return!1}return!0}||roe.existsSync||uU.existsSync,Rke={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function fbt(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(Rke).map(function(c){c in e||(e[c]=Rke[c])}),e.module_root||(e.module_root=dbt(__filename)),uU.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=o_.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(fbt,"bindings");Dke.exports=fbt;function dbt(e){for(var t=ubt(e),r;;){if(t==="."&&(t=process.cwd()),kke(o_(t,"dist")))return o_(t,"dist");if(kke(o_(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=o_(t,"..")}}o(dbt,"getRoot")});var Lke=V((Gqr,Fke)=>{"use strict";d();function Nke(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(Nke,"validateParameter");function mbt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(mbt,"hasOwnProperty");function hbt(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];mbt(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),Nke(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(hbt,"defineOperation");Fke.exports={defineOperation:hbt,validateParameter:Nke}});var noe=V((Vqr,Oke)=>{"use strict";d();var m8=Pke()("kerberos"),d8=m8.KerberosClient,Qke=m8.KerberosServer,fy=Lke().defineOperation,pbt=1,gbt=2,Abt=4,ybt=8,Cbt=16,Ebt=32,xbt=64,bbt=128,vbt=256,Mke=0,Ibt=9,Tbt=6;d8.prototype.step=fy(d8.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);d8.prototype.wrap=fy(d8.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);d8.prototype.unwrap=fy(d8.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);Qke.prototype.step=fy(Qke.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var wbt=fy(m8.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),_bt=fy(m8.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Sbt=fy(m8.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:Mke}},{name:"callback",type:"function",required:!1}]),Bbt=fy(m8.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);Oke.exports={initializeClient:Sbt,initializeServer:Bbt,principalDetails:_bt,checkPassword:wbt,GSS_C_DELEG_FLAG:pbt,GSS_C_MUTUAL_FLAG:gbt,GSS_C_REPLAY_FLAG:Abt,GSS_C_SEQUENCE_FLAG:ybt,GSS_C_CONF_FLAG:Cbt,GSS_C_INTEG_FLAG:Ebt,GSS_C_ANON_FLAG:xbt,GSS_C_PROT_READY_FLAG:bbt,GSS_C_TRANS_FLAG:vbt,GSS_C_NO_OID:Mke,GSS_MECH_OID_KRB5:Ibt,GSS_MECH_OID_SPNEGO:Tbt}});var Uke=V(($qr,kbt)=>{kbt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var Gke=V((zqr,qke)=>{"use strict";d();var Rbt=require("dns"),Dbt=noe(),ioe=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Pbt(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();Rbt.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;Dbt.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function Pbt(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=Nbt(e),r(null,i)})}}o(Pbt,"firstTransition");function Nbt(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=Fbt(e),r(null,i||"")})}}o(Nbt,"secondTransition");function Fbt(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=Lbt(e),r(null,a)})})}}o(Fbt,"thirdTransition");function Lbt(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(Lbt,"fourthTransition");qke.exports={MongoAuthProcess:ioe}});var Hke=V((Jqr,s_)=>{"use strict";d();var Wke=noe();s_.exports=Wke;s_.exports.Kerberos=Wke;s_.exports.version=Uke().version;s_.exports.processes={MongoAuthProcess:Gke().MongoAuthProcess}});var k_=V((Ytn,fDe)=>{d();var aIt="2.0.0",lIt=Number.MAX_SAFE_INTEGER||9007199254740991,cIt=16,uIt=250,fIt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];fDe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:cIt,MAX_SAFE_BUILD_LENGTH:uIt,MAX_SAFE_INTEGER:lIt,RELEASE_TYPES:fIt,SEMVER_SPEC_VERSION:aIt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var R_=V((Jtn,dDe)=>{d();var dIt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};dDe.exports=dIt});var B8=V((qp,mDe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:cse,MAX_SAFE_BUILD_LENGTH:mIt,MAX_LENGTH:hIt}=k_(),pIt=R_();qp=mDe.exports={};var gIt=qp.re=[],AIt=qp.safeRe=[],wr=qp.src=[],yIt=qp.safeSrc=[],_r=qp.t={},CIt=0,use="[a-zA-Z0-9-]",EIt=[["\\s",1],["\\d",hIt],[use,mIt]],xIt=o(e=>{for(let[t,r]of EIt)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Un=o((e,t,r)=>{let n=xIt(t),i=CIt++;pIt(e,i,t),_r[e]=i,wr[i]=t,yIt[i]=n,gIt[i]=new RegExp(t,r?"g":void 0),AIt[i]=new RegExp(n,r?"g":void 0)},"createToken");Un("NUMERICIDENTIFIER","0|[1-9]\\d*");Un("NUMERICIDENTIFIERLOOSE","\\d+");Un("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${use}*`);Un("MAINVERSION",`(${wr[_r.NUMERICIDENTIFIER]})\\.(${wr[_r.NUMERICIDENTIFIER]})\\.(${wr[_r.NUMERICIDENTIFIER]})`);Un("MAINVERSIONLOOSE",`(${wr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${wr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${wr[_r.NUMERICIDENTIFIERLOOSE]})`);Un("PRERELEASEIDENTIFIER",`(?:${wr[_r.NUMERICIDENTIFIER]}|${wr[_r.NONNUMERICIDENTIFIER]})`);Un("PRERELEASEIDENTIFIERLOOSE",`(?:${wr[_r.NUMERICIDENTIFIERLOOSE]}|${wr[_r.NONNUMERICIDENTIFIER]})`);Un("PRERELEASE",`(?:-(${wr[_r.PRERELEASEIDENTIFIER]}(?:\\.${wr[_r.PRERELEASEIDENTIFIER]})*))`);Un("PRERELEASELOOSE",`(?:-?(${wr[_r.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${wr[_r.PRERELEASEIDENTIFIERLOOSE]})*))`);Un("BUILDIDENTIFIER",`${use}+`);Un("BUILD",`(?:\\+(${wr[_r.BUILDIDENTIFIER]}(?:\\.${wr[_r.BUILDIDENTIFIER]})*))`);Un("FULLPLAIN",`v?${wr[_r.MAINVERSION]}${wr[_r.PRERELEASE]}?${wr[_r.BUILD]}?`);Un("FULL",`^${wr[_r.FULLPLAIN]}$`);Un("LOOSEPLAIN",`[v=\\s]*${wr[_r.MAINVERSIONLOOSE]}${wr[_r.PRERELEASELOOSE]}?${wr[_r.BUILD]}?`);Un("LOOSE",`^${wr[_r.LOOSEPLAIN]}$`);Un("GTLT","((?:<|>)?=?)");Un("XRANGEIDENTIFIERLOOSE",`${wr[_r.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Un("XRANGEIDENTIFIER",`${wr[_r.NUMERICIDENTIFIER]}|x|X|\\*`);Un("XRANGEPLAIN",`[v=\\s]*(${wr[_r.XRANGEIDENTIFIER]})(?:\\.(${wr[_r.XRANGEIDENTIFIER]})(?:\\.(${wr[_r.XRANGEIDENTIFIER]})(?:${wr[_r.PRERELEASE]})?${wr[_r.BUILD]}?)?)?`);Un("XRANGEPLAINLOOSE",`[v=\\s]*(${wr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${wr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${wr[_r.XRANGEIDENTIFIERLOOSE]})(?:${wr[_r.PRERELEASELOOSE]})?${wr[_r.BUILD]}?)?)?`);Un("XRANGE",`^${wr[_r.GTLT]}\\s*${wr[_r.XRANGEPLAIN]}$`);Un("XRANGELOOSE",`^${wr[_r.GTLT]}\\s*${wr[_r.XRANGEPLAINLOOSE]}$`);Un("COERCEPLAIN",`(^|[^\\d])(\\d{1,${cse}})(?:\\.(\\d{1,${cse}}))?(?:\\.(\\d{1,${cse}}))?`);Un("COERCE",`${wr[_r.COERCEPLAIN]}(?:$|[^\\d])`);Un("COERCEFULL",wr[_r.COERCEPLAIN]+`(?:${wr[_r.PRERELEASE]})?(?:${wr[_r.BUILD]})?(?:$|[^\\d])`);Un("COERCERTL",wr[_r.COERCE],!0);Un("COERCERTLFULL",wr[_r.COERCEFULL],!0);Un("LONETILDE","(?:~>?)");Un("TILDETRIM",`(\\s*)${wr[_r.LONETILDE]}\\s+`,!0);qp.tildeTrimReplace="$1~";Un("TILDE",`^${wr[_r.LONETILDE]}${wr[_r.XRANGEPLAIN]}$`);Un("TILDELOOSE",`^${wr[_r.LONETILDE]}${wr[_r.XRANGEPLAINLOOSE]}$`);Un("LONECARET","(?:\\^)");Un("CARETTRIM",`(\\s*)${wr[_r.LONECARET]}\\s+`,!0);qp.caretTrimReplace="$1^";Un("CARET",`^${wr[_r.LONECARET]}${wr[_r.XRANGEPLAIN]}$`);Un("CARETLOOSE",`^${wr[_r.LONECARET]}${wr[_r.XRANGEPLAINLOOSE]}$`);Un("COMPARATORLOOSE",`^${wr[_r.GTLT]}\\s*(${wr[_r.LOOSEPLAIN]})$|^$`);Un("COMPARATOR",`^${wr[_r.GTLT]}\\s*(${wr[_r.FULLPLAIN]})$|^$`);Un("COMPARATORTRIM",`(\\s*)${wr[_r.GTLT]}\\s*(${wr[_r.LOOSEPLAIN]}|${wr[_r.XRANGEPLAIN]})`,!0);qp.comparatorTrimReplace="$1$2$3";Un("HYPHENRANGE",`^\\s*(${wr[_r.XRANGEPLAIN]})\\s+-\\s+(${wr[_r.XRANGEPLAIN]})\\s*$`);Un("HYPHENRANGELOOSE",`^\\s*(${wr[_r.XRANGEPLAINLOOSE]})\\s+-\\s+(${wr[_r.XRANGEPLAINLOOSE]})\\s*$`);Un("STAR","(<|>)?=?\\s*\\*");Un("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Un("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var yq=V((trn,hDe)=>{d();var bIt=Object.freeze({loose:!0}),vIt=Object.freeze({}),IIt=o(e=>e?typeof e!="object"?bIt:e:vIt,"parseOptions");hDe.exports=IIt});var fse=V((irn,ADe)=>{d();var pDe=/^[0-9]+$/,gDe=o((e,t)=>{let r=pDe.test(e),n=pDe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),TIt=o((e,t)=>gDe(t,e),"rcompareIdentifiers");ADe.exports={compareIdentifiers:gDe,rcompareIdentifiers:TIt}});var x0=V((arn,xDe)=>{d();var Cq=R_(),{MAX_LENGTH:yDe,MAX_SAFE_INTEGER:Eq}=k_(),{safeRe:CDe,safeSrc:EDe,t:xq}=B8(),wIt=yq(),{compareIdentifiers:k8}=fse(),dse=class e{static{o(this,"SemVer")}constructor(t,r){if(r=wIt(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>yDe)throw new TypeError(`version is longer than ${yDe} characters`);Cq("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?CDe[xq.LOOSE]:CDe[xq.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Eq||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Eq||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Eq||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Eq)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Cq("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),k8(this.major,t.major)||k8(this.minor,t.minor)||k8(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(Cq("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return k8(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(Cq("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return k8(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?EDe[xq.PRERELEASELOOSE]:EDe[xq.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),k8(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};xDe.exports=dse});var K4=V((urn,vDe)=>{d();var bDe=x0(),_It=o((e,t,r=!1)=>{if(e instanceof bDe)return e;try{return new bDe(e,t)}catch(n){if(!r)return null;throw n}},"parse");vDe.exports=_It});var TDe=V((mrn,IDe)=>{d();var SIt=K4(),BIt=o((e,t)=>{let r=SIt(e,t);return r?r.version:null},"valid");IDe.exports=BIt});var _De=V((grn,wDe)=>{d();var kIt=K4(),RIt=o((e,t)=>{let r=kIt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");wDe.exports=RIt});var kDe=V((Crn,BDe)=>{d();var SDe=x0(),DIt=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new SDe(e instanceof SDe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");BDe.exports=DIt});var PDe=V((brn,DDe)=>{d();var RDe=K4(),PIt=o((e,t)=>{let r=RDe(e,null,!0),n=RDe(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");DDe.exports=PIt});var FDe=V((Trn,NDe)=>{d();var NIt=x0(),FIt=o((e,t)=>new NIt(e,t).major,"major");NDe.exports=FIt});var QDe=V((Srn,LDe)=>{d();var LIt=x0(),QIt=o((e,t)=>new LIt(e,t).minor,"minor");LDe.exports=QIt});var ODe=V((Rrn,MDe)=>{d();var MIt=x0(),OIt=o((e,t)=>new MIt(e,t).patch,"patch");MDe.exports=OIt});var qDe=V((Nrn,UDe)=>{d();var UIt=K4(),qIt=o((e,t)=>{let r=UIt(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");UDe.exports=qIt});var xd=V((Qrn,WDe)=>{d();var GDe=x0(),GIt=o((e,t,r)=>new GDe(e,r).compare(new GDe(t,r)),"compare");WDe.exports=GIt});var VDe=V((Urn,HDe)=>{d();var WIt=xd(),HIt=o((e,t,r)=>WIt(t,e,r),"rcompare");HDe.exports=HIt});var $De=V((Wrn,jDe)=>{d();var VIt=xd(),jIt=o((e,t)=>VIt(e,t,!0),"compareLoose");jDe.exports=jIt});var bq=V((jrn,YDe)=>{d();var zDe=x0(),$It=o((e,t,r)=>{let n=new zDe(e,r),i=new zDe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");YDe.exports=$It});var JDe=V((Yrn,KDe)=>{d();var zIt=bq(),YIt=o((e,t)=>e.sort((r,n)=>zIt(r,n,t)),"sort");KDe.exports=YIt});var ZDe=V((Xrn,XDe)=>{d();var KIt=bq(),JIt=o((e,t)=>e.sort((r,n)=>KIt(n,r,t)),"rsort");XDe.exports=JIt});var D_=V((tnn,ePe)=>{d();var XIt=xd(),ZIt=o((e,t,r)=>XIt(e,t,r)>0,"gt");ePe.exports=ZIt});var vq=V((inn,tPe)=>{d();var e8t=xd(),t8t=o((e,t,r)=>e8t(e,t,r)<0,"lt");tPe.exports=t8t});var mse=V((ann,rPe)=>{d();var r8t=xd(),n8t=o((e,t,r)=>r8t(e,t,r)===0,"eq");rPe.exports=n8t});var hse=V((unn,nPe)=>{d();var i8t=xd(),o8t=o((e,t,r)=>i8t(e,t,r)!==0,"neq");nPe.exports=o8t});var Iq=V((mnn,iPe)=>{d();var s8t=xd(),a8t=o((e,t,r)=>s8t(e,t,r)>=0,"gte");iPe.exports=a8t});var Tq=V((gnn,oPe)=>{d();var l8t=xd(),c8t=o((e,t,r)=>l8t(e,t,r)<=0,"lte");oPe.exports=c8t});var pse=V((Cnn,sPe)=>{d();var u8t=mse(),f8t=hse(),d8t=D_(),m8t=Iq(),h8t=vq(),p8t=Tq(),g8t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return u8t(e,r,n);case"!=":return f8t(e,r,n);case">":return d8t(e,r,n);case">=":return m8t(e,r,n);case"<":return h8t(e,r,n);case"<=":return p8t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");sPe.exports=g8t});var lPe=V((bnn,aPe)=>{d();var A8t=x0(),y8t=K4(),{safeRe:wq,t:_q}=B8(),C8t=o((e,t)=>{if(e instanceof A8t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?wq[_q.COERCEFULL]:wq[_q.COERCE]);else{let c=t.includePrerelease?wq[_q.COERCERTLFULL]:wq[_q.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return y8t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");aPe.exports=C8t});var uPe=V((Tnn,cPe)=>{d();var gse=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};cPe.exports=gse});var bd=V((Snn,hPe)=>{d();var E8t=/\s+/g,Ase=class e{static{o(this,"Range")}constructor(t,r){if(r=b8t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof yse)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(E8t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!dPe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&B8t(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&_8t)|(this.options.loose&&S8t))+":"+t,i=fPe.get(n);if(i)return i;let s=this.options.loose,a=s?Vc[K0.HYPHENRANGELOOSE]:Vc[K0.HYPHENRANGE];t=t.replace(a,O8t(this.options.includePrerelease)),ss("hyphen replace",t),t=t.replace(Vc[K0.COMPARATORTRIM],I8t),ss("comparator trim",t),t=t.replace(Vc[K0.TILDETRIM],T8t),ss("tilde trim",t),t=t.replace(Vc[K0.CARETTRIM],w8t),ss("caret trim",t);let l=t.split(" ").map(m=>k8t(m,this.options)).join(" ").split(/\s+/).map(m=>M8t(m,this.options));s&&(l=l.filter(m=>(ss("loose invalid filter",m,this.options),!!m.match(Vc[K0.COMPARATORLOOSE])))),ss("range list",l);let c=new Map,u=l.map(m=>new yse(m,this.options));for(let m of u){if(dPe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return fPe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>mPe(n,r)&&t.set.some(i=>mPe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new v8t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(U8t(this.set[r],t,this.options))return!0;return!1}};hPe.exports=Ase;var x8t=uPe(),fPe=new x8t,b8t=yq(),yse=P_(),ss=R_(),v8t=x0(),{safeRe:Vc,t:K0,comparatorTrimReplace:I8t,tildeTrimReplace:T8t,caretTrimReplace:w8t}=B8(),{FLAG_INCLUDE_PRERELEASE:_8t,FLAG_LOOSE:S8t}=k_(),dPe=o(e=>e.value==="<0.0.0-0","isNullSet"),B8t=o(e=>e.value==="","isAny"),mPe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),k8t=o((e,t)=>(ss("comp",e,t),e=P8t(e,t),ss("caret",e),e=R8t(e,t),ss("tildes",e),e=F8t(e,t),ss("xrange",e),e=Q8t(e,t),ss("stars",e),e),"parseComparator"),J0=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),R8t=o((e,t)=>e.trim().split(/\s+/).map(r=>D8t(r,t)).join(" "),"replaceTildes"),D8t=o((e,t)=>{let r=t.loose?Vc[K0.TILDELOOSE]:Vc[K0.TILDE];return e.replace(r,(n,i,s,a,l)=>{ss("tilde",e,n,i,s,a,l);let c;return J0(i)?c="":J0(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:J0(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(ss("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,ss("tilde return",c),c})},"replaceTilde"),P8t=o((e,t)=>e.trim().split(/\s+/).map(r=>N8t(r,t)).join(" "),"replaceCarets"),N8t=o((e,t)=>{ss("caret",e,t);let r=t.loose?Vc[K0.CARETLOOSE]:Vc[K0.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{ss("caret",e,i,s,a,l,c);let u;return J0(s)?u="":J0(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:J0(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(ss("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(ss("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),ss("caret return",u),u})},"replaceCaret"),F8t=o((e,t)=>(ss("replaceXRanges",e,t),e.split(/\s+/).map(r=>L8t(r,t)).join(" ")),"replaceXRanges"),L8t=o((e,t)=>{e=e.trim();let r=t.loose?Vc[K0.XRANGELOOSE]:Vc[K0.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{ss("xRange",e,n,i,s,a,l,c);let u=J0(s),f=u||J0(a),m=f||J0(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),ss("xRange return",n),n})},"replaceXRange"),Q8t=o((e,t)=>(ss("replaceStars",e,t),e.trim().replace(Vc[K0.STAR],"")),"replaceStars"),M8t=o((e,t)=>(ss("replaceGTE0",e,t),e.trim().replace(Vc[t.includePrerelease?K0.GTE0PRE:K0.GTE0],"")),"replaceGTE0"),O8t=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(J0(n)?r="":J0(i)?r=`>=${n}.0.0${e?"-0":""}`:J0(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,J0(u)?c="":J0(f)?c=`<${+u+1}.0.0-0`:J0(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),U8t=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(ss(e[n].semver),e[n].semver!==yse.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var P_=V((Rnn,EPe)=>{d();var N_=Symbol("SemVer ANY"),xse=class e{static{o(this,"Comparator")}static get ANY(){return N_}constructor(t,r){if(r=pPe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Ese("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===N_?this.value="":this.value=this.operator+this.semver.version,Ese("comp",this)}parse(t){let r=this.options.loose?gPe[APe.COMPARATORLOOSE]:gPe[APe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new yPe(n[2],this.options.loose):this.semver=N_}toString(){return this.value}test(t){if(Ese("Comparator.test",t,this.options.loose),this.semver===N_||t===N_)return!0;if(typeof t=="string")try{t=new yPe(t,this.options)}catch{return!1}return Cse(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new CPe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new CPe(this.value,r).test(t.semver):(r=pPe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Cse(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Cse(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};EPe.exports=xse;var pPe=yq(),{safeRe:gPe,t:APe}=B8(),Cse=pse(),Ese=R_(),yPe=x0(),CPe=bd()});var F_=V((Nnn,xPe)=>{d();var q8t=bd(),G8t=o((e,t,r)=>{try{t=new q8t(t,r)}catch{return!1}return t.test(e)},"satisfies");xPe.exports=G8t});var vPe=V((Qnn,bPe)=>{d();var W8t=bd(),H8t=o((e,t)=>new W8t(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");bPe.exports=H8t});var TPe=V((Unn,IPe)=>{d();var V8t=x0(),j8t=bd(),$8t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new j8t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new V8t(n,r))}),n},"maxSatisfying");IPe.exports=$8t});var _Pe=V((Wnn,wPe)=>{d();var z8t=x0(),Y8t=bd(),K8t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new Y8t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new z8t(n,r))}),n},"minSatisfying");wPe.exports=K8t});var kPe=V((jnn,BPe)=>{d();var bse=x0(),J8t=bd(),SPe=D_(),X8t=o((e,t)=>{e=new J8t(e,t);let r=new bse("0.0.0");if(e.test(r)||(r=new bse("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new bse(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||SPe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||SPe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");BPe.exports=X8t});var DPe=V((Ynn,RPe)=>{d();var Z8t=bd(),e6t=o((e,t)=>{try{return new Z8t(e,t).range||"*"}catch{return null}},"validRange");RPe.exports=e6t});var Sq=V((Xnn,LPe)=>{d();var t6t=x0(),FPe=P_(),{ANY:r6t}=FPe,n6t=bd(),i6t=F_(),PPe=D_(),NPe=vq(),o6t=Tq(),s6t=Iq(),a6t=o((e,t,r,n)=>{e=new t6t(e,n),t=new n6t(t,n);let i,s,a,l,c;switch(r){case">":i=PPe,s=o6t,a=NPe,l=">",c=">=";break;case"<":i=NPe,s=s6t,a=PPe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i6t(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===r6t&&(p=new FPe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");LPe.exports=a6t});var MPe=V((tin,QPe)=>{d();var l6t=Sq(),c6t=o((e,t,r)=>l6t(e,t,">",r),"gtr");QPe.exports=c6t});var UPe=V((iin,OPe)=>{d();var u6t=Sq(),f6t=o((e,t,r)=>u6t(e,t,"<",r),"ltr");OPe.exports=f6t});var WPe=V((ain,GPe)=>{d();var qPe=bd(),d6t=o((e,t,r)=>(e=new qPe(e,r),t=new qPe(t,r),e.intersects(t,r)),"intersects");GPe.exports=d6t});var VPe=V((uin,HPe)=>{d();var m6t=F_(),h6t=xd();HPe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>h6t(f,m,r));for(let f of a)m6t(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var JPe=V((din,KPe)=>{d();var jPe=bd(),Ise=P_(),{ANY:vse}=Ise,L_=F_(),Tse=xd(),p6t=o((e,t,r={})=>{if(e===t)return!0;e=new jPe(e,r),t=new jPe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=A6t(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),g6t=[new Ise(">=0.0.0-0")],$Pe=[new Ise(">=0.0.0")],A6t=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===vse){if(t.length===1&&t[0].semver===vse)return!0;r.includePrerelease?e=g6t:e=$Pe}if(t.length===1&&t[0].semver===vse){if(r.includePrerelease)return!0;t=$Pe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=zPe(i,p,r):p.operator==="<"||p.operator==="<="?s=YPe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Tse(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!L_(p,String(i),r)||s&&!L_(p,String(s),r))return null;for(let A of t)if(!L_(p,String(A),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=zPe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!L_(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=YPe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!L_(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),zPe=o((e,t,r)=>{if(!e)return t;let n=Tse(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),YPe=o((e,t,r)=>{if(!e)return t;let n=Tse(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");KPe.exports=p6t});var _se=V((pin,eNe)=>{d();var wse=B8(),XPe=k_(),y6t=x0(),ZPe=fse(),C6t=K4(),E6t=TDe(),x6t=_De(),b6t=kDe(),v6t=PDe(),I6t=FDe(),T6t=QDe(),w6t=ODe(),_6t=qDe(),S6t=xd(),B6t=VDe(),k6t=$De(),R6t=bq(),D6t=JDe(),P6t=ZDe(),N6t=D_(),F6t=vq(),L6t=mse(),Q6t=hse(),M6t=Iq(),O6t=Tq(),U6t=pse(),q6t=lPe(),G6t=P_(),W6t=bd(),H6t=F_(),V6t=vPe(),j6t=TPe(),$6t=_Pe(),z6t=kPe(),Y6t=DPe(),K6t=Sq(),J6t=MPe(),X6t=UPe(),Z6t=WPe(),e9t=VPe(),t9t=JPe();eNe.exports={parse:C6t,valid:E6t,clean:x6t,inc:b6t,diff:v6t,major:I6t,minor:T6t,patch:w6t,prerelease:_6t,compare:S6t,rcompare:B6t,compareLoose:k6t,compareBuild:R6t,sort:D6t,rsort:P6t,gt:N6t,lt:F6t,eq:L6t,neq:Q6t,gte:M6t,lte:O6t,cmp:U6t,coerce:q6t,Comparator:G6t,Range:W6t,satisfies:H6t,toComparators:V6t,maxSatisfying:j6t,minSatisfying:$6t,minVersion:z6t,validRange:Y6t,outside:K6t,gtr:J6t,ltr:X6t,intersects:Z6t,simplifyRange:e9t,subset:t9t,SemVer:y6t,re:wse.re,src:wse.src,tokens:wse.t,SEMVER_SPEC_VERSION:XPe.SEMVER_SPEC_VERSION,RELEASE_TYPES:XPe.RELEASE_TYPES,compareIdentifiers:ZPe.compareIdentifiers,rcompareIdentifiers:ZPe.rcompareIdentifiers}});var ef=V(U_=>{"use strict";d();Object.defineProperty(U_,"__esModule",{value:!0});U_.dedent=void 0;function ENe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(ENe,"dedent");U_.dedent=ENe;U_.default=ENe});var SNe=V(qse=>{"use strict";d();Object.defineProperty(qse,"__esModule",{value:!0});qse.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var NNe=V(Wse=>{"use strict";d();Object.defineProperty(Wse,"__esModule",{value:!0});var BNe=require("worker_threads"),b9t=require("v8"),v9t=require("os"),kNe=SNe(),Oq="ready",RNe="spawning",I9t="busy",Uq="off",DNe=v9t.cpus().length,PNe=process.version.replace("v","").split("."),T9t=parseInt(PNe[0]),w9t=parseInt(PNe[1]),Gse=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=DNe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new BNe.Worker(kNe.workerFile,{eval:!0});t.status=RNe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=Oq,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=Uq,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===Uq).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===Oq){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=I9t;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=b9t.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=Uq,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=Oq,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:DNe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new BNe.Worker(kNe.workerFile,{eval:!0});this.workers.push({status:RNe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=Oq,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=Uq,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(T9t>=12&&w9t>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};Wse.default=new Gse});var qq=V(X4=>{"use strict";d();var _9t=X4&&X4.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X4,"__esModule",{value:!0});var q_=_9t(NNe()),S9t=`job needs a function.
Try with:
> job(() => {...}, config)`,B9t=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function k9t(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(S9t));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(B9t));q_.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(k9t,"job");X4.job=k9t;X4.stop=q_.default.teardown.bind(q_.default);X4.start=q_.default.setup.bind(q_.default)});var JNe=V(Z4=>{"use strict";d();var Vp=Z4&&Z4.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Xse=Z4&&Z4.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},X1,Iy;Object.defineProperty(Z4,"__esModule",{value:!0});var Zse=class{static{o(this,"AwaitLock")}constructor(){X1.set(this,!1),Iy.set(this,new Set)}get acquired(){return Vp(this,X1,"f")}acquireAsync({timeout:t}={}){if(!Vp(this,X1,"f"))return Xse(this,X1,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{Vp(this,Iy,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),Vp(this,Iy,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{Vp(this,Iy,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return Vp(this,X1,"f")?!1:(Xse(this,X1,!0,"f"),!0)}release(){if(!Vp(this,X1,"f"))throw new Error("Cannot release an unacquired lock");if(Vp(this,Iy,"f").size>0){let[t]=Vp(this,Iy,"f");Vp(this,Iy,"f").delete(t),t()}else Xse(this,X1,!1,"f")}};Z4.default=Zse;X1=new WeakMap,Iy=new WeakMap});var $kt={};Nh($kt,{getTokenizer:()=>So,main:()=>tOe});module.exports=wUe($kt);d();var uLn=ct($V());d();d();var R9="github.copilot";d();d();var Lh=class{static{o(this,"Clock")}now(){return new Date}};d();var Uk=ct(I2());function KV(e){return(0,Uk.SHA256)(Uk.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(KV,"keyForPrompt");var Rn=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Ns=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var Ef="X-Copilot-RelatedPluginVersion-",P9=(O=>(O.Market="X-MSEdge-Market",O.CorpNet="X-FD-Corpnet",O.Build="X-VSCode-Build",O.ApplicationVersion="X-VSCode-AppVersion",O.TargetPopulation="X-VSCode-TargetPopulation",O.ClientId="X-MSEdge-ClientId",O.ExtensionName="X-VSCode-ExtensionName",O.ExtensionVersion="X-VSCode-ExtensionVersion",O.ExtensionRelease="X-VSCode-ExtensionRelease",O.Language="X-VSCode-Language",O.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",O.CopilotEngine="X-Copilot-Engine",O.CopilotOverrideEngine="X-Copilot-OverrideEngine",O.CopilotRepository="X-Copilot-Repository",O.CopilotFileType="X-Copilot-FileType",O.CopilotUserKind="X-Copilot-UserKind",O.CopilotDogfood="X-Copilot-Dogfood",O.CopilotCustomModel="X-Copilot-CustomModel",O.CopilotOrgs="X-Copilot-Orgs",O.CopilotCustomModelNames="X-Copilot-CustomModelNames",O.CopilotTrackingId="X-Copilot-CopilotTrackingId",O.CopilotClientVersion="X-Copilot-ClientVersion",O.CopilotRelatedPluginVersionCppTools=Ef+"msvscodecpptools",O.CopilotRelatedPluginVersionCMakeTools=Ef+"msvscodecmaketools",O.CopilotRelatedPluginVersionMakefileTools=Ef+"msvscodemakefiletools",O.CopilotRelatedPluginVersionCSharpDevKit=Ef+"msdotnettoolscsdevkit",O.CopilotRelatedPluginVersionPython=Ef+"mspythonpython",O.CopilotRelatedPluginVersionPylance=Ef+"mspythonvscodepylance",O.CopilotRelatedPluginVersionJavaPack=Ef+"vscjavavscodejavapack",O.CopilotRelatedPluginVersionTypescript=Ef+"vscodetypescriptlanguagefeatures",O.CopilotRelatedPluginVersionTypescriptNext=Ef+"msvscodevscodetypescriptnext",O.CopilotRelatedPluginVersionCSharp=Ef+"msdotnettoolscsharp",O))(P9||{});var dqe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},F3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=dqe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();d();var Qx=ct(tde(),1),ONt={ALPN_HTTP2:Qx.default.ALPN_HTTP2,ALPN_HTTP2C:Qx.default.ALPN_HTTP2C,ALPN_HTTP1_1:Qx.default.ALPN_HTTP1_1,ALPN_HTTP1_0:Qx.default.ALPN_HTTP1_0},{fetch:UNt,context:rde,reset:qNt,noCache:GNt,h1:WNt,keepAlive:HNt,h1NoCache:VNt,keepAliveNoCache:jNt,cacheStats:$Nt,clearCache:zNt,offPush:YNt,onPush:KNt,createUrl:JNt,timeoutSignal:XNt,Body:ZNt,Headers:nde,Request:eFt,Response:tFt,AbortController:aR,AbortError:Mx,AbortSignal:ide,FetchBaseError:rFt,FetchError:q9,ALPN_HTTP2:nFt,ALPN_HTTP2C:iFt,ALPN_HTTP1_1:oFt,ALPN_HTTP1_0:sFt}=Qx.default;var ode=ct(require("util")),sde=require("util");var Nr=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},G9=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function ou(e){return!e||typeof e!="object"?!1:e instanceof G9||e instanceof Mx||"name"in e&&e.name==="AbortError"||e instanceof q9&&e.code==="ABORT_ERR"}o(ou,"isAbortError");var Ox=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},G3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},nHe=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function W9(e,t=!0){return e instanceof Error?t&&"cause"in e&&W9(e.cause,!1)?!0:e instanceof q9||e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof Ox||e instanceof G3||e?.message?.startsWith("net::")||nHe.has(e.code??""):!1}o(W9,"isNetworkError");var S2=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new Ox(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new sde.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new Ox(`Response body truncated: actualLength=${s}`,"Truncated"):new Ox(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function Ux(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:ode.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(us).sessionId,"VScode-MachineId":e.get(us).machineId,...i0(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Nr);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{Xt(e,"networking.cancelRequest",tn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(iHe(p))return Xt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(Ux,"postRequest");function iHe(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(iHe,"isInterruptedNetworkError");d();d();d();d();d();d();d();var o0={};Nh(o0,{HasPropertyKey:()=>lR,IsArray:()=>Xs,IsAsyncIterator:()=>kj,IsBigInt:()=>H9,IsBoolean:()=>Pg,IsDate:()=>W3,IsFunction:()=>Rj,IsIterator:()=>Dj,IsNull:()=>Pj,IsNumber:()=>su,IsObject:()=>po,IsRegExp:()=>V9,IsString:()=>To,IsSymbol:()=>Nj,IsUint8Array:()=>Ng,IsUndefined:()=>Zs});d();function lR(e,t){return t in e}o(lR,"HasPropertyKey");function kj(e){return po(e)&&!Xs(e)&&!Ng(e)&&Symbol.asyncIterator in e}o(kj,"IsAsyncIterator");function Xs(e){return Array.isArray(e)}o(Xs,"IsArray");function H9(e){return typeof e=="bigint"}o(H9,"IsBigInt");function Pg(e){return typeof e=="boolean"}o(Pg,"IsBoolean");function W3(e){return e instanceof globalThis.Date}o(W3,"IsDate");function Rj(e){return typeof e=="function"}o(Rj,"IsFunction");function Dj(e){return po(e)&&!Xs(e)&&!Ng(e)&&Symbol.iterator in e}o(Dj,"IsIterator");function Pj(e){return e===null}o(Pj,"IsNull");function su(e){return typeof e=="number"}o(su,"IsNumber");function po(e){return typeof e=="object"&&e!==null}o(po,"IsObject");function V9(e){return e instanceof globalThis.RegExp}o(V9,"IsRegExp");function To(e){return typeof e=="string"}o(To,"IsString");function Nj(e){return typeof e=="symbol"}o(Nj,"IsSymbol");function Ng(e){return e instanceof globalThis.Uint8Array}o(Ng,"IsUint8Array");function Zs(e){return e===void 0}o(Zs,"IsUndefined");function oHe(e){return e.map(t=>cR(t))}o(oHe,"ArrayType");function sHe(e){return new Date(e.getTime())}o(sHe,"DateType");function aHe(e){return new Uint8Array(e)}o(aHe,"Uint8ArrayType");function lHe(e){return new RegExp(e.source,e.flags)}o(lHe,"RegExpType");function cHe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=cR(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=cR(e[r]);return t}o(cHe,"ObjectType");function cR(e){return Xs(e)?oHe(e):W3(e)?sHe(e):Ng(e)?aHe(e):V9(e)?lHe(e):po(e)?cHe(e):e}o(cR,"Visit");function $o(e){return cR(e)}o($o,"Clone");function qx(e,t){return t===void 0?$o(e):$o({...t,...e})}o(qx,"CloneType");d();d();d();function uR(e){return Kn(e)&&globalThis.Symbol.asyncIterator in e}o(uR,"IsAsyncIterator");function fR(e){return Kn(e)&&globalThis.Symbol.iterator in e}o(fR,"IsIterator");function Fj(e){return Kn(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(Fj,"IsStandardObject");function dR(e){return e instanceof globalThis.Promise}o(dR,"IsPromise");function R0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(R0,"IsDate");function ade(e){return e instanceof globalThis.Map}o(ade,"IsMap");function lde(e){return e instanceof globalThis.Set}o(lde,"IsSet");function vf(e){return globalThis.ArrayBuffer.isView(e)}o(vf,"IsTypedArray");function Gx(e){return e instanceof globalThis.Uint8Array}o(Gx,"IsUint8Array");function ln(e,t){return t in e}o(ln,"HasPropertyKey");function Kn(e){return e!==null&&typeof e=="object"}o(Kn,"IsObject");function cn(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(cn,"IsArray");function zo(e){return e===void 0}o(zo,"IsUndefined");function Fg(e){return e===null}o(Fg,"IsNull");function Qh(e){return typeof e=="boolean"}o(Qh,"IsBoolean");function Vr(e){return typeof e=="number"}o(Vr,"IsNumber");function mR(e){return globalThis.Number.isInteger(e)}o(mR,"IsInteger");function Fl(e){return typeof e=="bigint"}o(Fl,"IsBigInt");function Bi(e){return typeof e=="string"}o(Bi,"IsString");function B2(e){return typeof e=="function"}o(B2,"IsFunction");function Lg(e){return typeof e=="symbol"}o(Lg,"IsSymbol");function au(e){return Fl(e)||Qh(e)||Fg(e)||Vr(e)||Bi(e)||Lg(e)||zo(e)}o(au,"IsValueType");var Po;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Kn(a);return e.AllowArrayObject?l:l&&!cn(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Vr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=zo(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Po||(Po={}));d();function uHe(e){return globalThis.Object.freeze(e).map(t=>j9(t))}o(uHe,"ImmutableArray");function fHe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=j9(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=j9(e[r]);return globalThis.Object.freeze(t)}o(fHe,"ImmutableObject");function j9(e){return Xs(e)?uHe(e):W3(e)?e:Ng(e)?e:V9(e)?e:po(e)?fHe(e):e}o(j9,"Immutable");function at(e,t){let r=t!==void 0?{...t,...e}:e;switch(Po.InstanceMode){case"freeze":return j9(r);case"clone":return $o(r);default:return r}}o(at,"CreateType");d();var un=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var ds=Symbol.for("TypeBox.Transform"),Jd=Symbol.for("TypeBox.Readonly"),Ll=Symbol.for("TypeBox.Optional"),If=Symbol.for("TypeBox.Hint"),nt=Symbol.for("TypeBox.Kind");function Wx(e){return po(e)&&e[Jd]==="Readonly"}o(Wx,"IsReadonly");function dc(e){return po(e)&&e[Ll]==="Optional"}o(dc,"IsOptional");function Lj(e){return bi(e,"Any")}o(Lj,"IsAny");function Qj(e){return bi(e,"Argument")}o(Qj,"IsArgument");function Xd(e){return bi(e,"Array")}o(Xd,"IsArray");function H3(e){return bi(e,"AsyncIterator")}o(H3,"IsAsyncIterator");function V3(e){return bi(e,"BigInt")}o(V3,"IsBigInt");function Qg(e){return bi(e,"Boolean")}o(Qg,"IsBoolean");function Zd(e){return bi(e,"Computed")}o(Zd,"IsComputed");function em(e){return bi(e,"Constructor")}o(em,"IsConstructor");function dHe(e){return bi(e,"Date")}o(dHe,"IsDate");function tm(e){return bi(e,"Function")}o(tm,"IsFunction");function rm(e){return bi(e,"Integer")}o(rm,"IsInteger");function _s(e){return bi(e,"Intersect")}o(_s,"IsIntersect");function j3(e){return bi(e,"Iterator")}o(j3,"IsIterator");function bi(e,t){return po(e)&&nt in e&&e[nt]===t}o(bi,"IsKindOf");function hR(e){return Pg(e)||su(e)||To(e)}o(hR,"IsLiteralValue");function lu(e){return bi(e,"Literal")}o(lu,"IsLiteral");function cu(e){return bi(e,"MappedKey")}o(cu,"IsMappedKey");function Yo(e){return bi(e,"MappedResult")}o(Yo,"IsMappedResult");function k2(e){return bi(e,"Never")}o(k2,"IsNever");function mHe(e){return bi(e,"Not")}o(mHe,"IsNot");function $9(e){return bi(e,"Null")}o($9,"IsNull");function nm(e){return bi(e,"Number")}o(nm,"IsNumber");function ea(e){return bi(e,"Object")}o(ea,"IsObject");function $3(e){return bi(e,"Promise")}o($3,"IsPromise");function z3(e){return bi(e,"Record")}o(z3,"IsRecord");function Fs(e){return bi(e,"Ref")}o(Fs,"IsRef");function Mj(e){return bi(e,"RegExp")}o(Mj,"IsRegExp");function Mg(e){return bi(e,"String")}o(Mg,"IsString");function z9(e){return bi(e,"Symbol")}o(z9,"IsSymbol");function uu(e){return bi(e,"TemplateLiteral")}o(uu,"IsTemplateLiteral");function hHe(e){return bi(e,"This")}o(hHe,"IsThis");function ji(e){return po(e)&&ds in e}o(ji,"IsTransform");function fu(e){return bi(e,"Tuple")}o(fu,"IsTuple");function Og(e){return bi(e,"Undefined")}o(Og,"IsUndefined");function ki(e){return bi(e,"Union")}o(ki,"IsUnion");function pHe(e){return bi(e,"Uint8Array")}o(pHe,"IsUint8Array");function gHe(e){return bi(e,"Unknown")}o(gHe,"IsUnknown");function AHe(e){return bi(e,"Unsafe")}o(AHe,"IsUnsafe");function yHe(e){return bi(e,"Void")}o(yHe,"IsVoid");function R2(e){return po(e)&&nt in e&&To(e[nt])}o(R2,"IsKind");function ms(e){return Lj(e)||Qj(e)||Xd(e)||Qg(e)||V3(e)||H3(e)||Zd(e)||em(e)||dHe(e)||tm(e)||rm(e)||_s(e)||j3(e)||lu(e)||cu(e)||Yo(e)||k2(e)||mHe(e)||$9(e)||nm(e)||ea(e)||$3(e)||z3(e)||Fs(e)||Mj(e)||Mg(e)||z9(e)||uu(e)||hHe(e)||fu(e)||Og(e)||ki(e)||pHe(e)||gHe(e)||AHe(e)||yHe(e)||R2(e)}o(ms,"IsSchema");var Qe={};Nh(Qe,{IsAny:()=>dde,IsArgument:()=>mde,IsArray:()=>hde,IsAsyncIterator:()=>pde,IsBigInt:()=>gde,IsBoolean:()=>Ade,IsComputed:()=>yde,IsConstructor:()=>Cde,IsDate:()=>Ede,IsFunction:()=>xde,IsImport:()=>IHe,IsInteger:()=>bde,IsIntersect:()=>vde,IsIterator:()=>Ide,IsKind:()=>Kde,IsKindOf:()=>oi,IsLiteral:()=>K9,IsLiteralBoolean:()=>THe,IsLiteralNumber:()=>wde,IsLiteralString:()=>Tde,IsLiteralValue:()=>_de,IsMappedKey:()=>Sde,IsMappedResult:()=>Bde,IsNever:()=>kde,IsNot:()=>Rde,IsNull:()=>Dde,IsNumber:()=>Pde,IsObject:()=>Nde,IsOptional:()=>vHe,IsPromise:()=>Fde,IsProperties:()=>pR,IsReadonly:()=>bHe,IsRecord:()=>Lde,IsRecursive:()=>wHe,IsRef:()=>Qde,IsRegExp:()=>Mde,IsSchema:()=>Ko,IsString:()=>Ode,IsSymbol:()=>Ude,IsTemplateLiteral:()=>qde,IsThis:()=>Gde,IsTransform:()=>Wde,IsTuple:()=>Hde,IsUint8Array:()=>jde,IsUndefined:()=>Vde,IsUnion:()=>Gj,IsUnionLiteral:()=>_He,IsUnknown:()=>$de,IsUnsafe:()=>zde,IsVoid:()=>Yde,TypeGuardUnknownTypeError:()=>Oj});d();var Oj=class extends un{static{o(this,"TypeGuardUnknownTypeError")}},CHe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function cde(e){try{return new RegExp(e),!0}catch{return!1}}o(cde,"IsPattern");function Uj(e){if(!To(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(Uj,"IsControlCharacterFree");function ude(e){return qj(e)||Ko(e)}o(ude,"IsAdditionalProperties");function Y9(e){return Zs(e)||H9(e)}o(Y9,"IsOptionalBigInt");function wo(e){return Zs(e)||su(e)}o(wo,"IsOptionalNumber");function qj(e){return Zs(e)||Pg(e)}o(qj,"IsOptionalBoolean");function go(e){return Zs(e)||To(e)}o(go,"IsOptionalString");function EHe(e){return Zs(e)||To(e)&&Uj(e)&&cde(e)}o(EHe,"IsOptionalPattern");function xHe(e){return Zs(e)||To(e)&&Uj(e)}o(xHe,"IsOptionalFormat");function fde(e){return Zs(e)||Ko(e)}o(fde,"IsOptionalSchema");function bHe(e){return po(e)&&e[Jd]==="Readonly"}o(bHe,"IsReadonly");function vHe(e){return po(e)&&e[Ll]==="Optional"}o(vHe,"IsOptional");function dde(e){return oi(e,"Any")&&go(e.$id)}o(dde,"IsAny");function mde(e){return oi(e,"Argument")&&su(e.index)}o(mde,"IsArgument");function hde(e){return oi(e,"Array")&&e.type==="array"&&go(e.$id)&&Ko(e.items)&&wo(e.minItems)&&wo(e.maxItems)&&qj(e.uniqueItems)&&fde(e.contains)&&wo(e.minContains)&&wo(e.maxContains)}o(hde,"IsArray");function pde(e){return oi(e,"AsyncIterator")&&e.type==="AsyncIterator"&&go(e.$id)&&Ko(e.items)}o(pde,"IsAsyncIterator");function gde(e){return oi(e,"BigInt")&&e.type==="bigint"&&go(e.$id)&&Y9(e.exclusiveMaximum)&&Y9(e.exclusiveMinimum)&&Y9(e.maximum)&&Y9(e.minimum)&&Y9(e.multipleOf)}o(gde,"IsBigInt");function Ade(e){return oi(e,"Boolean")&&e.type==="boolean"&&go(e.$id)}o(Ade,"IsBoolean");function yde(e){return oi(e,"Computed")&&To(e.target)&&Xs(e.parameters)&&e.parameters.every(t=>Ko(t))}o(yde,"IsComputed");function Cde(e){return oi(e,"Constructor")&&e.type==="Constructor"&&go(e.$id)&&Xs(e.parameters)&&e.parameters.every(t=>Ko(t))&&Ko(e.returns)}o(Cde,"IsConstructor");function Ede(e){return oi(e,"Date")&&e.type==="Date"&&go(e.$id)&&wo(e.exclusiveMaximumTimestamp)&&wo(e.exclusiveMinimumTimestamp)&&wo(e.maximumTimestamp)&&wo(e.minimumTimestamp)&&wo(e.multipleOfTimestamp)}o(Ede,"IsDate");function xde(e){return oi(e,"Function")&&e.type==="Function"&&go(e.$id)&&Xs(e.parameters)&&e.parameters.every(t=>Ko(t))&&Ko(e.returns)}o(xde,"IsFunction");function IHe(e){return oi(e,"Import")&&lR(e,"$defs")&&po(e.$defs)&&pR(e.$defs)&&lR(e,"$ref")&&To(e.$ref)&&e.$ref in e.$defs}o(IHe,"IsImport");function bde(e){return oi(e,"Integer")&&e.type==="integer"&&go(e.$id)&&wo(e.exclusiveMaximum)&&wo(e.exclusiveMinimum)&&wo(e.maximum)&&wo(e.minimum)&&wo(e.multipleOf)}o(bde,"IsInteger");function pR(e){return po(e)&&Object.entries(e).every(([t,r])=>Uj(t)&&Ko(r))}o(pR,"IsProperties");function vde(e){return oi(e,"Intersect")&&!(To(e.type)&&e.type!=="object")&&Xs(e.allOf)&&e.allOf.every(t=>Ko(t)&&!Wde(t))&&go(e.type)&&(qj(e.unevaluatedProperties)||fde(e.unevaluatedProperties))&&go(e.$id)}o(vde,"IsIntersect");function Ide(e){return oi(e,"Iterator")&&e.type==="Iterator"&&go(e.$id)&&Ko(e.items)}o(Ide,"IsIterator");function oi(e,t){return po(e)&&nt in e&&e[nt]===t}o(oi,"IsKindOf");function Tde(e){return K9(e)&&To(e.const)}o(Tde,"IsLiteralString");function wde(e){return K9(e)&&su(e.const)}o(wde,"IsLiteralNumber");function THe(e){return K9(e)&&Pg(e.const)}o(THe,"IsLiteralBoolean");function K9(e){return oi(e,"Literal")&&go(e.$id)&&_de(e.const)}o(K9,"IsLiteral");function _de(e){return Pg(e)||su(e)||To(e)}o(_de,"IsLiteralValue");function Sde(e){return oi(e,"MappedKey")&&Xs(e.keys)&&e.keys.every(t=>su(t)||To(t))}o(Sde,"IsMappedKey");function Bde(e){return oi(e,"MappedResult")&&pR(e.properties)}o(Bde,"IsMappedResult");function kde(e){return oi(e,"Never")&&po(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(kde,"IsNever");function Rde(e){return oi(e,"Not")&&Ko(e.not)}o(Rde,"IsNot");function Dde(e){return oi(e,"Null")&&e.type==="null"&&go(e.$id)}o(Dde,"IsNull");function Pde(e){return oi(e,"Number")&&e.type==="number"&&go(e.$id)&&wo(e.exclusiveMaximum)&&wo(e.exclusiveMinimum)&&wo(e.maximum)&&wo(e.minimum)&&wo(e.multipleOf)}o(Pde,"IsNumber");function Nde(e){return oi(e,"Object")&&e.type==="object"&&go(e.$id)&&pR(e.properties)&&ude(e.additionalProperties)&&wo(e.minProperties)&&wo(e.maxProperties)}o(Nde,"IsObject");function Fde(e){return oi(e,"Promise")&&e.type==="Promise"&&go(e.$id)&&Ko(e.item)}o(Fde,"IsPromise");function Lde(e){return oi(e,"Record")&&e.type==="object"&&go(e.$id)&&ude(e.additionalProperties)&&po(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&cde(r[0])&&po(t.patternProperties)&&Ko(t.patternProperties[r[0]])})(e)}o(Lde,"IsRecord");function wHe(e){return po(e)&&If in e&&e[If]==="Recursive"}o(wHe,"IsRecursive");function Qde(e){return oi(e,"Ref")&&go(e.$id)&&To(e.$ref)}o(Qde,"IsRef");function Mde(e){return oi(e,"RegExp")&&go(e.$id)&&To(e.source)&&To(e.flags)&&wo(e.maxLength)&&wo(e.minLength)}o(Mde,"IsRegExp");function Ode(e){return oi(e,"String")&&e.type==="string"&&go(e.$id)&&wo(e.minLength)&&wo(e.maxLength)&&EHe(e.pattern)&&xHe(e.format)}o(Ode,"IsString");function Ude(e){return oi(e,"Symbol")&&e.type==="symbol"&&go(e.$id)}o(Ude,"IsSymbol");function qde(e){return oi(e,"TemplateLiteral")&&e.type==="string"&&To(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(qde,"IsTemplateLiteral");function Gde(e){return oi(e,"This")&&go(e.$id)&&To(e.$ref)}o(Gde,"IsThis");function Wde(e){return po(e)&&ds in e}o(Wde,"IsTransform");function Hde(e){return oi(e,"Tuple")&&e.type==="array"&&go(e.$id)&&su(e.minItems)&&su(e.maxItems)&&e.minItems===e.maxItems&&(Zs(e.items)&&Zs(e.additionalItems)&&e.minItems===0||Xs(e.items)&&e.items.every(t=>Ko(t)))}o(Hde,"IsTuple");function Vde(e){return oi(e,"Undefined")&&e.type==="undefined"&&go(e.$id)}o(Vde,"IsUndefined");function _He(e){return Gj(e)&&e.anyOf.every(t=>Tde(t)||wde(t))}o(_He,"IsUnionLiteral");function Gj(e){return oi(e,"Union")&&go(e.$id)&&po(e)&&Xs(e.anyOf)&&e.anyOf.every(t=>Ko(t))}o(Gj,"IsUnion");function jde(e){return oi(e,"Uint8Array")&&e.type==="Uint8Array"&&go(e.$id)&&wo(e.minByteLength)&&wo(e.maxByteLength)}o(jde,"IsUint8Array");function $de(e){return oi(e,"Unknown")&&go(e.$id)}o($de,"IsUnknown");function zde(e){return oi(e,"Unsafe")}o(zde,"IsUnsafe");function Yde(e){return oi(e,"Void")&&e.type==="void"&&go(e.$id)}o(Yde,"IsVoid");function Kde(e){return po(e)&&nt in e&&To(e[nt])&&!CHe.includes(e[nt])}o(Kde,"IsKind");function Ko(e){return po(e)&&(dde(e)||mde(e)||hde(e)||Ade(e)||gde(e)||pde(e)||yde(e)||Cde(e)||Ede(e)||xde(e)||bde(e)||vde(e)||Ide(e)||K9(e)||Sde(e)||Bde(e)||kde(e)||Rde(e)||Dde(e)||Pde(e)||Nde(e)||Fde(e)||Lde(e)||Qde(e)||Mde(e)||Ode(e)||Ude(e)||qde(e)||Gde(e)||Hde(e)||Vde(e)||Gj(e)||jde(e)||$de(e)||zde(e)||Yde(e)||Kde(e))}o(Ko,"IsSchema");d();var Wj="(true|false)",J9="(0|[1-9][0-9]*)",Hj="(.*)",SHe="(?!.*)",XFt=`^${Wj}$`,Mh=`^${J9}$`,Oh=`^${Hj}$`,Jde=`^${SHe}$`;d();var im={};Nh(im,{Clear:()=>kHe,Delete:()=>RHe,Entries:()=>BHe,Get:()=>NHe,Has:()=>DHe,Set:()=>PHe});d();var Hx=new Map;function BHe(){return new Map(Hx)}o(BHe,"Entries");function kHe(){return Hx.clear()}o(kHe,"Clear");function RHe(e){return Hx.delete(e)}o(RHe,"Delete");function DHe(e){return Hx.has(e)}o(DHe,"Has");function PHe(e,t){Hx.set(e,t)}o(PHe,"Set");function NHe(e){return Hx.get(e)}o(NHe,"Get");var D0={};Nh(D0,{Clear:()=>LHe,Delete:()=>QHe,Entries:()=>FHe,Get:()=>UHe,Has:()=>MHe,Set:()=>OHe});d();var Vx=new Map;function FHe(){return new Map(Vx)}o(FHe,"Entries");function LHe(){return Vx.clear()}o(LHe,"Clear");function QHe(e){return Vx.delete(e)}o(QHe,"Delete");function MHe(e){return Vx.has(e)}o(MHe,"Has");function OHe(e,t){Vx.set(e,t)}o(OHe,"Set");function UHe(e){return Vx.get(e)}o(UHe,"Get");d();function Xde(e,t){return e.includes(t)}o(Xde,"SetIncludes");function Zde(e){return[...new Set(e)]}o(Zde,"SetDistinct");function qHe(e,t){return e.filter(r=>t.includes(r))}o(qHe,"SetIntersect");function GHe(e,t){return e.reduce((r,n)=>qHe(r,n),t)}o(GHe,"SetIntersectManyResolve");function eme(e){return e.length===1?e[0]:e.length>1?GHe(e.slice(1),e[0]):[]}o(eme,"SetIntersectMany");function tme(e){let t=[];for(let r of e)t.push(...r);return t}o(tme,"SetUnionMany");d();function D2(e){return at({[nt]:"Any"},e)}o(D2,"Any");d();function jx(e,t){return at({[nt]:"Array",type:"array",items:e},t)}o(jx,"Array");d();function rme(e){return at({[nt]:"Argument",index:e})}o(rme,"Argument");d();function $x(e,t){return at({[nt]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o($x,"AsyncIterator");d();d();function No(e,t,r){return at({[nt]:"Computed",target:e,parameters:t},r)}o(No,"Computed");d();d();function WHe(e,t){let{[t]:r,...n}=e;return n}o(WHe,"DiscardKey");function Ss(e,t){return t.reduce((r,n)=>WHe(r,n),e)}o(Ss,"Discard");d();function Gn(e){return at({[nt]:"Never",not:{}},e)}o(Gn,"Never");d();d();function Fi(e){return at({[nt]:"MappedResult",properties:e})}o(Fi,"MappedResult");d();d();function zx(e,t,r){return at({[nt]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(zx,"Constructor");d();function Uh(e,t,r){return at({[nt]:"Function",type:"Function",parameters:e,returns:t},r)}o(Uh,"Function");d();d();d();d();function X9(e,t){return at({[nt]:"Union",anyOf:e},t)}o(X9,"UnionCreate");function HHe(e){return e.some(t=>dc(t))}o(HHe,"IsUnionOptional");function nme(e){return e.map(t=>dc(t)?VHe(t):t)}o(nme,"RemoveOptionalFromRest");function VHe(e){return Ss(e,[Ll])}o(VHe,"RemoveOptionalFromType");function jHe(e,t){return HHe(e)?s0(X9(nme(e),t)):X9(nme(e),t)}o(jHe,"ResolveUnion");function qh(e,t){return e.length===1?at(e[0],t):e.length===0?Gn(t):jHe(e,t)}o(qh,"UnionEvaluated");d();function $i(e,t){return e.length===0?Gn(t):e.length===1?at(e[0],t):X9(e,t)}o($i,"Union");d();d();d();var gR=class extends un{static{o(this,"TemplateLiteralParserError")}};function $He(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o($He,"Unescape");function Vj(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(Vj,"IsNonEscaped");function qg(e,t){return Vj(e,t,"(")}o(qg,"IsOpenParen");function Z9(e,t){return Vj(e,t,")")}o(Z9,"IsCloseParen");function ime(e,t){return Vj(e,t,"|")}o(ime,"IsSeparator");function zHe(e){if(!(qg(e,0)&&Z9(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(qg(e,r)&&(t+=1),Z9(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(zHe,"IsGroup");function YHe(e){return e.slice(1,e.length-1)}o(YHe,"InGroup");function KHe(e){let t=0;for(let r=0;r<e.length;r++)if(qg(e,r)&&(t+=1),Z9(e,r)&&(t-=1),ime(e,r)&&t===0)return!0;return!1}o(KHe,"IsPrecedenceOr");function JHe(e){for(let t=0;t<e.length;t++)if(qg(e,t))return!0;return!1}o(JHe,"IsPrecedenceAnd");function XHe(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(qg(e,s)&&(t+=1),Z9(e,s)&&(t-=1),ime(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Yx(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(Yx(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(XHe,"Or");function ZHe(e){function t(i,s){if(!qg(i,s))throw new gR("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(qg(i,l)&&(a+=1),Z9(i,l)&&(a-=1),a===0)return[s,l];throw new gR("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(qg(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(qg(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(Yx(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(Yx(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(ZHe,"And");function Yx(e){return zHe(e)?Yx(YHe(e)):KHe(e)?XHe(e):JHe(e)?ZHe(e):{type:"const",const:$He(e)}}o(Yx,"TemplateLiteralParse");function Kx(e){return Yx(e.slice(1,e.length-1))}o(Kx,"TemplateLiteralParseExact");var jj=class extends un{static{o(this,"TemplateLiteralFiniteError")}};function eVe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(eVe,"IsNumberExpression");function tVe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(tVe,"IsBooleanExpression");function rVe(e){return e.type==="const"&&e.const===".*"}o(rVe,"IsStringExpression");function Y3(e){return eVe(e)||rVe(e)?!1:tVe(e)?!0:e.type==="and"?e.expr.every(t=>Y3(t)):e.type==="or"?e.expr.every(t=>Y3(t)):e.type==="const"?!0:(()=>{throw new jj("Unknown expression type")})()}o(Y3,"IsTemplateLiteralExpressionFinite");function AR(e){let t=Kx(e.pattern);return Y3(t)}o(AR,"IsTemplateLiteralFinite");d();var $j=class extends un{static{o(this,"TemplateLiteralGenerateError")}};function*ome(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of ome(e.slice(1)))yield`${t}${r}`}o(ome,"GenerateReduce");function*nVe(e){return yield*ome(e.expr.map(t=>[...e7(t)]))}o(nVe,"GenerateAnd");function*iVe(e){for(let t of e.expr)yield*e7(t)}o(iVe,"GenerateOr");function*oVe(e){return yield e.const}o(oVe,"GenerateConst");function*e7(e){return e.type==="and"?yield*nVe(e):e.type==="or"?yield*iVe(e):e.type==="const"?yield*oVe(e):(()=>{throw new $j("Unknown expression")})()}o(e7,"TemplateLiteralExpressionGenerate");function Jx(e){let t=Kx(e.pattern);return Y3(t)?[...e7(t)]:[]}o(Jx,"TemplateLiteralGenerate");d();d();function vi(e,t){return at({[nt]:"Literal",const:e,type:typeof e},t)}o(vi,"Literal");d();function yR(e){return at({[nt]:"Boolean",type:"boolean"},e)}o(yR,"Boolean");d();function Xx(e){return at({[nt]:"BigInt",type:"bigint"},e)}o(Xx,"BigInt");d();function Tf(e){return at({[nt]:"Number",type:"number"},e)}o(Tf,"Number");d();function P0(e){return at({[nt]:"String",type:"string"},e)}o(P0,"String");function*sVe(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield yR():t==="number"?yield Tf():t==="bigint"?yield Xx():t==="string"?yield P0():yield(()=>{let r=t.split("|").map(n=>vi(n.trim()));return r.length===0?Gn():r.length===1?r[0]:qh(r)})()}o(sVe,"FromUnion");function*aVe(e){if(e[1]!=="{"){let t=vi("$"),r=zj(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=sVe(e.slice(2,t)),n=zj(e.slice(t+1));return yield*[...r,...n]}yield vi(e)}o(aVe,"FromTerminal");function*zj(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=vi(e.slice(0,t)),n=aVe(e.slice(t));return yield*[r,...n]}yield vi(e)}o(zj,"FromSyntax");function sme(e){return[...zj(e)]}o(sme,"TemplateLiteralSyntax");d();var Yj=class extends un{static{o(this,"TemplateLiteralPatternError")}};function lVe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(lVe,"Escape");function ame(e,t){return uu(e)?e.pattern.slice(1,e.pattern.length-1):ki(e)?`(${e.anyOf.map(r=>ame(r,t)).join("|")})`:nm(e)?`${t}${J9}`:rm(e)?`${t}${J9}`:V3(e)?`${t}${J9}`:Mg(e)?`${t}${Hj}`:lu(e)?`${t}${lVe(e.const.toString())}`:Qg(e)?`${t}${Wj}`:(()=>{throw new Yj(`Unexpected Kind '${e[nt]}'`)})()}o(ame,"Visit");function Kj(e){return`^${e.map(t=>ame(t,"")).join("")}$`}o(Kj,"TemplateLiteralPattern");d();function K3(e){let r=Jx(e).map(n=>vi(n));return qh(r)}o(K3,"TemplateLiteralToUnion");d();function CR(e,t){let r=To(e)?Kj(sme(e)):Kj(e);return at({[nt]:"TemplateLiteral",type:"string",pattern:r},t)}o(CR,"TemplateLiteral");function cVe(e){return Jx(e).map(r=>r.toString())}o(cVe,"FromTemplateLiteral");function uVe(e){let t=[];for(let r of e)t.push(...mc(r));return t}o(uVe,"FromUnion");function fVe(e){return[e.toString()]}o(fVe,"FromLiteral");function mc(e){return[...new Set(uu(e)?cVe(e):ki(e)?uVe(e.anyOf):lu(e)?fVe(e.const):nm(e)?["[number]"]:rm(e)?["[number]"]:[])]}o(mc,"IndexPropertyKeys");d();function dVe(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=P2(e,mc(t[i]),r);return n}o(dVe,"FromProperties");function mVe(e,t,r){return dVe(e,t.properties,r)}o(mVe,"FromMappedResult");function lme(e,t,r){let n=mVe(e,t,r);return Fi(n)}o(lme,"IndexFromMappedResult");function ume(e,t){return e.map(r=>fme(r,t))}o(ume,"FromRest");function hVe(e){return e.filter(t=>!k2(t))}o(hVe,"FromIntersectRest");function pVe(e,t){return ER(hVe(ume(e,t)))}o(pVe,"FromIntersect");function gVe(e){return e.some(t=>k2(t))?[]:e}o(gVe,"FromUnionRest");function AVe(e,t){return qh(gVe(ume(e,t)))}o(AVe,"FromUnion");function yVe(e,t){return t in e?e[t]:t==="[number]"?qh(e):Gn()}o(yVe,"FromTuple");function CVe(e,t){return t==="[number]"?e:Gn()}o(CVe,"FromArray");function EVe(e,t){return t in e?e[t]:Gn()}o(EVe,"FromProperty");function fme(e,t){return _s(e)?pVe(e.allOf,t):ki(e)?AVe(e.anyOf,t):fu(e)?yVe(e.items??[],t):Xd(e)?CVe(e.items,t):ea(e)?EVe(e.properties,t):Gn()}o(fme,"IndexFromPropertyKey");function t7(e,t){return t.map(r=>fme(e,r))}o(t7,"IndexFromPropertyKeys");function cme(e,t){return qh(t7(e,t))}o(cme,"FromSchema");function P2(e,t,r){if(Fs(e)||Fs(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ms(e)||!ms(t))throw new un(n);return No("Index",[e,t])}return Yo(t)?lme(e,t,r):cu(t)?dme(e,t,r):at(ms(t)?cme(e,mc(t)):cme(e,t),r)}o(P2,"Index");function xVe(e,t,r){return{[t]:P2(e,[t],$o(r))}}o(xVe,"MappedIndexPropertyKey");function bVe(e,t,r){return t.reduce((n,i)=>({...n,...xVe(e,i,r)}),{})}o(bVe,"MappedIndexPropertyKeys");function vVe(e,t,r){return bVe(e,t.keys,r)}o(vVe,"MappedIndexProperties");function dme(e,t,r){let n=vVe(e,t,r);return Fi(n)}o(dme,"IndexFromMappedKey");d();function Zx(e,t){return at({[nt]:"Iterator",type:"Iterator",items:e},t)}o(Zx,"Iterator");d();function IVe(e){let t=[];for(let r in e)dc(e[r])||t.push(r);return t}o(IVe,"RequiredKeys");function TVe(e,t){let r=IVe(e),n=r.length>0?{[nt]:"Object",type:"object",properties:e,required:r}:{[nt]:"Object",type:"object",properties:e};return at(n,t)}o(TVe,"_Object");var zi=TVe;d();function xR(e,t){return at({[nt]:"Promise",type:"Promise",item:e},t)}o(xR,"Promise");d();d();function wVe(e){return at(Ss(e,[Jd]))}o(wVe,"RemoveReadonly");function _Ve(e){return at({...e,[Jd]:"Readonly"})}o(_Ve,"AddReadonly");function SVe(e,t){return t===!1?wVe(e):_Ve(e)}o(SVe,"ReadonlyWithFlag");function hc(e,t){let r=t??!0;return Yo(e)?mme(e,r):SVe(e,r)}o(hc,"Readonly");function BVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=hc(e[n],t);return r}o(BVe,"FromProperties");function kVe(e,t){return BVe(e.properties,t)}o(kVe,"FromMappedResult");function mme(e,t){let r=kVe(e,t);return Fi(r)}o(mme,"ReadonlyFromMappedResult");d();function wf(e,t){return at(e.length>0?{[nt]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[nt]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(wf,"Tuple");function hme(e,t){return e in t?_f(e,t[e]):Fi(t)}o(hme,"FromMappedResult");function RVe(e){return{[e]:vi(e)}}o(RVe,"MappedKeyToKnownMappedResultProperties");function DVe(e){let t={};for(let r of e)t[r]=vi(r);return t}o(DVe,"MappedKeyToUnknownMappedResultProperties");function PVe(e,t){return Xde(t,e)?RVe(e):DVe(t)}o(PVe,"MappedKeyToMappedResultProperties");function NVe(e,t){let r=PVe(e,t);return hme(e,r)}o(NVe,"FromMappedKey");function r7(e,t){return t.map(r=>_f(e,r))}o(r7,"FromRest");function FVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=_f(e,t[n]);return r}o(FVe,"FromProperties");function _f(e,t){let r={...t};return dc(t)?s0(_f(e,Ss(t,[Ll]))):Wx(t)?hc(_f(e,Ss(t,[Jd]))):Yo(t)?hme(e,t.properties):cu(t)?NVe(e,t.keys):em(t)?zx(r7(e,t.parameters),_f(e,t.returns),r):tm(t)?Uh(r7(e,t.parameters),_f(e,t.returns),r):H3(t)?$x(_f(e,t.items),r):j3(t)?Zx(_f(e,t.items),r):_s(t)?a0(r7(e,t.allOf),r):ki(t)?$i(r7(e,t.anyOf),r):fu(t)?wf(r7(e,t.items??[]),r):ea(t)?zi(FVe(e,t.properties),r):Xd(t)?jx(_f(e,t.items),r):$3(t)?xR(_f(e,t.item),r):t}o(_f,"FromSchemaType");function LVe(e,t){let r={};for(let n of e)r[n]=_f(n,t);return r}o(LVe,"MappedFunctionReturnType");function pme(e,t,r){let n=ms(e)?mc(e):e,i=t({[nt]:"MappedKey",keys:n}),s=LVe(n,i);return zi(s,r)}o(pme,"Mapped");d();function QVe(e){return at(Ss(e,[Ll]))}o(QVe,"RemoveOptional");function MVe(e){return at({...e,[Ll]:"Optional"})}o(MVe,"AddOptional");function OVe(e,t){return t===!1?QVe(e):MVe(e)}o(OVe,"OptionalWithFlag");function s0(e,t){let r=t??!0;return Yo(e)?gme(e,r):OVe(e,r)}o(s0,"Optional");function UVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=s0(e[n],t);return r}o(UVe,"FromProperties");function qVe(e,t){return UVe(e.properties,t)}o(qVe,"FromMappedResult");function gme(e,t){let r=qVe(e,t);return Fi(r)}o(gme,"OptionalFromMappedResult");d();function n7(e,t={}){let r=e.every(i=>ea(i)),n=ms(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return at(t.unevaluatedProperties===!1||ms(t.unevaluatedProperties)||r?{...n,[nt]:"Intersect",type:"object",allOf:e}:{...n,[nt]:"Intersect",allOf:e},t)}o(n7,"IntersectCreate");function GVe(e){return e.every(t=>dc(t))}o(GVe,"IsIntersectOptional");function WVe(e){return Ss(e,[Ll])}o(WVe,"RemoveOptionalFromType");function Ame(e){return e.map(t=>dc(t)?WVe(t):t)}o(Ame,"RemoveOptionalFromRest");function HVe(e,t){return GVe(e)?s0(n7(Ame(e),t)):n7(Ame(e),t)}o(HVe,"ResolveIntersect");function ER(e,t={}){if(e.length===1)return at(e[0],t);if(e.length===0)return Gn(t);if(e.some(r=>ji(r)))throw new Error("Cannot intersect transform types");return HVe(e,t)}o(ER,"IntersectEvaluated");d();function a0(e,t){if(e.length===1)return at(e[0],t);if(e.length===0)return Gn(t);if(e.some(r=>ji(r)))throw new Error("Cannot intersect transform types");return n7(e,t)}o(a0,"Intersect");d();function Sf(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new un("Ref: $ref must be a string");return at({[nt]:"Ref",$ref:t},r)}o(Sf,"Ref");function VVe(e,t){return No("Awaited",[No(e,t)])}o(VVe,"FromComputed");function jVe(e){return No("Awaited",[Sf(e)])}o(jVe,"FromRef");function $Ve(e){return a0(yme(e))}o($Ve,"FromIntersect");function zVe(e){return $i(yme(e))}o(zVe,"FromUnion");function YVe(e){return eb(e)}o(YVe,"FromPromise");function yme(e){return e.map(t=>eb(t))}o(yme,"FromRest");function eb(e,t){return at(Zd(e)?VVe(e.target,e.parameters):_s(e)?$Ve(e.allOf):ki(e)?zVe(e.anyOf):$3(e)?YVe(e.item):Fs(e)?jVe(e.$ref):e,t)}o(eb,"Awaited");d();d();d();d();function Cme(e){let t=[];for(let r of e)t.push(pc(r));return t}o(Cme,"FromRest");function KVe(e){let t=Cme(e);return tme(t)}o(KVe,"FromIntersect");function JVe(e){let t=Cme(e);return eme(t)}o(JVe,"FromUnion");function XVe(e){return e.map((t,r)=>r.toString())}o(XVe,"FromTuple");function ZVe(e){return["[number]"]}o(ZVe,"FromArray");function eje(e){return globalThis.Object.getOwnPropertyNames(e)}o(eje,"FromProperties");function tje(e){return Jj?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(tje,"FromPatternProperties");function pc(e){return _s(e)?KVe(e.allOf):ki(e)?JVe(e.anyOf):fu(e)?XVe(e.items??[]):Xd(e)?ZVe(e.items):ea(e)?eje(e.properties):z3(e)?tje(e.patternProperties):[]}o(pc,"KeyOfPropertyKeys");var Jj=!1;function Gg(e){Jj=!0;let t=pc(e);return Jj=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(Gg,"KeyOfPattern");function rje(e,t){return No("KeyOf",[No(e,t)])}o(rje,"FromComputed");function nje(e){return No("KeyOf",[Sf(e)])}o(nje,"FromRef");function ije(e,t){let r=pc(e),n=oje(r),i=qh(n);return at(i,t)}o(ije,"KeyOfFromType");function oje(e){return e.map(t=>t==="[number]"?Tf():vi(t))}o(oje,"KeyOfPropertyKeysToRest");function tb(e,t){return Zd(e)?rje(e.target,e.parameters):Fs(e)?nje(e.$ref):Yo(e)?Eme(e,t):ije(e,t)}o(tb,"KeyOf");function sje(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=tb(e[n],$o(t));return r}o(sje,"FromProperties");function aje(e,t){return sje(e.properties,t)}o(aje,"FromMappedResult");function Eme(e,t){let r=aje(e,t);return Fi(r)}o(Eme,"KeyOfFromMappedResult");d();function bR(e){let t=pc(e),r=t7(e,t);return t.map((n,i)=>[t[i],r[i]])}o(bR,"KeyOfPropertyEntries");function lje(e){let t=[];for(let r of e)t.push(...pc(r));return Zde(t)}o(lje,"CompositeKeys");function cje(e){return e.filter(t=>!k2(t))}o(cje,"FilterNever");function uje(e,t){let r=[];for(let n of e)r.push(...t7(n,[t]));return cje(r)}o(uje,"CompositeProperty");function fje(e,t){let r={};for(let n of t)r[n]=ER(uje(e,n));return r}o(fje,"CompositeProperties");function xme(e,t){let r=lje(e),n=fje(e,r);return zi(n,t)}o(xme,"Composite");d();d();function vR(e){return at({[nt]:"Date",type:"Date"},e)}o(vR,"Date");d();function IR(e){return at({[nt]:"Null",type:"null"},e)}o(IR,"Null");d();function TR(e){return at({[nt]:"Symbol",type:"symbol"},e)}o(TR,"Symbol");d();function wR(e){return at({[nt]:"Undefined",type:"undefined"},e)}o(wR,"Undefined");d();function _R(e){return at({[nt]:"Uint8Array",type:"Uint8Array"},e)}o(_R,"Uint8Array");d();function om(e){return at({[nt]:"Unknown"},e)}o(om,"Unknown");function dje(e){return e.map(t=>Xj(t,!1))}o(dje,"FromArray");function mje(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=hc(Xj(e[r],!1));return t}o(mje,"FromProperties");function SR(e,t){return t===!0?e:hc(e)}o(SR,"ConditionalReadonly");function Xj(e,t){return kj(e)?SR(D2(),t):Dj(e)?SR(D2(),t):Xs(e)?hc(wf(dje(e))):Ng(e)?_R():W3(e)?vR():po(e)?SR(zi(mje(e)),t):Rj(e)?SR(Uh([],om()),t):Zs(e)?wR():Pj(e)?IR():Nj(e)?TR():H9(e)?Xx():su(e)?vi(e):Pg(e)?vi(e):To(e)?vi(e):zi({})}o(Xj,"FromValue");function bme(e,t){return at(Xj(e,!0),t)}o(bme,"Const");d();function vme(e,t){return em(e)?wf(e.parameters,t):Gn(t)}o(vme,"ConstructorParameters");d();function Ime(e,t){if(Zs(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>vi(s));return $i(i,{...t,[If]:"Enum"})}o(Ime,"Enum");d();d();d();var e$=class extends un{static{o(this,"ExtendsResolverError")}},lt;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(lt||(lt={}));function Bf(e){return e===lt.False?e:lt.True}o(Bf,"IntoBooleanResult");function rb(e){throw new e$(e)}o(rb,"Throw");function Ca(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}o(Ca,"IsStructuralRight");function Ea(e,t){return Qe.IsNever(t)?Rme(e,t):Qe.IsIntersect(t)?BR(e,t):Qe.IsUnion(t)?i$(e,t):Qe.IsUnknown(t)?Fme(e,t):Qe.IsAny(t)?n$(e,t):rb("StructuralRight")}o(Ea,"StructuralRight");function n$(e,t){return lt.True}o(n$,"FromAnyRight");function hje(e,t){return Qe.IsIntersect(t)?BR(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?lt.True:Qe.IsUnion(t)?lt.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?lt.True:lt.Union}o(hje,"FromAny");function pje(e,t){return Qe.IsUnknown(e)?lt.False:Qe.IsAny(e)?lt.Union:Qe.IsNever(e)?lt.True:lt.False}o(pje,"FromArrayRight");function gje(e,t){return Qe.IsObject(t)&&kR(t)?lt.True:Ca(t)?Ea(e,t):Qe.IsArray(t)?Bf(Ao(e.items,t.items)):lt.False}o(gje,"FromArray");function Aje(e,t){return Ca(t)?Ea(e,t):Qe.IsAsyncIterator(t)?Bf(Ao(e.items,t.items)):lt.False}o(Aje,"FromAsyncIterator");function yje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsBigInt(t)?lt.True:lt.False}o(yje,"FromBigInt");function Bme(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?lt.True:lt.False}o(Bme,"FromBooleanRight");function Cje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsBoolean(t)?lt.True:lt.False}o(Cje,"FromBoolean");function Eje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?lt.False:e.parameters.every((r,n)=>Bf(Ao(t.parameters[n],r))===lt.True)?Bf(Ao(e.returns,t.returns)):lt.False:lt.False}o(Eje,"FromConstructor");function xje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsDate(t)?lt.True:lt.False}o(xje,"FromDate");function bje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?lt.False:e.parameters.every((r,n)=>Bf(Ao(t.parameters[n],r))===lt.True)?Bf(Ao(e.returns,t.returns)):lt.False:lt.False}o(bje,"FromFunction");function kme(e,t){return Qe.IsLiteral(e)&&o0.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?lt.True:lt.False}o(kme,"FromIntegerRight");function vje(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?lt.True:Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):lt.False}o(vje,"FromInteger");function BR(e,t){return t.allOf.every(r=>Ao(e,r)===lt.True)?lt.True:lt.False}o(BR,"FromIntersectRight");function Ije(e,t){return e.allOf.some(r=>Ao(r,t)===lt.True)?lt.True:lt.False}o(Ije,"FromIntersect");function Tje(e,t){return Ca(t)?Ea(e,t):Qe.IsIterator(t)?Bf(Ao(e.items,t.items)):lt.False}o(Tje,"FromIterator");function wje(e,t){return Qe.IsLiteral(t)&&t.const===e.const?lt.True:Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsString(t)?Nme(e,t):Qe.IsNumber(t)?Dme(e,t):Qe.IsInteger(t)?kme(e,t):Qe.IsBoolean(t)?Bme(e,t):lt.False}o(wje,"FromLiteral");function Rme(e,t){return lt.False}o(Rme,"FromNeverRight");function _je(e,t){return lt.True}o(_je,"FromNever");function Tme(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:om()}o(Tme,"UnwrapTNot");function Sje(e,t){return Qe.IsNot(e)?Ao(Tme(e),t):Qe.IsNot(t)?Ao(e,Tme(t)):rb("Invalid fallthrough for Not")}o(Sje,"FromNot");function Bje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsNull(t)?lt.True:lt.False}o(Bje,"FromNull");function Dme(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?lt.True:lt.False}o(Dme,"FromNumberRight");function kje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?lt.True:lt.False}o(kje,"FromNumber");function gc(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(gc,"IsObjectPropertyCount");function wme(e){return kR(e)}o(wme,"IsObjectStringLike");function _me(e){return gc(e,0)||gc(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}o(_me,"IsObjectSymbolLike");function Zj(e){return gc(e,0)}o(Zj,"IsObjectNumberLike");function Sme(e){return gc(e,0)}o(Sme,"IsObjectBooleanLike");function Rje(e){return gc(e,0)}o(Rje,"IsObjectBigIntLike");function Dje(e){return gc(e,0)}o(Dje,"IsObjectDateLike");function Pje(e){return kR(e)}o(Pje,"IsObjectUint8ArrayLike");function Nje(e){let t=Tf();return gc(e,0)||gc(e,1)&&"length"in e.properties&&Bf(Ao(e.properties.length,t))===lt.True}o(Nje,"IsObjectFunctionLike");function Fje(e){return gc(e,0)}o(Fje,"IsObjectConstructorLike");function kR(e){let t=Tf();return gc(e,0)||gc(e,1)&&"length"in e.properties&&Bf(Ao(e.properties.length,t))===lt.True}o(kR,"IsObjectArrayLike");function Lje(e){let t=Uh([D2()],D2());return gc(e,0)||gc(e,1)&&"then"in e.properties&&Bf(Ao(e.properties.then,t))===lt.True}o(Lje,"IsObjectPromiseLike");function Pme(e,t){return Ao(e,t)===lt.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?lt.False:lt.True}o(Pme,"Property");function l0(e,t){return Qe.IsUnknown(e)?lt.False:Qe.IsAny(e)?lt.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&wme(t)||Qe.IsLiteralNumber(e)&&Zj(t)||Qe.IsLiteralBoolean(e)&&Sme(t)||Qe.IsSymbol(e)&&_me(t)||Qe.IsBigInt(e)&&Rje(t)||Qe.IsString(e)&&wme(t)||Qe.IsSymbol(e)&&_me(t)||Qe.IsNumber(e)&&Zj(t)||Qe.IsInteger(e)&&Zj(t)||Qe.IsBoolean(e)&&Sme(t)||Qe.IsUint8Array(e)&&Pje(t)||Qe.IsDate(e)&&Dje(t)||Qe.IsConstructor(e)&&Fje(t)||Qe.IsFunction(e)&&Nje(t)?lt.True:Qe.IsRecord(e)&&Qe.IsString(t$(e))?t[If]==="Record"?lt.True:lt.False:Qe.IsRecord(e)&&Qe.IsNumber(t$(e))?gc(t,0)?lt.True:lt.False:lt.False}o(l0,"FromObjectRight");function Qje(e,t){return Ca(t)?Ea(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return lt.False;if(Qe.IsOptional(t.properties[r]))return lt.True;if(Pme(e.properties[r],t.properties[r])===lt.False)return lt.False}return lt.True})():lt.False}o(Qje,"FromObject");function Mje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)&&Lje(t)?lt.True:Qe.IsPromise(t)?Bf(Ao(e.item,t.item)):lt.False}o(Mje,"FromPromise");function t$(e){return Mh in e.patternProperties?Tf():Oh in e.patternProperties?P0():rb("Unknown record key pattern")}o(t$,"RecordKey");function r$(e){return Mh in e.patternProperties?e.patternProperties[Mh]:Oh in e.patternProperties?e.patternProperties[Oh]:rb("Unable to get record value schema")}o(r$,"RecordValue");function kf(e,t){let[r,n]=[t$(t),r$(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&Bf(Ao(e,n))===lt.True?lt.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?Ao(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Pme(n,e.properties[i])===lt.False)return lt.False;return lt.True})():lt.False}o(kf,"FromRecordRight");function Oje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?Ao(r$(e),r$(t)):lt.False}o(Oje,"FromRecord");function Uje(e,t){let r=Qe.IsRegExp(e)?P0():e,n=Qe.IsRegExp(t)?P0():t;return Ao(r,n)}o(Uje,"FromRegExp");function Nme(e,t){return Qe.IsLiteral(e)&&o0.IsString(e.const)||Qe.IsString(e)?lt.True:lt.False}o(Nme,"FromStringRight");function qje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsString(t)?lt.True:lt.False}o(qje,"FromString");function Gje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsSymbol(t)?lt.True:lt.False}o(Gje,"FromSymbol");function Wje(e,t){return Qe.IsTemplateLiteral(e)?Ao(K3(e),t):Qe.IsTemplateLiteral(t)?Ao(e,K3(t)):rb("Invalid fallthrough for TemplateLiteral")}o(Wje,"FromTemplateLiteral");function Hje(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>Ao(r,t.items)===lt.True)}o(Hje,"IsArrayOfTuple");function Vje(e,t){return Qe.IsNever(e)?lt.True:Qe.IsUnknown(e)?lt.False:Qe.IsAny(e)?lt.Union:lt.False}o(Vje,"FromTupleRight");function jje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)&&kR(t)||Qe.IsArray(t)&&Hje(e,t)?lt.True:Qe.IsTuple(t)?o0.IsUndefined(e.items)&&!o0.IsUndefined(t.items)||!o0.IsUndefined(e.items)&&o0.IsUndefined(t.items)?lt.False:o0.IsUndefined(e.items)&&!o0.IsUndefined(t.items)||e.items.every((r,n)=>Ao(r,t.items[n])===lt.True)?lt.True:lt.False:lt.False}o(jje,"FromTuple");function $je(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsUint8Array(t)?lt.True:lt.False}o($je,"FromUint8Array");function zje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsVoid(t)?Jje(e,t):Qe.IsUndefined(t)?lt.True:lt.False}o(zje,"FromUndefined");function i$(e,t){return t.anyOf.some(r=>Ao(e,r)===lt.True)?lt.True:lt.False}o(i$,"FromUnionRight");function Yje(e,t){return e.anyOf.every(r=>Ao(r,t)===lt.True)?lt.True:lt.False}o(Yje,"FromUnion");function Fme(e,t){return lt.True}o(Fme,"FromUnknownRight");function Kje(e,t){return Qe.IsNever(t)?Rme(e,t):Qe.IsIntersect(t)?BR(e,t):Qe.IsUnion(t)?i$(e,t):Qe.IsAny(t)?n$(e,t):Qe.IsString(t)?Nme(e,t):Qe.IsNumber(t)?Dme(e,t):Qe.IsInteger(t)?kme(e,t):Qe.IsBoolean(t)?Bme(e,t):Qe.IsArray(t)?pje(e,t):Qe.IsTuple(t)?Vje(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsUnknown(t)?lt.True:lt.False}o(Kje,"FromUnknown");function Jje(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?lt.True:lt.False}o(Jje,"FromVoidRight");function Xje(e,t){return Qe.IsIntersect(t)?BR(e,t):Qe.IsUnion(t)?i$(e,t):Qe.IsUnknown(t)?Fme(e,t):Qe.IsAny(t)?n$(e,t):Qe.IsObject(t)?l0(e,t):Qe.IsVoid(t)?lt.True:lt.False}o(Xje,"FromVoid");function Ao(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?Wje(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?Uje(e,t):Qe.IsNot(e)||Qe.IsNot(t)?Sje(e,t):Qe.IsAny(e)?hje(e,t):Qe.IsArray(e)?gje(e,t):Qe.IsBigInt(e)?yje(e,t):Qe.IsBoolean(e)?Cje(e,t):Qe.IsAsyncIterator(e)?Aje(e,t):Qe.IsConstructor(e)?Eje(e,t):Qe.IsDate(e)?xje(e,t):Qe.IsFunction(e)?bje(e,t):Qe.IsInteger(e)?vje(e,t):Qe.IsIntersect(e)?Ije(e,t):Qe.IsIterator(e)?Tje(e,t):Qe.IsLiteral(e)?wje(e,t):Qe.IsNever(e)?_je(e,t):Qe.IsNull(e)?Bje(e,t):Qe.IsNumber(e)?kje(e,t):Qe.IsObject(e)?Qje(e,t):Qe.IsRecord(e)?Oje(e,t):Qe.IsString(e)?qje(e,t):Qe.IsSymbol(e)?Gje(e,t):Qe.IsTuple(e)?jje(e,t):Qe.IsPromise(e)?Mje(e,t):Qe.IsUint8Array(e)?$je(e,t):Qe.IsUndefined(e)?zje(e,t):Qe.IsUnion(e)?Yje(e,t):Qe.IsUnknown(e)?Kje(e,t):Qe.IsVoid(e)?Xje(e,t):rb(`Unknown left type operand '${e[nt]}'`)}o(Ao,"Visit");function N2(e,t){return Ao(e,t)}o(N2,"ExtendsCheck");d();d();d();function Zje(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=nb(e[a],t,r,n,$o(i));return s}o(Zje,"FromProperties");function e$e(e,t,r,n,i){return Zje(e.properties,t,r,n,i)}o(e$e,"FromMappedResult");function Lme(e,t,r,n,i){let s=e$e(e,t,r,n,i);return Fi(s)}o(Lme,"ExtendsFromMappedResult");function t$e(e,t,r,n){let i=N2(e,t);return i===lt.Union?$i([r,n]):i===lt.True?r:n}o(t$e,"ExtendsResolve");function nb(e,t,r,n,i){return Yo(e)?Lme(e,t,r,n,i):cu(e)?at(Qme(e,t,r,n,i)):at(t$e(e,t,r,n),i)}o(nb,"Extends");function r$e(e,t,r,n,i){return{[e]:nb(vi(e),t,r,n,$o(i))}}o(r$e,"FromPropertyKey");function n$e(e,t,r,n,i){return e.reduce((s,a)=>({...s,...r$e(a,t,r,n,i)}),{})}o(n$e,"FromPropertyKeys");function i$e(e,t,r,n,i){return n$e(e.keys,t,r,n,i)}o(i$e,"FromMappedKey");function Qme(e,t,r,n,i){let s=i$e(e,t,r,n,i);return Fi(s)}o(Qme,"ExtendsFromMappedKey");d();function o$e(e){return e.allOf.every(t=>Wg(t))}o(o$e,"Intersect");function s$e(e){return e.anyOf.some(t=>Wg(t))}o(s$e,"Union");function a$e(e){return!Wg(e.not)}o(a$e,"Not");function Wg(e){return e[nt]==="Intersect"?o$e(e):e[nt]==="Union"?s$e(e):e[nt]==="Not"?a$e(e):e[nt]==="Undefined"}o(Wg,"ExtendsUndefinedCheck");d();function Mme(e,t){return ib(K3(e),t)}o(Mme,"ExcludeFromTemplateLiteral");function l$e(e,t){let r=e.filter(n=>N2(n,t)===lt.False);return r.length===1?r[0]:$i(r)}o(l$e,"ExcludeRest");function ib(e,t,r={}){return uu(e)?at(Mme(e,t),r):Yo(e)?at(Ome(e,t),r):at(ki(e)?l$e(e.anyOf,t):N2(e,t)!==lt.False?Gn():e,r)}o(ib,"Exclude");function c$e(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ib(e[n],t);return r}o(c$e,"FromProperties");function u$e(e,t){return c$e(e.properties,t)}o(u$e,"FromMappedResult");function Ome(e,t){let r=u$e(e,t);return Fi(r)}o(Ome,"ExcludeFromMappedResult");d();d();d();function Ume(e,t){return ob(K3(e),t)}o(Ume,"ExtractFromTemplateLiteral");function f$e(e,t){let r=e.filter(n=>N2(n,t)!==lt.False);return r.length===1?r[0]:$i(r)}o(f$e,"ExtractRest");function ob(e,t,r){return uu(e)?at(Ume(e,t),r):Yo(e)?at(qme(e,t),r):at(ki(e)?f$e(e.anyOf,t):N2(e,t)!==lt.False?e:Gn(),r)}o(ob,"Extract");function d$e(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ob(e[n],t);return r}o(d$e,"FromProperties");function m$e(e,t){return d$e(e.properties,t)}o(m$e,"FromMappedResult");function qme(e,t){let r=m$e(e,t);return Fi(r)}o(qme,"ExtractFromMappedResult");d();function Gme(e,t){return em(e)?at(e.returns,t):Gn(t)}o(Gme,"InstanceType");d();d();function RR(e){return hc(s0(e))}o(RR,"ReadonlyOptional");d();function J3(e,t,r){return at({[nt]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(J3,"RecordCreateFromPattern");function o$(e,t,r){let n={};for(let i of e)n[i]=t;return zi(n,{...r,[If]:"Record"})}o(o$,"RecordCreateFromKeys");function h$e(e,t,r){return AR(e)?o$(mc(e),t,r):J3(e.pattern,t,r)}o(h$e,"FromTemplateLiteralKey");function p$e(e,t,r){return o$(mc($i(e)),t,r)}o(p$e,"FromUnionKey");function g$e(e,t,r){return o$([e.toString()],t,r)}o(g$e,"FromLiteralKey");function A$e(e,t,r){return J3(e.source,t,r)}o(A$e,"FromRegExpKey");function y$e(e,t,r){let n=Zs(e.pattern)?Oh:e.pattern;return J3(n,t,r)}o(y$e,"FromStringKey");function C$e(e,t,r){return J3(Oh,t,r)}o(C$e,"FromAnyKey");function E$e(e,t,r){return J3(Jde,t,r)}o(E$e,"FromNeverKey");function x$e(e,t,r){return zi({true:t,false:t},r)}o(x$e,"FromBooleanKey");function b$e(e,t,r){return J3(Mh,t,r)}o(b$e,"FromIntegerKey");function v$e(e,t,r){return J3(Mh,t,r)}o(v$e,"FromNumberKey");function DR(e,t,r={}){return ki(e)?p$e(e.anyOf,t,r):uu(e)?h$e(e,t,r):lu(e)?g$e(e.const,t,r):Qg(e)?x$e(e,t,r):rm(e)?b$e(e,t,r):nm(e)?v$e(e,t,r):Mj(e)?A$e(e,t,r):Mg(e)?y$e(e,t,r):Lj(e)?C$e(e,t,r):k2(e)?E$e(e,t,r):Gn(r)}o(DR,"Record");function PR(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(PR,"RecordPattern");function Wme(e){let t=PR(e);return t===Oh?P0():t===Mh?Tf():P0({pattern:t})}o(Wme,"RecordKey");function NR(e){return e.patternProperties[PR(e)]}o(NR,"RecordValue");function I$e(e,t){return t.parameters=i7(e,t.parameters),t.returns=sm(e,t.returns),t}o(I$e,"FromConstructor");function T$e(e,t){return t.parameters=i7(e,t.parameters),t.returns=sm(e,t.returns),t}o(T$e,"FromFunction");function w$e(e,t){return t.allOf=i7(e,t.allOf),t}o(w$e,"FromIntersect");function _$e(e,t){return t.anyOf=i7(e,t.anyOf),t}o(_$e,"FromUnion");function S$e(e,t){return Zs(t.items)||(t.items=i7(e,t.items)),t}o(S$e,"FromTuple");function B$e(e,t){return t.items=sm(e,t.items),t}o(B$e,"FromArray");function k$e(e,t){return t.items=sm(e,t.items),t}o(k$e,"FromAsyncIterator");function R$e(e,t){return t.items=sm(e,t.items),t}o(R$e,"FromIterator");function D$e(e,t){return t.item=sm(e,t.item),t}o(D$e,"FromPromise");function P$e(e,t){let r=Q$e(e,t.properties);return{...t,...zi(r)}}o(P$e,"FromObject");function N$e(e,t){let r=sm(e,Wme(t)),n=sm(e,NR(t)),i=DR(r,n);return{...t,...i}}o(N$e,"FromRecord");function F$e(e,t){return t.index in e?e[t.index]:om()}o(F$e,"FromArgument");function L$e(e,t){let r=Wx(t),n=dc(t),i=sm(e,t);return r&&n?RR(i):r&&!n?hc(i):!r&&n?s0(i):i}o(L$e,"FromProperty");function Q$e(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:L$e(e,t[n])}),{})}o(Q$e,"FromProperties");function i7(e,t){return t.map(r=>sm(e,r))}o(i7,"FromTypes");function sm(e,t){return em(t)?I$e(e,t):tm(t)?T$e(e,t):_s(t)?w$e(e,t):ki(t)?_$e(e,t):fu(t)?S$e(e,t):Xd(t)?B$e(e,t):H3(t)?k$e(e,t):j3(t)?R$e(e,t):$3(t)?D$e(e,t):ea(t)?P$e(e,t):z3(t)?N$e(e,t):Qj(t)?F$e(e,t):t}o(sm,"FromType");function Hme(e,t){return sm(t,qx(e))}o(Hme,"Instantiate");d();function Vme(e){return at({[nt]:"Integer",type:"integer"},e)}o(Vme,"Integer");d();d();d();function M$e(e,t,r){return{[e]:am(vi(e),t,$o(r))}}o(M$e,"MappedIntrinsicPropertyKey");function O$e(e,t,r){return e.reduce((i,s)=>({...i,...M$e(s,t,r)}),{})}o(O$e,"MappedIntrinsicPropertyKeys");function U$e(e,t,r){return O$e(e.keys,t,r)}o(U$e,"MappedIntrinsicProperties");function jme(e,t,r){let n=U$e(e,t,r);return Fi(n)}o(jme,"IntrinsicFromMappedKey");function q$e(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(q$e,"ApplyUncapitalize");function G$e(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(G$e,"ApplyCapitalize");function W$e(e){return e.toUpperCase()}o(W$e,"ApplyUppercase");function H$e(e){return e.toLowerCase()}o(H$e,"ApplyLowercase");function V$e(e,t,r){let n=Kx(e.pattern);if(!Y3(n))return{...e,pattern:$me(e.pattern,t)};let a=[...e7(n)].map(u=>vi(u)),l=zme(a,t),c=$i(l);return CR([c],r)}o(V$e,"FromTemplateLiteral");function $me(e,t){return typeof e=="string"?t==="Uncapitalize"?q$e(e):t==="Capitalize"?G$e(e):t==="Uppercase"?W$e(e):t==="Lowercase"?H$e(e):e:e.toString()}o($me,"FromLiteralValue");function zme(e,t){return e.map(r=>am(r,t))}o(zme,"FromRest");function am(e,t,r={}){return cu(e)?jme(e,t,r):uu(e)?V$e(e,t,r):ki(e)?$i(zme(e.anyOf,t),r):lu(e)?vi($me(e.const,t),r):at(e,r)}o(am,"Intrinsic");function Yme(e,t={}){return am(e,"Capitalize",t)}o(Yme,"Capitalize");d();function Kme(e,t={}){return am(e,"Lowercase",t)}o(Kme,"Lowercase");d();function Jme(e,t={}){return am(e,"Uncapitalize",t)}o(Jme,"Uncapitalize");d();function Xme(e,t={}){return am(e,"Uppercase",t)}o(Xme,"Uppercase");d();d();d();d();d();function j$e(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=F2(e[i],t,$o(r));return n}o(j$e,"FromProperties");function $$e(e,t,r){return j$e(e.properties,t,r)}o($$e,"FromMappedResult");function Zme(e,t,r){let n=$$e(e,t,r);return Fi(n)}o(Zme,"OmitFromMappedResult");function z$e(e,t){return e.map(r=>s$(r,t))}o(z$e,"FromIntersect");function Y$e(e,t){return e.map(r=>s$(r,t))}o(Y$e,"FromUnion");function K$e(e,t){let{[t]:r,...n}=e;return n}o(K$e,"FromProperty");function J$e(e,t){return t.reduce((r,n)=>K$e(r,n),e)}o(J$e,"FromProperties");function X$e(e,t){let r=Ss(e,[ds,"$id","required","properties"]),n=J$e(e.properties,t);return zi(n,r)}o(X$e,"FromObject");function Z$e(e){let t=e.reduce((r,n)=>hR(n)?[...r,vi(n)]:r,[]);return $i(t)}o(Z$e,"UnionFromPropertyKeys");function s$(e,t){return _s(e)?a0(z$e(e.allOf,t)):ki(e)?$i(Y$e(e.anyOf,t)):ea(e)?X$e(e,t):zi({})}o(s$,"OmitResolve");function F2(e,t,r){let n=Xs(t)?Z$e(t):t,i=ms(t)?mc(t):t,s=Fs(e),a=Fs(t);return Yo(e)?Zme(e,i,r):cu(t)?ehe(e,t,r):s&&a?No("Omit",[e,n],r):!s&&a?No("Omit",[e,n],r):s&&!a?No("Omit",[e,n],r):at({...s$(e,i),...r})}o(F2,"Omit");function eze(e,t,r){return{[t]:F2(e,[t],$o(r))}}o(eze,"FromPropertyKey");function tze(e,t,r){return t.reduce((n,i)=>({...n,...eze(e,i,r)}),{})}o(tze,"FromPropertyKeys");function rze(e,t,r){return tze(e,t.keys,r)}o(rze,"FromMappedKey");function ehe(e,t,r){let n=rze(e,t,r);return Fi(n)}o(ehe,"OmitFromMappedKey");d();d();d();function nze(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=L2(e[i],t,$o(r));return n}o(nze,"FromProperties");function ize(e,t,r){return nze(e.properties,t,r)}o(ize,"FromMappedResult");function the(e,t,r){let n=ize(e,t,r);return Fi(n)}o(the,"PickFromMappedResult");function oze(e,t){return e.map(r=>a$(r,t))}o(oze,"FromIntersect");function sze(e,t){return e.map(r=>a$(r,t))}o(sze,"FromUnion");function aze(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(aze,"FromProperties");function lze(e,t){let r=Ss(e,[ds,"$id","required","properties"]),n=aze(e.properties,t);return zi(n,r)}o(lze,"FromObject");function cze(e){let t=e.reduce((r,n)=>hR(n)?[...r,vi(n)]:r,[]);return $i(t)}o(cze,"UnionFromPropertyKeys");function a$(e,t){return _s(e)?a0(oze(e.allOf,t)):ki(e)?$i(sze(e.anyOf,t)):ea(e)?lze(e,t):zi({})}o(a$,"PickResolve");function L2(e,t,r){let n=Xs(t)?cze(t):t,i=ms(t)?mc(t):t,s=Fs(e),a=Fs(t);return Yo(e)?the(e,i,r):cu(t)?rhe(e,t,r):s&&a?No("Pick",[e,n],r):!s&&a?No("Pick",[e,n],r):s&&!a?No("Pick",[e,n],r):at({...a$(e,i),...r})}o(L2,"Pick");function uze(e,t,r){return{[t]:L2(e,[t],$o(r))}}o(uze,"FromPropertyKey");function fze(e,t,r){return t.reduce((n,i)=>({...n,...uze(e,i,r)}),{})}o(fze,"FromPropertyKeys");function dze(e,t,r){return fze(e,t.keys,r)}o(dze,"FromMappedKey");function rhe(e,t,r){let n=dze(e,t,r);return Fi(n)}o(rhe,"PickFromMappedKey");d();d();function mze(e,t){return No("Partial",[No(e,t)])}o(mze,"FromComputed");function hze(e){return No("Partial",[Sf(e)])}o(hze,"FromRef");function pze(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=s0(e[r]);return t}o(pze,"FromProperties");function gze(e){let t=Ss(e,[ds,"$id","required","properties"]),r=pze(e.properties);return zi(r,t)}o(gze,"FromObject");function nhe(e){return e.map(t=>ihe(t))}o(nhe,"FromRest");function ihe(e){return Zd(e)?mze(e.target,e.parameters):Fs(e)?hze(e.$ref):_s(e)?a0(nhe(e.allOf)):ki(e)?$i(nhe(e.anyOf)):ea(e)?gze(e):V3(e)||Qg(e)||rm(e)||lu(e)||$9(e)||nm(e)||Mg(e)||z9(e)||Og(e)?e:zi({})}o(ihe,"PartialResolve");function sb(e,t){return Yo(e)?ohe(e,t):at({...ihe(e),...t})}o(sb,"Partial");function Aze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=sb(e[n],$o(t));return r}o(Aze,"FromProperties");function yze(e,t){return Aze(e.properties,t)}o(yze,"FromMappedResult");function ohe(e,t){let r=yze(e,t);return Fi(r)}o(ohe,"PartialFromMappedResult");d();d();function Cze(e,t){return No("Required",[No(e,t)])}o(Cze,"FromComputed");function Eze(e){return No("Required",[Sf(e)])}o(Eze,"FromRef");function xze(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ss(e[r],[Ll]);return t}o(xze,"FromProperties");function bze(e){let t=Ss(e,[ds,"$id","required","properties"]),r=xze(e.properties);return zi(r,t)}o(bze,"FromObject");function she(e){return e.map(t=>ahe(t))}o(she,"FromRest");function ahe(e){return Zd(e)?Cze(e.target,e.parameters):Fs(e)?Eze(e.$ref):_s(e)?a0(she(e.allOf)):ki(e)?$i(she(e.anyOf)):ea(e)?bze(e):V3(e)||Qg(e)||rm(e)||lu(e)||$9(e)||nm(e)||Mg(e)||z9(e)||Og(e)?e:zi({})}o(ahe,"RequiredResolve");function ab(e,t){return Yo(e)?lhe(e,t):at({...ahe(e),...t})}o(ab,"Required");function vze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ab(e[n],t);return r}o(vze,"FromProperties");function Ize(e,t){return vze(e.properties,t)}o(Ize,"FromMappedResult");function lhe(e,t){let r=Ize(e,t);return Fi(r)}o(lhe,"RequiredFromMappedResult");function Tze(e,t){return t.map(r=>Fs(r)?l$(e,r.$ref):du(e,r))}o(Tze,"DereferenceParameters");function l$(e,t){return t in e?Fs(e[t])?l$(e,e[t].$ref):du(e,e[t]):Gn()}o(l$,"Dereference");function wze(e){return eb(e[0])}o(wze,"FromAwaited");function _ze(e){return P2(e[0],e[1])}o(_ze,"FromIndex");function Sze(e){return tb(e[0])}o(Sze,"FromKeyOf");function Bze(e){return sb(e[0])}o(Bze,"FromPartial");function kze(e){return F2(e[0],e[1])}o(kze,"FromOmit");function Rze(e){return L2(e[0],e[1])}o(Rze,"FromPick");function Dze(e){return ab(e[0])}o(Dze,"FromRequired");function Pze(e,t,r){let n=Tze(e,r);return t==="Awaited"?wze(n):t==="Index"?_ze(n):t==="KeyOf"?Sze(n):t==="Partial"?Bze(n):t==="Omit"?kze(n):t==="Pick"?Rze(n):t==="Required"?Dze(n):Gn()}o(Pze,"FromComputed");function Nze(e,t){return jx(du(e,t))}o(Nze,"FromArray");function Fze(e,t){return $x(du(e,t))}o(Fze,"FromAsyncIterator");function Lze(e,t,r){return zx(o7(e,t),du(e,r))}o(Lze,"FromConstructor");function Qze(e,t,r){return Uh(o7(e,t),du(e,r))}o(Qze,"FromFunction");function Mze(e,t){return a0(o7(e,t))}o(Mze,"FromIntersect");function Oze(e,t){return Zx(du(e,t))}o(Oze,"FromIterator");function Uze(e,t){return zi(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:du(e,t[n])}),{}))}o(Uze,"FromObject");function qze(e,t){let[r,n]=[du(e,NR(t)),PR(t)],i=qx(t);return i.patternProperties[n]=r,i}o(qze,"FromRecord");function Gze(e,t){return Fs(t)?{...l$(e,t.$ref),[ds]:t[ds]}:t}o(Gze,"FromTransform");function Wze(e,t){return wf(o7(e,t))}o(Wze,"FromTuple");function Hze(e,t){return $i(o7(e,t))}o(Hze,"FromUnion");function o7(e,t){return t.map(r=>du(e,r))}o(o7,"FromTypes");function du(e,t){return dc(t)?at(du(e,Ss(t,[Ll])),t):Wx(t)?at(du(e,Ss(t,[Jd])),t):ji(t)?at(Gze(e,t),t):Xd(t)?at(Nze(e,t.items),t):H3(t)?at(Fze(e,t.items),t):Zd(t)?at(Pze(e,t.target,t.parameters)):em(t)?at(Lze(e,t.parameters,t.returns),t):tm(t)?at(Qze(e,t.parameters,t.returns),t):_s(t)?at(Mze(e,t.allOf),t):j3(t)?at(Oze(e,t.items),t):ea(t)?at(Uze(e,t.properties),t):z3(t)?at(qze(e,t)):fu(t)?at(Wze(e,t.items||[]),t):ki(t)?at(Hze(e,t.anyOf),t):t}o(du,"FromType");function Vze(e,t){return t in e?du(e,e[t]):Gn()}o(Vze,"ComputeType");function che(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:Vze(e,r)}),{})}o(che,"ComputeModuleProperties");var c$=class{static{o(this,"TModule")}constructor(t){let r=che(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:at(this.$defs[t],r)};return at({[nt]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function uhe(e){return new c$(e)}o(uhe,"Module");d();function fhe(e,t){return at({[nt]:"Not",not:e},t)}o(fhe,"Not");d();function dhe(e,t){return tm(e)?wf(e.parameters,t):Gn()}o(dhe,"Parameters");d();var jze=0;function mhe(e,t={}){Zs(t.$id)&&(t.$id=`T${jze++}`);let r=qx(e({[nt]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,at({[If]:"Recursive",...r},t)}o(mhe,"Recursive");d();function hhe(e,t){let r=To(e)?new globalThis.RegExp(e):e;return at({[nt]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(hhe,"RegExp");d();function $ze(e){return _s(e)?e.allOf:ki(e)?e.anyOf:fu(e)?e.items??[]:[]}o($ze,"RestResolve");function phe(e){return $ze(e)}o(phe,"Rest");d();function ghe(e,t){return tm(e)?at(e.returns,t):Gn(t)}o(ghe,"ReturnType");d();var u$=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new f$(this.schema,t)}},f$=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[ds].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[ds].Decode(a)),"Decode")};return{...r,[ds]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[ds]:n}}Encode(t){return ji(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function Ahe(e){return new u$(e)}o(Ahe,"Transform");d();function yhe(e={}){return at({[nt]:e[nt]??"Unsafe"},e)}o(yhe,"Unsafe");d();function Che(e){return at({[nt]:"Void",type:"void"},e)}o(Che,"Void");d();var d$={};Nh(d$,{Any:()=>D2,Argument:()=>rme,Array:()=>jx,AsyncIterator:()=>$x,Awaited:()=>eb,BigInt:()=>Xx,Boolean:()=>yR,Capitalize:()=>Yme,Composite:()=>xme,Const:()=>bme,Constructor:()=>zx,ConstructorParameters:()=>vme,Date:()=>vR,Enum:()=>Ime,Exclude:()=>ib,Extends:()=>nb,Extract:()=>ob,Function:()=>Uh,Index:()=>P2,InstanceType:()=>Gme,Instantiate:()=>Hme,Integer:()=>Vme,Intersect:()=>a0,Iterator:()=>Zx,KeyOf:()=>tb,Literal:()=>vi,Lowercase:()=>Kme,Mapped:()=>pme,Module:()=>uhe,Never:()=>Gn,Not:()=>fhe,Null:()=>IR,Number:()=>Tf,Object:()=>zi,Omit:()=>F2,Optional:()=>s0,Parameters:()=>dhe,Partial:()=>sb,Pick:()=>L2,Promise:()=>xR,Readonly:()=>hc,ReadonlyOptional:()=>RR,Record:()=>DR,Recursive:()=>mhe,Ref:()=>Sf,RegExp:()=>hhe,Required:()=>ab,Rest:()=>phe,ReturnType:()=>ghe,String:()=>P0,Symbol:()=>TR,TemplateLiteral:()=>CR,Transform:()=>Ahe,Tuple:()=>wf,Uint8Array:()=>_R,Uncapitalize:()=>Jme,Undefined:()=>wR,Union:()=>$i,Unknown:()=>om,Unsafe:()=>yhe,Uppercase:()=>Xme,Void:()=>Che});d();var T=d$;var Y1e=ct(Ii()),K1e=T.Object({accessToken:T.Optional(T.String({minLength:1})),handle:T.Optional(T.String({minLength:1})),githubAppId:T.Optional(T.String({minLength:1}))}),Uz;(r=>(r.method="github/didChangeAuth",r.type=new Y1e.ProtocolNotificationType(r.method)))(Uz||={});d();var J1e=ct(Ii()),qz;(r=>(r.method="copilot/ipCodeCitation",r.type=new J1e.NotificationType(r.method)))(qz||={});d();var X1e=ct(Ii()),xD;(r=>(r.method="context/update",r.type=new X1e.ProtocolRequestType(r.method)))(xD||={});d();d();var j2="Cancelled";d();var si=ct(Ii()),p7=T.String(),JYe=T.Object({uri:p7}),nC=T.Intersect([JYe,T.Object({version:T.Optional(T.Integer())})]),PXt=T.Required(nC),Pf=T.Object({line:T.Integer({minimum:0}),character:T.Integer({minimum:0})}),um=T.Object({start:Pf,end:Pf}),Gz=T.Union([T.Integer(),T.String()]),NXt=T.Object({isCancellationRequested:T.Boolean(),onCancellationRequested:T.Any()});d();var Z1e=ct(Ii()),Wz;(r=>(r.method="textDocument/didFocus",r.type=new Z1e.ProtocolNotificationType(r.method)))(Wz||={});d();var XYe=T.Object({fetch:T.Optional(T.Boolean()),redirectedTelemetry:T.Optional(T.Boolean()),token:T.Optional(T.Boolean()),related:T.Optional(T.Boolean()),watchedFiles:T.Optional(T.Boolean()),ipCodeCitation:T.Optional(T.Boolean())}),ZYe=T.Object({name:T.String(),version:T.String(),readableName:T.Optional(T.String())}),eAe=T.Object({name:T.String(),version:T.Optional(T.String()),readableName:T.Optional(T.String())}),tAe=T.Object({editorInfo:T.Optional(eAe),editorPluginInfo:T.Optional(eAe),relatedPluginInfo:T.Optional(T.Array(ZYe)),copilotIntegrationId:T.Optional(T.String()),copilotCapabilities:T.Optional(XYe),githubAppId:T.Optional(T.String())});d();var g7=ct(Ii());var bD=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(bD||{}),eKe=T.Enum(bD),tKe=T.Object({triggerKind:eKe,selectedCompletionInfo:T.Optional(T.Object({text:T.String(),range:um,tooltipSignature:T.Optional(T.String())}))}),rAe=T.Object({textDocument:nC,position:Pf,formattingOptions:T.Optional(T.Object({tabSize:T.Integer({minimum:1}),insertSpaces:T.Boolean()})),context:tKe,data:T.Optional(T.Unknown())}),Hz;(r=>(r.method="textDocument/inlineCompletion",r.type=new g7.ProtocolRequestType(r.method)))(Hz||={});var nAe=T.Object({command:T.Object({arguments:T.Tuple([T.String({minLength:1})])})}),iAe=T.Object({item:nAe}),Vz;(r=>(r.method="textDocument/didShowCompletion",r.type=new g7.ProtocolNotificationType(r.method)))(Vz||={});var oAe=T.Object({item:nAe,acceptedLength:T.Integer({minimum:1})}),jz;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new g7.ProtocolNotificationType(r.method)))(jz||={});d();var sAe=ct(Ii()),$z;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new sAe.ProtocolRequestType(r.method)))($z||={});d();var aAe=T.Object({textDocument:nC,position:Pf});d();var vD=ct(Ii());var lAe=T.Object({textDocument:nC,position:Pf,partialResultToken:T.Optional(Gz),workDoneToken:T.Optional(Gz)}),ID;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new vD.ProtocolRequestType(n.method),n.partialResult=new vD.ProgressType))(ID||={});d();var cAe=ct(Ii()),zz;(r=>(r.method="copilot/related",r.type=new cAe.ProtocolRequestType(r.method)))(zz||={});d();var uAe=ct(Ii()),Yz;(r=>(r.method="statusNotification",r.type=new uAe.ProtocolNotificationType(r.method)))(Yz||={});var fAe=ct(require("events"));var TD="CopilotToken",Vh=class{static{o(this,"CopilotTokenNotifier")}#e=new fAe.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(TD,t)}onToken(t){return this.#e.on(TD,t),si.Disposable.create(()=>this.#e.off(TD,t))}};function Va(e,t){let r=pu(e,t,`event.${TD}`);return e.get(Vh).onToken(r)}o(Va,"onCopilotToken");function A7(e,t){return e.get(Vh).emitToken(t)}o(A7,"emitCopilotToken");var Ml=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Va(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var wD=ct(I2()),_D=ct(require("os"));var rKe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function nKe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(rKe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(nKe,"buildExceptionDetail");function Kz(e,t){let r=e.get(sn),n=r.getEditorInfo(),i=e.get(Ml),s={"#editor":n.devName??n.name,"#editor_version":jh({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":jh(r.getEditorPluginInfo()),"#session_id":e.get(us).sessionId,"#machine_id":e.get(us).machineId,"#architecture":_D.arch(),"#os_platform":_D.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(Kz,"buildContext");function dAe(e,t){let r=e.get(io),n=e.get(sn).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:Kz(e,{"#node_version":process.versions.node}),sensitive_context:{}},s=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let u=nKe(l);i.exception_detail.unshift(u),s.unshift([l,u]),a+=1,l=l.cause}let c=[];for(let[u,f]of s)if(f.stacktrace&&f.stacktrace.length>0){c.push(`${f.type}: ${u.code??""}`);let m=[...f.stacktrace].reverse();for(let h of m)if(h.filename?.startsWith("/github-copilot/"))return i;for(let h of m)if(h.in_app){c.push(`${h.filename?.replace(/^\.\//,"")}:${h.lineno}:${h.colno}`);break}c.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,wD.SHA256)(wD.enc.Utf16.parse(c.join(`
`))).toString()),i}o(dAe,"buildPayload");d();var $h=class{constructor(t=5){this.perMinute=t;this.cache=new Rn}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perMinute).fill(0);return r-n[0]<6e4?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var Nf=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:pAe(r,n),verboseLogging:oKe(r,n),testMode:t,simulation:iKe(n)})}};function fm(e){return e.get(Nf).flags.testMode}o(fm,"isRunningInTest");function _b(e){return fm(e)}o(_b,"shouldFailForDebugPurposes");function iC(e){return e.get(Nf).flags.debug}o(iC,"isDebugEnabled");function hAe(e){return e.get(Nf).flags.verboseLogging}o(hAe,"isVerboseLoggingEnabled");function pAe(e,t){return e.includes("--debug")||Jz(t,"DEBUG")}o(pAe,"determineDebugFlag");function iKe(e){return Jz(e,"SIMULATION")}o(iKe,"determineSimulationFlag");function BD(e){return e.get(Nf).flags.simulation}o(BD,"isRunningInSimulation");function oKe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||Jz(t,"VERBOSE")||pAe(e,t)}o(oKe,"determineVerboseLoggingEnabled");function Jz(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(Jz,"determineEnvFlagEnabled");d();d();d();var xo={};Nh(xo,{file:()=>sKe,from:()=>aKe,parse:()=>kD});d();d();var gAe;(()=>{"use strict";var e={975:G=>{function q(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}o(q,"e");function se(H,O){for(var j,J="",le=0,Z=-1,ae=0,ce=0;ce<=H.length;++ce){if(ce<H.length)j=H.charCodeAt(ce);else{if(j===47)break;j=47}if(j===47){if(!(Z===ce-1||ae===1))if(Z!==ce-1&&ae===2){if(J.length<2||le!==2||J.charCodeAt(J.length-1)!==46||J.charCodeAt(J.length-2)!==46){if(J.length>2){var Re=J.lastIndexOf("/");if(Re!==J.length-1){Re===-1?(J="",le=0):le=(J=J.slice(0,Re)).length-1-J.lastIndexOf("/"),Z=ce,ae=0;continue}}else if(J.length===2||J.length===1){J="",le=0,Z=ce,ae=0;continue}}O&&(J.length>0?J+="/..":J="..",le=2)}else J.length>0?J+="/"+H.slice(Z+1,ce):J=H.slice(Z+1,ce),le=ce-Z-1;Z=ce,ae=0}else j===46&&ae!==-1?++ae:ae=-1}return J}o(se,"r");var ne={resolve:o(function(){for(var H,O="",j=!1,J=arguments.length-1;J>=-1&&!j;J--){var le;J>=0?le=arguments[J]:(H===void 0&&(H=process.cwd()),le=H),q(le),le.length!==0&&(O=le+"/"+O,j=le.charCodeAt(0)===47)}return O=se(O,!j),j?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:o(function(H){if(q(H),H.length===0)return".";var O=H.charCodeAt(0)===47,j=H.charCodeAt(H.length-1)===47;return(H=se(H,!O)).length!==0||O||(H="."),H.length>0&&j&&(H+="/"),O?"/"+H:H},"normalize"),isAbsolute:o(function(H){return q(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var H,O=0;O<arguments.length;++O){var j=arguments[O];q(j),j.length>0&&(H===void 0?H=j:H+="/"+j)}return H===void 0?".":ne.normalize(H)},"join"),relative:o(function(H,O){if(q(H),q(O),H===O||(H=ne.resolve(H))===(O=ne.resolve(O)))return"";for(var j=1;j<H.length&&H.charCodeAt(j)===47;++j);for(var J=H.length,le=J-j,Z=1;Z<O.length&&O.charCodeAt(Z)===47;++Z);for(var ae=O.length-Z,ce=le<ae?le:ae,Re=-1,ve=0;ve<=ce;++ve){if(ve===ce){if(ae>ce){if(O.charCodeAt(Z+ve)===47)return O.slice(Z+ve+1);if(ve===0)return O.slice(Z+ve)}else le>ce&&(H.charCodeAt(j+ve)===47?Re=ve:ve===0&&(Re=0));break}var Ue=H.charCodeAt(j+ve);if(Ue!==O.charCodeAt(Z+ve))break;Ue===47&&(Re=ve)}var Be="";for(ve=j+Re+1;ve<=J;++ve)ve!==J&&H.charCodeAt(ve)!==47||(Be.length===0?Be+="..":Be+="/..");return Be.length>0?Be+O.slice(Z+Re):(Z+=Re,O.charCodeAt(Z)===47&&++Z,O.slice(Z))},"relative"),_makeLong:o(function(H){return H},"_makeLong"),dirname:o(function(H){if(q(H),H.length===0)return".";for(var O=H.charCodeAt(0),j=O===47,J=-1,le=!0,Z=H.length-1;Z>=1;--Z)if((O=H.charCodeAt(Z))===47){if(!le){J=Z;break}}else le=!1;return J===-1?j?"/":".":j&&J===1?"//":H.slice(0,J)},"dirname"),basename:o(function(H,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');q(H);var j,J=0,le=-1,Z=!0;if(O!==void 0&&O.length>0&&O.length<=H.length){if(O.length===H.length&&O===H)return"";var ae=O.length-1,ce=-1;for(j=H.length-1;j>=0;--j){var Re=H.charCodeAt(j);if(Re===47){if(!Z){J=j+1;break}}else ce===-1&&(Z=!1,ce=j+1),ae>=0&&(Re===O.charCodeAt(ae)?--ae==-1&&(le=j):(ae=-1,le=ce))}return J===le?le=ce:le===-1&&(le=H.length),H.slice(J,le)}for(j=H.length-1;j>=0;--j)if(H.charCodeAt(j)===47){if(!Z){J=j+1;break}}else le===-1&&(Z=!1,le=j+1);return le===-1?"":H.slice(J,le)},"basename"),extname:o(function(H){q(H);for(var O=-1,j=0,J=-1,le=!0,Z=0,ae=H.length-1;ae>=0;--ae){var ce=H.charCodeAt(ae);if(ce!==47)J===-1&&(le=!1,J=ae+1),ce===46?O===-1?O=ae:Z!==1&&(Z=1):O!==-1&&(Z=-1);else if(!le){j=ae+1;break}}return O===-1||J===-1||Z===0||Z===1&&O===J-1&&O===j+1?"":H.slice(O,J)},"extname"),format:o(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(O,j){var J=j.dir||j.root,le=j.base||(j.name||"")+(j.ext||"");return J?J===j.root?J+le:J+"/"+le:le}(0,H)},"format"),parse:o(function(H){q(H);var O={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return O;var j,J=H.charCodeAt(0),le=J===47;le?(O.root="/",j=1):j=0;for(var Z=-1,ae=0,ce=-1,Re=!0,ve=H.length-1,Ue=0;ve>=j;--ve)if((J=H.charCodeAt(ve))!==47)ce===-1&&(Re=!1,ce=ve+1),J===46?Z===-1?Z=ve:Ue!==1&&(Ue=1):Z!==-1&&(Ue=-1);else if(!Re){ae=ve+1;break}return Z===-1||ce===-1||Ue===0||Ue===1&&Z===ce-1&&Z===ae+1?ce!==-1&&(O.base=O.name=ae===0&&le?H.slice(1,ce):H.slice(ae,ce)):(ae===0&&le?(O.name=H.slice(1,Z),O.base=H.slice(1,ce)):(O.name=H.slice(ae,Z),O.base=H.slice(ae,ce)),O.ext=H.slice(Z,ce)),ae>0?O.dir=H.slice(0,ae-1):le&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne,G.exports=ne}},t={};function r(G){var q=t[G];if(q!==void 0)return q.exports;var se=t[G]={exports:{}};return e[G](se,se.exports,r),se.exports}o(r,"r"),r.d=(G,q)=>{for(var se in q)r.o(q,se)&&!r.o(G,se)&&Object.defineProperty(G,se,{enumerable:!0,get:q[se]})},r.o=(G,q)=>Object.prototype.hasOwnProperty.call(G,q),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>re,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,q){if(!G.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!s.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,se,ne,H,O,j=!1){typeof q=="object"?(this.scheme=q.scheme||u,this.authority=q.authority||u,this.path=q.path||u,this.query=q.query||u,this.fragment=q.fragment||u):(this.scheme=function(J,le){return J||le?J:"file"}(q,j),this.authority=se||u,this.path=function(J,le){switch(J){case"https":case"http":case"file":le?le[0]!==f&&(le=f+le):le=f}return le}(this.scheme,ne||u),this.query=H||u,this.fragment=O||u,c(this,j))}get fsPath(){return b(this,!1)}with(q){if(!q)return this;let{scheme:se,authority:ne,path:H,query:O,fragment:j}=q;return se===void 0?se=this.scheme:se===null&&(se=u),ne===void 0?ne=this.authority:ne===null&&(ne=u),H===void 0?H=this.path:H===null&&(H=u),O===void 0?O=this.query:O===null&&(O=u),j===void 0?j=this.fragment:j===null&&(j=u),se===this.scheme&&ne===this.authority&&H===this.path&&O===this.query&&j===this.fragment?this:new A(se,ne,H,O,j)}static parse(q,se=!1){let ne=m.exec(q);return ne?new A(ne[2]||u,N(ne[4]||u),N(ne[5]||u),N(ne[7]||u),N(ne[9]||u),se):new A(u,u,u,u,u)}static file(q){let se=u;if(i&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let ne=q.indexOf(f,2);ne===-1?(se=q.substring(2),q=f):(se=q.substring(2,ne),q=q.substring(ne)||f)}return new A("file",se,q,u,u)}static from(q){let se=new A(q.scheme,q.authority,q.path,q.query,q.fragment);return c(se,!0),se}toString(q=!1){return S(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let se=new A(q);return se._formatted=q.external,se._fsPath=q._sep===p?q.fsPath:null,se}}return q}}let p=i?1:void 0;class A extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(q=!1){return q?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=p),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let E={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(G,q,se){let ne,H=-1;for(let O=0;O<G.length;O++){let j=G.charCodeAt(O);if(j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===45||j===46||j===95||j===126||q&&j===47||se&&j===91||se&&j===93||se&&j===58)H!==-1&&(ne+=encodeURIComponent(G.substring(H,O)),H=-1),ne!==void 0&&(ne+=G.charAt(O));else{ne===void 0&&(ne=G.substr(0,O));let J=E[j];J!==void 0?(H!==-1&&(ne+=encodeURIComponent(G.substring(H,O)),H=-1),ne+=J):H===-1&&(H=O)}}return H!==-1&&(ne+=encodeURIComponent(G.substring(H))),ne!==void 0?ne:G}o(x,"m");function v(G){let q;for(let se=0;se<G.length;se++){let ne=G.charCodeAt(se);ne===35||ne===63?(q===void 0&&(q=G.substr(0,se)),q+=E[ne]):q!==void 0&&(q+=G[se])}return q!==void 0?q:G}o(v,"y");function b(G,q){let se;return se=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?q?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(se=se.replace(/\//g,"\\")),se}o(b,"v");function S(G,q){let se=q?v:x,ne="",{scheme:H,authority:O,path:j,query:J,fragment:le}=G;if(H&&(ne+=H,ne+=":"),(O||H==="file")&&(ne+=f,ne+=f),O){let Z=O.indexOf("@");if(Z!==-1){let ae=O.substr(0,Z);O=O.substr(Z+1),Z=ae.lastIndexOf(":"),Z===-1?ne+=se(ae,!1,!1):(ne+=se(ae.substr(0,Z),!1,!1),ne+=":",ne+=se(ae.substr(Z+1),!1,!0)),ne+="@"}O=O.toLowerCase(),Z=O.lastIndexOf(":"),Z===-1?ne+=se(O,!1,!0):(ne+=se(O.substr(0,Z),!1,!0),ne+=O.substr(Z))}if(j){if(j.length>=3&&j.charCodeAt(0)===47&&j.charCodeAt(2)===58){let Z=j.charCodeAt(1);Z>=65&&Z<=90&&(j=`/${String.fromCharCode(Z+32)}:${j.substr(3)}`)}else if(j.length>=2&&j.charCodeAt(1)===58){let Z=j.charCodeAt(0);Z>=65&&Z<=90&&(j=`${String.fromCharCode(Z+32)}:${j.substr(2)}`)}ne+=se(j,!0,!1)}return J&&(ne+="?",ne+=se(J,!1,!1)),le&&(ne+="#",ne+=q?le:x(le,!1,!1)),ne}o(S,"b");function k(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+k(G.substr(3)):G}}o(k,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(G){return G.match(P)?G.replace(P,q=>k(q)):G}o(N,"w");var W=r(975);let te=W.posix||W,ge="/";var re;(function(G){G.joinPath=function(q,...se){return q.with({path:te.join(q.path,...se)})},G.resolvePath=function(q,...se){let ne=q.path,H=!1;ne[0]!==ge&&(ne=ge+ne,H=!0);let O=te.resolve(ne,...se);return H&&O[0]===ge&&!q.authority&&(O=O.substring(1)),q.with({path:O})},G.dirname=function(q){if(q.path.length===0||q.path===ge)return q;let se=te.dirname(q.path);return se.length===1&&se.charCodeAt(0)===46&&(se=""),q.with({path:se})},G.basename=function(q){return te.basename(q.path)},G.extname=function(q){return te.extname(q.path)}})(re||(re={})),gAe=n})();var{URI:oC,Utils:y7}=gAe;function kD(e,t=!0){if(t&&/^[[:alnum:]]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let r=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return r?oC.parse(r[1]+r[2],t):oC.parse(e,t)}catch(r){let n=new Error(`Could not parse <${e}>`);throw n.cause=r,n}}o(kD,"parse");function sKe(e){if(/^[[:alpha:]][[:alnum:].-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return oC.file(e)}o(sKe,"file");function aKe(e){return oC.from(e)}o(aKe,"from");var Xz=require("os"),RD=require("path");function yAe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+yAe(e.substring(3)):e}}o(yAe,"decodeURIComponentGraceful");var AAe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Zz(e){return e.match(AAe)?e.replace(AAe,t=>yAe(t)):e}o(Zz,"percentDecode");function Sb(e){return kD(e)}o(Sb,"parseUri");function dm(e){try{return kD(e,!1).toString()}catch{return e}}o(dm,"normalizeUri");function DD(e){return CAe(e.toString().split(":")[0])}o(DD,"isSupportedUriScheme");function CAe(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}o(CAe,"isFsScheme");function lKe(e){return CAe(e.scheme)&&(!e.authority||(0,Xz.platform)()=="win32")}o(lKe,"isFsUri");function ja(e){try{typeof e=="string"&&(e=Sb(e))}catch{return}if(lKe(e))if((0,Xz.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,RD.normalize)(t)}else return e.authority?void 0:e.path}o(ja,"getFsPath");function sC(e,...t){let r=typeof e=="string"?Sb(e):e,n,i=ja(r);return i?n=oC.file((0,RD.resolve)(i,...t)):n=y7.resolvePath(r,...t.map(s=>EAe(s))),typeof e=="string"?n.toString():n}o(sC,"resolveFilePath");function ks(e,...t){let r=typeof e=="string"?Sb(e):e,n=y7.joinPath(r,...t.map(EAe));return typeof e=="string"?n.toString():n}o(ks,"joinPath");function EAe(e){return cKe(e)?e.replaceAll("\\","/"):e}o(EAe,"pathToURIPath");function cKe(e){return/^[^/\\]*\\/.test(e)}o(cKe,"isWinPath");function Qs(e){return Zz(e.toString().replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Qs,"basename");function gu(e){let t=typeof e=="string"?Sb(e):e,r;return["notebook","vscode-notebook","vscode-notebook-cell"].includes(t.scheme)?r=y7.dirname(t).with({scheme:"file",fragment:""}):r=y7.dirname(t),typeof e=="string"?r.toString():r}o(gu,"dirname");var vn=class{static{o(this,"NetworkConfiguration")}},PD={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function eY(e,t,r){if(r&&fm(e)){for(let n of r){let i=ai(e,n);if(i)return i}return}for(let n of t){let i=ai(e,n);if(i)return i}}o(eY,"urlConfigOverride");function tY(e,t){switch(t){case"api":return eY(e,[qt.DebugOverrideCapiUrl,qt.DebugOverrideCapiUrlLegacy],[qt.DebugTestOverrideCapiUrl,qt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return eY(e,[qt.DebugOverrideProxyUrl,qt.DebugOverrideProxyUrlLegacy],[qt.DebugTestOverrideProxyUrl,qt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!FD(e))return eY(e,[qt.DebugSnippyOverrideUrl])}}o(tY,"getEndpointOverrideUrl");function ND(e,t,r,...n){let i=tY(e,r)??(t.envelope.endpoints??PD)[r];return ks(i,...n)}o(ND,"getEndpointUrl");d();d();d();var aC=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(aC||{}),ba=class{static{o(this,"LogTarget")}},zh=class{static{o(this,"TelemetryLogSender")}},Er=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(ba).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(zh).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(zh).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},ei=new Er("default");var TAe=ct(bAe()),wAe=ct(IAe()),Au=ct(require("os"));var Bb=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Nr).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{ei.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new wAe.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(vn).getTelemetryUrl(),extensionConfig:{[TAe.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=uKe(t),this.commonProperties=fKe(t),this.#e=Va(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function uKe(e){let t={},r=e.get(us);t["ai.session.id"]=r.sessionId;let n=e.get(Ml);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Au.type()} ${Au.release()}`,t["ai.device.osArchitecture"]=Au.arch(),t["ai.device.osPlatform"]=Au.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(io).getVersion(),t}o(uKe,"getTags");function fKe(e){let t={};t.common_os=Au.platform(),t.common_platformversion=Au.release(),t.common_arch=Au.arch(),t.common_cpu=Array.from(new Set(Au.cpus().map(n=>n.model))).join();let r=e.get(us);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(fKe,"getCommonProperties");var _Ae="7d7048df-6dd0-4048-bb23-b716c1461f8f",SAe="3fdd7f28-937a-48c8-9a21-ba337db23bd1",dKe="f0000000-0000-0000-0000-000000000000",yu=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(ps).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(ps);s.setReporter(new Bb(t,r,_Ae)),s.setRestrictedReporter(new Bb(t,r,SAe)),s.setFTReporter(new Bb(t,r,dKe,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function $2(e,t,r){return e.get(yu).initialize(e,t,r)}o($2,"setupTelemetryReporters");d();var MD=ct(require("assert"));var jg=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return MD.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){MD.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};d();var yo=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var kb=class extends yo{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var C7=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var RAe=require("os"),DAe=ct(require("path"));function E7(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(E7,"redactPaths");var mKe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),hKe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function nY(e){if(mKe.has(e))return e;for(let t of hKe)if(t.test(e))return e;return E7(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(nY,"redactMessage");function OD(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(OD,"escapeForRegExp");var pKe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+OD((0,RAe.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function rY(e){return e.replace(pKe,"~")}o(rY,"redactHomeDir");var PAe="[\\\\/]?([^:)]*)(?=:\\d)",BAe=new RegExp(OD(DAe.sep),"g"),kAe=new RegExp(OD(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+PAe,"gi");function iY(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(kAe.test(l))i.stack+=`
${E7(l.replace(kAe,(c,u)=>"./"+u.replace(BAe,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${E7(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(OD(f.replace(/[\\/]$/,""))+PAe,"gi");if(m.test(l)){i.stack+=`
${E7(l.replace(m,(h,p)=>u+p.replace(BAe,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${rY(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=rY(s));return e.cause instanceof Error&&(i.cause=iY(e.cause,t,r,n)),i}o(iY,"cloneError");function NAe(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(NAe,"errorMessageWithoutPath");function FAe(e,t){return iY(e,o(function(n){return rY(NAe(n))},"prepareMessage"),!0,t)}o(FAe,"prepareErrorForRestrictedTelemetry");function oY(e,t,r=!1){return iY(e,o(function(i){if(r)return nY(NAe(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=E7(i.syscall)+" "+s:i instanceof q9&&i.erroredSysCall&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(oY,"redactError");d();d();function gKe(e){switch(e.errorType){case tt.ArrayContains:return"Expected array to contain at least one matching value";case tt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case tt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case tt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case tt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case tt.ArrayUniqueItems:return"Expected array elements to be unique";case tt.Array:return"Expected array";case tt.AsyncIterator:return"Expected AsyncIterator";case tt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case tt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case tt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case tt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case tt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case tt.BigInt:return"Expected bigint";case tt.Boolean:return"Expected boolean";case tt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case tt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case tt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case tt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case tt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case tt.Date:return"Expected Date";case tt.Function:return"Expected function";case tt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case tt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case tt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case tt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case tt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case tt.Integer:return"Expected integer";case tt.IntersectUnevaluatedProperties:return"Unexpected property";case tt.Intersect:return"Expected all values to match";case tt.Iterator:return"Expected Iterator";case tt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case tt.Never:return"Never";case tt.Not:return"Value should not match";case tt.Null:return"Expected null";case tt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case tt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case tt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case tt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case tt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case tt.Number:return"Expected number";case tt.Object:return"Expected object";case tt.ObjectAdditionalProperties:return"Unexpected property";case tt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case tt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case tt.ObjectRequiredProperty:return"Expected required property";case tt.Promise:return"Expected Promise";case tt.RegExp:return"Expected string to match regular expression";case tt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case tt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case tt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case tt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case tt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case tt.String:return"Expected string";case tt.Symbol:return"Expected symbol";case tt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case tt.Tuple:return"Expected tuple";case tt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case tt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case tt.Uint8Array:return"Expected Uint8Array";case tt.Undefined:return"Expected undefined";case tt.Union:return"Expected union value";case tt.Void:return"Expected void";case tt.Kind:return`Expected kind '${e.schema[nt]}'`;default:return"Unknown error type"}}o(gKe,"DefaultErrorFunction");var AKe=gKe;function LAe(){return AKe}o(LAe,"GetErrorFunction");d();var sY=class extends un{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function yKe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new sY(e);return Li(r,t)}o(yKe,"Resolve");function cl(e,t){return!Bi(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(cl,"Pushref");function Li(e,t){return e[nt]==="This"||e[nt]==="Ref"?yKe(e,t):e}o(Li,"Deref");d();var aY=class extends un{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},Cu;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Cu||(Cu={}));var Rb=BigInt("14695981039346656037"),[CKe,EKe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],xKe=Array.from({length:256}).map((e,t)=>BigInt(t)),QAe=new Float64Array(1),MAe=new DataView(QAe.buffer),OAe=new Uint8Array(QAe.buffer);function*bKe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(bKe,"NumberToBytes");function vKe(e){d0(Cu.Array);for(let t of e)Db(t)}o(vKe,"ArrayType");function IKe(e){d0(Cu.Boolean),d0(e?1:0)}o(IKe,"BooleanType");function TKe(e){d0(Cu.BigInt),MAe.setBigInt64(0,e);for(let t of OAe)d0(t)}o(TKe,"BigIntType");function wKe(e){d0(Cu.Date),Db(e.getTime())}o(wKe,"DateType");function _Ke(e){d0(Cu.Null)}o(_Ke,"NullType");function SKe(e){d0(Cu.Number),MAe.setFloat64(0,e);for(let t of OAe)d0(t)}o(SKe,"NumberType");function BKe(e){d0(Cu.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())Db(t),Db(e[t])}o(BKe,"ObjectType");function kKe(e){d0(Cu.String);for(let t=0;t<e.length;t++)for(let r of bKe(e.charCodeAt(t)))d0(r)}o(kKe,"StringType");function RKe(e){d0(Cu.Symbol),Db(e.description)}o(RKe,"SymbolType");function DKe(e){d0(Cu.Uint8Array);for(let t=0;t<e.length;t++)d0(e[t])}o(DKe,"Uint8ArrayType");function PKe(e){return d0(Cu.Undefined)}o(PKe,"UndefinedType");function Db(e){if(cn(e))return vKe(e);if(Qh(e))return IKe(e);if(Fl(e))return TKe(e);if(R0(e))return wKe(e);if(Fg(e))return _Ke(e);if(Vr(e))return SKe(e);if(Kn(e))return BKe(e);if(Bi(e))return kKe(e);if(Lg(e))return RKe(e);if(Gx(e))return DKe(e);if(zo(e))return PKe(e);throw new aY(e)}o(Db,"Visit");function d0(e){Rb=Rb^xKe[e],Rb=Rb*CKe%EKe}o(d0,"FNV1A64");function z2(e){return Rb=BigInt("14695981039346656037"),Db(e),Rb}o(z2,"Hash");d();var lY=class extends un{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function NKe(e){return e[nt]==="Any"||e[nt]==="Unknown"}o(NKe,"IsAnyOrUnknown");function hi(e){return e!==void 0}o(hi,"IsDefined");function FKe(e,t,r){return!0}o(FKe,"FromAny");function LKe(e,t,r){return!0}o(LKe,"FromArgument");function QKe(e,t,r){if(!cn(r)||hi(e.minItems)&&!(r.length>=e.minItems)||hi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>ul(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=z2(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(hi(e.contains)||Vr(e.minContains)||Vr(e.maxContains)))return!0;let n=hi(e.contains)?e.contains:Gn(),i=r.reduce((s,a)=>ul(n,t,a)?s+1:s,0);return!(i===0||Vr(e.minContains)&&i<e.minContains||Vr(e.maxContains)&&i>e.maxContains)}o(QKe,"FromArray");function MKe(e,t,r){return uR(r)}o(MKe,"FromAsyncIterator");function OKe(e,t,r){return!(!Fl(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(OKe,"FromBigInt");function UKe(e,t,r){return Qh(r)}o(UKe,"FromBoolean");function qKe(e,t,r){return ul(e.returns,t,r.prototype)}o(qKe,"FromConstructor");function GKe(e,t,r){return!(!R0(r)||hi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||hi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||hi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||hi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||hi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(GKe,"FromDate");function WKe(e,t,r){return B2(r)}o(WKe,"FromFunction");function HKe(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return ul(i,[...t,...n],r)}o(HKe,"FromImport");function VKe(e,t,r){return!(!mR(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.multipleOf)&&r%e.multipleOf!==0)}o(VKe,"FromInteger");function jKe(e,t,r){let n=e.allOf.every(i=>ul(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(Gg(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(ms(e.unevaluatedProperties)){let i=new RegExp(Gg(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||ul(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(jKe,"FromIntersect");function $Ke(e,t,r){return fR(r)}o($Ke,"FromIterator");function zKe(e,t,r){return r===e.const}o(zKe,"FromLiteral");function YKe(e,t,r){return!1}o(YKe,"FromNever");function KKe(e,t,r){return!ul(e.not,t,r)}o(KKe,"FromNot");function JKe(e,t,r){return Fg(r)}o(JKe,"FromNull");function XKe(e,t,r){return!(!Po.IsNumberLike(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.multipleOf)&&r%e.multipleOf!==0)}o(XKe,"FromNumber");function ZKe(e,t,r){if(!Po.IsObjectLike(r)||hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!ul(s,t,r[i])||(Wg(s)||NKe(s))&&!(i in r))return!1}else if(Po.IsExactOptionalProperty(r,i)&&!ul(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||ul(e.additionalProperties,t,r[s])):!0}o(ZKe,"FromObject");function eJe(e,t,r){return dR(r)}o(eJe,"FromPromise");function tJe(e,t,r){if(!Po.IsRecordLike(r)||hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?ul(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:ul(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(tJe,"FromRecord");function rJe(e,t,r){return ul(Li(e,t),t,r)}o(rJe,"FromRef");function nJe(e,t,r){let n=new RegExp(e.source,e.flags);return hi(e.minLength)&&!(r.length>=e.minLength)||hi(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(nJe,"FromRegExp");function iJe(e,t,r){return!Bi(r)||hi(e.minLength)&&!(r.length>=e.minLength)||hi(e.maxLength)&&!(r.length<=e.maxLength)||hi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:hi(e.format)?im.Has(e.format)?im.Get(e.format)(r):!1:!0}o(iJe,"FromString");function oJe(e,t,r){return Lg(r)}o(oJe,"FromSymbol");function sJe(e,t,r){return Bi(r)&&new RegExp(e.pattern).test(r)}o(sJe,"FromTemplateLiteral");function aJe(e,t,r){return ul(Li(e,t),t,r)}o(aJe,"FromThis");function lJe(e,t,r){if(!cn(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!ul(e.items[n],t,r[n]))return!1;return!0}o(lJe,"FromTuple");function cJe(e,t,r){return zo(r)}o(cJe,"FromUndefined");function uJe(e,t,r){return e.anyOf.some(n=>ul(n,t,r))}o(uJe,"FromUnion");function fJe(e,t,r){return!(!Gx(r)||hi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||hi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(fJe,"FromUint8Array");function dJe(e,t,r){return!0}o(dJe,"FromUnknown");function mJe(e,t,r){return Po.IsVoidLike(r)}o(mJe,"FromVoid");function hJe(e,t,r){return D0.Has(e[nt])?D0.Get(e[nt])(e,r):!1}o(hJe,"FromKind");function ul(e,t,r){let n=hi(e.$id)?cl(e,t):t,i=e;switch(i[nt]){case"Any":return FKe(i,n,r);case"Argument":return LKe(i,n,r);case"Array":return QKe(i,n,r);case"AsyncIterator":return MKe(i,n,r);case"BigInt":return OKe(i,n,r);case"Boolean":return UKe(i,n,r);case"Constructor":return qKe(i,n,r);case"Date":return GKe(i,n,r);case"Function":return WKe(i,n,r);case"Import":return HKe(i,n,r);case"Integer":return VKe(i,n,r);case"Intersect":return jKe(i,n,r);case"Iterator":return $Ke(i,n,r);case"Literal":return zKe(i,n,r);case"Never":return YKe(i,n,r);case"Not":return KKe(i,n,r);case"Null":return JKe(i,n,r);case"Number":return XKe(i,n,r);case"Object":return ZKe(i,n,r);case"Promise":return eJe(i,n,r);case"Record":return tJe(i,n,r);case"Ref":return rJe(i,n,r);case"RegExp":return nJe(i,n,r);case"String":return iJe(i,n,r);case"Symbol":return oJe(i,n,r);case"TemplateLiteral":return sJe(i,n,r);case"This":return aJe(i,n,r);case"Tuple":return lJe(i,n,r);case"Undefined":return cJe(i,n,r);case"Union":return uJe(i,n,r);case"Uint8Array":return fJe(i,n,r);case"Unknown":return dJe(i,n,r);case"Void":return mJe(i,n,r);default:if(!D0.Has(i[nt]))throw new lY(i);return hJe(i,n,r)}}o(ul,"Visit");function ti(...e){return e.length===3?ul(e[0],e[1],e[2]):ul(e[0],[],e[1])}o(ti,"Check");var tt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(tt||(tt={}));var cY=class extends un{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function $g(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o($g,"EscapeKey");function pi(e){return e!==void 0}o(pi,"IsDefined");var Y2=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function gr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:LAe()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(gr,"Create");function*pJe(e,t,r,n){}o(pJe,"FromAny");function*gJe(e,t,r,n){}o(gJe,"FromArgument");function*AJe(e,t,r,n){if(!cn(n))return yield gr(tt.Array,e,r,n);pi(e.minItems)&&!(n.length>=e.minItems)&&(yield gr(tt.ArrayMinItems,e,r,n)),pi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield gr(tt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*fl(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=z2(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield gr(tt.ArrayUniqueItems,e,r,n)),!(pi(e.contains)||pi(e.minContains)||pi(e.maxContains)))return;let i=pi(e.contains)?e.contains:Gn(),s=n.reduce((a,l,c)=>fl(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield gr(tt.ArrayContains,e,r,n)),Vr(e.minContains)&&s<e.minContains&&(yield gr(tt.ArrayMinContains,e,r,n)),Vr(e.maxContains)&&s>e.maxContains&&(yield gr(tt.ArrayMaxContains,e,r,n))}o(AJe,"FromArray");function*yJe(e,t,r,n){uR(n)||(yield gr(tt.AsyncIterator,e,r,n))}o(yJe,"FromAsyncIterator");function*CJe(e,t,r,n){if(!Fl(n))return yield gr(tt.BigInt,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.BigIntExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.BigIntExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.BigIntMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.BigIntMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield gr(tt.BigIntMultipleOf,e,r,n))}o(CJe,"FromBigInt");function*EJe(e,t,r,n){Qh(n)||(yield gr(tt.Boolean,e,r,n))}o(EJe,"FromBoolean");function*xJe(e,t,r,n){yield*fl(e.returns,t,r,n.prototype)}o(xJe,"FromConstructor");function*bJe(e,t,r,n){if(!R0(n))return yield gr(tt.Date,e,r,n);pi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield gr(tt.DateExclusiveMaximumTimestamp,e,r,n)),pi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield gr(tt.DateExclusiveMinimumTimestamp,e,r,n)),pi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield gr(tt.DateMaximumTimestamp,e,r,n)),pi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield gr(tt.DateMinimumTimestamp,e,r,n)),pi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield gr(tt.DateMultipleOfTimestamp,e,r,n))}o(bJe,"FromDate");function*vJe(e,t,r,n){B2(n)||(yield gr(tt.Function,e,r,n))}o(vJe,"FromFunction");function*IJe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*fl(s,[...t,...i],r,n)}o(IJe,"FromImport");function*TJe(e,t,r,n){if(!mR(n))return yield gr(tt.Integer,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.IntegerExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.IntegerExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.IntegerMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.IntegerMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(tt.IntegerMultipleOf,e,r,n))}o(TJe,"FromInteger");function*wJe(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of fl(s,t,r,n))i=!0,yield a;if(i)return yield gr(tt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(Gg(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield gr(tt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Gg(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=fl(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(wJe,"FromIntersect");function*_Je(e,t,r,n){fR(n)||(yield gr(tt.Iterator,e,r,n))}o(_Je,"FromIterator");function*SJe(e,t,r,n){n!==e.const&&(yield gr(tt.Literal,e,r,n))}o(SJe,"FromLiteral");function*BJe(e,t,r,n){yield gr(tt.Never,e,r,n)}o(BJe,"FromNever");function*kJe(e,t,r,n){fl(e.not,t,r,n).next().done===!0&&(yield gr(tt.Not,e,r,n))}o(kJe,"FromNot");function*RJe(e,t,r,n){Fg(n)||(yield gr(tt.Null,e,r,n))}o(RJe,"FromNull");function*DJe(e,t,r,n){if(!Po.IsNumberLike(n))return yield gr(tt.Number,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.NumberExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.NumberExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.NumberMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.NumberMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(tt.NumberMultipleOf,e,r,n))}o(DJe,"FromNumber");function*PJe(e,t,r,n){if(!Po.IsObjectLike(n))return yield gr(tt.Object,e,r,n);pi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(tt.ObjectMinProperties,e,r,n)),pi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(tt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield gr(tt.ObjectRequiredProperty,e.properties[l],`${r}/${$g(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield gr(tt.ObjectAdditionalProperties,e,`${r}/${$g(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*fl(e.additionalProperties,t,`${r}/${$g(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*fl(c,t,`${r}/${$g(l)}`,n[l]),Wg(e)&&!(l in n)&&(yield gr(tt.ObjectRequiredProperty,c,`${r}/${$g(l)}`,void 0))):Po.IsExactOptionalProperty(n,l)&&(yield*fl(c,t,`${r}/${$g(l)}`,n[l]))}}o(PJe,"FromObject");function*NJe(e,t,r,n){dR(n)||(yield gr(tt.Promise,e,r,n))}o(NJe,"FromPromise");function*FJe(e,t,r,n){if(!Po.IsRecordLike(n))return yield gr(tt.Object,e,r,n);pi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(tt.ObjectMinProperties,e,r,n)),pi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(tt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*fl(s,t,`${r}/${$g(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*fl(e.additionalProperties,t,`${r}/${$g(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield gr(tt.ObjectAdditionalProperties,e,`${r}/${$g(l)}`,c)}}o(FJe,"FromRecord");function*LJe(e,t,r,n){yield*fl(Li(e,t),t,r,n)}o(LJe,"FromRef");function*QJe(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);if(pi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(tt.StringMinLength,e,r,n)),pi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(tt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield gr(tt.RegExp,e,r,n)}o(QJe,"FromRegExp");function*MJe(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);pi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(tt.StringMinLength,e,r,n)),pi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(tt.StringMaxLength,e,r,n)),Bi(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield gr(tt.StringPattern,e,r,n))),Bi(e.format)&&(im.Has(e.format)?im.Get(e.format)(n)||(yield gr(tt.StringFormat,e,r,n)):yield gr(tt.StringFormatUnknown,e,r,n))}o(MJe,"FromString");function*OJe(e,t,r,n){Lg(n)||(yield gr(tt.Symbol,e,r,n))}o(OJe,"FromSymbol");function*UJe(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield gr(tt.StringPattern,e,r,n))}o(UJe,"FromTemplateLiteral");function*qJe(e,t,r,n){yield*fl(Li(e,t),t,r,n)}o(qJe,"FromThis");function*GJe(e,t,r,n){if(!cn(n))return yield gr(tt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield gr(tt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield gr(tt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*fl(e.items[i],t,`${r}/${i}`,n[i])}o(GJe,"FromTuple");function*WJe(e,t,r,n){zo(n)||(yield gr(tt.Undefined,e,r,n))}o(WJe,"FromUndefined");function*HJe(e,t,r,n){if(ti(e,t,n))return;let i=e.anyOf.map(s=>new Y2(fl(s,t,r,n)));yield gr(tt.Union,e,r,n,i)}o(HJe,"FromUnion");function*VJe(e,t,r,n){if(!Gx(n))return yield gr(tt.Uint8Array,e,r,n);pi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield gr(tt.Uint8ArrayMaxByteLength,e,r,n)),pi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield gr(tt.Uint8ArrayMinByteLength,e,r,n))}o(VJe,"FromUint8Array");function*jJe(e,t,r,n){}o(jJe,"FromUnknown");function*$Je(e,t,r,n){Po.IsVoidLike(n)||(yield gr(tt.Void,e,r,n))}o($Je,"FromVoid");function*zJe(e,t,r,n){D0.Get(e[nt])(e,n)||(yield gr(tt.Kind,e,r,n))}o(zJe,"FromKind");function*fl(e,t,r,n){let i=pi(e.$id)?[...t,e]:t,s=e;switch(s[nt]){case"Any":return yield*pJe(s,i,r,n);case"Argument":return yield*gJe(s,i,r,n);case"Array":return yield*AJe(s,i,r,n);case"AsyncIterator":return yield*yJe(s,i,r,n);case"BigInt":return yield*CJe(s,i,r,n);case"Boolean":return yield*EJe(s,i,r,n);case"Constructor":return yield*xJe(s,i,r,n);case"Date":return yield*bJe(s,i,r,n);case"Function":return yield*vJe(s,i,r,n);case"Import":return yield*IJe(s,i,r,n);case"Integer":return yield*TJe(s,i,r,n);case"Intersect":return yield*wJe(s,i,r,n);case"Iterator":return yield*_Je(s,i,r,n);case"Literal":return yield*SJe(s,i,r,n);case"Never":return yield*BJe(s,i,r,n);case"Not":return yield*kJe(s,i,r,n);case"Null":return yield*RJe(s,i,r,n);case"Number":return yield*DJe(s,i,r,n);case"Object":return yield*PJe(s,i,r,n);case"Promise":return yield*NJe(s,i,r,n);case"Record":return yield*FJe(s,i,r,n);case"Ref":return yield*LJe(s,i,r,n);case"RegExp":return yield*QJe(s,i,r,n);case"String":return yield*MJe(s,i,r,n);case"Symbol":return yield*OJe(s,i,r,n);case"TemplateLiteral":return yield*UJe(s,i,r,n);case"This":return yield*qJe(s,i,r,n);case"Tuple":return yield*GJe(s,i,r,n);case"Undefined":return yield*WJe(s,i,r,n);case"Union":return yield*HJe(s,i,r,n);case"Uint8Array":return yield*VJe(s,i,r,n);case"Unknown":return yield*jJe(s,i,r,n);case"Void":return yield*$Je(s,i,r,n);default:if(!D0.Has(s[nt]))throw new cY(e);return yield*zJe(s,i,r,n)}}o(fl,"Visit");function Yh(...e){let t=e.length===3?fl(e[0],e[1],"",e[2]):fl(e[0],[],"",e[1]);return new Y2(t)}o(Yh,"Errors");d();d();var Pb=class extends un{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},uY=class extends un{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function gs(e,t,r){try{return ji(e)?e[ds].Decode(r):r}catch(n){throw new uY(e,t,r,n)}}o(gs,"Default");function YJe(e,t,r,n){return cn(n)?gs(e,r,n.map((i,s)=>mm(e.items,t,`${r}/${s}`,i))):gs(e,r,n)}o(YJe,"FromArray");function KJe(e,t,r,n){if(!Kn(n)||au(n))return gs(e,r,n);let i=bR(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=mm(m,t,`${r}/${f}`,a[f]));if(!ji(e.unevaluatedProperties))return gs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=gs(c,`${r}/${f}`,u[f]));return gs(e,r,u)}o(KJe,"FromIntersect");function JJe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=mm(s,[...t,...i],r,n);return gs(e,r,a)}o(JJe,"FromImport");function XJe(e,t,r,n){return gs(e,r,mm(e.not,t,r,n))}o(XJe,"FromNot");function ZJe(e,t,r,n){if(!Kn(n))return gs(e,r,n);let i=pc(e),s={...n};for(let u of i)ln(s,u)&&(zo(s[u])&&(!Og(e.properties[u])||Po.IsExactOptionalProperty(s,u))||(s[u]=mm(e.properties[u],t,`${r}/${u}`,s[u])));if(!ms(e.additionalProperties))return gs(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=gs(l,`${r}/${u}`,c[u]));return gs(e,r,c)}o(ZJe,"FromObject");function eXe(e,t,r,n){if(!Kn(n))return gs(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=mm(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!ms(e.additionalProperties))return gs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=gs(c,`${r}/${f}`,u[f]));return gs(e,r,u)}o(eXe,"FromRecord");function tXe(e,t,r,n){let i=Li(e,t);return gs(e,r,mm(i,t,r,n))}o(tXe,"FromRef");function rXe(e,t,r,n){let i=Li(e,t);return gs(e,r,mm(i,t,r,n))}o(rXe,"FromThis");function nXe(e,t,r,n){return cn(n)&&cn(e.items)?gs(e,r,e.items.map((i,s)=>mm(i,t,`${r}/${s}`,n[s]))):gs(e,r,n)}o(nXe,"FromTuple");function iXe(e,t,r,n){for(let i of e.anyOf){if(!ti(i,t,n))continue;let s=mm(i,t,r,n);return gs(e,r,s)}return gs(e,r,n)}o(iXe,"FromUnion");function mm(e,t,r,n){let i=cl(e,t),s=e;switch(e[nt]){case"Array":return YJe(s,i,r,n);case"Import":return JJe(s,i,r,n);case"Intersect":return KJe(s,i,r,n);case"Not":return XJe(s,i,r,n);case"Object":return ZJe(s,i,r,n);case"Record":return eXe(s,i,r,n);case"Ref":return tXe(s,i,r,n);case"Symbol":return gs(s,r,n);case"This":return rXe(s,i,r,n);case"Tuple":return nXe(s,i,r,n);case"Union":return iXe(s,i,r,n);default:return gs(s,r,n)}}o(mm,"Visit");function Nb(e,t,r){return mm(e,t,"",r)}o(Nb,"TransformDecode");d();var Fb=class extends un{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},fY=class extends un{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function Ol(e,t,r){try{return ji(e)?e[ds].Encode(r):r}catch(n){throw new fY(e,t,r,n)}}o(Ol,"Default");function oXe(e,t,r,n){let i=Ol(e,r,n);return cn(i)?i.map((s,a)=>hm(e.items,t,`${r}/${a}`,s)):i}o(oXe,"FromArray");function sXe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Ol(e,r,n);return hm(s,[...t,...i],r,a)}o(sXe,"FromImport");function aXe(e,t,r,n){let i=Ol(e,r,n);if(!Kn(n)||au(n))return i;let s=bR(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=hm(h,t,`${r}/${m}`,l[m]));if(!ji(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=Ol(u,`${r}/${m}`,f[m]));return f}o(aXe,"FromIntersect");function lXe(e,t,r,n){return Ol(e.not,r,Ol(e,r,n))}o(lXe,"FromNot");function cXe(e,t,r,n){let i=Ol(e,r,n);if(!Kn(i))return i;let s=pc(e),a={...i};for(let f of s)ln(a,f)&&(zo(a[f])&&(!Og(e.properties[f])||Po.IsExactOptionalProperty(a,f))||(a[f]=hm(e.properties[f],t,`${r}/${f}`,a[f])));if(!ms(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Ol(c,`${r}/${f}`,u[f]));return u}o(cXe,"FromObject");function uXe(e,t,r,n){let i=Ol(e,r,n);if(!Kn(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=hm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!ms(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=Ol(u,`${r}/${m}`,f[m]));return f}o(uXe,"FromRecord");function fXe(e,t,r,n){let i=Li(e,t),s=hm(i,t,r,n);return Ol(e,r,s)}o(fXe,"FromRef");function dXe(e,t,r,n){let i=Li(e,t),s=hm(i,t,r,n);return Ol(e,r,s)}o(dXe,"FromThis");function mXe(e,t,r,n){let i=Ol(e,r,n);return cn(e.items)?e.items.map((s,a)=>hm(s,t,`${r}/${a}`,i[a])):[]}o(mXe,"FromTuple");function hXe(e,t,r,n){for(let i of e.anyOf){if(!ti(i,t,n))continue;let s=hm(i,t,r,n);return Ol(e,r,s)}for(let i of e.anyOf){let s=hm(i,t,r,n);if(ti(e,t,s))return Ol(e,r,s)}return Ol(e,r,n)}o(hXe,"FromUnion");function hm(e,t,r,n){let i=cl(e,t),s=e;switch(e[nt]){case"Array":return oXe(s,i,r,n);case"Import":return sXe(s,i,r,n);case"Intersect":return aXe(s,i,r,n);case"Not":return lXe(s,i,r,n);case"Object":return cXe(s,i,r,n);case"Record":return uXe(s,i,r,n);case"Ref":return fXe(s,i,r,n);case"This":return dXe(s,i,r,n);case"Tuple":return mXe(s,i,r,n);case"Union":return hXe(s,i,r,n);default:return Ol(s,r,n)}}o(hm,"Visit");function Lb(e,t,r){return hm(e,t,"",r)}o(Lb,"TransformEncode");d();function pXe(e,t){return ji(e)||$a(e.items,t)}o(pXe,"FromArray");function gXe(e,t){return ji(e)||$a(e.items,t)}o(gXe,"FromAsyncIterator");function AXe(e,t){return ji(e)||$a(e.returns,t)||e.parameters.some(r=>$a(r,t))}o(AXe,"FromConstructor");function yXe(e,t){return ji(e)||$a(e.returns,t)||e.parameters.some(r=>$a(r,t))}o(yXe,"FromFunction");function CXe(e,t){return ji(e)||ji(e.unevaluatedProperties)||e.allOf.some(r=>$a(r,t))}o(CXe,"FromIntersect");function EXe(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return ji(e)||$a(n,[...r,...t])}o(EXe,"FromImport");function xXe(e,t){return ji(e)||$a(e.items,t)}o(xXe,"FromIterator");function bXe(e,t){return ji(e)||$a(e.not,t)}o(bXe,"FromNot");function vXe(e,t){return ji(e)||Object.values(e.properties).some(r=>$a(r,t))||ms(e.additionalProperties)&&$a(e.additionalProperties,t)}o(vXe,"FromObject");function IXe(e,t){return ji(e)||$a(e.item,t)}o(IXe,"FromPromise");function TXe(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return ji(e)||$a(n,t)||ms(e.additionalProperties)&&ji(e.additionalProperties)}o(TXe,"FromRecord");function wXe(e,t){return ji(e)?!0:$a(Li(e,t),t)}o(wXe,"FromRef");function _Xe(e,t){return ji(e)?!0:$a(Li(e,t),t)}o(_Xe,"FromThis");function SXe(e,t){return ji(e)||!zo(e.items)&&e.items.some(r=>$a(r,t))}o(SXe,"FromTuple");function BXe(e,t){return ji(e)||e.anyOf.some(r=>$a(r,t))}o(BXe,"FromUnion");function $a(e,t){let r=cl(e,t),n=e;if(e.$id&&dY.has(e.$id))return!1;switch(e.$id&&dY.add(e.$id),e[nt]){case"Array":return pXe(n,r);case"AsyncIterator":return gXe(n,r);case"Constructor":return AXe(n,r);case"Function":return yXe(n,r);case"Import":return EXe(n,r);case"Intersect":return CXe(n,r);case"Iterator":return xXe(n,r);case"Not":return bXe(n,r);case"Object":return vXe(n,r);case"Promise":return IXe(n,r);case"Record":return TXe(n,r);case"Ref":return wXe(n,r);case"This":return _Xe(n,r);case"Tuple":return SXe(n,r);case"Union":return BXe(n,r);default:return ji(e)}}o($a,"Visit");var dY=new Set;function zg(e,t){return dY.clear(),$a(e,t)}o(zg,"HasTransform");var mY=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=zg(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return Yh(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new Pb(this.schema,t,this.Errors(t).First());return this.hasTransform?Nb(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?Lb(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Fb(this.schema,t,this.Errors(t).First());return r}},Yg;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(Yg||(Yg={}));var UD;(function(e){function t(s){return s.length===0?!1:Yg.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(Yg.IsAlpha(l)||Yg.IsNumeric(l)||Yg.DollarSign(l)||Yg.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(UD||(UD={}));var hY;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);Yg.IsNumeric(s)||Yg.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(hY||(hY={}));var pY;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(pY||(pY={}));var gY=class extends un{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},qD=class extends un{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},lC;(function(e){function t(a,l,c){return Po.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${UD.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Po.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Po.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Po.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Po.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(lC||(lC={}));var ta;(function(e){function t(ie){return ie[nt]==="Any"||ie[nt]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ie,Pe,Ae){yield"true"}o(r,"FromAny");function*n(ie,Pe,Ae){yield"true"}o(n,"FromArgument");function*i(ie,Pe,Ae){yield`Array.isArray(${Ae})`;let[Ge,z]=[Be("value","any"),Be("acc","number")];Vr(ie.maxItems)&&(yield`${Ae}.length <= ${ie.maxItems}`),Vr(ie.minItems)&&(yield`${Ae}.length >= ${ie.minItems}`);let ee=ce(ie.items,Pe,"value");if(yield`${Ae}.every((${Ge}) => ${ee})`,Ko(ie.contains)||Vr(ie.minContains)||Vr(ie.maxContains)){let Fe=Ko(ie.contains)?ie.contains:Gn(),_e=ce(Fe,Pe,"value"),Ce=Vr(ie.minContains)?[`(count >= ${ie.minContains})`]:[],Oe=Vr(ie.maxContains)?[`(count <= ${ie.maxContains})`]:[],Ve=`const count = value.reduce((${z}, ${Ge}) => ${_e} ? acc + 1 : acc, 0)`,Ze=["(count > 0)",...Ce,...Oe].join(" && ");yield`((${Ge}) => { ${Ve}; return ${Ze}})(${Ae})`}ie.uniqueItems===!0&&(yield`((${Ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}o(i,"FromArray");function*s(ie,Pe,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}o(s,"FromAsyncIterator");function*a(ie,Pe,Ae){yield`(typeof ${Ae} === 'bigint')`,Fl(ie.exclusiveMaximum)&&(yield`${Ae} < BigInt(${ie.exclusiveMaximum})`),Fl(ie.exclusiveMinimum)&&(yield`${Ae} > BigInt(${ie.exclusiveMinimum})`),Fl(ie.maximum)&&(yield`${Ae} <= BigInt(${ie.maximum})`),Fl(ie.minimum)&&(yield`${Ae} >= BigInt(${ie.minimum})`),Fl(ie.multipleOf)&&(yield`(${Ae} % BigInt(${ie.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(ie,Pe,Ae){yield`(typeof ${Ae} === 'boolean')`}o(l,"FromBoolean");function*c(ie,Pe,Ae){yield*Z(ie.returns,Pe,`${Ae}.prototype`)}o(c,"FromConstructor");function*u(ie,Pe,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Vr(ie.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${ie.exclusiveMaximumTimestamp}`),Vr(ie.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${ie.exclusiveMinimumTimestamp}`),Vr(ie.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${ie.maximumTimestamp}`),Vr(ie.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${ie.minimumTimestamp}`),Vr(ie.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${ie.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(ie,Pe,Ae){yield`(typeof ${Ae} === 'function')`}o(f,"FromFunction");function*m(ie,Pe,Ae){let Ge=globalThis.Object.getOwnPropertyNames(ie.$defs).reduce((z,ee)=>[...z,ie.$defs[ee]],[]);yield*Z(Sf(ie.$ref),[...Pe,...Ge],Ae)}o(m,"FromImport");function*h(ie,Pe,Ae){yield`Number.isInteger(${Ae})`,Vr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),Vr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),Vr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),Vr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),Vr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(h,"FromInteger");function*p(ie,Pe,Ae){let Ge=ie.allOf.map(z=>ce(z,Pe,Ae)).join(" && ");if(ie.unevaluatedProperties===!1){let z=ve(`${new RegExp(Gg(ie))};`),ee=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key))`;yield`(${Ge} && ${ee})`}else if(Ko(ie.unevaluatedProperties)){let z=ve(`${new RegExp(Gg(ie))};`),ee=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key) || ${ce(ie.unevaluatedProperties,Pe,`${Ae}[key]`)})`;yield`(${Ge} && ${ee})`}else yield`(${Ge})`}o(p,"FromIntersect");function*A(ie,Pe,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}o(A,"FromIterator");function*E(ie,Pe,Ae){typeof ie.const=="number"||typeof ie.const=="boolean"?yield`(${Ae} === ${ie.const})`:yield`(${Ae} === '${pY.Escape(ie.const)}')`}o(E,"FromLiteral");function*x(ie,Pe,Ae){yield"false"}o(x,"FromNever");function*v(ie,Pe,Ae){yield`(!${ce(ie.not,Pe,Ae)})`}o(v,"FromNot");function*b(ie,Pe,Ae){yield`(${Ae} === null)`}o(b,"FromNull");function*S(ie,Pe,Ae){yield lC.IsNumberLike(Ae),Vr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),Vr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),Vr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),Vr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),Vr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(S,"FromNumber");function*k(ie,Pe,Ae){yield lC.IsObjectLike(Ae),Vr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),Vr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let Ge=Object.getOwnPropertyNames(ie.properties);for(let z of Ge){let ee=UD.Encode(Ae,z),Fe=ie.properties[z];if(ie.required&&ie.required.includes(z))yield*Z(Fe,Pe,ee),(Wg(Fe)||t(Fe))&&(yield`('${z}' in ${Ae})`);else{let _e=ce(Fe,Pe,ee);yield lC.IsExactOptionalProperty(Ae,z,_e)}}if(ie.additionalProperties===!1)if(ie.required&&ie.required.length===Ge.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${Ge.length}`;else{let z=`[${Ge.map(ee=>`'${ee}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.includes(key))`}if(typeof ie.additionalProperties=="object"){let z=ce(ie.additionalProperties,Pe,`${Ae}[key]`),ee=`[${Ge.map(Fe=>`'${Fe}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${ee}.includes(key) || ${z}))`}}o(k,"FromObject");function*P(ie,Pe,Ae){yield`${Ae} instanceof Promise`}o(P,"FromPromise");function*N(ie,Pe,Ae){yield lC.IsRecordLike(Ae),Vr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),Vr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let[Ge,z]=Object.entries(ie.patternProperties)[0],ee=ve(`${new RegExp(Ge)}`),Fe=ce(z,Pe,"value"),_e=Ko(ie.additionalProperties)?ce(ie.additionalProperties,Pe,Ae):ie.additionalProperties===!1?"false":"true",Ce=`(${ee}.test(key) ? ${Fe} : ${_e})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}o(N,"FromRecord");function*W(ie,Pe,Ae){let Ge=Li(ie,Pe);if(ae.functions.has(ie.$ref))return yield`${Re(ie.$ref)}(${Ae})`;yield*Z(Ge,Pe,Ae)}o(W,"FromRef");function*te(ie,Pe,Ae){let Ge=ve(`${new RegExp(ie.source,ie.flags)};`);yield`(typeof ${Ae} === 'string')`,Vr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),Vr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),yield`${Ge}.test(${Ae})`}o(te,"FromRegExp");function*ge(ie,Pe,Ae){yield`(typeof ${Ae} === 'string')`,Vr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),Vr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),ie.pattern!==void 0&&(yield`${ve(`${new RegExp(ie.pattern)};`)}.test(${Ae})`),ie.format!==void 0&&(yield`format('${ie.format}', ${Ae})`)}o(ge,"FromString");function*re(ie,Pe,Ae){yield`(typeof ${Ae} === 'symbol')`}o(re,"FromSymbol");function*G(ie,Pe,Ae){yield`(typeof ${Ae} === 'string')`,yield`${ve(`${new RegExp(ie.pattern)};`)}.test(${Ae})`}o(G,"FromTemplateLiteral");function*q(ie,Pe,Ae){yield`${Re(ie.$ref)}(${Ae})`}o(q,"FromThis");function*se(ie,Pe,Ae){if(yield`Array.isArray(${Ae})`,ie.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${ie.maxItems})`;for(let Ge=0;Ge<ie.items.length;Ge++)yield`${ce(ie.items[Ge],Pe,`${Ae}[${Ge}]`)}`}o(se,"FromTuple");function*ne(ie,Pe,Ae){yield`${Ae} === undefined`}o(ne,"FromUndefined");function*H(ie,Pe,Ae){yield`(${ie.anyOf.map(z=>ce(z,Pe,Ae)).join(" || ")})`}o(H,"FromUnion");function*O(ie,Pe,Ae){yield`${Ae} instanceof Uint8Array`,Vr(ie.maxByteLength)&&(yield`(${Ae}.length <= ${ie.maxByteLength})`),Vr(ie.minByteLength)&&(yield`(${Ae}.length >= ${ie.minByteLength})`)}o(O,"FromUint8Array");function*j(ie,Pe,Ae){yield"true"}o(j,"FromUnknown");function*J(ie,Pe,Ae){yield lC.IsVoidLike(Ae)}o(J,"FromVoid");function*le(ie,Pe,Ae){let Ge=ae.instances.size;ae.instances.set(Ge,ie),yield`kind('${ie[nt]}', ${Ge}, ${Ae})`}o(le,"FromKind");function*Z(ie,Pe,Ae,Ge=!0){let z=Bi(ie.$id)?[...Pe,ie]:Pe,ee=ie;if(Ge&&Bi(ie.$id)){let Fe=Re(ie.$id);if(ae.functions.has(Fe))return yield`${Fe}(${Ae})`;{ae.functions.set(Fe,"<deferred>");let _e=Ue(Fe,ie,Pe,"value",!1);return ae.functions.set(Fe,_e),yield`${Fe}(${Ae})`}}switch(ee[nt]){case"Any":return yield*r(ee,z,Ae);case"Argument":return yield*n(ee,z,Ae);case"Array":return yield*i(ee,z,Ae);case"AsyncIterator":return yield*s(ee,z,Ae);case"BigInt":return yield*a(ee,z,Ae);case"Boolean":return yield*l(ee,z,Ae);case"Constructor":return yield*c(ee,z,Ae);case"Date":return yield*u(ee,z,Ae);case"Function":return yield*f(ee,z,Ae);case"Import":return yield*m(ee,z,Ae);case"Integer":return yield*h(ee,z,Ae);case"Intersect":return yield*p(ee,z,Ae);case"Iterator":return yield*A(ee,z,Ae);case"Literal":return yield*E(ee,z,Ae);case"Never":return yield*x(ee,z,Ae);case"Not":return yield*v(ee,z,Ae);case"Null":return yield*b(ee,z,Ae);case"Number":return yield*S(ee,z,Ae);case"Object":return yield*k(ee,z,Ae);case"Promise":return yield*P(ee,z,Ae);case"Record":return yield*N(ee,z,Ae);case"Ref":return yield*W(ee,z,Ae);case"RegExp":return yield*te(ee,z,Ae);case"String":return yield*ge(ee,z,Ae);case"Symbol":return yield*re(ee,z,Ae);case"TemplateLiteral":return yield*G(ee,z,Ae);case"This":return yield*q(ee,z,Ae);case"Tuple":return yield*se(ee,z,Ae);case"Undefined":return yield*ne(ee,z,Ae);case"Union":return yield*H(ee,z,Ae);case"Uint8Array":return yield*O(ee,z,Ae);case"Unknown":return yield*j(ee,z,Ae);case"Void":return yield*J(ee,z,Ae);default:if(!D0.Has(ee[nt]))throw new gY(ie);return yield*le(ee,z,Ae)}}o(Z,"Visit");let ae={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(ie,Pe,Ae,Ge=!0){return`(${[...Z(ie,Pe,Ae,Ge)].join(" && ")})`}o(ce,"CreateExpression");function Re(ie){return`check_${hY.Encode(ie)}`}o(Re,"CreateFunctionName");function ve(ie){let Pe=`local_${ae.variables.size}`;return ae.variables.set(Pe,`const ${Pe} = ${ie}`),Pe}o(ve,"CreateVariable");function Ue(ie,Pe,Ae,Ge,z=!0){let[ee,Fe]=[`
`,Ve=>"".padStart(Ve," ")],_e=Be("value","any"),Ce=Je("boolean"),Oe=[...Z(Pe,Ae,Ge,z)].map(Ve=>`${Fe(4)}${Ve}`).join(` &&${ee}`);return`function ${ie}(${_e})${Ce} {${ee}${Fe(2)}return (${ee}${Oe}${ee}${Fe(2)})
}`}o(Ue,"CreateFunction");function Be(ie,Pe){let Ae=ae.language==="typescript"?`: ${Pe}`:"";return`${ie}${Ae}`}o(Be,"CreateParameter");function Je(ie){return ae.language==="typescript"?`: ${ie}`:""}o(Je,"CreateReturns");function ft(ie,Pe,Ae){let Ge=Ue("check",ie,Pe,"value"),z=Be("value","any"),ee=Je("boolean"),Fe=[...ae.functions.values()],_e=[...ae.variables.values()],Ce=Bi(ie.$id)?`return function check(${z})${ee} {
  return ${Re(ie.$id)}(value)
}`:`return ${Ge}`;return[..._e,...Fe,Ce].join(`
`)}o(ft,"Build");function it(...ie){let Pe={language:"javascript"},[Ae,Ge,z]=ie.length===2&&cn(ie[1])?[ie[0],ie[1],Pe]:ie.length===2&&!cn(ie[1])?[ie[0],[],ie[1]]:ie.length===3?[ie[0],ie[1],ie[2]]:ie.length===1?[ie[0],[],Pe]:[null,[],Pe];if(ae.language=z.language,ae.variables.clear(),ae.functions.clear(),ae.instances.clear(),!Ko(Ae))throw new qD(Ae);for(let ee of Ge)if(!Ko(ee))throw new qD(ee);return ft(Ae,Ge,z)}o(it,"Code"),e.Code=it;function ot(ie,Pe=[]){let Ae=it(ie,Pe,{language:"javascript"}),Ge=globalThis.Function("kind","format","hash",Ae),z=new Map(ae.instances);function ee(Oe,Ve,Ze){if(!D0.Has(Oe)||!z.has(Ve))return!1;let yt=D0.Get(Oe),Rt=z.get(Ve);return yt(Rt,Ze)}o(ee,"typeRegistryFunction");function Fe(Oe,Ve){return im.Has(Oe)?im.Get(Oe)(Ve):!1}o(Fe,"formatRegistryFunction");function _e(Oe){return z2(Oe)}o(_e,"hashFunction");let Ce=Ge(ee,Fe,_e);return new mY(ie,Pe,Ce,Ae)}o(ot,"Compile"),e.Compile=ot})(ta||(ta={}));var HD=ct(I2());d();d();var Ul=[];for(let e=0;e<256;++e)Ul.push((e+256).toString(16).slice(1));function UAe(e,t=0){return(Ul[e[t+0]]+Ul[e[t+1]]+Ul[e[t+2]]+Ul[e[t+3]]+"-"+Ul[e[t+4]]+Ul[e[t+5]]+"-"+Ul[e[t+6]]+Ul[e[t+7]]+"-"+Ul[e[t+8]]+Ul[e[t+9]]+"-"+Ul[e[t+10]]+Ul[e[t+11]]+Ul[e[t+12]]+Ul[e[t+13]]+Ul[e[t+14]]+Ul[e[t+15]]).toLowerCase()}o(UAe,"unsafeStringify");d();var qAe=require("crypto");var WD=new Uint8Array(256),GD=WD.length;function AY(){return GD>WD.length-16&&((0,qAe.randomFillSync)(WD),GD=0),WD.slice(GD,GD+=16)}o(AY,"rng");d();d();var GAe=require("crypto"),yY={randomUUID:GAe.randomUUID};function kXe(e,t,r){if(yY.randomUUID&&!t&&!e)return yY.randomUUID();e=e||{};let n=e.random??e.rng?.()??AY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return UAe(n)}o(kXe,"v4");var Sr=kXe;var VD=ct(Ii());function Qb(e){return e===1}o(Qb,"isRestricted");var RXe=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],x7=8192,DXe=21;var ps=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return Qb(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(jD(t))return this.reporterRestricted;if(_b(t))return new C7}getFTReporter(t){if(HAe(t))return this.reporterFT;if(_b(t))return new C7}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},PXe=T.Object({},{additionalProperties:T.String()}),NXe=T.Object({meanLogProb:T.Optional(T.Number()),meanAlternativeLogProb:T.Optional(T.Number())},{additionalProperties:T.Number()}),FXe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function LXe(e){return FXe.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(LXe,"isOomError");function QXe(e){return W9(e)?"network":LXe(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(QXe,"getErrorType");var tn=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=ta.Compile(PXe)}static{this.validateTelemetryMeasurements=ta.Compile(NXe)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},ql())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=ql())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(er).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=jh(t.get(sn).getEditorInfo()),this.properties.editor_plugin_version=jh(t.get(sn).getEditorPluginInfo());let r=t.get(us);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${uC(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(sn);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=jh(n.getEditorInfo());let i=t.get(Nr);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=YAe(t);r["copilot.build"]=KAe(t),r["copilot.buildType"]=Lf(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(Qb(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>x7){let a=0,l=0;for(;s>0&&l<DXe;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+x7;s<x7&&(u=a+s),r[c]=i.slice(a,u),s-=x7,a+=x7}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=UXe(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(_b(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return cC(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Qb(r)&&cC(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,VAe(t))}},Kg=class e extends tn{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new F3({}),exp:Ff.createEmptyConfig()})}};function b7(e,t,r,n){e.get(ps).getReporter(e,t)?.sendTelemetryEvent(r,tn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(b7,"sendTelemetryEvent");function MXe(e,t,r,n){e.get(ps).getReporter(e,t)?.sendTelemetryErrorEvent(r,tn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(MXe,"sendTelemetryErrorEvent");function OXe(e,t,r,n){e.get(ps).getFTReporter(e)?.sendTelemetryEvent(r,tn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(OXe,"sendFTTelemetryEvent");function Mb(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(Mb,"telemetrizePromptLength");function ql(){return performance.now()}o(ql,"now");function UXe(e){return Math.floor(e/1e3)}o(UXe,"nowSeconds");function jD(e){return e.get(Ml).optedIn}o(jD,"shouldSendRestricted");function HAe(e){return e.get(Ml).ftFlag!==""}o(HAe,"shouldSendFinetuningTelemetry");function Xt(e,t,r,n){return e.get(yo).register(qXe(e,t,ql(),r?.extendedBy(),n))}o(Xt,"telemetry");async function qXe(e,t,r,n,i=0){let s=n||tn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!Qb(i)||jD(e))&&b7(e,i,t,s),Qb(i)&&RXe.includes(t)&&HAe(e)&&OXe(e,i,t,s)}o(qXe,"_telemetry");function $D(e,t){return e.get(yo).register(GXe(e,t,ql()))}o($D,"telemetryExpProblem");async function GXe(e,t,r){let n="expProblem",i=tn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),b7(e,0,n,i)}o(GXe,"_telemetryExpProblem");function Ob(e,t,r,n){return e.get(yo).register(WXe(e,t,r,n))}o(Ob,"telemetryRaw");async function WXe(e,t,r,n){let i={...r,...VAe(e)};b7(e,0,t,{properties:i,measurements:n})}o(WXe,"_telemetryRaw");function VAe(e){let t=e.get(sn),r={unique_id:Sr(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:jh(t.getEditorInfo())},n=e.get(Ml);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(VAe,"createRequiredProperties");var CY=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,HD.SHA256)(HD.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Lo(e,t,r,n,i){return e.get(yo).register(jAe(e,t,ql(),r,{...n},i))}o(Lo,"telemetryException");async function jAe(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof Ns||a instanceof VD.ConnectionError||a instanceof VD.ResponseError)return}else{if(a=new CY(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let E=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(E[0]??"")&&E.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(E[0]??"")&&E.shift(),a.stack=`${a}
${E.join(`
`)}`}}let l=e.get(sn).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=oY(a,c),f=jD(e),m=QXe(a),h=m==="exception",p=tn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let E of s.exception_detail)E.value&&(f?E.value=nY(E.value):E.value="[redacted]");if(s??=dAe(e,oY(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let E=FAe(a,c),x=tn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:E.stack||E.toString(),message:E.message,...i});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp",r),x.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=x.properties.unique_id,b7(e,1,`error.${m}`,x)}let A=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get($h).isThrottled(A)&&(p.properties.failbot_payload=JSON.stringify(s)),b7(e,0,`error.${m}`,p)}o(jAe,"_telemetryException");function pu(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await jAe(e,a,ql(),r,n)}},"wrapped");return(...s)=>e.get(yo).register(i(...s))}o(pu,"telemetryCatch");function cC(e,t,r,n){return e.get(yo).register(HXe(e,t,ql(),r?.extendedBy(),n))}o(cC,"telemetryError");async function HXe(e,t,r,n,i=0){if(Qb(i)&&!jD(e))return;let s=n||tn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),MXe(e,i,t,s)}o(HXe,"_telemetryError");function $Ae(e,t,r,n,i){let s=tn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Xt(e,"engine.completion",s,1)}o($Ae,"logEngineCompletion");function zAe(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);return Xt(e,"engine.prompt",i,1)}o(zAe,"logEnginePrompt");var Ff=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return $D(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();var Qf=class{static{o(this,"ExpConfigMaker")}},Ub=class extends Qf{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Nr),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(vn).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return Ff.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return Ff.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Lo(r,m,"fetchExperiments"),Ff.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new Ff(u.Parameters,c.AssignmentContext,f.join(";"))}},zD=class extends Qf{static{o(this,"ExpConfigNone")}async fetchExperiments(t,r){return Ff.createEmptyConfig()}};d();d();var YD=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},EY=class extends YD{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},JAe=o(e=>new EY(e),"DEFAULT_GRANULARITY"),KD=class extends YD{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var XAe="X-Copilot-ClientTimeBucket",JD=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=JAe(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new KD(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(XAe,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(XAe,s))}}};d();d();d();d();d();d();function XD(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(XD,"findKnownOrg");d();d();var dl=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();d();var I7=ct(require("node:process"),1),A2e=require("node:buffer"),DY=ct(require("node:path"),1),y2e=require("node:url"),C2e=ct(require("node:child_process"),1),dC=ct(require("node:fs/promises"),1);d();var TY=ct(require("node:process"),1),t2e=ct(require("node:os"),1),r2e=ct(require("node:fs"),1);d();var ZAe=ct(require("node:fs"),1);d();var bY=ct(require("node:fs"),1);var xY;function VXe(){try{return bY.default.statSync("/.dockerenv"),!0}catch{return!1}}o(VXe,"hasDockerEnv");function jXe(){try{return bY.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(jXe,"hasDockerCGroup");function vY(){return xY===void 0&&(xY=VXe()||jXe()),xY}o(vY,"isDocker");var IY,$Xe=o(()=>{try{return ZAe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function qb(){return IY===void 0&&(IY=$Xe()||vY()),IY}o(qb,"isInsideContainer");var e2e=o(()=>{if(TY.default.platform!=="linux")return!1;if(t2e.default.release().toLowerCase().includes("microsoft"))return!qb();try{return r2e.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!qb():!1}catch{return!1}},"isWsl"),v7=TY.default.env.__IS_WSL_TEST__?e2e:e2e();d();function fC(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(fC,"defineLazyProperty");d();var f2e=require("node:util"),eP=ct(require("node:process"),1),d2e=require("node:child_process");d();var n2e=require("node:util"),i2e=ct(require("node:process"),1),o2e=require("node:child_process");var zXe=(0,n2e.promisify)(o2e.execFile);async function wY(){if(i2e.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await zXe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(wY,"defaultBrowserId");d();d();var s2e=ct(require("node:process"),1),a2e=require("node:util"),_Y=require("node:child_process");var YXe=(0,a2e.promisify)(_Y.execFile);async function l2e(e,{humanReadableOutput:t=!0}={}){if(s2e.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await YXe("osascript",["-e",e,r]);return n.trim()}o(l2e,"runAppleScript");async function SY(e){return l2e(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o(SY,"bundleName");d();var c2e=require("node:util"),u2e=require("node:child_process");var KXe=(0,c2e.promisify)(u2e.execFile),JXe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},ZD=class extends Error{static{o(this,"UnknownBrowserError")}};async function BY(e=KXe){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new ZD(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=JXe[n];if(!i)throw new ZD(`Unknown browser ID: ${n}`);return i}o(BY,"defaultBrowser");var XXe=(0,f2e.promisify)(d2e.execFile),ZXe=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function kY(){if(eP.default.platform==="darwin"){let e=await wY();return{name:await SY(e),id:e}}if(eP.default.platform==="linux"){let{stdout:e}=await XXe("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:ZXe(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(eP.default.platform==="win32")return BY();throw new Error("Only macOS, Linux, and Windows are supported")}o(kY,"defaultBrowser");var RY=DY.default.dirname((0,y2e.fileURLToPath)(importMetaUrlShim)),m2e=DY.default.join(RY,"xdg-open"),{platform:Gb,arch:h2e}=I7.default,eZe=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await dC.default.access(r,dC.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await dC.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),p2e=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),tP=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return p2e(e.app,l=>tP({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return p2e(t,l=>tP({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await kY();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),tP({...e,app:{name:Wb[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if(Gb==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(Gb==="win32"||v7&&!qb()&&!t){let l=await eZe();n=v7?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${I7.default.env.SYSTEMROOT||I7.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),v7||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=A2e.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!RY||RY==="/",c=!1;try{await dC.default.access(m2e,dC.constants.X_OK),c=!0}catch{}n=I7.default.versions.electron??(Gb==="android"||l||!c)?"xdg-open":m2e}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}Gb==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=C2e.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),tZe=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return tP({...t,target:e})},"open");function g2e(e){if(typeof e=="string"||Array.isArray(e))return e;let{[h2e]:t}=e;if(!t)throw new Error(`${h2e} is not supported`);return t}o(g2e,"detectArchBinary");function PY({[Gb]:e},{wsl:t}){if(t&&v7)return g2e(t);if(!e)throw new Error(`${Gb} is not supported`);return g2e(e)}o(PY,"detectPlatformBinary");var Wb={};fC(Wb,"chrome",()=>PY({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));fC(Wb,"firefox",()=>PY({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));fC(Wb,"edge",()=>PY({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));fC(Wb,"browser",()=>"browser");fC(Wb,"browserPrivate",()=>"browserPrivate");var rP=tZe;var Gl=class{static{o(this,"UrlOpener")}},nP=class extends Gl{static{o(this,"SpawnUrlOpener")}async open(t){await rP(t)}};var rZe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],E2e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",x2e="https://gh.io/copilot-network-errors",xc=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&rZe.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Er("certificates").error(t,`${E2e} Please visit ${x2e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(dl).showWarningMessage(E2e,n).then(i=>{if(i?.title===n.title)return t.get(Gl).open(x2e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Eu=new Er("auth"),I2e=60;function b2e(){return Math.floor(Date.now()/1e3)}o(b2e,"nowSeconds");async function iP(e,t){let r=tn.createAndMarkAsIssued({},{});Xt(e,"auth.new_login");let n=await nZe(e,t),i=await n.json(),s=i.user_notification;if(v2e(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&Eu.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return Eu.info(e,c),cC(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){Eu.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),cC(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&v2e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=b2e()+i.refresh_in+I2e;let l=new Jg(i);return A7(e,l),Xt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:b2e()})),{kind:"success",envelope:i}}o(iP,"authFromGitHubToken");async function nZe(e,t){let r=e.get(vn).getTokenUrl(t);try{return await e.get(Nr).fetch(r,{headers:{Authorization:`token ${t.token}`,...i0(e)},timeout:12e4})}catch(n){throw e.get(xc).notifyUser(e,n),n}}o(nZe,"fetchCopilotToken");function v2e(e,t,r){t&&e.get(dl).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(sn).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(Gl).open(l)}t.notification_id&&s&&await iZe(e,t.notification_id,r)}).catch(n=>{Eu.exception(e,n,"copilotToken.notification")})}o(v2e,"notifyUser");async function iZe(e,t,r){let n=e.get(vn).getNotificationUrl(r),i=await e.get(Nr).fetch(n,{headers:{Authorization:`token ${r.token}`,...i0(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Eu.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(iZe,"sendNotificationResultToGitHub");var Jg=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-I2e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return XD(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();var In=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=T2e(process.env);return i===void 0&&(i=await this.getAuthRecord(r?.githubAppId)),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.user}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.user})}async getAuthRecord(t){if(this.#e!==null)return this.#e??this.getPersistedAuthRecord(t)}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof Mf)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getGitHubToken(t){let r=T2e(process.env)??await this.getAuthRecord();if(r===void 0)return;let n={token:r.oauth_token};return r.dev_override&&Lf(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(vn).getSignUpLimitedUrl();try{return(await(await t.get(Nr).fetch(n,{headers:{Authorization:`token ${r.oauth_token}`,...i0(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(yu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return Eu.exception(t,i,"signUpLimited failed"),!1}}async setAuthRecord(t,r){await this.authPersistence.saveAuthRecord(r),this._copilotTokenManager.resetToken()}setTransientAuthRecord(t,r,n=!0){this.#e=r,n&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function T2e(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<environment-variable-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<environment-variable-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(T2e,"getAuthRecordFromEnv");d();var Yi=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},oP=class extends Yi{static{o(this,"NoOpStatusReporter")}didChange(){}};var jr=class{static{o(this,"CopilotTokenManager")}constructor(){}async getGitHubToken(){return(await this.getGitHubSession())?.token}primeToken(){try{return this.getToken().then(()=>{},()=>{})}catch{return Promise.resolve()}}},Mf=class extends Ns{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},sP=class extends jr{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new Mf({reason:"NotSignedIn"});if(!r?.token)throw new Mf({reason:"HTTP401"});let n=await iP(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new Mf(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new Jg(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Yi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Yi);if(n instanceof Mf)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Xt(this.ctx,"auth.reset_token_"+r),Eu.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Eu.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},Hb=class extends sP{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(In).getGitHubToken(this.ctx)}};function oZe(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(oZe,"getIntegrationId");function Vb(e){let t={...i0(e),"X-GitHub-Api-Version":"2025-01-21"},r=oZe(e.get(sn));return r&&(t["Copilot-Integration-Id"]=r),t}o(Vb,"getCapiHeaders");function jb(e,t,...r){return ND(e,t,"api",...r)}o(jb,"getCapiUrl");async function mC(e,t){let r=await e.get(jr).getToken(),n=jb(e,r,t),i={Authorization:`Bearer ${r.token}`,...Vb(e)};return await e.get(Nr).fetch(new URL(n).href,{method:"GET",headers:i})}o(mC,"fetchCapiUrl");async function w2e(e,t,r){let n=await e.get(jr).getToken(),i=jb(e,n,t),s={Authorization:`Bearer ${n.token}`,...Vb(e)};return await e.get(Nr).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(w2e,"postCapiUrl");d();var _2e=10*60*1e3,Qi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"};function Xo(e){switch(e){case"edits":case"user":case"inline":return[Qi.Gpt4o,Qi.Gpt4turbo,Qi.Gpt4,Qi.O1Mini,Qi.O1Ga,Qi.Claude35Sonnet,Qi.O3Mini,Qi.Gemini20Flash,Qi.Claude37Sonnet,Qi.Claude37SonnetThought,Qi.Gpt45];case"meta":case"suggestions":case"synonyms":return[Qi.Gpt4oMini,Qi.Gpt35turbo]}}o(Xo,"getSupportedModelFamiliesForPrompt");var cP={textEmbedding3Small:"text-embedding-3-small"},sZe=T.Object({type:T.Union([T.Literal("chat"),T.Literal("embeddings"),T.Literal("completion")]),tokenizer:T.String(),family:T.String(),object:T.String(),supports:T.Optional(T.Object({tool_calls:T.Optional(T.Boolean()),parallel_tool_calls:T.Optional(T.Boolean()),streaming:T.Optional(T.Boolean()),vision:T.Optional(T.Boolean())})),limits:T.Optional(T.Object({max_inputs:T.Optional(T.Number()),max_prompt_tokens:T.Optional(T.Number()),max_output_tokens:T.Optional(T.Number()),max_context_window_tokens:T.Optional(T.Number())}))}),aZe=T.Object({id:T.String(),name:T.String(),version:T.String(),model_picker_enabled:T.Boolean(),capabilities:sZe,object:T.String(),preview:T.Optional(T.Boolean()),isExperimental:T.Optional(T.Boolean()),policy:T.Optional(T.Object({state:T.String(),terms:T.String()}))}),S2e=T.Object({data:T.Array(aZe)}),xu=class{static{o(this,"ModelMetadataProvider")}},aP=class extends xu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await mC(this.ctx,"/models");if(!r.ok)throw ei.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new G3(r);await this.processModels(r)}async fetchModel(r){let n=await mC(this.ctx,`/models/${r}`);if(!n.ok){ei.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await w2e(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){ei.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>_2e}},lP=class extends xu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(er),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<_2e)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function B2e(e){let t=ai(e,qt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(B2e,"getUserSelectedModelConfiguration");d();d();var lZe=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},R2e=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},NY,uP,D2e,FY=class extends un{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),NY.add(this),uP.set(this,void 0),lZe(this,uP,t,"f"),this.error=r}Errors(){return new Y2(R2e(this,NY,"m",D2e).call(this))}};uP=new WeakMap,NY=new WeakSet,D2e=o(function*(){this.error&&(yield this.error),yield*R2e(this,uP,"f")},"_AssertError_Iterator");function k2e(e,t,r){if(!ti(e,t,r))throw new FY(Yh(e,t,r))}o(k2e,"AssertValue");function fP(...e){return e.length===3?k2e(e[0],e[1],e[2]):k2e(e[0],[],e[1])}o(fP,"Assert");d();d();d();function cZe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Mi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Mi(e[r]);return t}o(cZe,"FromObject");function uZe(e){return e.map(t=>Mi(t))}o(uZe,"FromArray");function fZe(e){return e.slice()}o(fZe,"FromTypedArray");function dZe(e){return new Map(Mi([...e.entries()]))}o(dZe,"FromMap");function mZe(e){return new Set(Mi([...e.entries()]))}o(mZe,"FromSet");function hZe(e){return new Date(e.toISOString())}o(hZe,"FromDate");function Mi(e){if(cn(e))return uZe(e);if(R0(e))return hZe(e);if(vf(e))return fZe(e);if(ade(e))return dZe(e);if(lde(e))return mZe(e);if(Kn(e))return cZe(e);if(au(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Mi,"Clone");var bu=class extends un{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Oi(e){return B2(e)?e():Mi(e)}o(Oi,"FromDefault");function pZe(e,t){return ln(e,"default")?Oi(e.default):{}}o(pZe,"FromAny");function gZe(e,t){return{}}o(gZe,"FromArgument");function AZe(e,t){if(e.uniqueItems===!0&&!ln(e,"default"))throw new bu(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!ln(e,"default"))throw new bu(e,"Array with the contains constraint requires a default value");return"default"in e?Oi(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>bc(e.items,t)):[]}o(AZe,"FromArray");function yZe(e,t){return ln(e,"default")?Oi(e.default):async function*(){}()}o(yZe,"FromAsyncIterator");function CZe(e,t){return ln(e,"default")?Oi(e.default):BigInt(0)}o(CZe,"FromBigInt");function EZe(e,t){return ln(e,"default")?Oi(e.default):!1}o(EZe,"FromBoolean");function xZe(e,t){if(ln(e,"default"))return Oi(e.default);{let r=bc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(xZe,"FromConstructor");function bZe(e,t){return ln(e,"default")?Oi(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(bZe,"FromDate");function vZe(e,t){return ln(e,"default")?Oi(e.default):()=>bc(e.returns,t)}o(vZe,"FromFunction");function IZe(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return bc(n,[...t,...r])}o(IZe,"FromImport");function TZe(e,t){return ln(e,"default")?Oi(e.default):e.minimum!==void 0?e.minimum:0}o(TZe,"FromInteger");function wZe(e,t){if(ln(e,"default"))return Oi(e.default);{let r=e.allOf.reduce((n,i)=>{let s=bc(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!ti(e,t,r))throw new bu(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(wZe,"FromIntersect");function _Ze(e,t){return ln(e,"default")?Oi(e.default):function*(){}()}o(_Ze,"FromIterator");function SZe(e,t){return ln(e,"default")?Oi(e.default):e.const}o(SZe,"FromLiteral");function BZe(e,t){if(ln(e,"default"))return Oi(e.default);throw new bu(e,"Never types cannot be created. Consider using a default value.")}o(BZe,"FromNever");function kZe(e,t){if(ln(e,"default"))return Oi(e.default);throw new bu(e,"Not types must have a default value")}o(kZe,"FromNot");function RZe(e,t){return ln(e,"default")?Oi(e.default):null}o(RZe,"FromNull");function DZe(e,t){return ln(e,"default")?Oi(e.default):e.minimum!==void 0?e.minimum:0}o(DZe,"FromNumber");function PZe(e,t){if(ln(e,"default"))return Oi(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=bc(s,t));return n}}o(PZe,"FromObject");function NZe(e,t){return ln(e,"default")?Oi(e.default):Promise.resolve(bc(e.item,t))}o(NZe,"FromPromise");function FZe(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(ln(e,"default"))return Oi(e.default);if(r===Oh||r===Mh)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=bc(n,t);return s}}o(FZe,"FromRecord");function LZe(e,t){return ln(e,"default")?Oi(e.default):bc(Li(e,t),t)}o(LZe,"FromRef");function QZe(e,t){if(ln(e,"default"))return Oi(e.default);throw new bu(e,"RegExp types cannot be created. Consider using a default value.")}o(QZe,"FromRegExp");function MZe(e,t){if(e.pattern!==void 0){if(ln(e,"default"))return Oi(e.default);throw new bu(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(ln(e,"default"))return Oi(e.default);throw new bu(e,"String types with formats must specify a default value")}else return ln(e,"default")?Oi(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(MZe,"FromString");function OZe(e,t){return ln(e,"default")?Oi(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(OZe,"FromSymbol");function UZe(e,t){if(ln(e,"default"))return Oi(e.default);if(!AR(e))throw new bu(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return Jx(e)[0]}o(UZe,"FromTemplateLiteral");function qZe(e,t){if(P2e++>YZe)throw new bu(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return ln(e,"default")?Oi(e.default):bc(Li(e,t),t)}o(qZe,"FromThis");function GZe(e,t){return ln(e,"default")?Oi(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>bc(e.items[n],t))}o(GZe,"FromTuple");function WZe(e,t){if(ln(e,"default"))return Oi(e.default)}o(WZe,"FromUndefined");function HZe(e,t){if(ln(e,"default"))return Oi(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return bc(e.anyOf[0],t)}o(HZe,"FromUnion");function VZe(e,t){return ln(e,"default")?Oi(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(VZe,"FromUint8Array");function jZe(e,t){return ln(e,"default")?Oi(e.default):{}}o(jZe,"FromUnknown");function $Ze(e,t){if(ln(e,"default"))return Oi(e.default)}o($Ze,"FromVoid");function zZe(e,t){if(ln(e,"default"))return Oi(e.default);throw new Error("User defined types must specify a default value")}o(zZe,"FromKind");function bc(e,t){let r=cl(e,t),n=e;switch(n[nt]){case"Any":return pZe(n,r);case"Argument":return gZe(n,r);case"Array":return AZe(n,r);case"AsyncIterator":return yZe(n,r);case"BigInt":return CZe(n,r);case"Boolean":return EZe(n,r);case"Constructor":return xZe(n,r);case"Date":return bZe(n,r);case"Function":return vZe(n,r);case"Import":return IZe(n,r);case"Integer":return TZe(n,r);case"Intersect":return wZe(n,r);case"Iterator":return _Ze(n,r);case"Literal":return SZe(n,r);case"Never":return BZe(n,r);case"Not":return kZe(n,r);case"Null":return RZe(n,r);case"Number":return DZe(n,r);case"Object":return PZe(n,r);case"Promise":return NZe(n,r);case"Record":return FZe(n,r);case"Ref":return LZe(n,r);case"RegExp":return QZe(n,r);case"String":return MZe(n,r);case"Symbol":return OZe(n,r);case"TemplateLiteral":return UZe(n,r);case"This":return qZe(n,r);case"Tuple":return GZe(n,r);case"Undefined":return WZe(n,r);case"Union":return HZe(n,r);case"Uint8Array":return VZe(n,r);case"Unknown":return jZe(n,r);case"Void":return $Ze(n,r);default:if(!D0.Has(n[nt]))throw new bu(n,"Unknown type");return zZe(n,r)}}o(bc,"Visit");var YZe=512,P2e=0;function Of(...e){return P2e=0,e.length===2?bc(e[0],e[1]):bc(e[0],[])}o(Of,"Create");var dP=class extends un{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function KZe(e,t,r){if(e[nt]==="Object"&&typeof r=="object"&&!Fg(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[nt]==="Literal"&&f.const===r[u]?l:0,h=ti(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return ti(e,t,r)?1:0}o(KZe,"ScoreUnion");function JZe(e,t,r){let n=e.anyOf.map(a=>Li(a,t)),[i,s]=[n[0],0];for(let a of n){let l=KZe(a,t,r);l>s&&(i=a,s=l)}return i}o(JZe,"SelectUnion");function XZe(e,t,r){if("default"in e)return typeof r=="function"?e.default:Mi(e.default);{let n=JZe(e,t,r);return T7(n,t,r)}}o(XZe,"CastUnion");function ZZe(e,t,r){return ti(e,t,r)?Mi(r):Of(e,t)}o(ZZe,"DefaultClone");function eet(e,t,r){return ti(e,t,r)?r:Of(e,t)}o(eet,"Default");function tet(e,t,r){if(ti(e,t,r))return Mi(r);let n=cn(r)?Mi(r):Of(e,t),i=Vr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Vr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>pm(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!ti(e,t,l))throw new dP(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(tet,"FromArray");function ret(e,t,r){if(ti(e,t,r))return Of(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=pm(a,t,r.prototype[s]));return i}o(ret,"FromConstructor");function net(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return pm(i,[...t,...n],r)}o(net,"FromImport");function iet(e,t,r){let n=Of(e,t),i=Kn(n)&&Kn(r)?{...n,...r}:r;return ti(e,t,i)?i:Of(e,t)}o(iet,"FromIntersect");function oet(e,t,r){throw new dP(e,"Never types cannot be cast")}o(oet,"FromNever");function set(e,t,r){if(ti(e,t,r))return r;if(r===null||typeof r!="object")return Of(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=pm(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=pm(e.additionalProperties,t,r[a]))}return i}o(set,"FromObject");function aet(e,t,r){if(ti(e,t,r))return Mi(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Of(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=pm(i,t,l);return s}o(aet,"FromRecord");function cet(e,t,r){return pm(Li(e,t),t,r)}o(cet,"FromRef");function uet(e,t,r){return pm(Li(e,t),t,r)}o(uet,"FromThis");function fet(e,t,r){return ti(e,t,r)?Mi(r):cn(r)?e.items===void 0?[]:e.items.map((n,i)=>pm(n,t,r[i])):Of(e,t)}o(fet,"FromTuple");function det(e,t,r){return ti(e,t,r)?Mi(r):XZe(e,t,r)}o(det,"FromUnion");function pm(e,t,r){let n=Bi(e.$id)?cl(e,t):t,i=e;switch(e[nt]){case"Array":return tet(i,n,r);case"Constructor":return ret(i,n,r);case"Import":return net(i,n,r);case"Intersect":return iet(i,n,r);case"Never":return oet(i,n,r);case"Object":return set(i,n,r);case"Record":return aet(i,n,r);case"Ref":return cet(i,n,r);case"This":return uet(i,n,r);case"Tuple":return fet(i,n,r);case"Union":return det(i,n,r);case"Date":case"Symbol":case"Uint8Array":return ZZe(e,t,r);default:return eet(i,n,r)}}o(pm,"Visit");function T7(...e){return e.length===3?pm(e[0],e[1],e[2]):pm(e[0],[],e[1])}o(T7,"Cast");d();function met(e){return R2(e)&&e[nt]!=="Unsafe"}o(met,"IsCheckable");function het(e,t,r){return cn(r)?r.map(n=>vc(e.items,t,n)):r}o(het,"FromArray");function pet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return vc(i,[...t,...n],r)}o(pet,"FromImport");function get(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>vc(l,t,Mi(r))).reduce((l,c)=>Kn(c)?{...l,...c}:c,{});if(!Kn(r)||!Kn(s)||!R2(n))return s;let a=pc(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||ti(n,t,r[l])&&(s[l]=vc(n,t,r[l]));return s}o(get,"FromIntersect");function Aet(e,t,r){if(!Kn(r)||cn(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(ln(e.properties,i)){r[i]=vc(e.properties[i],t,r[i]);continue}if(R2(n)&&ti(n,t,r[i])){r[i]=vc(n,t,r[i]);continue}delete r[i]}return r}o(Aet,"FromObject");function yet(e,t,r){if(!Kn(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=vc(a,t,r[c]);continue}if(R2(n)&&ti(n,t,r[c])){r[c]=vc(n,t,r[c]);continue}delete r[c]}return r}o(yet,"FromRecord");function Cet(e,t,r){return vc(Li(e,t),t,r)}o(Cet,"FromRef");function Eet(e,t,r){return vc(Li(e,t),t,r)}o(Eet,"FromThis");function xet(e,t,r){if(!cn(r))return r;if(zo(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=vc(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(xet,"FromTuple");function bet(e,t,r){for(let n of e.anyOf)if(met(n)&&ti(n,t,r))return vc(n,t,r);return r}o(bet,"FromUnion");function vc(e,t,r){let n=Bi(e.$id)?cl(e,t):t,i=e;switch(i[nt]){case"Array":return het(i,n,r);case"Import":return pet(i,n,r);case"Intersect":return get(i,n,r);case"Object":return Aet(i,n,r);case"Record":return yet(i,n,r);case"Ref":return Cet(i,n,r);case"This":return Eet(i,n,r);case"Tuple":return xet(i,n,r);case"Union":return bet(i,n,r);default:return r}}o(vc,"Visit");function mP(...e){return e.length===3?vc(e[0],e[1],e[2]):vc(e[0],[],e[1])}o(mP,"Clean");d();function hP(e){return Bi(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(hP,"IsStringNumeric");function vet(e){return Fl(e)||Qh(e)||Vr(e)}o(vet,"IsValueToString");function w7(e){return e===!0||Vr(e)&&e===1||Fl(e)&&e===BigInt("1")||Bi(e)&&(e.toLowerCase()==="true"||e==="1")}o(w7,"IsValueTrue");function _7(e){return e===!1||Vr(e)&&(e===0||Object.is(e,-0))||Fl(e)&&e===BigInt("0")||Bi(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(_7,"IsValueFalse");function Iet(e){return Bi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Iet,"IsTimeStringWithTimeZone");function Tet(e){return Bi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Tet,"IsTimeStringWithoutTimeZone");function wet(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(wet,"IsDateTimeStringWithTimeZone");function _et(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(_et,"IsDateTimeStringWithoutTimeZone");function Bet(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Bet,"IsDateString");function ket(e,t){let r=F2e(e);return r===t?r:e}o(ket,"TryConvertLiteralString");function Ret(e,t){let r=L2e(e);return r===t?r:e}o(Ret,"TryConvertLiteralNumber");function Det(e,t){let r=N2e(e);return r===t?r:e}o(Det,"TryConvertLiteralBoolean");function Pet(e,t){return Bi(e.const)?ket(t,e.const):Vr(e.const)?Ret(t,e.const):Qh(e.const)?Det(t,e.const):t}o(Pet,"TryConvertLiteral");function N2e(e){return w7(e)?!0:_7(e)?!1:e}o(N2e,"TryConvertBoolean");function Net(e){let t=o(r=>r.split(".")[0],"truncateInteger");return hP(e)?BigInt(t(e)):Vr(e)?BigInt(Math.trunc(e)):_7(e)?BigInt(0):w7(e)?BigInt(1):e}o(Net,"TryConvertBigInt");function F2e(e){return Lg(e)&&e.description!==void 0?e.description.toString():vet(e)?e.toString():e}o(F2e,"TryConvertString");function L2e(e){return hP(e)?parseFloat(e):w7(e)?1:_7(e)?0:e}o(L2e,"TryConvertNumber");function Fet(e){return hP(e)?parseInt(e):Vr(e)?Math.trunc(e):w7(e)?1:_7(e)?0:e}o(Fet,"TryConvertInteger");function Let(e){return Bi(e)&&e.toLowerCase()==="null"?null:e}o(Let,"TryConvertNull");function Qet(e){return Bi(e)&&e==="undefined"?void 0:e}o(Qet,"TryConvertUndefined");function Met(e){return R0(e)?e:Vr(e)?new Date(e):w7(e)?new Date(1):_7(e)?new Date(0):hP(e)?new Date(parseInt(e)):Tet(e)?new Date(`1970-01-01T${e}.000Z`):Iet(e)?new Date(`1970-01-01T${e}`):_et(e)?new Date(`${e}.000Z`):wet(e)?new Date(e):Bet(e)?new Date(`${e}T00:00:00.000Z`):e}o(Met,"TryConvertDate");function Oet(e,t,r){return(cn(r)?r:[r]).map(i=>gm(e.items,t,i))}o(Oet,"FromArray");function Uet(e,t,r){return Net(r)}o(Uet,"FromBigInt");function qet(e,t,r){return N2e(r)}o(qet,"FromBoolean");function Get(e,t,r){return Met(r)}o(Get,"FromDate");function Wet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return gm(i,[...t,...n],r)}o(Wet,"FromImport");function Het(e,t,r){return Fet(r)}o(Het,"FromInteger");function Vet(e,t,r){return e.allOf.reduce((n,i)=>gm(i,t,n),r)}o(Vet,"FromIntersect");function jet(e,t,r){return Pet(e,r)}o(jet,"FromLiteral");function $et(e,t,r){return Let(r)}o($et,"FromNull");function zet(e,t,r){return L2e(r)}o(zet,"FromNumber");function Yet(e,t,r){if(!Kn(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))ln(r,n)&&(r[n]=gm(e.properties[n],t,r[n]));return r}o(Yet,"FromObject");function Ket(e,t,r){if(!Kn(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=gm(s,t,l);return r}o(Ket,"FromRecord");function Jet(e,t,r){return gm(Li(e,t),t,r)}o(Jet,"FromRef");function Xet(e,t,r){return F2e(r)}o(Xet,"FromString");function Zet(e,t,r){return Bi(r)||Vr(r)?Symbol(r):r}o(Zet,"FromSymbol");function ett(e,t,r){return gm(Li(e,t),t,r)}o(ett,"FromThis");function ttt(e,t,r){return cn(r)&&!zo(e.items)?r.map((i,s)=>s<e.items.length?gm(e.items[s],t,i):i):r}o(ttt,"FromTuple");function rtt(e,t,r){return Qet(r)}o(rtt,"FromUndefined");function ntt(e,t,r){for(let n of e.anyOf){let i=gm(n,t,Mi(r));if(ti(n,t,i))return i}return r}o(ntt,"FromUnion");function gm(e,t,r){let n=cl(e,t),i=e;switch(e[nt]){case"Array":return Oet(i,n,r);case"BigInt":return Uet(i,n,r);case"Boolean":return qet(i,n,r);case"Date":return Get(i,n,r);case"Import":return Wet(i,n,r);case"Integer":return Het(i,n,r);case"Intersect":return Vet(i,n,r);case"Literal":return jet(i,n,r);case"Null":return $et(i,n,r);case"Number":return zet(i,n,r);case"Object":return Yet(i,n,r);case"Record":return Ket(i,n,r);case"Ref":return Jet(i,n,r);case"String":return Xet(i,n,r);case"Symbol":return Zet(i,n,r);case"This":return ett(i,n,r);case"Tuple":return ttt(i,n,r);case"Undefined":return rtt(i,n,r);case"Union":return ntt(i,n,r);default:return r}}o(gm,"Visit");function pP(...e){return e.length===3?gm(e[0],e[1],e[2]):gm(e[0],[],e[1])}o(pP,"Convert");d();function Q2e(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!ti(t,r,n))throw new Pb(t,n,Yh(t,r,n).First());return zg(t,r)?Nb(t,r,n):n}o(Q2e,"Decode");d();function Xg(e,t){let r=ln(e,"default")?e.default:void 0,n=B2(r)?r():Mi(r);return zo(t)?n:Kn(t)&&Kn(n)?Object.assign(n,t):t}o(Xg,"ValueOrDefault");function LY(e){return R2(e)&&"default"in e}o(LY,"HasDefaultProperty");function itt(e,t,r){if(cn(r)){for(let i=0;i<r.length;i++)r[i]=N0(e.items,t,r[i]);return r}let n=Xg(e,r);if(!cn(n))return n;for(let i=0;i<n.length;i++)n[i]=N0(e.items,t,n[i]);return n}o(itt,"FromArray");function ott(e,t,r){return R0(r)?r:Xg(e,r)}o(ott,"FromDate");function stt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return N0(i,[...t,...n],r)}o(stt,"FromImport");function att(e,t,r){let n=Xg(e,r);return e.allOf.reduce((i,s)=>{let a=N0(s,t,n);return Kn(a)?{...i,...a}:a},{})}o(att,"FromIntersect");function ltt(e,t,r){let n=Xg(e,r);if(!Kn(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=N0(e.properties[s],t,n[s]);zo(a)||(n[s]=N0(e.properties[s],t,n[s]))}if(!LY(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=N0(e.additionalProperties,t,n[s]));return n}o(ltt,"FromObject");function ctt(e,t,r){let n=Xg(e,r);if(!Kn(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&LY(a)&&(n[c]=N0(a,t,n[c]));if(!LY(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=N0(i,t,n[c]));return n}o(ctt,"FromRecord");function utt(e,t,r){return N0(Li(e,t),t,Xg(e,r))}o(utt,"FromRef");function ftt(e,t,r){return N0(Li(e,t),t,r)}o(ftt,"FromThis");function dtt(e,t,r){let n=Xg(e,r);if(!cn(n)||zo(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=N0(i[a],t,n[a]));return n}o(dtt,"FromTuple");function mtt(e,t,r){let n=Xg(e,r);for(let i of e.anyOf){let s=N0(i,t,Mi(n));if(ti(i,t,s))return s}return n}o(mtt,"FromUnion");function N0(e,t,r){let n=cl(e,t),i=e;switch(i[nt]){case"Array":return itt(i,n,r);case"Date":return ott(i,n,r);case"Import":return stt(i,n,r);case"Intersect":return att(i,n,r);case"Object":return ltt(i,n,r);case"Record":return ctt(i,n,r);case"Ref":return utt(i,n,r);case"This":return ftt(i,n,r);case"Tuple":return dtt(i,n,r);case"Union":return mtt(i,n,r);default:return Xg(i,r)}}o(N0,"Visit");function gP(...e){return e.length===3?N0(e[0],e[1],e[2]):N0(e[0],[],e[1])}o(gP,"Default");d();d();var Am={};Nh(Am,{Delete:()=>ptt,Format:()=>S7,Get:()=>Att,Has:()=>gtt,Set:()=>htt,ValuePointerRootDeleteError:()=>yP,ValuePointerRootSetError:()=>AP});d();var AP=class extends un{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},yP=class extends un{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function M2e(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(M2e,"Escape");function*S7(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield M2e(e.slice(t,r))),t=n+1):r=n;yield M2e(e.slice(t))}o(S7,"Format");function htt(e,t,r){if(t==="")throw new AP(e,t,r);let[n,i,s]=[null,e,""];for(let a of S7(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(htt,"Set");function ptt(e,t){if(t==="")throw new yP(e,t);let[r,n,i]=[null,e,""];for(let s of S7(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(ptt,"Delete");function gtt(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of S7(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(gtt,"Has");function Att(e,t){if(t==="")return e;let r=e;for(let n of S7(t)){if(r[n]===void 0)return;r=r[n]}return r}o(Att,"Get");d();function ytt(e,t){if(!Kn(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>hC(e[i],t[i]))}o(ytt,"ObjectType");function Ctt(e,t){return R0(t)&&e.getTime()===t.getTime()}o(Ctt,"DateType");function Ett(e,t){return!cn(t)||e.length!==t.length?!1:e.every((r,n)=>hC(r,t[n]))}o(Ett,"ArrayType");function xtt(e,t){return!vf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>hC(r,t[n]))}o(xtt,"TypedArrayType");function btt(e,t){return e===t}o(btt,"ValueType");function hC(e,t){if(R0(e))return Ctt(e,t);if(vf(e))return xtt(e,t);if(cn(e))return Ett(e,t);if(Kn(e))return ytt(e,t);if(au(e))return btt(e,t);throw new Error("ValueEquals: Unable to compare value")}o(hC,"Equal");var vtt=zi({type:vi("insert"),path:P0(),value:om()}),Itt=zi({type:vi("update"),path:P0(),value:om()}),Ttt=zi({type:vi("delete"),path:P0()}),U2e=$i([vtt,Itt,Ttt]),CP=class extends un{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function EP(e,t){return{type:"update",path:e,value:t}}o(EP,"CreateUpdate");function q2e(e,t){return{type:"insert",path:e,value:t}}o(q2e,"CreateInsert");function G2e(e){return{type:"delete",path:e}}o(G2e,"CreateDelete");function O2e(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new CP(e,"Cannot diff objects with symbols")}o(O2e,"AssertDiffable");function*wtt(e,t,r){if(O2e(t),O2e(r),!Fj(r))return yield EP(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)ln(t,s)||(yield q2e(`${e}/${s}`,r[s]));for(let s of n)ln(r,s)&&(hC(t,r)||(yield*xP(`${e}/${s}`,t[s],r[s])));for(let s of n)ln(r,s)||(yield G2e(`${e}/${s}`))}o(wtt,"ObjectType");function*_tt(e,t,r){if(!cn(r))return yield EP(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*xP(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield q2e(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield G2e(`${e}/${n}`))}o(_tt,"ArrayType");function*Stt(e,t,r){if(!vf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield EP(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*xP(`${e}/${n}`,t[n],r[n])}o(Stt,"TypedArrayType");function*Btt(e,t,r){t!==r&&(yield EP(e,r))}o(Btt,"ValueType");function*xP(e,t,r){if(Fj(t))return yield*wtt(e,t,r);if(cn(t))return yield*_tt(e,t,r);if(vf(t))return yield*Stt(e,t,r);if(au(t))return yield*Btt(e,t,r);throw new CP(t,"Unable to diff value")}o(xP,"Visit");function W2e(e,t){return[...xP("",e,t)]}o(W2e,"Diff");function ktt(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(ktt,"IsRootUpdate");function Rtt(e){return e.length===0}o(Rtt,"IsIdentity");function H2e(e,t){if(ktt(t))return Mi(t[0].value);if(Rtt(t))return Mi(e);let r=Mi(e);for(let n of t)switch(n.type){case"insert":{Am.Set(r,n.path,n.value);break}case"update":{Am.Set(r,n.path,n.value);break}case"delete":{Am.Delete(r,n.path);break}}return r}o(H2e,"Patch");d();function V2e(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=zg(t,r)?Lb(t,r,n):n;if(!ti(t,r,i))throw new Fb(t,i,Yh(t,r,i).First());return i}o(V2e,"Encode");d();function bP(e){return Kn(e)&&!cn(e)}o(bP,"IsStandardObject");var vP=class extends un{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function Dtt(e,t,r,n){if(!bP(r))Am.Set(e,t,Mi(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)QY(e,`${t}/${a}`,r[a],n[a])}}o(Dtt,"ObjectType");function Ptt(e,t,r,n){if(!cn(r))Am.Set(e,t,Mi(n));else{for(let i=0;i<n.length;i++)QY(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(Ptt,"ArrayType");function Ntt(e,t,r,n){if(vf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else Am.Set(e,t,Mi(n))}o(Ntt,"TypedArrayType");function Ftt(e,t,r,n){r!==n&&Am.Set(e,t,n)}o(Ftt,"ValueType");function QY(e,t,r,n){if(cn(n))return Ptt(e,t,r,n);if(vf(n))return Ntt(e,t,r,n);if(bP(n))return Dtt(e,t,r,n);if(au(n))return Ftt(e,t,r,n)}o(QY,"Visit");function j2e(e){return vf(e)||au(e)}o(j2e,"IsNonMutableValue");function Ltt(e,t){return bP(e)&&cn(t)||cn(e)&&bP(t)}o(Ltt,"IsMismatchedValue");function $2e(e,t){if(j2e(e)||j2e(t))throw new vP("Only object and array types can be mutated at the root level");if(Ltt(e,t))throw new vP("Cannot assign due type mismatch of assignable values");QY(e,"",e,t)}o($2e,"Mutate");d();var IP=class extends un{static{o(this,"ParseError")}constructor(t){super(t)}},MY;(function(e){let t=new Map([["Assert",(s,a,l)=>(fP(s,a,l),l)],["Cast",(s,a,l)=>T7(s,a,l)],["Clean",(s,a,l)=>mP(s,a,l)],["Clone",(s,a,l)=>Mi(l)],["Convert",(s,a,l)=>pP(s,a,l)],["Decode",(s,a,l)=>zg(s,a)?Nb(s,a,l):l],["Default",(s,a,l)=>gP(s,a,l)],["Encode",(s,a,l)=>zg(s,a)?Lb(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(MY||(MY={}));var z2e=["Clone","Clean","Default","Convert","Assert","Decode"];function Qtt(e,t,r,n){return e.reduce((i,s)=>{let a=MY.Get(s);if(zo(a))throw new IP(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(Qtt,"ParseValue");function Y2e(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?cn(e[0])?[e[0],e[1],[],e[2]]:[z2e,e[0],e[1],e[2]]:e.length===2?[z2e,e[0],[],e[1]]:(()=>{throw new IP("Invalid Arguments")})();return Qtt(t,r,n,i)}o(Y2e,"Parse");d();var K2={};Nh(K2,{Assert:()=>fP,Cast:()=>T7,Check:()=>ti,Clean:()=>mP,Clone:()=>Mi,Convert:()=>pP,Create:()=>Of,Decode:()=>Q2e,Default:()=>gP,Diff:()=>W2e,Edit:()=>U2e,Encode:()=>V2e,Equal:()=>hC,Errors:()=>Yh,Hash:()=>z2,Mutate:()=>$2e,Parse:()=>Y2e,Patch:()=>H2e,ValueErrorIterator:()=>Y2});d();var Mtt={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},Ott="copilot-codex",Utt="gpt-4o-copilot",Uf=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Va(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Ott}parseModelsResponse(t){try{return K2.Parse(S2e,t)}catch(r){ei.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([Mtt]):await this.fetch()}async fetch(){let t=await mC(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(ei.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=B2e(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&ei.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=ai(this._ctx,qt.DebugOverrideEngine)||ai(this._ctx,qt.DebugOverrideEngineLegacy);if(i)return new Zg(i,"override");let s=t?this._ctx.get(er).customEngine(t):"",a=t?this._ctx.get(er).customEngineTargetEngine(t):void 0;if(n)return s&&a&&n===a?new Zg(s,"exp"):new Zg(n,"modelpicker");if(s)return new Zg(s,"exp");if(K2e(this._ctx)&&!this.editorPreviewFeaturesDisabled){let l=Utt;if(this.getGenericCompletionModels().map(u=>u.modelId).includes(l))return new Zg(l,"prerelease")}return this.customModels.length>0?new Zg(this.customModels[0],"custommodel"):new Zg(r,"default")}},Zg=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get path(){return`/v1/engines/${encodeURIComponent(this.modelId)}`}get headers(){return{}}};function OY(e,t){return e.get(vn).getCompletionsUrl(e,t)}o(OY,"getProxyURLWithPath");function J2(e,t=void 0){let r=e.get(Uf).getCurrentModelRequestInfo(t);return{url:OY(e,r.path),headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(J2,"getEngineRequestInfo");d();d();var TP=require("fs");var Qo=class{static{o(this,"FileSystem")}},$b=class extends Qo{static{o(this,"LocalFileSystem")}getFsPath(t){typeof t=="string"&&(t=Sb(t));let r=ja(t);if(r!==void 0)return r;throw DD(t.scheme)?new Error("Unsupported remote file path"):new Error(`Unsupported scheme: ${t.scheme}`)}async readFileString(t){return(await TP.promises.readFile(this.getFsPath(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(this.getFsPath(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async statWithLink(t){let r=await TP.promises.lstat(t);if(r.isSymbolicLink())try{let n=await TP.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};var h5e=ct(m5e());function p5e(e){return e!==void 0&&e!==0}o(p5e,"isRepoInfo");async function g5e(e){let r=(await e.get(jr).getToken()).organization_list??[];return XD(r)??""}o(g5e,"getUserKind");async function B7(e,t){return(await e.get(jr).getToken()).getTokenValue(t)??""}o(B7,"getTokenKeyValue");function A5e(e){if(e===void 0||e===0)return"";let t=e1(e);if(t==="github/github")return t;let r=drt(e)?.toLowerCase();return r!==void 0?r:""}o(A5e,"getDogFood");function e1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(e1,"tryGetGitHubNWO");function drt(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(drt,"tryGetADONWO");function X2(e,t){let r=gu(t);return mrt(e,r)}o(X2,"extractRepoInfoInBackground");var mrt=Art(hrt,1e4);async function hrt(e,t){if(!ja(t))return;let r=await prt(e,t.toString());if(!r)return;let n=e.get(Qo),i=ks(r,".git","config"),s;try{s=await n.readFileString(i)}catch{return}let a=grt(s)??"",l=WY(a),c=ja(r)??"";return l===void 0?{baseFolder:c,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:c,url:a,...l}}o(hrt,"extractRepoInfo");function WY(e){let t;try{if(t=(0,h5e.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(WY,"parseRepoUrl");async function prt(e,t){let r=t+"_add_to_make_longer",n=e.get(Qo);for(;t!=="file:///"&&t.length<r.length;){let i=ks(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=gu(t)}}o(prt,"getRepoBaseUri");function grt(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(grt,"getRepoUrlFromConfigText");var GY=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Art(e,t){let r=new Rn(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new GY(u)),n.delete(a)}),0}}o(Art,"computeInBackgroundAndMemoize");d();d();d();d();d();d();d();d();function HY(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(HY,"virtualNode");function y5e(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(y5e,"lineNode");function VY(e){return{type:"blank",lineNumber:e,subs:[]}}o(VY,"blankNode");function wP(e){return{type:"top",indentation:-1,subs:e??[]}}o(wP,"topNode");function Wl(e){return e.type==="blank"}o(Wl,"isBlank");function pC(e){return e.type==="line"}o(pC,"isLine");function gC(e){return e.type==="virtual"}o(gC,"isVirtual");d();function C5e(e,t){return m0(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(C5e,"clearLabelsIf");function AC(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>AC(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>AC(r,t)),label:e.label?t(e.label):void 0}}}o(AC,"mapLabels");function m0(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(m0,"visitTree");function jY(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),m0(e,s,n),i}o(jY,"foldTree");function _P(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:wP()}o(_P,"rebuildTree");d();function Crt(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[y5e(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,A;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")A===void 0&&(A=p),p+=1;else{if(A!==void 0){for(let E=A;E<p;E++)h.push(VY(E));A=void 0}[m,p]=i(p),h.push(m)}return A!==void 0&&(p=A),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(VY(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return wP(a)}o(Crt,"parseRaw");function k7(e,t){function r(n){if(pC(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),m0(e,r,"bottomUp")}o(k7,"labelLines");function SP(e){function t(r){if(gC(r)&&r.label===void 0){let n=r.subs.filter(i=>!Wl(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),m0(e,t,"bottomUp")}o(SP,"labelVirtualInherited");function R7(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(R7,"buildLabelRules");function $Y(e){let r=_P(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&pC(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(pC(l)||gC(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&Wl(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(A=>A.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[HY(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),Wl(l)||(s=l)}return n.subs=i,n},"rebuilder"));return C5e(e,n=>n==="newVirtual"),r}o($Y,"combineClosersAndOpeners");function E5e(e,t=Wl,r){return _P(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=HY(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),Wl(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(E5e,"groupBlocks");function yC(e){return _P(e,o(function(r){return gC(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&gC(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(yC,"flattenVirtual");var Ert={opener:/^[[({]/,closer:/^[\])}]/},xrt=R7(Ert),x5e={};function zY(e,t){x5e[e]=t}o(zY,"registerLanguageSpecificParser");function D7(e,t){let r=Crt(e),n=x5e[t??""];return n?n(r):(k7(r,xrt),$Y(r))}o(D7,"parseTree");var brt={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},vrt=R7(brt);function b5e(e){let t=e;return k7(t,vrt),t=$Y(t),t=yC(t),SP(t),m0(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!Wl(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(b5e,"processJava");d();var Irt={heading:/^# /,subheading:/^## /,subsubheading:/### /},Trt=R7(Irt);function v5e(e){let t=e;if(k7(t,Trt),Wl(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||Wl(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=E5e(t),t=yC(t),SP(t),t}o(v5e,"processMarkdown");d();function I5e(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(I5e,"deparseLine");zY("markdown",v5e);zY("java",b5e);var wrt={worthUp:.9,worthSibling:.88,worthDown:.8};function YY(e,t=wrt){let r=AC(e,n=>n?1:void 0);return m0(r,n=>{if(Wl(n))return;let i=n.subs.reduce((s,a)=>Math.max(s,a.label??0),0);n.label=Math.max(n.label??0,i*t.worthUp)},"bottomUp"),m0(r,n=>{if(Wl(n))return;let i=n.subs.map(l=>l.label??0),s=[...i];for(let l=0;l<i.length;l++)i[l]!==0&&(s=s.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(l-u))*i[l])));let a=n.label;a!==void 0&&(s=s.map(l=>Math.max(l,t.worthDown*a))),n.subs.forEach((l,c)=>l.label=s[c])},"topDown"),_rt(r)}o(YY,"fromTreeWithFocussedLines");function _rt(e){let t=jY(e,[],(r,n)=>((r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[I5e(r).trimEnd(),r.label??0]:["",r.label??0]),n),"topDown");return new rr(t)}o(_rt,"fromTreeWithValuedLines");function vu(e,t=!0,r=!0){let n=typeof e=="string"?D7(e):D7(e.source,e.languageId);yC(n);let i=AC(n,s=>t&&s!=="closer");return m0(i,s=>{s.label===void 0&&(s.label=t&&s.label!==!1)},"topDown"),t&&m0(i,s=>{if(s.label){let a=!1;for(let l of[...s.subs].reverse())l.label&&!a?a=!0:l.label=!1}else for(let a of s.subs)a.label=!1;s.subs.length>0&&(s.label=!1)},"topDown"),r&&m0(i,s=>{s.label||=(pC(s)||Wl(s))&&s.lineNumber==0},"topDown"),YY(i)}o(vu,"elidableTextForSourceCode");d();d();d();d();var t1=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var zb=ct(M5e()),U5e=require("fs"),q5e=require("path");var O5e=new Map;function So(e="cl100k_base"){let t=O5e.get(e);return t!==void 0||(e==="mock"?t=new aK:t=new sK(e),O5e.set(e,t)),t}o(So,"getTokenizer");function Vrt(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,U5e.readFileSync)(e,"utf-8"),r=new Map;for(let n of t.split(`
`)){if(!n)continue;let i=Buffer.from(n,"base64");r.set(i,r.size)}return r}o(Vrt,"parseTikTokenNoIndex");var sK=class{static{o(this,"TTokenizer")}constructor(t){try{this._tokenizer=(0,zb.createTokenizer)(Vrt((0,q5e.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,zb.getSpecialTokensByEncoder)(t),(0,zb.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new t1("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},aK=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};var N7=class e{constructor(t,r,n=So().tokenLength(t+`
`),i="strict"){this.text=t;this._value=r;this._cost=n;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>So().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none")}};var rr=class e{constructor(t){this.lines=[];let r=[];for(let n of t){let i=Array.isArray(n)?n[1]:1,s=Array.isArray(n)?n[0]:n;typeof s=="string"?s.split(`
`).forEach(a=>r.push(new N7(a,i))):s instanceof e?s.lines.forEach(a=>r.push(a.copy().adjustValue(i))):"source"in s&&"languageId"in s&&vu(s).lines.forEach(a=>r.push(a.copy().adjustValue(i)))}this.lines=r}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>So().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,i="removeLeastDesirable",s=So()){let a=this.lines.map(l=>l.copy());return jrt(a,t,r,n,i,s)}};function jrt(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((b,S)=>S.value<b.value?S:b),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(b=>b.text.trim()!=="")??{text:""},A=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,E=" ".repeat(A)+r,x=new N7(E,a,s.tokenLength(E+`
`),"loose");e.splice(h,1,x),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let v=e.reduce((b,S)=>b+S.cost,0);v>=u&&e.every(b=>b.value===a)&&(n=!1),u=v}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(m=>m.text).join(`
`)}o(jrt,"makePrompt");d();d();function ym(){}o(ym,"Diff");ym.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(k){return k=a.postProcess(k,i),s?(setTimeout(function(){s(k)},0),!0):k}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,A=[{oldPos:-1,lastComponent:void 0}],E=this.extractCommon(A[0],r,t,0,i);if(A[0].oldPos+1>=u&&E+1>=c)return l(G5e(a,A[0].lastComponent,r,t,a.useLongestToken));var x=-1/0,v=1/0;function b(){for(var k=Math.max(x,-f);k<=Math.min(v,f);k+=2){var P=void 0,N=A[k-1],W=A[k+1];N&&(A[k-1]=void 0);var te=!1;if(W){var ge=W.oldPos-k;te=W&&0<=ge&&ge<c}var re=N&&N.oldPos+1<u;if(!te&&!re){A[k]=void 0;continue}if(!re||te&&N.oldPos<W.oldPos?P=a.addToPath(W,!0,!1,0,i):P=a.addToPath(N,!1,!0,1,i),E=a.extractCommon(P,r,t,k,i),P.oldPos+1>=u&&E+1>=c)return l(G5e(a,P.lastComponent,r,t,a.useLongestToken));A[k]=P,P.oldPos+1>=u&&(v=Math.min(v,k-1)),E+1>=c&&(x=Math.max(x,k+1))}f++}if(o(b,"execEditLength"),s)o(function k(){setTimeout(function(){if(f>m||Date.now()>p)return s();b()||k()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var S=b();if(S)return S}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function G5e(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,A){var E=n[f+A];return E.length>p.length?E:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o(G5e,"buildValues");var jur=new ym;function W5e(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(W5e,"longestCommonPrefix");function H5e(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(H5e,"longestCommonSuffix");function lK(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(lK,"replacePrefix");function cK(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(cK,"replaceSuffix");function F7(e,t){return lK(e,t,"")}o(F7,"removePrefix");function FP(e,t){return cK(e,t,"")}o(FP,"removeSuffix");function V5e(e,t){return t.slice(0,$rt(e,t))}o(V5e,"maximumOverlap");function $rt(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o($rt,"overlapCount");var LP="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",zrt=new RegExp("[".concat(LP,"]+|\\s+|[^").concat(LP,"]"),"ug"),QP=new ym;QP.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};QP.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(zrt)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};QP.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};QP.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&j5e(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&j5e(r,i,n,null),e};function j5e(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=W5e(i,a);e.value=cK(e.value,a,c),t.value=F7(t.value,c),r.value=F7(r.value,c)}if(n){var u=H5e(s,l);n.value=lK(n.value,l,u),t.value=FP(t.value,u),r.value=FP(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=W5e(f,m);t.value=F7(t.value,p);var A=H5e(F7(f,p),h);t.value=FP(t.value,A),n.value=lK(n.value,f,A),e.value=cK(e.value,f,f.slice(0,f.length-A.length))}else if(n){var E=n.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],v=V5e(x,E);t.value=FP(t.value,v)}else if(e){var b=e.value.match(/\s*$/)[0],S=t.value.match(/^\s*/)[0],k=V5e(b,S);t.value=F7(t.value,k)}}o(j5e,"dedupeWhitespaceInChangeObjects");var Yrt=new ym;Yrt.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(LP,"]+|[^\\S\\n\\r]+|[^").concat(LP,"]"),"ug");return e.match(t)||[]};var mK=new ym;mK.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};mK.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),ym.prototype.equals.call(this,e,t,r)};var Krt=new ym;Krt.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Jrt=new ym;Jrt.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function uK(e){"@babel/helpers - typeof";return uK=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uK(e)}o(uK,"_typeof");var L7=new ym;L7.useLongestToken=!0;L7.tokenize=mK.tokenize;L7.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(fK(e,null,null,i),i,"  ")};L7.equals=function(e,t,r){return ym.prototype.equals.call(L7,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function fK(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=fK(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),uK(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=fK(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(fK,"canonicalize");var dK=new ym;dK.tokenize=function(e){return e.slice()};dK.join=dK.removeEmpty=function(e){return e};d();var e5={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},hK={};for(let[e,t]of Object.entries(e5))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)hK[r]=e;else hK[e]=e;function Y5e(e){return hK[e]}o(Y5e,"mdCodeBlockLangToLanguageId");var K5e={start:"//",end:""},Zrt=["php","plaintext"],$5e={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function ent({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(ent,"hasLanguageMarker");function MP(e,t){let r=e5[t]?e5[t].lineComment:K5e;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(MP,"comment");function tnt(e,t){let r=e5[t]?e5[t].lineComment:K5e;if(!r)return e;let n=e,i=`${r.start} `;if(n.startsWith(i)&&(n=n.substring(i.length)),r.end&&r.end!==""){let s=` ${r.end}`;n.endsWith(s)&&(n=n.substring(0,n.length-s.length))}return n}o(tnt,"uncomment");function J5e(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>tnt(s,t)).join(`
`);return r?i+`
`:i}o(J5e,"uncommentBlockAsSingles");function Ta(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>MP(s,t)).join(`
`);return r?i+`
`:i}o(Ta,"commentBlockAsSingles");function OP(e){let{languageId:t}=e;return Zrt.indexOf(t)===-1&&!ent(e)?t in $5e?$5e[t]:MP(`Language: ${t}`,t):""}o(OP,"getLanguageMarker");function UP(e){return e.relativePath?MP(`Path: ${e.relativePath}`,e.languageId):""}o(UP,"getPathMarker");function h0(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(h0,"newLineEnded");function X5e(e){return z5e(typeof e=="string"?e:"plaintext")}o(X5e,"getLanguage");function z5e(e){return e5[e]!==void 0?{languageId:e,...e5[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(z5e,"_getLanguage");d();d();d();d();d();d();d();d();var rnt={tokenizerName:"cl100k_base"};function nnt(e){return{...rnt,...e}}o(nnt,"cursorContextOptions");function Yb(e,t={}){let r=nnt(t),n=So(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(Yb,"getCursorContext");d();var pK=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var gK=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=ant.get(t.languageId)??snt}tokenize(t){return new Set(int(t).filter(r=>!this.stopsForLanguage.has(r)))}},Z5e=new pK(20),Kb=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new gK(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=Z5e.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let A=new Set;c.slice(f,m).forEach(E=>E.forEach(x=>A.add(x),A)),a.push(A)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&Z5e.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function int(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(int,"splitIntoWords");var ont=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),snt=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ont]),ant=new Map([]);d();function GP(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(GP,"getBasicWindowDelineations");var WP=class e extends Kb{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return GP(this.windowLength,t)}_getCursorContextInfo(t){return Yb(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return lnt(t,r)}};function lnt(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(lnt,"computeScore");d();d();var tye=require("fs"),HP=ct(require("path")),VP=ct(eye());var yK={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Iu(e){return e in yK&&e!=="csharp"&&e!=="java"}o(Iu,"isSupportedLanguageId");function jP(e){if(!(e in yK))throw new Error(`Unrecognized language: ${e}`);return yK[e]}o(jP,"languageIdToWasmLanguage");var AK=new Map;async function cnt(e){let t,r=HP.default.resolve(HP.default.extname(__filename)!==".ts"?__dirname:HP.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await tye.promises.readFile(r)}catch(n){throw n instanceof Error&&"code"in n&&typeof n.code=="string"&&n.name==="Error"?new t1(`Could not load tree-sitter-${e}.wasm`,n):n}return VP.default.Language.load(t)}o(cnt,"loadWasmLanguage");function unt(e){let t=jP(e);if(!AK.has(t)){let r=cnt(t);AK.set(t,r)}return AK.get(t)}o(unt,"getLanguage");var CK=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function CC(e,t){await VP.default.init();let r;try{r=new VP.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new CK(`Could not init Parse for language <${e}>`,s):s}let n=await unt(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(CC,"parseTreeSitter");function rye(e){switch(jP(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(rye,"getBlockCloseToken");function fnt(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(fnt,"innerQuery");var dnt=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function nye(e){return fnt([dnt],e).length==1}o(nye,"queryPythonIsDocstring");var $P=class e extends Kb{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return GP(this.windowLength,t)}_getCursorContextInfo(t){return Yb(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):Yb(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return mnt(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await CC(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function mnt(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(mnt,"computeScore");var hnt=0,pnt=60,gnt=4,Ant=1,ynt=20,Cnt=1e4,zP={snippetLength:pnt,threshold:hnt,maxTopSnippets:gnt,maxCharPerFile:Cnt,maxNumberOfFiles:ynt,maxSnippetsPerFile:Ant,useSubsetMatching:!1};var Xb={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function Ent(e,t){return(t.useSubsetMatching?$P.FACTORY(t.snippetLength):WP.FACTORY(t.snippetLength)).to(e)}o(Ent,"getMatcher");async function YP(e,t,r){let n=Ent(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(YP,"getSimilarSnippets");d();d();function iye(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let x=0;x<n.length-1;x++)n[x]+=`
`;let i=[];n.forEach((x,v)=>{x===`
`&&i.length>0&&!i[i.length-1].endsWith(`

`)?i[i.length-1]+=`
`:i.push(x)});let s=i.map(x=>e.tokenLength(x)),a=1,l=0;for(;a<=s.length;a++){let x=s.at(-a);if(x){if(x+l>r){a--;break}l+=x}}let u=i.slice(-a).join(""),f=e.tokenLength(u),h=i.slice(0,-a).join(""),p=e.tokenLength(h),A={id:t.id,kind:t.kind,text:u,tokens:f,score:t.score},E={id:t.id,kind:t.kind,text:h,tokens:p,score:t.score};return{summarizedElement:A,removedMaterial:E}}o(iye,"truncateFirstLinesFirst");var KP=class{static{o(this,"SnippetTextProcessor")}constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",iye]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}};d();var bnt=/(\.|->|::)\w+$/;function oye(e,t){let r=`Use ${e}`;return Ta(r,t)}o(oye,"announceTooltipSignatureSnippet");function sye(e){let t=e.source.substring(0,e.offset);return bnt.test(t)}o(sye,"endsWithAttributesOrMethod");function aye(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),i=e.substring(r);return t.snippet=t.snippet+i,[n,t]}o(aye,"transferLastLineToTooltipSignature");var lye={text:"",tokens:[]};var M7=500,EC=8192-M7,EK=4,vnt=150,O7=10,JP=15;var Q7=class{constructor(t,r){this.maxPromptLength=EC;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=O7;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?(this.similarFilesOptions??=Xb,this.numberOfSnippets??=Xb.maxTopSnippets):(this.similarFilesOptions??=zP,this.numberOfSnippets??=EK)}static{o(this,"PromptOptions")}},Int={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function wa(e){return e=e.toLowerCase(),Int[e]??e}o(wa,"normalizeLanguageId");async function cye(e,t={},r=[]){let n=new Q7(t,e.languageId),i=So(n.tokenizerName),s=new KP(n.snippetTextProcessingPreset),a=new U7(n.promptOrderListPreset),l=new XP(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=wa(e.languageId);let f=new eN(i,n.lineEnding,a,s,l),m=r.find(k=>k.provider==="path"),h=r.find(k=>k.provider==="language"),p=r.find(k=>k.provider==="trait"),A=r.find(k=>k.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(f.append(m.snippet,"PathMarker"),h&&f.extMarkUnused({text:h.snippet,kind:"LanguageMarker",tokens:i.tokenLength(h.snippet),id:NaN,score:NaN})):h&&f.append(h.snippet,"LanguageMarker"),p!=null&&f.append(p.snippet,"Traits"),r=r.filter(k=>k.provider!=="language"&&k.provider!=="path"&&k.provider!=="tooltip-signature"&&k.provider!=="trait");function E(){uye(r,e.languageId,i,l,n.numberOfSnippets).forEach(P=>{let N=ZP(P.provider);f.append(P.announcedSnippet,N,P.tokens,P.score)})}o(E,"addSnippetsNow"),E();let x=c.substring(0,u);A!==void 0&&i.tokenLength(A.snippet)<=vnt?([x,A]=aye(x,A),f.append(A.snippet,"TooltipSignature")):A!==void 0&&f.extMarkUnused({text:A.snippet,kind:"TooltipSignature",tokens:i.tokenLength(A.snippet),id:NaN,score:NaN}),f.append(x,"BeforeCursor");let v=c.slice(u),{promptInfo:b,newCachedSuffix:S}=f.fulfill(v,n,lye);return lye=S,b}o(cye,"getPrompt");d();function tN(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(tN,"findEditDistanceScore");var t5=50,xK=5,Zb=class{constructor(){this.used=new Map;this.unused=new Map}static{o(this,"PromptBackground")}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}},ev=class{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}static{o(this,"PromptChoices")}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},U7=class{static{o(this,"PromptOrderList")}constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`);return i===s?r.id-n.id:i-s})}},XP=class extends U7{static{o(this,"PromptPriorityList")}constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`);return i===s?n.id-r.id:i-s})}};function ZP(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(ZP,"kindForSnippetProviderType");var rN=class{constructor(t){this.ranges=new Array;let r=0,n;for(let i of t)i.text.length!==0&&(n==="BeforeCursor"&&i.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=i.text.length:this.ranges.push({kind:i.kind,start:r,end:r+i.text.length}),n=i.kind,r+=i.text.length)}static{o(this,"PromptElementRanges")}},eN=class{constructor(t,r,n,i,s){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=n;this.snippetTextProcessor=i;this.priorityList=s;this.content=[];this.basePromptBackground=new Zb;this.baseTallyOfChoices=new ev}static{o(this,"PromptWishlist")}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),i=NaN){t=this.convertLineEndings(t);let s=this.content.length;return this.content.push({id:s,text:t,kind:r,tokens:n,score:i}),s}fulfillPrefix(t){let r=new Zb;r.add(this.basePromptBackground);let n=new ev;n.add(this.baseTallyOfChoices);function i(A){r.markUsed(A),n.markUsed(A)}o(i,"markUsed");function s(A){r.undoMarkUsed(A),n.undoMarkUsed(A)}o(s,"undoMarkUsed");function a(A){r.markUnused(A),n.markUnused(A)}o(a,"markUnused"),this.priorityList.sortElements(this.content);let l,c=[],u=t;this.content.forEach(A=>{if(u>0||l===void 0){let E=A.tokens;if(u>=E)u-=E,i(A),c.push(A);else if(A.kind==="BeforeCursor"&&u>0){let{summarizedElement:x,removedMaterial:v}=this.snippetTextProcessor.summarize(this.tokenizer,A,u);A=x,E=A.tokens,u-=E,A.text.length>0&&i(A),v.text.length>0&&a(v),c.push(A)}else l===void 0?l=A:a(A)}else a(A)}),this.orderingList.sortElements(c);let f=c.reduce((A,E)=>A+E.text,""),m=this.tokenizer.tokenLength(f);for(;m>t;){this.priorityList.sortElements(c);let A=c.pop();A&&(s(A),a(A),l!==void 0&&a(l),l=void 0),this.orderingList.sortElements(c),f=c.reduce((E,x)=>E+x.text,""),m=this.tokenizer.tokenLength(f)}let h=[...c];if(l!==void 0){h.push(l),this.orderingList.sortElements(h);let A=h.reduce((x,v)=>x+v.text,""),E=this.tokenizer.tokenLength(A);if(E<=t){i(l);let x=new rN(h);return{prefix:A,suffix:"",prefixLength:E,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:x}}else a(l)}let p=new rN(c);return{prefix:f,suffix:"",prefixLength:m,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let i=r.maxPromptLength-xK,s=Math.floor(i*(100-r.suffixPercent)/100),a=i-s,l=t.replace(/^.*/,"").trimStart();if(i>t5&&a<t5)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${t5}
`);let c=this.tokenizer.takeFirstTokens(l,t5),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*tN(c.tokens,n.tokens.slice(0,t5))?.score<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let f;if(u)s=i-n.tokens.length,f=n;else{let h=this.maxPrefixTokenLength(),p=this.tokenizer.tokenLength(l);h<s?(s=h,a=i-s):p<a&&(s=i-p,a=p),f=this.tokenizer.takeFirstTokens(l,a)}let m=this.fulfillPrefix(s);return m.suffix=f.text,m.suffixLength=f.tokens.length,{promptInfo:m,newCachedSuffix:f}}};var Tnt={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function bK(e,t){let r=Tnt[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),Ta(s,t)}o(bK,"announceSnippet");function fye(e){e.sort((t,r)=>r.score-t.score)}o(fye,"sortSnippetsDescending");function wnt(e,t,r){if(t==0)return[];let n=e.map(s=>({...s,kind:ZP(s.provider)})),i=[];return r.rankedList.forEach(s=>{let a=n.filter(({kind:l})=>l===s);fye(a),i.push(...a)}),i.slice(0,t)}o(wnt,"selectSnippets");function uye(e,t,r,n,i){let a=wnt(e,i,n).map(l=>{let c=bK(l,t),u=r.tokenLength(c);return{announcedSnippet:c,provider:l.provider,score:l.score,tokens:u,relativePath:l.relativePath}}).filter(l=>l.tokens>0);return fye(a),a.reverse(),a}o(uye,"processSnippetsForWishlist");d();var r1=class extends Error{static{o(this,"ProviderTimeoutError")}constructor(t){super(t),this.name="ProviderTimeoutError"}},Ic=class{static{o(this,"SnippetProvider")}constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i(new xC(this.type,new r1("provider aborted"))),r.addEventListener("abort",()=>{i(new xC(this.type,new r1(`max runtime exceeded: ${vK} ms`)))},{once:!0});let s=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-s})}).catch(a=>{i(new xC(this.type,a))})})}};var nN=class extends Ic{constructor(){super(...arguments);this.type="code"}static{o(this,"CodeSnippetProvider")}async buildSnippets(r){if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:n}=r,i=new Map;for(let a of n){let l=a.relativePath??a.snippet.uri,c=i.get(l);c===void 0&&(c=[],i.set(l,c)),c.push(a)}let s=[];return i.forEach((a,l)=>{let c=a.map(u=>u.snippet.value).join(`
---
`);s.push({provider:this.type,semantics:a.length>1?"snippets":"snippet",snippet:h0(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...a.map(u=>u.snippet.importance??0))})}),s}};d();var iN=class extends Ic{constructor(){super(...arguments);this.type="language"}static{o(this,"LanguageSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=wa(n.languageId),[{provider:this.type,semantics:"snippet",snippet:h0(OP(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var oN=class extends Ic{constructor(){super(...arguments);this.type="path"}static{o(this,"PathSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=wa(n.languageId),[{provider:this.type,semantics:"snippet",snippet:h0(UP(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var sN=class extends Ic{constructor(){super(...arguments);this.type="similar-files"}static{o(this,"SimilarFilesProvider")}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:s}=r;return s&&i&&i.length?await this.api.getSimilarSnippets(n,i,s.similarFilesOptions):[]}};d();var aN=class extends Ic{constructor(){super(...arguments);this.type="tooltip-signature"}static{o(this,"TooltipSignatureSnippetProvider")}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,s=[];return n.languageId=wa(n.languageId),i&&sye(n)&&s.push({provider:this.type,semantics:"snippet",snippet:h0(oye(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),s}};d();var lN=class extends Ic{constructor(){super(...arguments);this.type="trait"}static{o(this,"TraitProvider")}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:n}=r;return n.languageId=wa(n.languageId),[{provider:this.type,semantics:"snippet",snippet:Ta(`Consider this related information:
`+r.traits.map(i=>i.kind==="string"?h0(i.value):h0(`${i.name}: ${i.value}`)).join(""),n.languageId),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var cN=ct(require("path")),Zh=require("worker_threads");function _nt(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(_nt,"sleep");var dye=["getSimilarSnippets","sleep"],IK=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=YP;this.sleep=_nt;!Zh.isMainThread&&Zh.workerData?.port&&($V(),process.cwd=()=>Zh.workerData.cwd,this.configureWorkerResponse(Zh.workerData.port))}static{o(this,"WorkerProxy")}initWorker(){let{port1:t,port2:r}=new Zh.MessageChannel;this.port=t,this.worker=new Zh.Worker(cN.default.resolve(cN.default.extname(__filename)!==".ts"?__dirname:cN.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of dye)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of dye){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:n}){let i=this[r];if(!i)throw new Error(`Function not found: ${r}`);try{let s=await i.apply(this,n);this.port.postMessage({id:t,res:s})}catch(s){if(!(s instanceof Error))throw s;typeof s.code=="string"?this.port.postMessage({id:t,err:s,code:s.code}):this.port.postMessage({id:t,err:s})}}handleMessage({id:t,err:r,code:n,res:i}){let s=this.handlers.get(t);s&&(this.handlers.delete(t),r?(r.code=n,s.reject(r)):s.resolve(i))}handleError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith("workerProxy.js'")&&(r=new t1("Failed to load workerProxy.js"));let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.handlers.values())n.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,s)=>{this.handlers.set(n,{resolve:i,reject:s}),this.port?.postMessage({id:n,fn:t,args:r})})}}},uN=new IK;var vK=300,Snt=[iN,oN,sN,aN,lN,nN],xC=class extends Error{constructor(r,n){super();this.providerType=r;this.error=n}static{o(this,"ProviderError")}};function mye(e){return e.status==="fulfilled"}o(mye,"isFulfilledResult");function Bnt(e){return e.status==="rejected"}o(Bnt,"isRejectedResult");function TK(e){return e.filter(mye).flatMap(t=>t.value.snippets)}o(TK,"providersSnippets");function wK(e){return e.filter(Bnt).flatMap(t=>t.reason)}o(wK,"providersErrors");function _K(e){let t={},r={};return e.forEach(n=>{mye(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):knt(n.reason)&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(_K,"providersPerformance");function knt(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof r1}o(knt,"isProviderTimeout");var Cm=class{constructor(t=Snt){this.startThreading=o(()=>uN.startThreading(),"startThreading");this.stopThreading=o(()=>uN.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(uN))}static{o(this,"SnippetOrchestrator")}async getSnippets(t){let r=AbortSignal.timeout(vK),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):Rnt(n)}};function Rnt(e){return Promise.all(e.map(t=>t.then(Dnt,Pnt)))}o(Rnt,"allSettledBackup");function Dnt(e){return{status:"fulfilled",value:e}}o(Dnt,"createPromiseFulfilledResult");function Pnt(e){return{status:"rejected",reason:e}}o(Pnt,"createPromiseRejectedResult");d();var fN=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await CC(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},dN=class extends fN{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=pye(r,n),this.isBlockStart(Nnt(r,n))&&this.isBlockBodyEmpty(r,n)}};function Nnt(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Nnt,"getLineAtOffset");function pye(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(pye,"rewindToNearestNonWs");function hye(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(hye,"indent");function Fnt(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=hye(e,r),i=hye(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(Fnt,"outdented");var r5=class extends fN{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&nye(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=pye(r,n);let i=await CC(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&Fnt(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(E=>E.hasError())?.children.find(E=>E.type=="block"));let p,A=0;for(let E of a.children){if(E.type==":"&&A==0){p=E;break}E.type=="("&&(A+=1),E.type==")"&&(A-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let E=p.nextSibling;if(E.type=='"'||E.type=="'"||E.type=="ERROR"&&(E.text=='"""'||E.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(x=>x.type=="formal_parameters");if(m.type=="class"&&p)return!0;let A=f.find(x=>x.type=="{");if(A&&A.startIndex>m.endIndex&&A.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(E=>E.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(E=>E.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},Lnt={python:new r5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new r5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new r5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new r5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new dN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new dN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new r5("csharp",{},new Map([]),[],"block",null,!0),java:new r5("java",{},new Map([]),[],"block",null,!0)};function SK(e){if(!Iu(e))throw new Error(`Language ${e} is not supported`);return Lnt[jP(e)]}o(SK,"getBlockParser");async function gye(e,t,r){return Iu(e)?SK(e).isEmptyBlockStart(t,r):!1}o(gye,"isEmptyBlockStart");async function Aye(e,t,r,n){if(Iu(e))return SK(e).isBlockBodyFinished(t,r,n)}o(Aye,"isBlockBodyFinished");async function yye(e,t,r){if(Iu(e))return SK(e).getNodeStart(t,r)}o(yye,"getNodeStart");var BK=class{constructor(t){this.ctx=t;this.cache=new Rn(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new kK(()=>this.ctx.get(Qf).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},kK=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Ont(e){return"uri"in e}o(Ont,"isCompletionsFiltersInfo");var er=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new BK(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=tn.createAndMarkAsIssued()){if(r instanceof Kg)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&Ont(t)?X2(this.ctx,t.uri):void 0,i=e1(n)??"",s=A5e(n)??"",a=t?.languageId??"",l=J2(this.ctx).modelId,c=await g5e(this.ctx),u=await B7(this.ctx,"ft"),f=await B7(this.ctx,"ol"),m=await B7(this.ctx,"cml"),h=await B7(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},A=this.getGranularityDirectory(),E=this.makeFilterSettings(p),x=A.extendFilters(E),v=await this.getExpConfig(x.newFilterSettings);A.update(E,+(v.variables.copilotbycallbuckets??NaN),+(v.variables.copilottimeperiodsizeinh??NaN));let b=A.extendFilters(E),S=b.newFilterSettings,k=await this.getExpConfig(S),P=new Promise(N=>setTimeout(N,e.upcomingDynamicFilterCheckDelayMs));for(let N of b.otherFilterSettingsToPrefetch)P=P.then(async()=>{await new Promise(W=>setTimeout(W,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(N)});return this.prepareForUpcomingFilters(S),new Kg(r.properties,r.measurements,r.issuedTime,{filters:S,exp:k})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(us).machineId;this.granularityDirectory=new JD(t,this.ctx.get(Lh))}return this.granularityDirectory}makeFilterSettings(t){return new F3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Ff.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new F3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}showModelTeaserFeature(t){return t.filtersAndExp.exp.variables.showmodelteaser??!1}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??JP}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??O7}cppHeaders(t){return t.filtersAndExp.exp.variables.copilotcppheaders??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}cppIncludeTraits(t){let r=t.filtersAndExp.exp.variables.copilotcppIncludeTraits;if(r)return r.split(",")}cppMsvcCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppMsvcCompilerArgumentFilter}cppClangCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppClangCompilerArgumentFilter}cppGccCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppGccCompilerArgumentFilter}cppCompilerArgumentDirectAskMap(t){return t.filtersAndExp.exp.variables.copilotcppCompilerArgumentDirectAskMap}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??EC+M7}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}promptComponentsEnabled(t){return t.filtersAndExp.exp.variables.copilotpromptcomponents??!1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideChatEnableProjectContext(t){return t.filtersAndExp.exp.variables.idechatenableprojectcontext??!1}ideEnableCopilotEdits(t){return t.filtersAndExp.exp.variables.ideenablecopilotedits??!1}ideChatProjectContextFileCountThreshold(t){return t.filtersAndExp.exp.variables.idechatprojectcontextfilecountthreshold??0}disableDebounce(t){return t.filtersAndExp.exp.variables.copilotdisabledebounce??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}debounceThreshold(t){return t.filtersAndExp.exp.variables.copilotdebouncethreshold}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppCodeSnippetsFeatures(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsFeatureNames}cppCodeSnippetsTimeBudgetFactor(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsTimeBudgetFactor}cppCodeSnippetsMaxDistanceToCaret(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsMaxDistanceToCaret}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}};var xye=ct(require("node:events"));var RK={};Nh(RK,{activationEvents:()=>oit,badges:()=>iit,bugs:()=>Knt,build:()=>Hnt,buildType:()=>Vnt,categories:()=>rit,contributes:()=>DK,default:()=>dit,dependencies:()=>uit,description:()=>Gnt,devDependencies:()=>cit,displayName:()=>qnt,enabledApiProposals:()=>ait,engines:()=>tit,extensionPack:()=>eit,homepage:()=>znt,icon:()=>Xnt,keywords:()=>nit,license:()=>Ynt,main:()=>sit,name:()=>Unt,overrides:()=>fit,preview:()=>$nt,pricing:()=>Znt,publisher:()=>jnt,qna:()=>Jnt,scripts:()=>lit,version:()=>Wnt});var Unt="copilot",qnt="GitHub Copilot",Gnt="Your AI pair programmer",Wnt="1.294.0",Hnt="1473",Vnt="prod",jnt="GitHub",$nt=!1,znt="https://github.com/features/copilot?editor=vscode",Ynt="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Knt={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Jnt="https://github.com/github-community/community/discussions/categories/copilot",Xnt="assets/Copilot-App-Icon.png",Znt="Trial",eit=["GitHub.copilot-chat"],tit={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},rit=["AI","Chat","Programming Languages","Machine Learning"],nit=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],iit=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],oit=["onStartupFinished"],sit="./dist/extension",ait=["inlineCompletionsAdditions"],DK={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate"}],commandPalette:[{command:"github.copilot.openModelPicker",when:"github.copilot.modelPickerEnabled"}]},configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"application",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},lit={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha --delay "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},cit={"@datadog/datadog-ci":"^3.2.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^9.0.3","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^3.3.1","@yao-pkg/pkg":"^6.3.2",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.1","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^9.23.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.1",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.1.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1",sinon:"^20.0.0","ts-dedent":"^2.2.0","ts-node":"^10.9.1","tsconfig-paths":"^4.2.0",tsx:"^4.19.3",typescript:"^5.8.2","typescript-eslint":"^8.28.0","vscode-dts":"^0.3.3"},uit={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.9","@sinclair/typebox":"^0.34.31","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.0",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.0",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},fit={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},dit={name:Unt,displayName:qnt,description:Gnt,version:Wnt,build:Hnt,buildType:Vnt,publisher:jnt,preview:$nt,homepage:znt,license:Ynt,bugs:Knt,qna:Jnt,icon:Xnt,pricing:Znt,extensionPack:eit,engines:tit,categories:rit,keywords:nit,badges:iit,activationEvents:oit,main:sit,enabledApiProposals:ait,contributes:DK,scripts:lit,devDependencies:cit,dependencies:uit,overrides:fit};var qt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",VSCodeRecentEditsInPrompt:"internal.vscodeRecentEditsInPrompt",VSCodeRecentEditsEditCount:"internal.vscodeRecentEditsEditCount",VSCodeRecentEditsContextLines:"internal.vscodeRecentEditsContextLines",VSCodeRecentEditsMaxLinesBetweenEdits:"internal.vscodeRecentEditsMaxLinesBetweenEdits"};function bye(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(bye,"shouldDoParsingTrimming");function vye(e){return["server","parsingandserver"].includes(e)}o(vye,"shouldDoServerTrimming");var Em=class{static{o(this,"BlockModeConfig")}},rv=class extends Em{static{o(this,"ConfigBlockModeConfig")}async forLanguage(t,r,n){let i=t.get(er).overrideBlockMode(n);if(i)return Cye(i,r);let s=t.get(er).enableProgressiveReveal(n);return ai(t,qt.AlwaysRequestMultiline)??s?Cye("moremultiline",r):r=="ruby"?"parsing":Iu(r)?"parsingandserver":"server"}};function mit(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(mit,"blockModeRequiresTreeSitter");function Cye(e,t){return mit(e)&&!Iu(t)?"server":e}o(Cye,"toApplicableBlockMode");var ep=class{static{o(this,"ConfigProvider")}},nv=class extends ep{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return pit(t)}getOptionalConfig(t){return git(t)}dumpForTelemetry(){return{}}},mN=class extends ep{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n;this.emitters=new Map}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new xye.default),this.emitters.get(r)?.on("change",n)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[qt.ShowEditorCompletions,qt.EnableAutoCompletions,qt.DelayCompletions,qt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function hit(e){return e?.type==="object"&&"properties"in e}o(hit,"isContributesObject");function Iye(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(Iye,"getConfigKeyRecursively");function pit(e){if(tv.has(e))return tv.get(e);throw new Error(`Missing config default value: ${R9}.${e}`)}o(pit,"getConfigDefaultForKey");function git(e){return tv.get(e)}o(git,"getOptionalConfigDefaultForKey");var tv=new Map([[qt.DebugOverrideCppHeaders,!1],[qt.RelatedFilesVSCodeCSharp,!1],[qt.RelatedFilesVSCodeTypeScript,!1],[qt.RelatedFilesVSCode,!1],[qt.ExcludeOpenTabFilesCSharp,!1],[qt.ExcludeOpenTabFilesCpp,!1],[qt.ExcludeOpenTabFilesTypeScript,!1],[qt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[qt.ContextProviders,[]],[qt.DebugUseEditorFetcher,null],[qt.DebugUseElectronFetcher,null],[qt.DebugOverrideLogLevels,{}],[qt.DebugSnippyOverrideUrl,""],[qt.FetchStrategy,"auto"],[qt.UseSubsetMatching,null],[qt.EnablePromptComponents,!1],[qt.ContextProviderTimeBudget,150],[qt.DebugOverrideCapiUrl,""],[qt.DebugTestOverrideCapiUrl,""],[qt.DebugOverrideProxyUrl,""],[qt.DebugTestOverrideProxyUrl,""],[qt.DebugOverrideEngine,""],[qt.UseAsyncCompletions,void 0],[qt.EnableSpeculativeRequests,void 0],[qt.AlwaysRequestMultiline,void 0],[qt.TrimCompletionsAggressively,void 0],[qt.VSCodeDebounceThreshold,void 0],[qt.VSCodeRecentEditsInPrompt,void 0],[qt.VSCodeRecentEditsEditCount,void 0],[qt.VSCodeRecentEditsContextLines,void 0],[qt.VSCodeRecentEditsMaxLinesBetweenEdits,void 0],[qt.ShowEditorCompletions,void 0],[qt.DelayCompletions,void 0],[qt.FilterCompletions,void 0]]);for(let e of Object.values(qt)){let t=DK.configuration[0],r=[],n=`${R9}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(hit(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(tv.has(e))throw new Error(`Duplicate config default value ${R9}.${e}`);tv.set(e,i.default)}}if(!tv.has(e))throw new Error(`Missing config default value ${R9}.${e}`)}function ai(e,t){return e.get(ep).getConfig(t)}o(ai,"getConfig");function YAe(e){return e.get(ep).dumpForTelemetry()}o(YAe,"dumpForTelemetry");var io=class{constructor(){this.packageJson=RK}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function K2e(e){return e.get(io).isPreRelease()}o(K2e,"isPreRelease");function FD(e){return e.get(io).isProduction()}o(FD,"isProduction");function Lf(e){return e.get(io).getBuildType()}o(Lf,"getBuildType");function KAe(e){return e.get(io).getBuild()}o(KAe,"getBuild");function uC(e){return e.get(io).getVersion()}o(uC,"getVersion");var us=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function jh({name:e,version:t}){return`${e}/${t}`}o(jh,"formatNameAndVersion");var sn=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Ait="2024-12-15";function i0(e){let t=e.get(sn);return{"X-GitHub-Api-Version":Ait,"Editor-Version":jh(t.getEditorInfo()),"Editor-Plugin-Version":jh(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":uC(e)}}o(i0,"editorVersionHeaders");var Eye="Iv1.b507a08c87ecfe98",Ms=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??Eye}fallbackAppId(){return Eye}};d();var q7=ct(require("util"));function Tye(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(Lf(e)==="dev")return e.get(ba).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",q7.format(...i)))},t.dir=(n,i)=>r(4,q7.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(q7.format(...n));i.name="Trace",t.log(i)},t}o(Tye,"createConsole");var ZMe=ct(require("fs/promises")),eOe=ct(require("os")),Sd=ct(n1());d();d();var JN=require("assert");d();d();var kot={right:Fot,center:Lot},Rot=0,HN=1,Dot=2,VN=3,iJ=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&Tu.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),Tu.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=Tu.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>Tu.stringWidth(a)&&(f+=" ".repeat(u-Tu.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=kot[t[l].align];f=h(f,u),Tu.stringWidth(f)<u&&(f+=" ".repeat((c||0)-Tu.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[VN]&&(s+=" ".repeat(m[VN])),s+=C3e(t[l],f,"| "),s+=f,s+=C3e(t[l],f," |"),m[HN]&&(s+=" ".repeat(m[HN])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=Tu.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=Tu.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Rot]||0).fill("")),i.push(...new Array(s.padding[Dot]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[VN]||0)+(t.padding[HN]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||Tu.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,Pot(t[l])):a)}};function C3e(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o(C3e,"addBorder");function Pot(e){let t=e.padding||[],r=1+(t[VN]||0)+(t[HN]||0);return e.border?r+4:r}o(Pot,"_minWidth");function Not(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(Not,"getWindowWidth");function Fot(e,t){e=e.trim();let r=Tu.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(Fot,"alignRight");function Lot(e,t){e=e.trim();let r=Tu.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(Lot,"alignCenter");var Tu;function E3e(e,t){return Tu=t,new iJ({width:e?.width||Not(),wrap:e?.wrap})}o(E3e,"cliui");d();var x3e=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function oJ(e){return e.replace(x3e,"")}o(oJ,"stripAnsi");function b3e(e,t){let[r,n]=e.match(x3e)||["",""];e=oJ(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(b3e,"wrap");function sJ(e){return E3e(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:oJ,wrap:b3e})}o(sJ,"ui");d();var av=require("path"),jN=require("fs");function aJ(e,t){let r=(0,av.resolve)(".",e),n;for((0,jN.statSync)(r).isDirectory()||(r=(0,av.dirname)(r));;){if(n=t(r,(0,jN.readdirSync)(r)),n)return(0,av.resolve)(r,n);if(r=(0,av.dirname)(n=r),n===r)break}}o(aJ,"default");var M3e=require("util"),O3e=require("fs"),U3e=require("url");d();var _3e=require("util"),KN=require("path");d();function TC(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(TC,"camelCase");function $N(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o($N,"decamelize");function zN(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(zN,"looksLikeNumber");d();d();function v3e(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(v3e,"tokenizeArgString");d();var Vf;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(Vf||(Vf={}));var i1,YN=class{static{o(this,"YargsParser")}constructor(t){i1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=v3e(t),s=typeof t=="string",a=Qot(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),A=Object.create(null),E=n.__||i1.format,x={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(z){let ee=typeof z=="object"?z.key:z,Fe=Object.keys(z).map(function(_e){return{boolean:"bools",string:"strings",number:"numbers"}[_e]}).filter(Boolean).pop();Fe&&(x[Fe][ee]=!0),x.arrays[ee]=!0,x.keys.push(ee)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(z){x.bools[z]=!0,x.keys.push(z)}),[].concat(n.string||[]).filter(Boolean).forEach(function(z){x.strings[z]=!0,x.keys.push(z)}),[].concat(n.number||[]).filter(Boolean).forEach(function(z){x.numbers[z]=!0,x.keys.push(z)}),[].concat(n.count||[]).filter(Boolean).forEach(function(z){x.counts[z]=!0,x.keys.push(z)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(z){x.normalize[z]=!0,x.keys.push(z)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([z,ee])=>{typeof ee=="number"&&(x.nargs[z]=ee,x.keys.push(z))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([z,ee])=>{typeof ee=="function"&&(x.coercions[z]=ee,x.keys.push(z))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(z){x.configs[z]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([z,ee])=>{(typeof ee=="boolean"||typeof ee=="function")&&(x.configs[z]=ee)})),Re(n.key,a,n.default,x.arrays),Object.keys(c).forEach(function(z){(x.aliases[z]||[]).forEach(function(ee){c[ee]=c[z]})});let S=null;Ge();let k=[],P=Object.assign(Object.create(null),{_:[]}),N={};for(let z=0;z<i.length;z++){let ee=i[z],Fe=ee.replace(/^-{3,}/,"---"),_e,Ce,Oe,Ve,Ze,yt;if(ee!=="--"&&/^-/.test(ee)&&ft(ee))W(ee);else if(Fe.match(/^---+(=|$)/)){W(ee);continue}else if(ee.match(/^--.+=/)||!l["short-option-groups"]&&ee.match(/^-.+=/))Ve=ee.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(ve(Ve[1],x.arrays)?z=ge(z,Ve[1],i,Ve[2]):ve(Ve[1],x.nargs)!==!1?z=te(z,Ve[1],i,Ve[2]):re(Ve[1],Ve[2],!0));else if(ee.match(b)&&l["boolean-negation"])Ve=ee.match(b),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],re(Ce,ve(Ce,x.arrays)?[!1]:!1));else if(ee.match(/^--.+/)||!l["short-option-groups"]&&ee.match(/^-[^-]+/))Ve=ee.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],ve(Ce,x.arrays)?z=ge(z,Ce,i):ve(Ce,x.nargs)!==!1?z=te(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!Ze.match(/^-/)||Ze.match(v))&&!ve(Ce,x.bools)&&!ve(Ce,x.counts)||/^(true|false)$/.test(Ze)?(re(Ce,Ze),z++):re(Ce,ot(Ce))));else if(ee.match(/^-.\..+=/))Ve=ee.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&re(Ve[1],Ve[2]);else if(ee.match(/^-.\..+/)&&!ee.match(v))Ze=i[z+1],Ve=ee.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Ze!==void 0&&!Ze.match(/^-/)&&!ve(Ce,x.bools)&&!ve(Ce,x.counts)?(re(Ce,Ze),z++):re(Ce,ot(Ce)));else if(ee.match(/^-[^-]+/)&&!ee.match(v)){Oe=ee.slice(1,-1).split(""),_e=!1;for(let Rt=0;Rt<Oe.length;Rt++){if(Ze=ee.slice(Rt+2),Oe[Rt+1]&&Oe[Rt+1]==="="){yt=ee.slice(Rt+3),Ce=Oe[Rt],ve(Ce,x.arrays)?z=ge(z,Ce,i,yt):ve(Ce,x.nargs)!==!1?z=te(z,Ce,i,yt):re(Ce,yt),_e=!0;break}if(Ze==="-"){re(Oe[Rt],Ze);continue}if(/[A-Za-z]/.test(Oe[Rt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ze)&&ve(Ze,x.bools)===!1){re(Oe[Rt],Ze),_e=!0;break}if(Oe[Rt+1]&&Oe[Rt+1].match(/\W/)){re(Oe[Rt],Ze),_e=!0;break}else re(Oe[Rt],ot(Oe[Rt]))}Ce=ee.slice(-1)[0],!_e&&Ce!=="-"&&(ve(Ce,x.arrays)?z=ge(z,Ce,i):ve(Ce,x.nargs)!==!1?z=te(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!/^(-|--)[^-]/.test(Ze)||Ze.match(v))&&!ve(Ce,x.bools)&&!ve(Ce,x.counts)||/^(true|false)$/.test(Ze)?(re(Ce,Ze),z++):re(Ce,ot(Ce))))}else if(ee.match(/^-[0-9]$/)&&ee.match(v)&&ve(ee.slice(1),x.bools))Ce=ee.slice(1),re(Ce,ot(Ce));else if(ee==="--"){k=i.slice(z+1);break}else if(l["halt-at-non-option"]){k=i.slice(z);break}else W(ee)}j(P,!0),j(P,!1),ne(P),O(),Z(P,x.aliases,c,!0),J(P),l["set-placeholder-key"]&&le(P),Object.keys(x.counts).forEach(function(z){ae(P,z.split("."))||re(z,0)}),m&&k.length&&(P[h]=[]),k.forEach(function(z){P[h].push(z)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(P).filter(z=>z!=="--"&&z.includes("-")).forEach(z=>{delete P[z]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(z=>a[z])).forEach(z=>{l["camel-case-expansion"]&&z.includes("-")&&delete P[z.split(".").map(ee=>TC(ee)).join(".")],delete P[z]});function W(z){let ee=se("_",z);(typeof ee=="string"||typeof ee=="number")&&P._.push(ee)}o(W,"pushPositional");function te(z,ee,Fe,_e){let Ce,Oe=ve(ee,x.nargs);if(Oe=typeof Oe!="number"||isNaN(Oe)?1:Oe,Oe===0)return Ae(_e)||(S=Error(E("Argument unexpected for: %s",ee))),re(ee,ot(ee)),z;let Ve=Ae(_e)?0:1;if(l["nargs-eats-options"])Fe.length-(z+1)+Ve<Oe&&(S=Error(E("Not enough arguments following: %s",ee))),Ve=Oe;else{for(Ce=z+1;Ce<Fe.length&&(!Fe[Ce].match(/^-[^0-9]/)||Fe[Ce].match(v)||ft(Fe[Ce]));Ce++)Ve++;Ve<Oe&&(S=Error(E("Not enough arguments following: %s",ee)))}let Ze=Math.min(Ve,Oe);for(!Ae(_e)&&Ze>0&&(re(ee,_e),Ze--),Ce=z+1;Ce<Ze+z+1;Ce++)re(ee,Fe[Ce]);return z+Ze}o(te,"eatNargs");function ge(z,ee,Fe,_e){let Ce=[],Oe=_e||Fe[z+1],Ve=ve(ee,x.nargs);if(ve(ee,x.bools)&&!/^(true|false)$/.test(Oe))Ce.push(!0);else if(Ae(Oe)||Ae(_e)&&/^-/.test(Oe)&&!v.test(Oe)&&!ft(Oe)){if(c[ee]!==void 0){let Ze=c[ee];Ce=Array.isArray(Ze)?Ze:[Ze]}}else{Ae(_e)||Ce.push(q(ee,_e,!0));for(let Ze=z+1;Ze<Fe.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Oe=Fe[Ze],/^-/.test(Oe)&&!v.test(Oe)&&!ft(Oe)));Ze++)z=Ze,Ce.push(q(ee,Oe,s))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(S=Error(E("Not enough arguments following: %s",ee))),re(ee,Ce),z}o(ge,"eatArray");function re(z,ee,Fe=s){if(/-/.test(z)&&l["camel-case-expansion"]){let Oe=z.split(".").map(function(Ve){return TC(Ve)}).join(".");G(z,Oe)}let _e=q(z,ee,Fe),Ce=z.split(".");ce(P,Ce,_e),x.aliases[z]&&x.aliases[z].forEach(function(Oe){let Ve=Oe.split(".");ce(P,Ve,_e)}),Ce.length>1&&l["dot-notation"]&&(x.aliases[Ce[0]]||[]).forEach(function(Oe){let Ve=Oe.split("."),Ze=[].concat(Ce);Ze.shift(),Ve=Ve.concat(Ze),(x.aliases[z]||[]).includes(Ve.join("."))||ce(P,Ve,_e)}),ve(z,x.normalize)&&!ve(z,x.arrays)&&[z].concat(x.aliases[z]||[]).forEach(function(Ve){Object.defineProperty(N,Ve,{enumerable:!0,get(){return ee},set(Ze){ee=typeof Ze=="string"?i1.normalize(Ze):Ze}})})}o(re,"setArg");function G(z,ee){x.aliases[z]&&x.aliases[z].length||(x.aliases[z]=[ee],p[ee]=!0),x.aliases[ee]&&x.aliases[ee].length||G(ee,z)}o(G,"addNewAlias");function q(z,ee,Fe){Fe&&(ee=Mot(ee)),(ve(z,x.bools)||ve(z,x.counts))&&typeof ee=="string"&&(ee=ee==="true");let _e=Array.isArray(ee)?ee.map(function(Ce){return se(z,Ce)}):se(z,ee);return ve(z,x.counts)&&(Ae(_e)||typeof _e=="boolean")&&(_e=lJ()),ve(z,x.normalize)&&ve(z,x.arrays)&&(Array.isArray(ee)?_e=ee.map(Ce=>i1.normalize(Ce)):_e=i1.normalize(ee)),_e}o(q,"processValue");function se(z,ee){return!l["parse-positional-numbers"]&&z==="_"||!ve(z,x.strings)&&!ve(z,x.bools)&&!Array.isArray(ee)&&(zN(ee)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${ee}`)))||!Ae(ee)&&ve(z,x.numbers))&&(ee=Number(ee)),ee}o(se,"maybeCoerceNumber");function ne(z){let ee=Object.create(null);Z(ee,x.aliases,c),Object.keys(x.configs).forEach(function(Fe){let _e=z[Fe]||ee[Fe];if(_e)try{let Ce=null,Oe=i1.resolve(i1.cwd(),_e),Ve=x.configs[Fe];if(typeof Ve=="function"){try{Ce=Ve(Oe)}catch(Ze){Ce=Ze}if(Ce instanceof Error){S=Ce;return}}else Ce=i1.require(Oe);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?S=Ce:z[Fe]&&(S=Error(E("Invalid JSON config file: %s",_e)))}})}o(ne,"setConfig");function H(z,ee){Object.keys(z).forEach(function(Fe){let _e=z[Fe],Ce=ee?ee+"."+Fe:Fe;typeof _e=="object"&&_e!==null&&!Array.isArray(_e)&&l["dot-notation"]?H(_e,Ce):(!ae(P,Ce.split("."))||ve(Ce,x.arrays)&&l["combine-arrays"])&&re(Ce,_e)})}o(H,"setConfigObject");function O(){typeof u<"u"&&u.forEach(function(z){H(z)})}o(O,"setConfigObjects");function j(z,ee){if(typeof f>"u")return;let Fe=typeof f=="string"?f:"",_e=i1.env();Object.keys(_e).forEach(function(Ce){if(Fe===""||Ce.lastIndexOf(Fe,0)===0){let Oe=Ce.split("__").map(function(Ve,Ze){return Ze===0&&(Ve=Ve.substring(Fe.length)),TC(Ve)});(ee&&x.configs[Oe.join(".")]||!ee)&&!ae(z,Oe)&&re(Oe.join("."),_e[Ce])}})}o(j,"applyEnvVars");function J(z){let ee,Fe=new Set;Object.keys(z).forEach(function(_e){if(!Fe.has(_e)&&(ee=ve(_e,x.coercions),typeof ee=="function"))try{let Ce=se(_e,ee(z[_e]));[].concat(x.aliases[_e]||[],_e).forEach(Oe=>{Fe.add(Oe),z[Oe]=Ce})}catch(Ce){S=Ce}})}o(J,"applyCoercions");function le(z){return x.keys.forEach(ee=>{~ee.indexOf(".")||typeof z[ee]>"u"&&(z[ee]=void 0)}),z}o(le,"setPlaceholderKeys");function Z(z,ee,Fe,_e=!1){Object.keys(Fe).forEach(function(Ce){ae(z,Ce.split("."))||(ce(z,Ce.split("."),Fe[Ce]),_e&&(A[Ce]=!0),(ee[Ce]||[]).forEach(function(Oe){ae(z,Oe.split("."))||ce(z,Oe.split("."),Fe[Ce])}))})}o(Z,"applyDefaultsAndAliases");function ae(z,ee){let Fe=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(Ce){Fe=Fe[Ce]||{}});let _e=ee[ee.length-1];return typeof Fe!="object"?!1:_e in Fe}o(ae,"hasKey");function ce(z,ee,Fe){let _e=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(yt){yt=I3e(yt),typeof _e=="object"&&_e[yt]===void 0&&(_e[yt]={}),typeof _e[yt]!="object"||Array.isArray(_e[yt])?(Array.isArray(_e[yt])?_e[yt].push({}):_e[yt]=[_e[yt],{}],_e=_e[yt][_e[yt].length-1]):_e=_e[yt]});let Ce=I3e(ee[ee.length-1]),Oe=ve(ee.join("."),x.arrays),Ve=Array.isArray(Fe),Ze=l["duplicate-arguments-array"];!Ze&&ve(Ce,x.nargs)&&(Ze=!0,(!Ae(_e[Ce])&&x.nargs[Ce]===1||Array.isArray(_e[Ce])&&_e[Ce].length===x.nargs[Ce])&&(_e[Ce]=void 0)),Fe===lJ()?_e[Ce]=lJ(_e[Ce]):Array.isArray(_e[Ce])?Ze&&Oe&&Ve?_e[Ce]=l["flatten-duplicate-arrays"]?_e[Ce].concat(Fe):(Array.isArray(_e[Ce][0])?_e[Ce]:[_e[Ce]]).concat([Fe]):!Ze&&!!Oe==!!Ve?_e[Ce]=Fe:_e[Ce]=_e[Ce].concat([Fe]):_e[Ce]===void 0&&Oe?_e[Ce]=Ve?Fe:[Fe]:Ze&&!(_e[Ce]===void 0||ve(Ce,x.counts)||ve(Ce,x.bools))?_e[Ce]=[_e[Ce],Fe]:_e[Ce]=Fe}o(ce,"setKey");function Re(...z){z.forEach(function(ee){Object.keys(ee||{}).forEach(function(Fe){x.aliases[Fe]||(x.aliases[Fe]=[].concat(a[Fe]||[]),x.aliases[Fe].concat(Fe).forEach(function(_e){if(/-/.test(_e)&&l["camel-case-expansion"]){let Ce=TC(_e);Ce!==Fe&&x.aliases[Fe].indexOf(Ce)===-1&&(x.aliases[Fe].push(Ce),p[Ce]=!0)}}),x.aliases[Fe].concat(Fe).forEach(function(_e){if(_e.length>1&&/[A-Z]/.test(_e)&&l["camel-case-expansion"]){let Ce=$N(_e,"-");Ce!==Fe&&x.aliases[Fe].indexOf(Ce)===-1&&(x.aliases[Fe].push(Ce),p[Ce]=!0)}}),x.aliases[Fe].forEach(function(_e){x.aliases[_e]=[Fe].concat(x.aliases[Fe].filter(function(Ce){return _e!==Ce}))}))})})}o(Re,"extendAliases");function ve(z,ee){let Fe=[].concat(x.aliases[z]||[],z),_e=Object.keys(ee),Ce=Fe.find(Oe=>_e.includes(Oe));return Ce?ee[Ce]:!1}o(ve,"checkAllAliases");function Ue(z){let ee=Object.keys(x);return[].concat(ee.map(_e=>x[_e])).some(function(_e){return Array.isArray(_e)?_e.includes(z):_e[z]})}o(Ue,"hasAnyFlag");function Be(z,...ee){return[].concat(...ee).some(function(_e){let Ce=z.match(_e);return Ce&&Ue(Ce[1])})}o(Be,"hasFlagsMatching");function Je(z){if(z.match(v)||!z.match(/^-[^-]+/))return!1;let ee=!0,Fe,_e=z.slice(1).split("");for(let Ce=0;Ce<_e.length;Ce++){if(Fe=z.slice(Ce+2),!Ue(_e[Ce])){ee=!1;break}if(_e[Ce+1]&&_e[Ce+1]==="="||Fe==="-"||/[A-Za-z]/.test(_e[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Fe)||_e[Ce+1]&&_e[Ce+1].match(/\W/))break}return ee}o(Je,"hasAllShortFlags");function ft(z){return l["unknown-options-as-args"]&&it(z)}o(ft,"isUnknownOptionAsArg");function it(z){return z=z.replace(/^-{3,}/,"--"),z.match(v)||Je(z)?!1:!Be(z,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(it,"isUnknownOption");function ot(z){return!ve(z,x.bools)&&!ve(z,x.counts)&&`${z}`in c?c[z]:ie(Pe(z))}o(ot,"defaultValue");function ie(z){return{[Vf.BOOLEAN]:!0,[Vf.STRING]:"",[Vf.NUMBER]:void 0,[Vf.ARRAY]:[]}[z]}o(ie,"defaultForType");function Pe(z){let ee=Vf.BOOLEAN;return ve(z,x.strings)?ee=Vf.STRING:ve(z,x.numbers)?ee=Vf.NUMBER:ve(z,x.bools)?ee=Vf.BOOLEAN:ve(z,x.arrays)&&(ee=Vf.ARRAY),ee}o(Pe,"guessType");function Ae(z){return z===void 0}o(Ae,"isUndefined");function Ge(){Object.keys(x.counts).find(z=>ve(z,x.arrays)?(S=Error(E("Invalid configuration: %s, opts.count excludes opts.array.",z)),!0):ve(z,x.nargs)?(S=Error(E("Invalid configuration: %s, opts.count excludes opts.narg.",z)),!0):!1)}return o(Ge,"checkConfiguration"),{aliases:Object.assign({},x.aliases),argv:Object.assign(N,P),configuration:l,defaulted:Object.assign({},A),error:S,newAliases:Object.assign({},p)}}};function Qot(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(Qot,"combineAliases");function lJ(e){return e!==void 0?e+1:1}o(lJ,"increment");function I3e(e){return e==="__proto__"?"___proto___":e}o(I3e,"sanitizeKey");function Mot(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(Mot,"stripQuotes");var S3e=require("fs");var cJ,uJ,fJ,T3e=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,w3e=(uJ=(cJ=process==null?void 0:process.versions)===null||cJ===void 0?void 0:cJ.node)!==null&&uJ!==void 0?uJ:(fJ=process==null?void 0:process.version)===null||fJ===void 0?void 0:fJ.slice(1);if(w3e&&Number(w3e.match(/^([^.]+)/)[1])<T3e)throw Error(`yargs parser supports a minimum Node.js version of ${T3e}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Oot=process?process.env:{},B3e=new YN({cwd:process.cwd,env:o(()=>Oot,"env"),format:_3e.format,normalize:KN.normalize,resolve:KN.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,S3e.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),z7=o(function(t,r){return B3e.parse(t.slice(),r).argv},"Parser");z7.detailed=function(e,t){return B3e.parse(e.slice(),t)};z7.camelCase=TC;z7.decamelize=$N;z7.looksLikeNumber=zN;var k3e=z7;var vm=require("path");d();function Uot(){return qot()?0:1}o(Uot,"getProcessArgvBinIndex");function qot(){return Got()&&!process.defaultApp}o(qot,"isBundledElectronApp");function Got(){return!!process.versions.electron}o(Got,"isElectronApp");function R3e(){return process.argv[Uot()]}o(R3e,"getProcessArgvBin");d();var Zo=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var lv=require("fs"),D3e=require("util"),P3e=require("path");var N3e={fs:{readFileSync:lv.readFileSync,writeFile:lv.writeFile},format:D3e.format,resolve:P3e.resolve,exists:o(e=>{try{return(0,lv.statSync)(e).isFile()}catch{return!1}},"exists")};d();var bm,dJ=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),bm.format.apply(bm.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),bm.format.apply(bm.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);bm.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{bm.fs.readFileSync&&(t=JSON.parse(bm.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=bm.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=bm.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return bm.exists(t)}};function F3e(e,t){bm=t;let r=new dJ(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(F3e,"y18n");var Wot=o(e=>F3e(e,N3e),"y18n"),L3e=Wot;var Hot="require is not supported by ESM",Q3e="loading a directory of commands is not supported yet for ESM",Y7;try{Y7=(0,U3e.fileURLToPath)(importMetaUrlShim)}catch{Y7=process.cwd()}var Vot=Y7.substring(0,Y7.lastIndexOf("node_modules")),q3e={assert:{notStrictEqual:JN.notStrictEqual,strictEqual:JN.strictEqual},cliui:sJ,findUp:aJ,getEnv:o(e=>process.env[e],"getEnv"),inspect:M3e.inspect,getCallerFile:o(()=>{throw new Zo(Q3e)},"getCallerFile"),getProcessArgvBin:R3e,mainFilename:Vot||process.cwd(),Parser:k3e,path:{basename:vm.basename,dirname:vm.dirname,extname:vm.extname,relative:vm.relative,resolve:vm.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:O3e.readFileSync,require:o(()=>{throw new Zo(Hot)},"require"),requireDirectory:o(()=>{throw new Zo(Q3e)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:L3e({directory:(0,vm.resolve)(Y7,"../../../locales"),updateFiles:!1})};d();d();d();function Q0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(Q0,"assertNotStrictEqual");function mJ(e,t){t.assert.strictEqual(typeof e,"string")}o(mJ,"assertSingleKey");function cv(e){return Object.keys(e)}o(cv,"objectKeys");d();function es(e){return!!e&&!!e.then&&typeof e.then=="function"}o(es,"isPromise");d();d();d();function s5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(s5,"parseCommand");var jot=["first","second","third","fourth","fifth","sixth"];function Br(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[s5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new Zo(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new Zo(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=G3e(h);m.cmd.filter(E=>E===p||E==="*").length===0&&W3e(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=G3e(h);m.cmd.filter(E=>E===p||E==="*").length===0&&W3e(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(Br,"argsert");function G3e(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o(G3e,"guessType");function W3e(e,t,r){throw new Zo(`Invalid ${jot[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(W3e,"argumentTypeError");var XN=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(Br("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function H3e(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(H3e,"commandMiddlewareFactory");function wC(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(es(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return es(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(wC,"applyMiddleware");d();function _C(e,t,r=n=>{throw n}){try{let n=$ot(e)?e():e;return es(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(_C,"maybeAsyncResult");function $ot(e){return typeof e=="function"}o($ot,"isFunction");d();function hJ(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(hJ,"whichModule");var uv=/(^\*)|(^\$0)/,pJ=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=H3e(s);if(i=i||(()=>{}),Array.isArray(t))if(zot(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(Kot(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(V3e(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=s5(t);l=l.map(h=>s5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>uv.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(uv,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return es(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(ZN(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(es(m))return m.then(h=>(f=$3e(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else Yot(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return es(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=uv.test(r.original)?r.original.replace(uv,"").trim():r.original,i=t.filter(s=>!uv.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=_C(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=wC(n,a,l,!1),n=_C(n,f=>{let m=r.handler(f);return es(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),es(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=wC(n,l,u,!0);return es(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=s5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=uv.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(ZN(r))return r(t,!0);V3e(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=hJ(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;Q0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();Q0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function j3e(e,t,r,n){return new pJ(e,t,r,n)}o(j3e,"command");function V3e(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(V3e,"isCommandBuilderDefinition");function zot(e){return e.every(t=>typeof t=="string")}o(zot,"isCommandAndAliases");function ZN(e){return typeof e=="function"}o(ZN,"isCommandBuilderCallback");function Yot(e){return typeof e=="object"}o(Yot,"isCommandBuilderOptionDefinitions");function Kot(e){return typeof e=="object"&&!Array.isArray(e)}o(Kot,"isCommandHandlerDefinition");d();d();function a5(e={},t=()=>!0){let r={};return cv(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(a5,"objFilter");d();function l5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(l5,"setBlocking");function Jot(e){return typeof e=="boolean"}o(Jot,"isBoolean");function Y3e(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(q){i.push(q)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(q=!0,se){let[ne,H]=typeof q=="string"?[!0,q]:[q,se];return e.getInternalMethods().isGlobalContext()&&(a=H),s=H,l=ne,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(q,se){let ne=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let O=i[H];if(Jot(O)){if(se)throw se;if(q)throw Error(q)}else O(q,se,n)}else{if(e.getExitProcess()&&l5(!0),!c){c=!0,l&&(e.showHelp("error"),ne.error()),(q||se)&&ne.error(q||se);let H=s||a;H&&((q||se)&&ne.error(""),ne.error(H))}if(se=se||new Zo(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,se);throw se}},"fail");let u=[],f=!1;n.usage=(G,q)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,q||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,q)=>{m.push([G,q||""])};let h=[];n.command=o(function(q,se,ne,H,O=!1){ne&&(h=h.map(j=>(j[2]=!1,j))),h.push([q,se||"",ne,H,O])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(q,se){Array.isArray(q)?q.forEach(ne=>{n.describe(ne,se)}):typeof q=="object"?Object.keys(q).forEach(ne=>{n.describe(ne,q[ne])}):p[q]=se},"describe"),n.getDescriptions=()=>p;let A=[];n.epilog=G=>{A.push(G)};let E=!1,x;n.wrap=G=>{E=!0,x=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(E||(x=te(),E=!0),x);let v="__yargsString__:";n.deferY18nLookup=G=>v+G,n.help=o(function(){if(k)return k;S();let q=e.customScriptName?e.$0:t.path.basename(e.$0),se=e.getDemandedOptions(),ne=e.getDemandedCommands(),H=e.getDeprecatedOptions(),O=e.getGroups(),j=e.getOptions(),J=[];J=J.concat(Object.keys(p)),J=J.concat(Object.keys(se)),J=J.concat(Object.keys(ne)),J=J.concat(Object.keys(j.default)),J=J.filter(N),J=Object.keys(J.reduce((Be,Je)=>(Je!=="_"&&(Be[Je]=!0),Be),{}));let le=n.getWrap(),Z=t.cliui({width:le,wrap:!!le});if(!f){if(u.length)u.forEach(Be=>{Z.div({text:`${Be[0].replace(/\$0/g,q)}`}),Be[1]&&Z.div({text:`${Be[1]}`,padding:[1,0,0,0]})}),Z.div();else if(h.length){let Be=null;ne._?Be=`${q} <${r("command")}>
`:Be=`${q} [${r("command")}]
`,Z.div(`${Be}`)}}if(h.length>1||h.length===1&&!h[0][2]){Z.div(r("Commands:"));let Be=e.getInternalMethods().getContext(),Je=Be.commands.length?`${Be.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((it,ot)=>it[0].localeCompare(ot[0])));let ft=q?`${q} `:"";h.forEach(it=>{let ot=`${ft}${Je}${it[0].replace(/^\$0 ?/,"")}`;Z.span({text:ot,padding:[0,2,0,2],width:b(h,le,`${q}${Je}`)+4},{text:it[1]});let ie=[];it[2]&&ie.push(`[${r("default")}]`),it[3]&&it[3].length&&ie.push(`[${r("aliases:")} ${it[3].join(", ")}]`),it[4]&&(typeof it[4]=="string"?ie.push(`[${r("deprecated: %s",it[4])}]`):ie.push(`[${r("deprecated")}]`)),ie.length?Z.div({text:ie.join(" "),padding:[0,0,0,2],align:"right"}):Z.div()}),Z.div()}let ae=(Object.keys(j.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);J=J.filter(Be=>!e.parsed.newAliases[Be]&&ae.every(Je=>(j.alias[Je]||[]).indexOf(Be)===-1));let ce=r("Options:");O[ce]||(O[ce]=[]),P(J,j.alias,O,ce);let Re=o(Be=>/^--/.test(eF(Be)),"isLongSwitch"),ve=Object.keys(O).filter(Be=>O[Be].length>0).map(Be=>{let Je=O[Be].filter(N).map(ft=>{if(ae.includes(ft))return ft;for(let it=0,ot;(ot=ae[it])!==void 0;it++)if((j.alias[ot]||[]).includes(ft))return ot;return ft});return{groupName:Be,normalizedKeys:Je}}).filter(({normalizedKeys:Be})=>Be.length>0).map(({groupName:Be,normalizedKeys:Je})=>{let ft=Je.reduce((it,ot)=>(it[ot]=[ot].concat(j.alias[ot]||[]).map(ie=>Be===n.getPositionalGroupName()?ie:(/^[0-9]$/.test(ie)?j.boolean.includes(ot)?"-":"--":ie.length>1?"--":"-")+ie).sort((ie,Pe)=>Re(ie)===Re(Pe)?0:Re(ie)?1:-1).join(", "),it),{});return{groupName:Be,normalizedKeys:Je,switches:ft}});if(ve.filter(({groupName:Be})=>Be!==n.getPositionalGroupName()).some(({normalizedKeys:Be,switches:Je})=>!Be.every(ft=>Re(Je[ft])))&&ve.filter(({groupName:Be})=>Be!==n.getPositionalGroupName()).forEach(({normalizedKeys:Be,switches:Je})=>{Be.forEach(ft=>{Re(Je[ft])&&(Je[ft]=Xot(Je[ft],4))})}),ve.forEach(({groupName:Be,normalizedKeys:Je,switches:ft})=>{Z.div(Be),Je.forEach(it=>{let ot=ft[it],ie=p[it]||"",Pe=null;ie.includes(v)&&(ie=r(ie.substring(v.length))),j.boolean.includes(it)&&(Pe=`[${r("boolean")}]`),j.count.includes(it)&&(Pe=`[${r("count")}]`),j.string.includes(it)&&(Pe=`[${r("string")}]`),j.normalize.includes(it)&&(Pe=`[${r("string")}]`),j.array.includes(it)&&(Pe=`[${r("array")}]`),j.number.includes(it)&&(Pe=`[${r("number")}]`);let Ae=o(ee=>typeof ee=="string"?`[${r("deprecated: %s",ee)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),Ge=[it in H?Ae(H[it]):null,Pe,it in se?`[${r("required")}]`:null,j.choices&&j.choices[it]?`[${r("choices:")} ${n.stringifiedValues(j.choices[it])}]`:null,W(j.default[it],j.defaultDescription[it])].filter(Boolean).join(" ");Z.span({text:eF(ot),padding:[0,2,0,2+z3e(ot)],width:b(ft,le)+4},ie);let z=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;Ge&&!z?Z.div({text:Ge,padding:[0,0,0,2],align:"right"}):Z.div()}),Z.div()}),m.length&&(Z.div(r("Examples:")),m.forEach(Be=>{Be[0]=Be[0].replace(/\$0/g,q)}),m.forEach(Be=>{Be[1]===""?Z.div({text:Be[0],padding:[0,2,0,2]}):Z.div({text:Be[0],padding:[0,2,0,2],width:b(m,le)+4},{text:Be[1]})}),Z.div()),A.length>0){let Be=A.map(Je=>Je.replace(/\$0/g,q)).join(`
`);Z.div(`${Be}
`)}return Z.toString().replace(/\s*$/,"")},"help");function b(G,q,se){let ne=0;return Array.isArray(G)||(G=Object.values(G).map(H=>[H])),G.forEach(H=>{ne=Math.max(t.stringWidth(se?`${se} ${eF(H[0])}`:eF(H[0]))+z3e(H[0]),ne)}),q&&(ne=Math.min(ne,parseInt((q*.5).toString(),10))),ne}o(b,"maxWidth");function S(){let G=e.getDemandedOptions(),q=e.getOptions();(Object.keys(q.alias)||[]).forEach(se=>{q.alias[se].forEach(ne=>{p[ne]&&n.describe(se,p[ne]),ne in G&&e.demandOption(se,G[ne]),q.boolean.includes(ne)&&e.boolean(se),q.count.includes(ne)&&e.count(se),q.string.includes(ne)&&e.string(se),q.normalize.includes(ne)&&e.normalize(se),q.array.includes(ne)&&e.array(se),q.number.includes(ne)&&e.number(se)})})}o(S,"normalizeAliases");let k;n.cacheHelpMessage=function(){k=this.help()},n.clearCachedHelpMessage=function(){k=void 0},n.hasCachedHelpMessage=function(){return!!k};function P(G,q,se,ne){let H=[],O=null;return Object.keys(se).forEach(j=>{H=H.concat(se[j])}),G.forEach(j=>{O=[j].concat(q[j]),O.some(J=>H.indexOf(J)!==-1)||se[ne].push(j)}),H}o(P,"addUngroupedKeys");function N(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(N,"filterHiddenOptions"),n.showHelp=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(q,se){let ne="",H=se||", ",O=[].concat(q);return!q||!O.length||O.forEach(j=>{ne.length&&(ne+=H),ne+=JSON.stringify(j)}),ne},"stringifiedValues");function W(G,q){let se=`[${r("default:")} `;if(G===void 0&&!q)return null;if(q)se+=q;else switch(typeof G){case"string":se+=`"${G}"`;break;case"object":se+=JSON.stringify(G);break;default:se+=G}return`${se}]`}o(W,"defaultString");function te(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(te,"windowWidth");let ge=null;n.version=G=>{ge=G},n.showVersion=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(ge)},n.reset=o(function(q){return s=null,c=!1,u=[],f=!1,A=[],m=[],h=[],p=a5(p,se=>!q[se]),n},"reset");let re=[];return n.freeze=o(function(){re.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(q=!1){let se=re.pop();se&&(q?(p={...se.descriptions,...p},h=[...se.commands,...h],u=[...se.usages,...u],m=[...se.examples,...m],A=[...se.epilogs,...A]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p}=se)},"unfreeze"),n}o(Y3e,"usage");function gJ(e){return typeof e=="object"}o(gJ,"isIndentedText");function Xot(e,t){return gJ(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(Xot,"addIndentation");function z3e(e){return gJ(e)?e.indentation:0}o(z3e,"getIndentation");function eF(e){return gJ(e)?e.text:e}o(eF,"getText");d();d();var K3e=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,J3e=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var AJ=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(ZN(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=s5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),A=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(v=>{let b=p[v];return typeof b=="string"&&b.length>0}),E=A?p[A]:void 0,x=(c=(l=p[t])!==null&&l!==void 0?l:E)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${x.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(Q0(this.customCompletionFunction,null,this.shim),est(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return es(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return tst(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return es(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?J3e:K3e,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function X3e(e,t,r,n){return new AJ(e,t,r,n)}o(X3e,"completion");function est(e){return e.length<3}o(est,"isSyncCompletionFunction");function tst(e){return e.length>3}o(tst,"isFallbackCompletionFunction");d();d();function Z3e(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(Z3e,"levenshtein");var eCe=["$0","--","_"];function tCe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),A=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(A<h._.min||A>h._.max)&&(A<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),h._.min.toString())):A>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let A of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,A)||typeof m[A]>"u")&&(p=p||{},p[A]=h[A]);if(p){let A=[];for(let x of Object.keys(p)){let v=p[x];v&&A.indexOf(v)<0&&A.push(v)}let E=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+E))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,A,E=!0){var x;let v=e.getInternalMethods().getCommandInstance().getCommands(),b=[],S=e.getInternalMethods().getContext();if(Object.keys(m).forEach(k=>{!eCe.includes(k)&&!Object.prototype.hasOwnProperty.call(p,k)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),k)&&!s.isValidAndSomeAliasIsNotNew(k,h)&&b.push(k)}),E&&(S.commands.length>0||v.length>0||A)&&m._.slice(S.commands.length).forEach(k=>{v.includes(""+k)||b.push(""+k)}),E){let P=((x=e.getDemandedCommands()._)===null||x===void 0?void 0:x.max)||0,N=S.commands.length+P;N<m._.length&&m._.slice(N).forEach(W=>{W=String(W),!S.commands.includes(W)&&!b.includes(W)&&b.push(W)})}b.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",b.length,b.map(k=>k.trim()?k:`"${k}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],A=e.getInternalMethods().getContext();return(A.commands.length>0||h.length>0)&&m._.slice(A.commands.length).forEach(E=>{h.includes(""+E)||p.push(""+E)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(A=>!Object.prototype.hasOwnProperty.call(p,A)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(x=>{eCe.indexOf(x)===-1&&Object.prototype.hasOwnProperty.call(h.choices,x)&&[].concat(m[x]).forEach(v=>{h.choices[x].indexOf(v)===-1&&v!==void 0&&(p[x]=(p[x]||[]).concat(v))})});let A=Object.keys(p);if(!A.length)return;let E=n("Invalid values:");A.forEach(x=>{E+=`
  ${n("Argument: %s, Given: %s, Choices: %s",x,t.stringifiedValues(p[x]),t.stringifiedValues(h.choices[x]))}`}),t.fail(E)},"limitedChoices");let a={};s.implies=o(function(m,h){Br("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(Q0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let A=p;(a[p]||[]).forEach(E=>{let x=A,v=E;x=l(m,x),E=l(m,E),x&&!E&&h.push(` ${A} -> ${v}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(A=>{p+=A}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){Br("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((x,v)=>v.length-x.length);let A=null,E=1/0;for(let x=0,v;(v=h[x])!==void 0;x++){let b=Z3e(m,v);b<=3&&b<E&&(E=b,A=v)}A&&t.fail(n("Did you mean %s?",A))},"recommendCommands"),s.reset=o(function(m){return a=a5(a,h=>!m[h]),c=a5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();Q0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(tCe,"validation");d();var yJ=[],K7;function tF(e,t,r,n){K7=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=nst(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}rst(a),yJ.push(a),i=s?JSON.parse(K7.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=tF(i,K7.path.dirname(a),r,K7)}return yJ=[],r?rCe(i,e):Object.assign({},i,e)}o(tF,"applyExtends");function rst(e){if(yJ.indexOf(e)>-1)throw new Zo(`Circular extended configurations: '${e}'.`)}o(rst,"checkForCircularExtends");function nst(e,t){return K7.path.resolve(e,t)}o(nst,"getPathToDefaultConfig");function rCe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=rCe(e[i],t[i]):r[i]=t[i];return r}o(rCe,"mergeDeep");var Rr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},he=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ra,SC,J7,jf,wu,rF,c5,BC,nF,$f,iF,zf,tp,_u,Yf,oF,fv,ml,Gr,sF,aF,Su,kC,dv,RC,u5,lF,Tn,DC,PC,NC,Nn,cF,rp,Os;function bCe(e){return(t=[],r=e.process.cwd(),n)=>{let i=new BJ(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(bCe,"YargsFactory");var nCe=Symbol("copyDoubleDash"),iCe=Symbol("copyDoubleDash"),CJ=Symbol("deleteFromParserHintObject"),oCe=Symbol("emitWarning"),sCe=Symbol("freeze"),aCe=Symbol("getDollarZero"),FC=Symbol("getParserConfiguration"),lCe=Symbol("getUsageConfiguration"),EJ=Symbol("guessLocale"),cCe=Symbol("guessVersion"),uCe=Symbol("parsePositionalNumbers"),xJ=Symbol("pkgUp"),f5=Symbol("populateParserHintArray"),mv=Symbol("populateParserHintSingleValueDictionary"),bJ=Symbol("populateParserHintArrayDictionary"),vJ=Symbol("populateParserHintDictionary"),IJ=Symbol("sanitizeKey"),TJ=Symbol("setKey"),wJ=Symbol("unfreeze"),fCe=Symbol("validateAsync"),dCe=Symbol("getCommandInstance"),mCe=Symbol("getContext"),hCe=Symbol("getHasOutput"),pCe=Symbol("getLoggerInstance"),gCe=Symbol("getParseContext"),ACe=Symbol("getUsageInstance"),yCe=Symbol("getValidationInstance"),uF=Symbol("hasParseCallback"),CCe=Symbol("isGlobalContext"),LC=Symbol("postProcess"),ECe=Symbol("rebase"),_J=Symbol("reset"),X7=Symbol("runYargsParserAndExecuteCommands"),SJ=Symbol("runValidation"),xCe=Symbol("setHasOutput"),QC=Symbol("kTrackManuallySetKeys"),BJ=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,ra.set(this,void 0),SC.set(this,void 0),J7.set(this,{commands:[],fullCommands:[]}),jf.set(this,null),wu.set(this,null),rF.set(this,"show-hidden"),c5.set(this,null),BC.set(this,!0),nF.set(this,{}),$f.set(this,!0),iF.set(this,[]),zf.set(this,void 0),tp.set(this,{}),_u.set(this,!1),Yf.set(this,null),oF.set(this,!0),fv.set(this,void 0),ml.set(this,""),Gr.set(this,void 0),sF.set(this,void 0),aF.set(this,{}),Su.set(this,null),kC.set(this,null),dv.set(this,{}),RC.set(this,{}),u5.set(this,void 0),lF.set(this,!1),Tn.set(this,void 0),DC.set(this,!1),PC.set(this,!1),NC.set(this,!1),Nn.set(this,void 0),cF.set(this,{}),rp.set(this,null),Os.set(this,void 0),Rr(this,Tn,i,"f"),Rr(this,u5,t,"f"),Rr(this,SC,r,"f"),Rr(this,sF,n,"f"),Rr(this,zf,new XN(this),"f"),this.$0=this[aCe](),this[_J](),Rr(this,ra,he(this,ra,"f"),"f"),Rr(this,Nn,he(this,Nn,"f"),"f"),Rr(this,Os,he(this,Os,"f"),"f"),Rr(this,Gr,he(this,Gr,"f"),"f"),he(this,Gr,"f").showHiddenOpt=he(this,rF,"f"),Rr(this,fv,this[iCe](),"f")}addHelpOpt(t,r){let n="help";return Br("[string|boolean] [string]",[t,r],arguments.length),he(this,Yf,"f")&&(this[CJ](he(this,Yf,"f")),Rr(this,Yf,null,"f")),t===!1&&r===void 0?this:(Rr(this,Yf,typeof t=="string"?t:n,"f"),this.boolean(he(this,Yf,"f")),this.describe(he(this,Yf,"f"),r||he(this,Nn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(Br("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:he(this,rF,"f");return this.boolean(n),this.describe(n,r||he(this,Nn,"f").deferY18nLookup("Show hidden options")),he(this,Gr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return Br("<object|string|array> [string|array]",[t,r],arguments.length),this[bJ](this.alias.bind(this),"alias",t,r),this}array(t){return Br("<array|string>",[t],arguments.length),this[f5]("array",t),this[QC](t),this}boolean(t){return Br("<array|string>",[t],arguments.length),this[f5]("boolean",t),this[QC](t),this}check(t,r){return Br("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>_C(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&he(this,Nn,"f").fail(s.toString(),s):he(this,Nn,"f").fail(he(this,Tn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(he(this,Nn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return Br("<object|string|array> [string|array]",[t,r],arguments.length),this[bJ](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(Br("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new Zo("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new Zo("coerce callback must be provided");return he(this,Gr,"f").key[t]=!0,he(this,zf,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?_C(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new Zo(l.message)}):n},t),this}conflicts(t,r){return Br("<string|object> [string|array]",[t,r],arguments.length),he(this,Os,"f").conflicts(t,r),this}config(t="config",r,n){return Br("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=tF(t,he(this,SC,"f"),this[FC]()["deep-merge-config"]||!1,he(this,Tn,"f")),he(this,Gr,"f").configObjects=(he(this,Gr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||he(this,Nn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{he(this,Gr,"f").config[i]=n||!0}),this)}completion(t,r,n){return Br("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Rr(this,wu,t||he(this,wu,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(he(this,wu,"f"),r),n&&he(this,jf,"f").registerFunction(n),this}command(t,r,n,i,s,a){return Br("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),he(this,ra,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){Br("<string> [object]",[t,r],arguments.length);let n=he(this,sF,"f")||he(this,Tn,"f").require;return he(this,ra,"f").addDirectory(t,n,he(this,Tn,"f").getCallerFile(),r),this}count(t){return Br("<array|string>",[t],arguments.length),this[f5]("count",t),this[QC](t),this}default(t,r,n){return Br("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(mJ(t,he(this,Tn,"f")),he(this,Gr,"f").defaultDescription[t]=n),typeof r=="function"&&(mJ(t,he(this,Tn,"f")),he(this,Gr,"f").defaultDescription[t]||(he(this,Gr,"f").defaultDescription[t]=he(this,Nn,"f").functionDescription(r)),r=r.call()),this[mv](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return Br("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),he(this,Gr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{Q0(n,!0,he(this,Tn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(Q0(n,!0,he(this,Tn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{Q0(n,!0,he(this,Tn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return Br("<object|string|array> [string]",[t,r],arguments.length),this[mv](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return Br("<string> [string|boolean]",[t,r],arguments.length),he(this,Gr,"f").deprecatedOptions[t]=r,this}describe(t,r){return Br("<object|string|array> [string]",[t,r],arguments.length),this[TJ](t,!0),he(this,Nn,"f").describe(t,r),this}detectLocale(t){return Br("<boolean>",[t],arguments.length),Rr(this,BC,t,"f"),this}env(t){return Br("[string|boolean]",[t],arguments.length),t===!1?delete he(this,Gr,"f").envPrefix:he(this,Gr,"f").envPrefix=t||"",this}epilogue(t){return Br("<string>",[t],arguments.length),he(this,Nn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return Br("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):he(this,Nn,"f").example(t,r),this}exit(t,r){Rr(this,_u,!0,"f"),Rr(this,c5,r,"f"),he(this,$f,"f")&&he(this,Tn,"f").process.exit(t)}exitProcess(t=!0){return Br("[boolean]",[t],arguments.length),Rr(this,$f,t,"f"),this}fail(t){if(Br("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new Zo("Invalid first argument. Expected function or boolean 'false'");return he(this,Nn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return Br("<array> [function]",[t,r],arguments.length),r?he(this,jf,"f").getCompletion(t,r):new Promise((n,i)=>{he(this,jf,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return Br([],0),he(this,Gr,"f").demandedOptions}getDemandedCommands(){return Br([],0),he(this,Gr,"f").demandedCommands}getDeprecatedOptions(){return Br([],0),he(this,Gr,"f").deprecatedOptions}getDetectLocale(){return he(this,BC,"f")}getExitProcess(){return he(this,$f,"f")}getGroups(){return Object.assign({},he(this,tp,"f"),he(this,RC,"f"))}getHelp(){if(Rr(this,_u,!0,"f"),!he(this,Nn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[X7](he(this,u5,"f"),void 0,void 0,0,!0);if(es(r))return r.then(()=>he(this,Nn,"f").help())}let t=he(this,ra,"f").runDefaultBuilderOn(this);if(es(t))return t.then(()=>he(this,Nn,"f").help())}return Promise.resolve(he(this,Nn,"f").help())}getOptions(){return he(this,Gr,"f")}getStrict(){return he(this,DC,"f")}getStrictCommands(){return he(this,PC,"f")}getStrictOptions(){return he(this,NC,"f")}global(t,r){return Br("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?he(this,Gr,"f").local=he(this,Gr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{he(this,Gr,"f").local.includes(n)||he(this,Gr,"f").local.push(n)}),this}group(t,r){Br("<string|array> <string>",[t,r],arguments.length);let n=he(this,RC,"f")[r]||he(this,tp,"f")[r];he(this,RC,"f")[r]&&delete he(this,RC,"f")[r];let i={};return he(this,tp,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return Br("<string>",[t],arguments.length),he(this,Gr,"f").hiddenOptions.push(t),this}implies(t,r){return Br("<string|object> [number|string|array]",[t,r],arguments.length),he(this,Os,"f").implies(t,r),this}locale(t){return Br("[string]",[t],arguments.length),t===void 0?(this[EJ](),he(this,Tn,"f").y18n.getLocale()):(Rr(this,BC,!1,"f"),he(this,Tn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return he(this,zf,"f").addMiddleware(t,!!r,n)}nargs(t,r){return Br("<string|object|array> [number]",[t,r],arguments.length),this[mv](this.nargs.bind(this),"narg",t,r),this}normalize(t){return Br("<array|string>",[t],arguments.length),this[f5]("normalize",t),this}number(t){return Br("<array|string>",[t],arguments.length),this[f5]("number",t),this[QC](t),this}option(t,r){if(Br("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[QC](t),he(this,rp,"f")&&(t==="version"||r?.alias==="version")&&this[oCe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),he(this,Gr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(he(this,Gr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=he(this,Nn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){Br("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[sCe](),typeof t>"u"&&(t=he(this,u5,"f")),typeof r=="object"&&(Rr(this,kC,r,"f"),r=n),typeof r=="function"&&(Rr(this,Su,r,"f"),r=!1),r||Rr(this,u5,t,"f"),he(this,Su,"f")&&Rr(this,$f,!1,"f");let i=this[X7](t,!!r),s=this.parsed;return he(this,jf,"f").setParsed(this.parsed),es(i)?i.then(a=>(he(this,Su,"f")&&he(this,Su,"f").call(this,he(this,c5,"f"),a,he(this,ml,"f")),a)).catch(a=>{throw he(this,Su,"f")&&he(this,Su,"f")(a,this.parsed.argv,he(this,ml,"f")),a}).finally(()=>{this[wJ](),this.parsed=s}):(he(this,Su,"f")&&he(this,Su,"f").call(this,he(this,c5,"f"),i,he(this,ml,"f")),this[wJ](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return es(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(es(i))throw new Zo(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return Br("<object>",[t],arguments.length),Rr(this,aF,t,"f"),this}pkgConf(t,r){Br("<string> [string]",[t,r],arguments.length);let n=null,i=this[xJ](r||he(this,SC,"f"));return i[t]&&typeof i[t]=="object"&&(n=tF(i[t],r||he(this,SC,"f"),this[FC]()["deep-merge-config"]||!1,he(this,Tn,"f")),he(this,Gr,"f").configObjects=(he(this,Gr,"f").configObjects||[]).concat(n)),this}positional(t,r){Br("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=a5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=he(this,J7,"f").fullCommands[he(this,J7,"f").fullCommands.length-1],s=i?he(this,ra,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return cv(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,he(this,Nn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return Br("[boolean]",[t],arguments.length),Rr(this,lF,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return Br("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&he(this,Gr,"f").narg[t]?this:(this[mv](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return Br("[string] [string]",[t,r],arguments.length),t=t||this.$0,he(this,fv,"f").log(he(this,jf,"f").generateCompletionScript(t,r||he(this,wu,"f")||"completion")),this}showHelp(t){if(Br("[string|function]",[t],arguments.length),Rr(this,_u,!0,"f"),!he(this,Nn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[X7](he(this,u5,"f"),void 0,void 0,0,!0);if(es(n))return n.then(()=>{he(this,Nn,"f").showHelp(t)}),this}let r=he(this,ra,"f").runDefaultBuilderOn(this);if(es(r))return r.then(()=>{he(this,Nn,"f").showHelp(t)}),this}return he(this,Nn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return Br("[boolean|string] [string]",[t,r],arguments.length),he(this,Nn,"f").showHelpOnFail(t,r),this}showVersion(t){return Br("[string|function]",[t],arguments.length),he(this,Nn,"f").showVersion(t),this}skipValidation(t){return Br("<array|string>",[t],arguments.length),this[f5]("skipValidation",t),this}strict(t){return Br("[boolean]",[t],arguments.length),Rr(this,DC,t!==!1,"f"),this}strictCommands(t){return Br("[boolean]",[t],arguments.length),Rr(this,PC,t!==!1,"f"),this}strictOptions(t){return Br("[boolean]",[t],arguments.length),Rr(this,NC,t!==!1,"f"),this}string(t){return Br("<array|string>",[t],arguments.length),this[f5]("string",t),this[QC](t),this}terminalWidth(){return Br([],0),he(this,Tn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return Br("<object>",[t],arguments.length),Rr(this,BC,!1,"f"),he(this,Tn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(Br("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(Q0(t,null,he(this,Tn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new Zo(".usage() description must start with $0 if being used as alias for .command()")}else return he(this,Nn,"f").usage(t),this}usageConfiguration(t){return Br("<object>",[t],arguments.length),Rr(this,cF,t,"f"),this}version(t,r,n){let i="version";if(Br("[boolean|string] [string] [string]",[t,r,n],arguments.length),he(this,rp,"f")&&(this[CJ](he(this,rp,"f")),he(this,Nn,"f").version(void 0),Rr(this,rp,null,"f")),arguments.length===0)n=this[cCe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Rr(this,rp,typeof t=="string"?t:i,"f"),r=r||he(this,Nn,"f").deferY18nLookup("Show version number"),he(this,Nn,"f").version(n||void 0),this.boolean(he(this,rp,"f")),this.describe(he(this,rp,"f"),r),this}wrap(t){return Br("<number|null|undefined>",[t],arguments.length),he(this,Nn,"f").wrap(t),this}[(ra=new WeakMap,SC=new WeakMap,J7=new WeakMap,jf=new WeakMap,wu=new WeakMap,rF=new WeakMap,c5=new WeakMap,BC=new WeakMap,nF=new WeakMap,$f=new WeakMap,iF=new WeakMap,zf=new WeakMap,tp=new WeakMap,_u=new WeakMap,Yf=new WeakMap,oF=new WeakMap,fv=new WeakMap,ml=new WeakMap,Gr=new WeakMap,sF=new WeakMap,aF=new WeakMap,Su=new WeakMap,kC=new WeakMap,dv=new WeakMap,RC=new WeakMap,u5=new WeakMap,lF=new WeakMap,Tn=new WeakMap,DC=new WeakMap,PC=new WeakMap,NC=new WeakMap,Nn=new WeakMap,cF=new WeakMap,rp=new WeakMap,Os=new WeakMap,nCe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[iCe](){return{log:o((...t)=>{this[uF]()||console.log(...t),Rr(this,_u,!0,"f"),he(this,ml,"f").length&&Rr(this,ml,he(this,ml,"f")+`
`,"f"),Rr(this,ml,he(this,ml,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[uF]()||console.error(...t),Rr(this,_u,!0,"f"),he(this,ml,"f").length&&Rr(this,ml,he(this,ml,"f")+`
`,"f"),Rr(this,ml,he(this,ml,"f")+t.join(" "),"f")},"error")}}[CJ](t){cv(he(this,Gr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=he(this,Gr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete he(this,Nn,"f").getDescriptions()[t]}[oCe](t,r,n){he(this,nF,"f")[n]||(he(this,Tn,"f").process.emitWarning(t,r),he(this,nF,"f")[n]=!0)}[sCe](){he(this,iF,"f").push({options:he(this,Gr,"f"),configObjects:he(this,Gr,"f").configObjects.slice(0),exitProcess:he(this,$f,"f"),groups:he(this,tp,"f"),strict:he(this,DC,"f"),strictCommands:he(this,PC,"f"),strictOptions:he(this,NC,"f"),completionCommand:he(this,wu,"f"),output:he(this,ml,"f"),exitError:he(this,c5,"f"),hasOutput:he(this,_u,"f"),parsed:this.parsed,parseFn:he(this,Su,"f"),parseContext:he(this,kC,"f")}),he(this,Nn,"f").freeze(),he(this,Os,"f").freeze(),he(this,ra,"f").freeze(),he(this,zf,"f").freeze()}[aCe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(he(this,Tn,"f").process.argv()[0])?r=he(this,Tn,"f").process.argv().slice(1,2):r=he(this,Tn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[ECe](he(this,SC,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),he(this,Tn,"f").getEnv("_")&&he(this,Tn,"f").getProcessArgvBin()===he(this,Tn,"f").getEnv("_")&&(t=he(this,Tn,"f").getEnv("_").replace(`${he(this,Tn,"f").path.dirname(he(this,Tn,"f").process.execPath())}/`,"")),t}[FC](){return he(this,aF,"f")}[lCe](){return he(this,cF,"f")}[EJ](){if(!he(this,BC,"f"))return;let t=he(this,Tn,"f").getEnv("LC_ALL")||he(this,Tn,"f").getEnv("LC_MESSAGES")||he(this,Tn,"f").getEnv("LANG")||he(this,Tn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[cCe](){return this[xJ]().version||"unknown"}[uCe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)he(this,Tn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[xJ](t){let r=t||"*";if(he(this,dv,"f")[r])return he(this,dv,"f")[r];let n={};try{let i=t||he(this,Tn,"f").mainFilename;!t&&he(this,Tn,"f").path.extname(i)&&(i=he(this,Tn,"f").path.dirname(i));let s=he(this,Tn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});Q0(s,void 0,he(this,Tn,"f")),n=JSON.parse(he(this,Tn,"f").readFileSync(s,"utf8"))}catch{}return he(this,dv,"f")[r]=n||{},he(this,dv,"f")[r]}[f5](t,r){r=[].concat(r),r.forEach(n=>{n=this[IJ](n),he(this,Gr,"f")[t].push(n)})}[mv](t,r,n,i){this[vJ](t,r,n,i,(s,a,l)=>{he(this,Gr,"f")[s][a]=l})}[bJ](t,r,n,i){this[vJ](t,r,n,i,(s,a,l)=>{he(this,Gr,"f")[s][a]=(he(this,Gr,"f")[s][a]||[]).concat(l)})}[vJ](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of cv(n))t(a,n[a]);else s(r,this[IJ](n),i)}[IJ](t){return t==="__proto__"?"___proto___":t}[TJ](t,r){return this[mv](this[TJ].bind(this),"key",t,r),this}[wJ](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=he(this,iF,"f").pop();Q0(p,void 0,he(this,Tn,"f"));let A;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(E){Rr(t,Gr,E,"f")}}.value,configObjects:A,exitProcess:{set value(E){Rr(r,$f,E,"f")}}.value,groups:{set value(E){Rr(n,tp,E,"f")}}.value,output:{set value(E){Rr(i,ml,E,"f")}}.value,exitError:{set value(E){Rr(s,c5,E,"f")}}.value,hasOutput:{set value(E){Rr(a,_u,E,"f")}}.value,parsed:this.parsed,strict:{set value(E){Rr(l,DC,E,"f")}}.value,strictCommands:{set value(E){Rr(c,PC,E,"f")}}.value,strictOptions:{set value(E){Rr(u,NC,E,"f")}}.value,completionCommand:{set value(E){Rr(f,wu,E,"f")}}.value,parseFn:{set value(E){Rr(m,Su,E,"f")}}.value,parseContext:{set value(E){Rr(h,kC,E,"f")}}.value}=p,he(this,Gr,"f").configObjects=A,he(this,Nn,"f").unfreeze(),he(this,Os,"f").unfreeze(),he(this,ra,"f").unfreeze(),he(this,zf,"f").unfreeze()}[fCe](t,r){return _C(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[dCe].bind(this),getContext:this[mCe].bind(this),getHasOutput:this[hCe].bind(this),getLoggerInstance:this[pCe].bind(this),getParseContext:this[gCe].bind(this),getParserConfiguration:this[FC].bind(this),getUsageConfiguration:this[lCe].bind(this),getUsageInstance:this[ACe].bind(this),getValidationInstance:this[yCe].bind(this),hasParseCallback:this[uF].bind(this),isGlobalContext:this[CCe].bind(this),postProcess:this[LC].bind(this),reset:this[_J].bind(this),runValidation:this[SJ].bind(this),runYargsParserAndExecuteCommands:this[X7].bind(this),setHasOutput:this[xCe].bind(this)}}[dCe](){return he(this,ra,"f")}[mCe](){return he(this,J7,"f")}[hCe](){return he(this,_u,"f")}[pCe](){return he(this,fv,"f")}[gCe](){return he(this,kC,"f")||{}}[ACe](){return he(this,Nn,"f")}[yCe](){return he(this,Os,"f")}[uF](){return!!he(this,Su,"f")}[CCe](){return he(this,oF,"f")}[LC](t,r,n,i){return n||es(t)||(r||(t=this[nCe](t)),(this[FC]()["parse-positional-numbers"]||this[FC]()["parse-positional-numbers"]===void 0)&&(t=this[uCe](t)),i&&(t=wC(t,this,he(this,zf,"f").getMiddleware(),!1))),t}[_J](t={}){Rr(this,Gr,he(this,Gr,"f")||{},"f");let r={};r.local=he(this,Gr,"f").local||[],r.configObjects=he(this,Gr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(he(this,RC,"f"),Object.keys(he(this,tp,"f")).reduce((a,l)=>{let c=he(this,tp,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Rr(this,tp,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(he(this,Gr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=a5(he(this,Gr,"f")[a],l=>!n[l])}),r.envPrefix=he(this,Gr,"f").envPrefix,Rr(this,Gr,r,"f"),Rr(this,Nn,he(this,Nn,"f")?he(this,Nn,"f").reset(n):Y3e(this,he(this,Tn,"f")),"f"),Rr(this,Os,he(this,Os,"f")?he(this,Os,"f").reset(n):tCe(this,he(this,Nn,"f"),he(this,Tn,"f")),"f"),Rr(this,ra,he(this,ra,"f")?he(this,ra,"f").reset():j3e(he(this,Nn,"f"),he(this,Os,"f"),he(this,zf,"f"),he(this,Tn,"f")),"f"),he(this,jf,"f")||Rr(this,jf,X3e(this,he(this,Nn,"f"),he(this,ra,"f"),he(this,Tn,"f")),"f"),he(this,zf,"f").reset(),Rr(this,wu,null,"f"),Rr(this,ml,"","f"),Rr(this,c5,null,"f"),Rr(this,_u,!1,"f"),this.parsed=!1,this}[ECe](t,r){return he(this,Tn,"f").path.relative(t,r)}[X7](t,r,n,i=0,s=!1){let a=!!n||s;t=t||he(this,u5,"f"),he(this,Gr,"f").__=he(this,Tn,"f").y18n.__,he(this,Gr,"f").configuration=this[FC]();let l=!!he(this,Gr,"f").configuration["populate--"],c=Object.assign({},he(this,Gr,"f").configuration,{"populate--":!0}),u=he(this,Tn,"f").Parser.detailed(t,Object.assign({},he(this,Gr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,he(this,kC,"f")),m,h=u.aliases,p=!1,A=!1;Object.keys(f).forEach(E=>{E===he(this,Yf,"f")&&f[E]?p=!0:E===he(this,rp,"f")&&f[E]&&(A=!0)}),f.$0=this.$0,this.parsed=u,i===0&&he(this,Nn,"f").clearCachedHelpMessage();try{if(this[EJ](),r)return this[LC](f,l,!!n,!1);he(this,Yf,"f")&&[he(this,Yf,"f")].concat(h[he(this,Yf,"f")]||[]).filter(S=>S.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Rr(this,oF,!1,"f");let E=he(this,ra,"f").getCommands(),x=he(this,jf,"f").completionKey in f,v=p||x||s;if(f._.length){if(E.length){let b;for(let S=i||0,k;f._[S]!==void 0;S++)if(k=String(f._[S]),E.includes(k)&&k!==he(this,wu,"f")){let P=he(this,ra,"f").runCommand(k,this,u,S+1,s,p||A||s);return this[LC](P,l,!!n,!1)}else if(!b&&k!==he(this,wu,"f")){b=k;break}!he(this,ra,"f").hasDefaultCommand()&&he(this,lF,"f")&&b&&!v&&he(this,Os,"f").recommendCommands(b,E)}he(this,wu,"f")&&f._.includes(he(this,wu,"f"))&&!x&&(he(this,$f,"f")&&l5(!0),this.showCompletionScript(),this.exit(0))}if(he(this,ra,"f").hasDefaultCommand()&&!v){let b=he(this,ra,"f").runCommand(null,this,u,0,s,p||A||s);return this[LC](b,l,!!n,!1)}if(x){he(this,$f,"f")&&l5(!0),t=[].concat(t);let b=t.slice(t.indexOf(`--${he(this,jf,"f").completionKey}`)+1);return he(this,jf,"f").getCompletion(b,(S,k)=>{if(S)throw new Zo(S.message);(k||[]).forEach(P=>{he(this,fv,"f").log(P)}),this.exit(0)}),this[LC](f,!l,!!n,!1)}if(he(this,_u,"f")||(p?(he(this,$f,"f")&&l5(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(he(this,$f,"f")&&l5(!0),a=!0,he(this,Nn,"f").showVersion("log"),this.exit(0))),!a&&he(this,Gr,"f").skipValidation.length>0&&(a=Object.keys(f).some(b=>he(this,Gr,"f").skipValidation.indexOf(b)>=0&&f[b]===!0)),!a){if(u.error)throw new Zo(u.error.message);if(!x){let b=this[SJ](h,{},u.error);n||(m=wC(f,this,he(this,zf,"f").getMiddleware(),!0)),m=this[fCe](b,m??f),es(m)&&!n&&(m=m.then(()=>wC(f,this,he(this,zf,"f").getMiddleware(),!1)))}}}catch(E){if(E instanceof Zo)he(this,Nn,"f").fail(E.message,E);else throw E}return this[LC](m??f,l,!!n,!0)}[SJ](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new Zo(n.message);he(this,Os,"f").nonOptionCount(a),he(this,Os,"f").requiredArguments(a,s);let l=!1;he(this,PC,"f")&&(l=he(this,Os,"f").unknownCommands(a)),he(this,DC,"f")&&!l?he(this,Os,"f").unknownArguments(a,t,r,!!i):he(this,NC,"f")&&he(this,Os,"f").unknownArguments(a,t,{},!1,!1),he(this,Os,"f").limitedChoices(a),he(this,Os,"f").implications(a),he(this,Os,"f").conflicting(a)}}[xCe](){Rr(this,_u,!0,"f")}[QC](t){if(typeof t=="string")he(this,Gr,"f").key[t]=!0;else for(let r of t)he(this,Gr,"f").key[r]=!0}};function $3e(e){return!!e&&typeof e.getInternalMethods=="function"}o($3e,"isYargsInstance");var ist=bCe(q3e),vCe=ist;d();d();var Z7="apps",kJ="hosts",eT=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(Z7,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(Z7,this.authRecordKey(this.ctx,this.ctx.get(Ms).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(kJ,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(Ms).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(Ms).findAppIdToAuthenticate();await this.persistenceManager.update(Z7,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(Ms).fallbackAppId();r===n&&await this.persistenceManager.delete(kJ,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(Ms).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(kJ,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(Z7,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(Z7,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(vn).getAuthAuthority(),i=r??t.get(Ms).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(vn).getAuthAuthority()}};d();d();var fF={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function ICe(e,t){let r=tn.createAndMarkAsIssued({authSource:t});return Xt(e,fF.AuthNotifyShown,r)}o(ICe,"telemetryAuthNotifyShown");function TCe(e){return Xt(e,fF.AuthNotifyDismissed)}o(TCe,"telemetryAuthNotifyDismissed");function dF(e,t,r){let n=tn.createAndMarkAsIssued({authSource:t,authType:r});return Xt(e,fF.NewGitHubLogin,n)}o(dF,"telemetryNewGitHubLogin");function mF(e,t){let r=tn.createAndMarkAsIssued({authType:t});return Xt(e,fF.GitHubLoginSuccess,r)}o(mF,"telemetryGitHubLoginSuccess");async function ost(e,t){dF(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...i0(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Nr).fetch(e.get(vn).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&W9(i)?new Ns(`Could not log in with device flow on ${e.get(vn).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Ns(`Could not log in with device flow on ${e.get(vn).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(ost,"requestDeviceFlowStage1");async function sst(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...i0(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Nr).fetch(e.get(vn).getDeviceFlowCompletionUrl(),n)).json()}o(sst,"requestDeviceFlowStage2");async function ast(e,t){return mF(e,"deviceFlow"),await(await e.get(Nr).fetch(e.get(vn).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(ast,"requestUserInfo");var MC=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get(xc).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await ost(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await sst(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{user:(await ast(t,a)).login,oauth_token:a}}throw new Ns("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var Bu=class{static{o(this,"CitationManager")}},hF=class extends Bu{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();d();var hv=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};d();var RJ=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},pF=class extends RJ{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Im=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Er("AsyncCompletionManager");this.requests=new Rn(100);this.mostRecentRequestId="";Va(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=ai(this.ctx,qt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(er).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(DJ(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new pF;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(er).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new hv,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(DJ(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)DJ(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function DJ(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(DJ,"isCandidate");d();var pv=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();var gF=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var gv=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};d();d();async function*d5(e,t){for await(let r of e)yield t(r)}o(d5,"asyncIterableMap");async function*wCe(e,t){for await(let r of e)await t(r)&&(yield r)}o(wCe,"asyncIterableFilter");async function*OC(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(OC,"asyncIterableMapFilter");async function*_Ce(e){for(let t of e)yield t}o(_Ce,"asyncIterableFromArray");async function*SCe(...e){for(let t of e)yield*t}o(SCe,"asyncIterableConcat");d();function BCe(e,t,r,n,i,s,a){return $Ae(e,t,r,i,n),{completionText:t,meanLogProb:lst(e,r),meanAlternativeLogProb:cst(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Sr()}}o(BCe,"convertToAPIChoice");async function*kCe(e,t){for await(let r of e){let n={...r},i=n.completionText.split(`
`);for(let s=0;s<i.length;++s){let a=i[s].trimLeft();a===""?i[s]=a:i[s]=t+a}n.completionText=i.join(`
`),yield n}}o(kCe,"cleanupIndentChoices");function lst(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){ei.exception(e,r,"Error calculating mean prob")}}o(lst,"calculateMeanLogProb");function cst(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){ei.exception(e,r,"Error calculating mean prob")}}o(cst,"calculateMeanAlternativeLogProb");function Av(e,t){return fm(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(Av,"getTemperatureForSamples");var ust={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function RCe(e,t){return ust[t??""]??[`


`,"\n```"]}o(RCe,"getStops");function AF(e){return 1}o(AF,"getTopP");function yF(e){return M7}o(yF,"getMaxSolutionTokens");d();var wc=new Er("streamChoices"),PJ=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new LJ;this.tool_calls=[];this.function_call=new FJ;this.copilot_references=[]}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new NJ),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call)}};function fst(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(fst,"splitChunk");var NJ=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},FJ=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},LJ=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},qC=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=UC(this.response);this.stats=new QJ(this.expectedNumChoices);this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();return l.setEncoding("utf8"),new e(t,r,n,l,i,s??["content_filter"],a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),wc.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),wc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;wc.debug(this.ctx,"chunk",a.toString());let[l,c]=fst(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s);return}n=null;let m;try{m=JSON.parse(f)}catch{wc.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&dst(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?wc.error(this.ctx,"Error in response:",m.error.message):wc.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=UC(this.response,m),this.requestId.created===0&&m.choices?.length&&wc.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];wc.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new PJ);let A=this.solutions[p.index];if(A==null)continue;A.append(p);let E,x=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||x){let S=A.text.join("");if(E=await t(S,{text:S,requestId:this.requestId,annotations:A.copilot_annotations,copilotReferences:A.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&A.function_call.name!==void 0){n=p.finish_reason;continue}if(!(p.finish_reason||E!==void 0))continue;let b=p.finish_reason??"client-trimmed";if(Xt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:b,engineName:i??"",engineChoiceSource:J2(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:(this.stats.markYielded(p.index),yield{solution:A,finishOffset:E,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s}),this.maybeCancel("after yielding finished choice"))return;this.solutions[p.index]=null}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Xt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&wc.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{wc.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(t,r,n){for(let[i,s]of Object.entries(this.solutions)){let a=Number(i);if(s!=null&&(this.stats.markYielded(a),Xt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:s,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:a,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(wc.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function OJ(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(wc.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),wc.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),wc.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=UJ(t.solution);return BCe(e,n,s,t.index,t.requestId,i,r)}o(OJ,"prepareSolutionForReturn");function UJ(e){let t=e.text.join(""),r=mst(e),n=hst(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(UJ,"convertToAPIJsonData");function dst(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(dst,"isCopilotConfirmation");function mst(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(mst,"extractToolCalls");function hst(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(hst,"extractFunctionCall");var QJ=class{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new MJ)}static{o(this,"ChunkStats")}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},MJ=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function CF(e,t){return e!==null&&typeof e=="object"&&t in e}o(CF,"hasKey");function Tm(e,t){return CF(e,t)?e[t]:void 0}o(Tm,"getKey");var NCe=ct(require("util"));var g0=new Er("fetchCompletions");function UC(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(UC,"getRequestId");function rT(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(rT,"getProcessingTime");function nT(e,t){let r=t.split("/").pop();return r||(g0.error(e,"Malformed engine URL: "+t),t)}o(nT,"extractEngineName");function pst(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(pst,"uiKindToIntent");var Kf=class{static{o(this,"OpenAIFetcher")}};async function DCe(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(Yi),h=NCe.format("%s/%s",r,n),p=c.extendedBy({endpoint:n,engineName:nT(e,r),uiKind:l},Mb(t));for(let[x,v]of Object.entries(s))x=="prompt"||x=="suffix"||x=="context"||(p.properties[`request.option.${x}`]=JSON.stringify(v)??"undefined");p.properties.headerRequestId=i,Xt(e,"request.sent",p);let A=ql(),E=pst(l);return Ux(e,h,a.token,E,i,s,u,f).then(x=>{let v=UC(x,void 0);p.extendWithRequestId(v);let b=ql()-A;return p.measurements.totalTimeMs=b,g0.info(e,`request.response: [${h}] took ${b} ms`),g0.debug(e,"request.response properties",p.properties),g0.debug(e,"request.response measurements",p.measurements),g0.debug(e,"prompt:",t),Xt(e,"request.response",p),x}).catch(x=>{if(ou(x))throw Xt(e,"request.cancel",p),x;m.setWarning(Tm(x,"message")??"");let v=p.extendedBy({error:"Network exception"});Xt(e,"request.shownWarning",v),p.properties.message=String(Tm(x,"name")??""),p.properties.code=String(Tm(x,"code")??""),p.properties.errno=String(Tm(x,"errno")??""),p.properties.type=String(Tm(x,"type")??"");let b=ql()-A;throw p.measurements.totalTimeMs=b,g0.debug(e,`request.response: [${h}] took ${b} ms`),g0.debug(e,"request.error properties",p.properties),g0.debug(e,"request.error measurements",p.measurements),Xt(e,"request.error",p),x}).finally(()=>{zAe(e,t,p)})}o(DCe,"fetchWithInstrumentation");function PCe(e){return wCe(e,async t=>t.completionText.trim().length>0)}o(PCe,"postProcessChoices");var gst="github.copilot.completions.quotaExceeded",tT=class extends Kf{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="completions",c=await t.get(jr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let A=u.body();try{A.destroy()}catch(E){g0.exception(t,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let A=this.createTelemetryData(l,t,r);return this.handleError(t,a,A,u,c)}let f=t.get(er).dropCompletionReasons(n),h=qC.create(t,r.count,u,n,f,s).processSSE(i),p=d5(h,async A=>OJ(t,A,n));return{type:"success",choices:PCe(p),getProcessingTime:o(()=>rT(u),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="speculation",c=await t.get(jr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1,promptElementRanges:[]},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:Sr(),engineUrl:r.engineUrl,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let E=f.body();try{E.destroy()}catch(x){g0.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let E=this.createTelemetryData(l,t,u);return this.handleError(t,a,E,f,c)}let m=t.get(er).dropCompletionReasons(n),p=qC.create(t,1,f,n,m,s).processSSE(i),A=d5(p,async E=>OJ(t,E,n));return{type:"success",choices:PCe(A),getProcessingTime:o(()=>rT(f),"getProcessingTime")}}createTelemetryData(t,r,n){return tn.createAndMarkAsIssued({endpoint:t,engineName:nT(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await new Promise((u,f)=>{setImmediate(u)}),a?.isCancellationRequested?"not-sent":await DCe(t,n.prompt,n.engineUrl,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(er).disableLogProb(s),c=t.get(er).enablePromptContextProxyField(s),u={prompt:c?n.prompt.prefixWithoutContext??"":n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:yF(t),temperature:Av(t,n.count),top_p:AF(t),n:n.count,stop:RCe(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=e1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await new Promise((h,p)=>{setImmediate(h)}),a?.isCancellationRequested?"not-sent":await DCe(t,n.prompt,n.engineUrl,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;g0.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(g0.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);if(n.properties.status=String(i.status),Xt(t,"request.shownWarning",n),i.status===401||i.status===403)return t.get(jr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`};if(i.status===429)return setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",g0.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e};if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:gst,title:"Learn More"});let c=Va(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}return i.status===499?(g0.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):i.status===466?(r.setError(a),g0.info(t,a),{type:"failed",reason:`client not supported: ${a}`}):(g0.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};var kyr=T.Object({prompt:T.String(),speculation:T.String(),languageId:T.String(),stops:T.Array(T.String())}),GC=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let n=OY(this.ctx,"/v1/engines/copilot-centralus-h100"),i={prompt:t.prompt,speculation:t.speculation,engineUrl:n,uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(er).updateExPValuesAndAssignments(),a=await this.ctx.get(Kf).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new gF(a.reason);case"failed":throw new gv(a.reason)}}};d();var Ru=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new Rn(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};d();d();var qJ={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},_c={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function FCe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let A;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?A=-.000906155627647317:e[24]>1e-35?A=.0785324151067157:e[154]>1e-35?A=-.058309500036909157:A=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?A=-.010584135839537876:A=.013982545022862853:A=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?A=.026401003398891884:e[3]>2.602003343538398?A=-.008168418058515686:e[7]>.9662372103242399?A=.10626422692131453:A=-.01031637351522216:A=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?A=.0312811686023135:A=.05423507965224627:e[6]>4.832297822126891?A=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?A=-.09338070882722671:A=.058145805002919916:A=.04227449937397909:e[38]>1e-35?A=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?A=-.09114331684757576:e[135]>1e-35?A=-.07948190608487016:e[48]>1e-35?A=-.12911151777601662:e[143]>1e-35?A=-.09735205976374478:A=-.017192402584465798:A=-.08661537827420282:e[217]>1e-35?A=.033425023239885124:e[14]>1e-35?A=.02729990952110066:e[48]>1e-35?A=-.09098188061865646:e[46]>1e-35?A=-.05848458618550134:e[91]>1e-35?A=-.10969774095556883:A=-.0068971807474334365;let E;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?E=-.06150017523108556:e[39]>1e-35?E=-.03350257370473994:e[22]>1e-35?E=-.02193617429266551:e[8]>1e-35?E=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?E=.026702786904914785:E=.00851181280021978:e[4]>2.673553765358735?E=.010358811529123666:e[6]>2.802901033147999?E=.08891517935366504:E=.023114323891227237:E=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?E=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?E=.0544777682515472:E=.037060547607205986:e[6]>1e-35?E=.022016394753027843:E=-.1559604133821172:e[6]>3.540854293052788?E=-.009372509268454739:E=-.24388295956457617:e[38]>1e-35?E=.023012278764368795:e[138]>1e-35?E=.03564423186175008:e[30]>1e-35?E=.008093643695090883:e[217]>1e-35?E=.028810461962454004:e[135]>1e-35?E=-.07120877224354143:e[46]>1e-35?E=-.06546454537408128:e[144]>1e-35?E=-.09534262423492412:e[143]>1e-35?E=-.0770344566882831:e[29]>1e-35?E=-.06285371287531509:e[14]>1e-35?E=.02073120300153793:e[123]>1e-35?E=-.09016320513643451:e[51]>1e-35?E=-.10496442920973255:e[3]>3.1132683346437333?E=-.019949599427836494:E=-.0019060085544902166;let x;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?x=.03174009468268253:e[2]>5.363634090365639?x=-.019608371322822362:x=.012560836552403976:x=-.006925466014569184:e[1]>1e-35?x=.047796055675515446:x=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?x=.05193425865217324:x=.07891754708034264:x=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?x=.0288226384042998:x=-.09397342098461306:e[4]>.8958797346140276?x=.06181532763949055:e[3]>1e-35?x=.0661728888522049:x=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?x=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?x=.003940381852503271:x=-.01767544594631589:e[134]>1e-35?x=.005683243725945637:x=-.033167818200618454:x=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?x=-.013281167238314323:x=.016971087295600894:x=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?x=-.09772932329003692:x=.10215199291158968:e[3]>1e-35?x=.04042124133857408:e[4]>1.7005986908310777?x=-.03780917296974188:x=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?x=.019695468056761475:x=-.008073287117671947:x=-.07196945037292647;let v;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?v=.04565870990720628:e[4]>3.481121732133104?v=-.0010242035152053465:e[46]>1e-35?v=-.06735757101078846:v=.028047085557873476:e[4]>.8958797346140276?v=.061451212522936484:v=-.008994471708946133:e[4]>3.8815106545092593?v=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?v=-.0353203284829365:e[135]>1e-35?v=-.029955239188290975:e[153]>1e-35?v=-.024262881593313065:e[21]>1e-35?v=-.04039396048201336:e[155]>1e-35?v=.031605649750965394:e[46]>1e-35?v=-.0412690351363074:e[18]>1e-35?v=-.02516534034859168:e[51]>1e-35?v=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?v=.05781620337941066:v=-.031029108058883783:e[54]>1e-35?v=-.1312103962175427:e[14]>1e-35?v=.029309503966067275:e[52]>1e-35?v=-.12376041877584809:e[49]>1e-35?v=-.08405476403385437:e[129]>1e-35?v=-.07017699310303659:e[3]>3.238486181444842?v=.0005864979938663785:e[90]>1e-35?v=-.19027994988708324:e[4]>2.4414009612931857?v=.013036973814688194:e[141]>1e-35?v=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?v=.021738540839636195:v=.10410506831002041:v=-.25590968590756463:v=.0023982515170817725:v=-.04143304307857132;let b;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?b=-.011443269019739626:e[1]>1e-35?b=.015228192424880932:b=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?b=.03605247912942737:b=.08439131345296227:b=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?b=.07077360688836766:b=.044754385330663386:b=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?b=.04214845406094496:b=-.10283747682230321:e[4]>.8958797346140276?b=.05232959789940822:e[2]>.8958797346140276?b=.00730829946441921:b=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?b=-.013117301012430346:b=.010418379595902224:e[19]>1e-35?b=-.07514668047310291:b=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?b=-.009576060406554683:b=-.04582944318062007:b=-.04685159067258116:b=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?b=-.008313873320272646:e[140]>1e-35?b=-.029352675967497712:e[37]>1e-35?b=-.09937923794037767:b=.015967772276156707:b=-.009857373135428817:e[38]>1e-35?b=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?b=.001522017389940959:b=-.026992183902105407:b=-.006358778971076675;let S;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?S=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?S=-.03407648259949232:S=-.0036502511604675977:e[4]>3.540854293052788?S=-.00934040898683245:S=.010922739771398862:e[7]>.9676186228082213?S=.05137169375874399:S=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?S=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?S=.08915557171019604:S=-.06286636147644172:S=.0902247220475161:e[4]>.8958797346140276?S=.09051085461905525:e[9]>1e-35?S=-.19701197524821418:S=.005536577088671752:e[30]>1e-35?S=.0682573098268795:S=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?S=.026867659395235544:e[7]>.5866799179067689?S=-.008345671861059714:S=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?S=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?S=.08888912525147288:S=-.040584195806350004:S=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?S=-.01259238316205765:e[156]>1e-35?S=-.03305969547622109:e[50]>1e-35?S=-.10133912689920138:e[155]>1e-35?S=.025358210175047153:e[55]>1e-35?S=-.14645261489281414:e[9]>1e-35?S=.012035823488806215:S=.0010743871783232305:S=-.030440082321355873;let k;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?k=.0708169212387357:e[7]>.9974623466432676?k=.06323909894881967:k=.04463133906529934:k=-.006876640569960593:e[4]>2.138333059508028?k=.02983313061920756:k=-.012849740499321841:e[138]>1e-35?k=.05170725384597862:e[134]>1e-35?k=.03407970940934425:e[32]>1e-35?k=.04641257566344885:e[217]>1e-35?k=.04726549849359106:e[152]>1e-35?k=.04284855498215312:k=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?k=.013495195381145214:k=-.0017562536904350947:e[153]>1e-35?k=-.035450683955968364:e[135]>1e-35?k=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?k=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?k=-.012478407554855247:e[58]>1e-35?k=-.06588308463544146:k=.01024668455910621:k=-.017964352445712636:e[138]>1e-35?k=.023509519134334668:e[134]>1e-35?k=.009985116251562821:e[219]>1e-35?k=-.08089904073615993:e[144]>1e-35?k=-.08668450969211726:e[146]>1e-35?k=-.11193950701534479:e[91]>1e-35?k=-.09510832561737878:e[47]>1e-35?k=-.06671901650698997:e[145]>1e-35?k=-.10185972302071798:e[142]>1e-35?k=-.050979038763275586:k=-.008318124414257324;let P;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?P=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?P=.016160825033090097:e[4]>2.673553765358735?P=-.008119911797705546:e[7]>.9676186228082213?P=.10191214482603793:P=.010406721157764452:e[4]>2.602003343538398?P=.011963972867583182:e[209]>1e-35?e[24]>1e-35?P=-.4633165603515741:P=-.027241411195905924:P=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?P=-.07106669495723826:P=-.003949154414882924:P=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?P=.005050893558647285:P=-.01649483548684653:e[217]>1e-35?P=.0027009145619870485:e[7]>.16413460456379095?P=-.021492035902356262:P=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?P=.004614615289098078:e[125]>1e-35?P=-.053838919278819175:e[141]>1e-35?P=-.031232660335016666:e[7]>.9676186228082213?P=.031522536832188655:P=.016369948821613637:P=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?P=.035653122678366796:P=.09668798382116887:P=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?P=.05167603828162103:P=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?P=.04079789432551034:P=-.00477197753110532:P=-.1330224689055222;let N;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?N=.025938224253040522:e[7]>.9480659774309611?N=.06369970668749851:N=.04567224211157202:e[8]>1e-35?N=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?N=-.06304921759586735:N=.04293432033794005:N=.0034607309539607385:e[30]>1e-35?N=.03333728636724803:e[134]>1e-35?N=.03171739664928598:e[32]>1e-35?N=.04247521237473512:e[217]>1e-35?N=.04515237436183519:e[138]>1e-35?N=.043674672816657406:N=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?N=-.005353425538700483:N=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?N=-.026937004040991603:e[9]>1e-35?N=.01687211330975012:e[129]>1e-35?N=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?N=-.029787052855333836:e[140]>1e-35?N=-.0315337765152156:N=.01010125865272709:N=-.003643087951301554:e[3]>1.8688348091416842?N=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?N=-.10837629052758145:N=.08012552652666853:N=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?N=.028089541906112948:e[134]>1e-35?N=.011775653029555359:e[54]>1e-35?N=-.1329256322319015:N=-.010520589644656487:N=-.058476715353390545;let W;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?W=.015966021866473425:W=-.004942501766182043:e[7]>.7646034107159144?W=.0008922354520049755:W=-.02377096637770522:e[1]>1e-35?W=.03185471115279236:W=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?W=.03583918176912262:W=.05978765203310842:e[3]>1.4978661367769956?W=.04363706154403441:W=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?W=-.14139420543234502:e[6]>4.135134555718313?W=.06641653507737781:W=-.08482961471233386:e[219]>1e-35?W=-.08432601495298837:W=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?W=-.027653216441781994:e[4]>1.2424533248940002?W=-.0074990353344818825:W=-.047274115298751654:e[3]>4.350257124271638?W=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?W=.008343192891130257:e[3]>2.602003343538398?W=-.029175290449111352:e[19]>1e-35?W=-.0982821612709299:W=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?W=-.050000478457880464:e[99]>1e-35?W=.03066844761711629:W=.00757148708610041:e[14]>1e-35?W=.030325269400598688:e[138]>1e-35?W=.029925649226634522:W=-.005865781126590595:e[7]>.14547530463198097?W=-.006746433384005582:W=-.03419211369300411;let te;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?te=.03492440471960614:te=.10640952227810228:te=.024674544399570984:e[21]>1e-35?te=-.03056548710005192:e[24]>1e-35?te=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?te=-.01915628728670732:te=.08218968786016527:e[22]>1e-35?te=-.015022557207326592:e[7]>.9941118339384912?te=.024199625103362956:e[135]>1e-35?te=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?te=.03343354440638259:e[144]>1e-35?te=-.06832894943893354:te=.0114980261254499:e[12]>1e-35?e[100]>1e-35?te=.09915326976032354:te=-.011405707270850872:te=.05400113313957842:e[138]>1e-35?te=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?te=.0124381999772114:e[14]>1e-35?te=.021548670539672424:e[152]>1e-35?te=.02386756199239544:e[155]>1e-35?te=.024879667358339554:e[217]>1e-35?te=.014495299809094343:e[17]>1e-35?te=.023665548251738264:e[21]>1e-35?te=-.04352613176288253:e[142]>1e-35?te=-.041479100066479035:e[47]>1e-35?te=-.054730987834988636:e[135]>1e-35?te=-.02041552814087628:e[12]>1e-35?te=.00599257601351913:e[19]>1e-35?te=.017289098956116435:te=-.005346146967029123:te=-.015035114021856248;let ge;e[2]>2.524928003624769?e[39]>1e-35?ge=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?ge=-.006846267565269392:e[5]>6.826002629905951?ge=-.031164989612379426:ge=-.002741497453668024:e[91]>1e-35?ge=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?ge=.01457038163563883:e[7]>.1998775237752378?ge=.0022386178156093236:ge=-.023878153904868322:e[138]>1e-35?ge=.02577301491883366:e[134]>1e-35?ge=.012196636151923639:ge=-.011620066788940737:ge=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?ge=-.054140900037670386:e[5]>3.5694334999727624?ge=.011956526123643832:e[3]>2.602003343538398?ge=-.02114925328017154:e[7]>.9662372103242399?ge=.08782010508103752:ge=-.017223208918198857:e[138]>1e-35?ge=.03552967765214556:e[134]>1e-35?ge=.02029988465200251:ge=-.0027071098830831453:ge=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?ge=.020789754957971127:e[8]>1e-35?ge=.09676607622337308:ge=-.13431522143386382:ge=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?ge=.04286558286931383:ge=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?ge=-.12134536828900527:ge=-.0021406313647826976:ge=.02703554321037796:ge=-.10987991092748431;let re;e[3]>3.238486181444842?e[30]>1e-35?re=.009506310623811853:e[39]>1e-35?re=-.0390989997202559:e[187]>1e-35?re=-.07249802958837052:e[46]>1e-35?re=-.05080833699879983:e[143]>1e-35?re=-.06014247774751084:e[219]>1e-35?re=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?re=-.025022238573512268:re=.0011147676050071987:re=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?re=.008593726678003006:re=.05272960047875293:e[5]>4.424828703319957?re=.03164186747443643:re=-.019512539098210834:e[3]>2.602003343538398?re=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?re=-.1920669264002081:re=.09024848315677546:e[8]>1e-35?re=.06434775905745808:e[44]>1e-35?re=.11389595321585716:re=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?re=-.03813401544172915:e[138]>1e-35?re=.029859363038130183:e[58]>1e-35?re=-.06135288076045784:e[39]>1e-35?re=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?re=.0007666746170242386:e[129]>1e-35?re=-.04984156530077896:e[18]>1e-35?re=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?re=-.043774129950223145:re=.0062051346459236715:re=.014331149613197688:re=-.004868728135790881:re=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?q=-.01634394676179118:e[135]>1e-35?q=-.025978770194490092:q=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?q=.0201238113260563:q=-.003889163967162744:q=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?q=.04441301244720888:q=.07580163057048642:e[5]>4.424828703319957?q=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?q=-.1614949959350695:q=.011868201115510678:e[144]>1e-35?q=-.24480189212017833:q=.00743113235503554:e[135]>1e-35?q=-.02500550080046047:e[155]>1e-35?q=.019914668189284807:e[14]>1e-35?q=.016272311078771865:e[2]>4.436734027666816?q=-.010942143677155697:e[152]>1e-35?q=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?q=.01544696196221499:e[209]>1e-35?q=.011686634595667988:e[204]>1e-35?q=.012948259428096241:e[54]>1e-35?q=-.0987840586310838:e[17]>1e-35?q=.019642065140602974:e[9]>1e-35?q=.002408217148588979:e[129]>1e-35?q=-.051760999013377655:e[53]>1e-35?q=-.12326801905337725:e[156]>1e-35?q=-.027148214121600067:q=-.00591946140033722:e[141]>1e-35?q=.08076229481403298:e[100]>1e-35?q=.09029873540689846:q=.004633440115146894;let se;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?se=.0335386338744903:se=.08871810783567416:se=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?se=-.028577747938027556:e[22]>1e-35?se=-.017080349342057245:e[123]>1e-35?se=-.06459630434555787:se=.01496396100048332:e[7]>.04507521918085865?se=.0037545927605624665:se=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?se=.003955118988355861:se=-.024852972286710795:e[210]>1e-35?se=-.06918033561606161:se=-.016436360434421187:e[219]>1e-35?se=-.07074619361594191:e[14]>1e-35?se=.02288621182895308:e[30]>1e-35?se=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?se=-.08645289278185848:e[18]>1e-35?se=-.07128859518483391:e[46]>1e-35?se=-.059012415377229614:e[51]>1e-35?se=-.09897820075751956:e[143]>1e-35?se=-.0658809793369211:e[39]>1e-35?se=-.05072244120975425:e[145]>1e-35?se=-.1041573357946847:e[21]>1e-35?se=-.07265724033978356:e[121]>1e-35?se=.032340406020414894:e[150]>1e-35?se=-.12780465144045577:e[50]>1e-35?se=-.10084067045905792:se=-.008282579596590931:e[31]>1e-35?se=.09475423612489574:e[134]>1e-35?se=.016436600209473996:se=-.0032052350949025154;let ne;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?ne=.016868562767356994:e[7]>.9480659774309611?ne=.0490126593301439:ne=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?ne=-.018344689935240077:e[7]>.5762123732244849?ne=.027823839417468396:ne=.0022237549483396734:ne=-.049221463486990365:e[30]>1e-35?ne=.024881540664409785:e[4]>3.0677824455408698?ne=-.012956173562801246:ne=.010844244442972509:e[153]>1e-35?ne=-.021011529883710918:e[135]>1e-35?ne=-.022862755771243214:e[91]>1e-35?ne=-.06523564179230792:e[3]>4.3372693810700085?ne=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?ne=.018063557788938384:e[1]>1e-35?e[58]>1e-35?ne=-.05666864992513037:e[37]>1e-35?ne=-.09859173931566362:e[140]>1e-35?ne=-.026368697925604742:e[139]>1e-35?ne=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?ne=-.012750470980894203:e[128]>1e-35?ne=-.06062526587440112:ne=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?ne=-.01867324944649552:ne=.013333709765106694:e[19]>1e-35?ne=-.0862336521704207:ne=.06263843669460754:ne=-.005209374987876728:e[29]>1e-35?ne=-.05314556259108334:e[144]>1e-35?ne=-.06747511467043471:ne=-.0032459743896180644:ne=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let O;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?O=-.0427111578574511:e[153]>1e-35?O=-.030189831687705213:e[135]>1e-35?O=-.03512251542671204:O=-.005813108237155817:e[39]>1e-35?O=-.03612853474204475:e[91]>1e-35?O=-.07347487395456895:e[142]>1e-35?O=-.04314124434818331:e[21]>1e-35?O=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?O=-.0015250307417007892:O=-.0490054084929899:e[209]>1e-35?O=-.19107169934362123:O=-.032434842765588306:e[18]>1e-35?O=-.04413318629193353:e[5]>3.772694874805912?O=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?O=-.0184663870129198:O=.08888448773905216:O=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?O=.012676257607559291:e[4]>2.012675845367575?O=.07794141958502514:O=-.23905004122480836:O=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?O=.04439337662833094:O=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?O=.08495906118788314:e[153]>1e-35?O=.09808912606252018:O=-.41470362752984724:O=.024659633328041372:e[6]>4.3882378946731615?O=.02348696158531392:O=-.011219631635525798:e[2]>.8958797346140276?O=.00764827947682953:O=-.002636723662133651;let j;e[0]>1e-35?e[138]>1e-35?j=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?j=-.04204265697956852:e[18]>1e-35?j=-.02345608311313191:e[46]>1e-35?j=-.07250113205332377:e[47]>1e-35?j=-.06901706560471924:e[123]>1e-35?j=-.02471508138476658:e[91]>1e-35?j=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?j=.033642311398086024:j=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?j=-.17171139407761582:j=.033182911468765224:j=.0060896749985828915:e[7]>.9626084674797213?j=.050178751374534494:j=-.008697473314227091:e[6]>5.957131031247307?j=.008840008772752947:j=-.00839587224544437:e[57]>1e-35?j=-.11000065936717814:e[187]>1e-35?j=-.039919217528968265:e[135]>1e-35?j=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?j=-.006645633391127337:j=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?j=-.028575934798358252:e[147]>1e-35?j=-.06523418671938815:e[53]>1e-35?j=-.12439699935111644:e[47]>1e-35?j=-.04201034294282216:e[21]>1e-35?j=-.029998534764449716:e[11]>1e-35?j=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?j=.03211843381827455:j=-.009616753935387912:j=.001507728277179471:j=-.018453367252451447;let J;e[2]>2.4414009612931857?e[155]>1e-35?J=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?J=-.04107586321461544:e[153]>1e-35?J=-.030708779452328257:J=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?J=.10372474211849725:J=.010871474495452506:e[46]>1e-35?J=-.048875079231930615:e[152]>1e-35?J=.0169028183837229:e[91]>1e-35?J=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?J=-.03634133884877529:e[123]>1e-35?J=-.04524486315275367:J=.0007726000210664368:e[153]>1e-35?J=-.026631444280113794:J=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?J=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?J=.016731168841731828:J=-.009280453313693341:J=-.006549806005743951:J=-.035447929694275064:e[8]>1e-35?J=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?J=.024369266212637037:e[138]>1e-35?J=.06205121318768558:J=.03811769435016647:J=-.009452348851889555:J=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?J=-.12191990737301042:e[4]>3.3842466058243152?J=.00020591213976092076:e[141]>1e-35?J=-.03252260939244301:e[186]>1e-35?J=-.13818838492678748:J=.009368844137034227:J=-.007973426105216213;let le;e[2]>2.3502401828962087?e[14]>1e-35?le=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?le=.00543900892248828:le=-.04253496769494065:e[141]>1e-35?le=-.052958350924390156:e[140]>1e-35?le=-.10364099832282586:le=.010452960405207413:e[24]>1e-35?e[113]>1e-35?le=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?le=-.26615665549082984:le=.09636256138859388:le=.01708542025496261:e[217]>1e-35?le=.008049408683788317:e[21]>1e-35?le=-.04590265539954756:e[90]>1e-35?le=-.13784770816769107:e[142]>1e-35?le=-.04628126597884301:e[47]>1e-35?le=-.05827975565933709:e[135]>1e-35?le=-.0223224900840969:e[18]>1e-35?le=-.03220713396184497:e[91]>1e-35?le=-.06447405488640102:e[58]>1e-35?le=-.05284544446869763:e[48]>1e-35?le=-.06649148594881385:e[123]>1e-35?le=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?le=-.11846610284210293:e[50]>1e-35?le=-.08907531725085399:e[156]>1e-35?le=-.018270336483319834:e[150]>1e-35?le=-.1090721461891663:e[151]>1e-35?le=-.12157322199183473:le=-.001565820654257863:le=-.02380240397829804:e[7]>.7957410883753849?le=.01267070049428537:e[9]>1e-35?le=.012970301396505988:le=.0031136826722851885;let Z;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?Z=-.01811927921170173:Z=-.0007182192063435364:e[30]>1e-35?Z=.024303187146750442:e[1]>1e-35?Z=.011106265465270054:e[134]>1e-35?Z=.029835980521591587:Z=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?Z=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?Z=.0678338591810893:Z=.02371719224774027:Z=.0682898584583309:Z=-.023148464063014726:e[30]>1e-35?Z=.04610988679672867:Z=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?Z=.01081564552001606:Z=-.006807357600587744:Z=-.02409609521595022:Z=-.033329165496176885:e[4]>4.051747139190486?Z=-.01130115168237245:e[129]>1e-35?Z=-.04589370141507604:e[21]>1e-35?Z=-.029442074982620643:e[14]>1e-35?Z=.016895124578179443:e[186]>1e-35?Z=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?Z=-.06194447560538838:e[133]>1e-35?Z=-.0758465323292204:e[58]>1e-35?Z=-.04330766372695393:e[138]>1e-35?Z=-.04155491116231014:e[156]>1e-35?Z=-.04841608169206507:e[44]>1e-35?Z=-.01948221703985556:Z=.006580878599054945:e[217]>1e-35?Z=.022433802380447482:Z=-.00412091757515532;let ae;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?ae=-.024502725801264887:e[2]>5.589117819455554?ae=-.01230190569981064:ae=.0013078979950003464:e[1]>1e-35?ae=.016172143068823742:ae=.0006345060509537773:e[2]>.8958797346140276?ae=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?ae=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?ae=.044068636573383585:ae=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?ae=-.3139210817530322:ae=-.030502668897116853:ae=.02841326513237545:ae=-.12080826254458728:ae=.05983169094937563:e[25]>1e-35?ae=-.03468266531519899:e[17]>1e-35?ae=.018557285805987474:e[91]>1e-35?ae=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?ae=.04301006671297924:e[57]>1e-35?ae=-.09748386515224282:e[7]>.43956365248689394?ae=-.00756781004151352:ae=-.03008603678955382:e[40]>1e-35?ae=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?ae=.02709638137622776:ae=.00311232737924217:e[219]>1e-35?ae=-.021650545703290135:e[129]>1e-35?ae=-.04139534817677377:e[4]>4.482986592105174?ae=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?ae=.0203181446326991:e[24]>1e-35?ae=.019321702534414745:ae=-.0013149142637674523:ae=-.010572437649803333;let ce;e[1]>1e-35?e[99]>1e-35?ce=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?ce=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?ce=-.0034268395365245545:ce=-.034186463672076346:e[29]>1e-35?ce=.07759914281958613:ce=-.07773573805144608:e[22]>1e-35?ce=-.0175879419801366:e[7]>.9626084674797213?ce=.016773359142537643:ce=.008028381804196754:e[133]>1e-35?ce=-.0535216100744091:ce=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?ce=.05090247458630403:ce=.007750826606170666:e[30]>1e-35?ce=.007698939719746262:e[121]>1e-35?ce=.02303487268261317:e[56]>1e-35?ce=.04301822779572479:e[219]>1e-35?ce=-.061056125991793546:e[49]>1e-35?ce=-.08519783826666813:e[54]>1e-35?ce=-.11098408863832084:e[51]>1e-35?ce=-.07495147940928196:e[52]>1e-35?ce=-.10268521021357209:e[143]>1e-35?ce=-.050337621945760906:e[50]>1e-35?ce=-.08215637358309871:e[135]>1e-35?ce=-.037923453156281546:e[29]>1e-35?ce=-.03275476659364492:e[118]>1e-35?ce=-.05655325181162936:e[46]>1e-35?ce=-.03579874818682071:e[55]>1e-35?ce=-.10858775815345066:e[98]>1e-35?ce=-.02949179817285505:e[91]>1e-35?ce=-.06114394873657414:ce=-.0024381269826722327;let Re;e[0]>1e-35?e[138]>1e-35?Re=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?Re=.02161439640262312:e[46]>1e-35?Re=-.05856082884648366:Re=.00579188508436574:e[5]>3.417592293073651?Re=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?Re=-.009165058612451055:Re=.06060298049441096:Re=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?Re=.047057536167451744:e[5]>7.751690325550034?Re=-.014630738159823437:e[6]>1e-35?Re=-.0022830386545257364:Re=-.1244934159203967:e[141]>1e-35?Re=-.03108265181870111:e[151]>1e-35?Re=-.0899976208431091:e[53]>1e-35?Re=-.10125439914522794:e[57]>1e-35?Re=-.08285049636367613:e[48]>1e-35?Re=-.04071723813859757:e[147]>1e-35?Re=-.05043191744833317:e[49]>1e-35?Re=-.05480244282058292:e[52]>1e-35?Re=-.07341553831872409:e[91]>1e-35?Re=-.04164336745260387:e[50]>1e-35?Re=-.05943962674275153:e[40]>1e-35?Re=-.054773037913883875:e[129]>1e-35?Re=-.03640370706396673:e[54]>1e-35?Re=-.07483146938849299:e[22]>1e-35?Re=-.02027834075472462:e[186]>1e-35?Re=-.08116240011202293:e[143]>1e-35?Re=-.028437692949603324:e[21]>1e-35?Re=-.02421670339700474:e[46]>1e-35?Re=-.02303808594532841:Re=.0030552215125396933;let ve;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?ve=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?ve=.024680404379144982:ve=.012015730636539185:e[113]>1e-35?ve=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?ve=-.11617284449593282:ve=-.005246041787488675:ve=-.011069319481086321:e[90]>1e-35?ve=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?ve=.009233858920042097:ve=.08920751503262825:ve=-.008824102277148265:e[138]>1e-35?ve=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?ve=.013112272135200274:e[217]>1e-35?ve=.035799930603658235:ve=-.015618218537266096:ve=.010656981322113845:e[14]>1e-35?ve=.01147191978691208:e[17]>1e-35?ve=.016681596753170068:e[135]>1e-35?ve=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?ve=-.008863534867945834:e[31]>1e-35?ve=.05416038384474034:e[113]>1e-35?ve=.012656827040897288:e[204]>1e-35?ve=.011410879858785482:e[208]>1e-35?e[1]>1e-35?ve=.02085606775425661:ve=-.008618410086291444:e[53]>1e-35?ve=-.09674487817291225:e[155]>1e-35?ve=.010841012663281826:ve=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?ve=-.02684998739505702:ve=.09196076999373319:ve=-.014557367931257406;let Ue;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Ue=-.020508725755139606:e[9]>1e-35?Ue=.014160204295049248:e[37]>1e-35?Ue=-.06190233326923697:e[6]>1e-35?Ue=.005164496028342236:Ue=-.11389189550910446:e[141]>1e-35?Ue=-.04125881484049697:e[186]>1e-35?Ue=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Ue=-.010283419868136159:e[7]>.9626084674797213?Ue=-.1716178372310524:Ue=-.008856137283327148:e[28]>1e-35?Ue=.05315666786902214:e[129]>1e-35?Ue=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Ue=.00751812285476753:e[8]>1e-35?Ue=-.11960098941111366:Ue=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Ue=-.05338190010412709:Ue=.017275201286894953:e[30]>1e-35?Ue=.014424216946760394:e[99]>1e-35?Ue=.027062693955934525:Ue=-.006762492910108134:e[219]>1e-35?Ue=-.0534489198792768:e[138]>1e-35?Ue=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Ue=-.0662951231725991:e[143]>1e-35?Ue=-.04739088646917139:e[145]>1e-35?Ue=-.07635546796992515:e[14]>1e-35?Ue=.012433708195861912:e[217]>1e-35?Ue=.021046036228368578:e[51]>1e-35?Ue=-.07024391932712475:Ue=-.007585229386863768:e[127]>1e-35?Ue=.0788172427657374:Ue=.0036475442240054556;let Be;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?Be=-.02488671343402725:e[135]>1e-35?Be=-.026342401137212534:e[4]>1.4978661367769956?Be=-.0002120610158998857:Be=-.02619014803287452:e[5]>3.772694874805912?Be=.00791871819482647:Be=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?Be=.026755493155023333:Be=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?Be=-.12833948112036647:Be=.02009706276124955:e[135]>1e-35?Be=-.1062651205805238:Be=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?Be=-.0426876288098691:Be=-.009210886749467585:e[25]>1e-35?Be=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?Be=.039675921298659045:Be=-.01470247025894634:e[135]>1e-35?Be=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?Be=-.01924589513592333:e[21]>1e-35?Be=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?Be=-.0007468484638490539:Be=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?Be=.024493682002973784:e[42]>1e-35?Be=-.07469088345156226:e[45]>1e-35?Be=-.03838380763638677:e[114]>1e-35?Be=.02409327545276692:e[154]>1e-35?Be=-.038977286951036944:e[208]>1e-35?Be=.021915882358345885:Be=.003839964304606302:Be=-.0014382346596150915:Be=-.008713493537728363;let Je;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Je=-.0017308950709495397:Je=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Je=.007854184286630537:Je=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Je=-.009039854020477722:Je=.08762320620103459:e[194]>1e-35?Je=-.3433922378591172:e[24]>1e-35?Je=-.2523113760729937:Je=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Je=.007177758561499448:e[2]>.8958797346140276?Je=.03195343200682438:Je=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Je=-.10695282804536732:Je=.019125081292682575:e[135]>1e-35?Je=-.09257011968677195:Je=-.012855523323410875:e[14]>1e-35?Je=.010052176448775013:e[152]>1e-35?Je=.011482760058014926:e[156]>1e-35?Je=-.017677609761538152:e[24]>1e-35?Je=.01670301885059328:e[39]>1e-35?Je=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Je=.01117036123239103:e[3]>1.4978661367769956?Je=-.005154239762347923:Je=.06349844063391799:Je=-.011876368966362884:e[4]>3.772694874805912?Je=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Je=-.0035902728428789336:Je=.003411450739155564:e[5]>8.17933999189099?Je=-.018866709049095685:Je=-.0038747233097564068:Je=.024379138339081993;let ft;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ft=.01816196279626246:ft=-.008720340174685528:e[14]>1e-35?ft=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ft=-.035421013136394335:e[219]>1e-35?ft=-.03997357699142973:e[3]>4.993822430271426?ft=-.03250278247092862:ft=.004080430247607075:ft=-.010055330454519094:e[5]>9.345963324807864?ft=-.008136951493137817:e[90]>1e-35?ft=-.16414188828180187:e[45]>1e-35?ft=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ft=.03144428117941763:ft=-.12305809642153893:e[5]>3.417592293073651?ft=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ft=.08986402088848823:e[100]>1e-35?ft=.09658177526577977:e[141]>1e-35?ft=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ft=.10311172778826272:ft=-.12367638872784459:e[209]>1e-35?ft=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ft=-.1815028770626217:ft=-.027600842388305583:ft=.013979123567456554:ft=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ft=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ft=-.05732062477153205:ft=.0038104987226822806:e[7]>.14547530463198097?ft=-.0015360108147469411:ft=-.014797616303672155:e[3]>.8958797346140276?ft=-.010446976011382926:ft=-.039018423658353285;let it;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?it=-.0031733808376565214:it=-.019463570735432378:it=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?it=.006472511895453073:e[2]>.8958797346140276?it=.029439910335277677:it=.05703290277034656:e[219]>1e-35?it=-.06489530937321614:e[5]>4.424828703319957?it=.017756995160153607:e[125]>1e-35?it=-.13863131633711023:it=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?it=-.04822012795561216:e[125]>1e-35?it=.06083023155995546:e[141]>1e-35?it=.04503531231698771:e[5]>7.751690325550034?it=-.008826435995092507:it=.0004769856196102064:e[5]>5.895778350950796?it=-.03439788269853701:it=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?it=.0046610227653059695:it=-.04504560149384845:e[3]>4.3372693810700085?it=-.011924612526365003:e[151]>1e-35?it=-.07909878419302184:e[40]>1e-35?it=-.04837106565429512:e[52]>1e-35?it=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?it=.060888920864590634:e[5]>3.5694334999727624?it=-.02601024872439008:it=.07960150564774994:e[46]>1e-35?it=-.027213119561154103:e[51]>1e-35?it=-.054081846676903716:e[54]>1e-35?it=-.07375359621246233:e[50]>1e-35?it=-.0570341640965886:it=.0021129818482267812;let ot;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?ot=-.09222476830824185:e[156]>1e-35?ot=-.044357001480428:ot=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?ot=-.007435399919321396:ot=-.025630334739367253:e[155]>1e-35?ot=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?ot=-.012759040985224594:ot=-.0009375109950390992:e[21]>1e-35?ot=-.028664595543047417:e[187]>1e-35?ot=-.03837361994986333:e[22]>1e-35?ot=-.027274995074267547:e[14]>1e-35?ot=.016392245342055616:e[17]>1e-35?ot=.022509678093313362:e[28]>1e-35?ot=.025145343126000193:e[39]>1e-35?ot=-.02939647868188604:ot=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?ot=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?ot=.010736817315927911:ot=.02426980448005241:e[28]>1e-35?e[194]>1e-35?ot=-.3070569158934055:e[196]>1e-35?ot=-.5506885961570867:ot=-.033353293982668515:ot=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?ot=.02102370525016274:ot=.003409533559556135:e[204]>1e-35?ot=.08873962123163927:e[24]>1e-35?ot=.10555359938821945:e[28]>1e-35?ot=.09719645392539251:e[196]>1e-35?ot=.08224623369607056:ot=-.020134405544960793:ot=-.0015937623030202052;let ie;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?ie=-.0076758153562413375:e[18]>1e-35?ie=-.04295196457825341:e[51]>1e-35?ie=-.13248011320062422:ie=.008952360414023641:e[7]>.987306237235768?ie=.006439776900137331:ie=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?ie=.026757175255811883:ie=-.01062556784320532:e[2]>.8958797346140276?ie=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?ie=.039844832378913425:ie=-.06690456482695102:ie=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?ie=.03772632631184001:ie=-.28522617893050056:e[28]>1e-35?ie=-.060992612788434375:ie=.03341245674945403:ie=.051288950777861456:e[8]>1e-35?ie=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?ie=.009069204772381522:ie=-.004081394384581673:ie=-.03594060084257492:e[7]>.9216401592048815?ie=-.00442206228805168:ie=-.03576891499137606:e[55]>1e-35?ie=-.08223884312902127:e[57]>1e-35?ie=-.0742535346669798:e[149]>1e-35?ie=-.07940704728071792:e[39]>1e-35?ie=-.017161105634171125:e[49]>1e-35?ie=-.04763279499691125:e[139]>1e-35?ie=-.027192821855546695:e[10]>1e-35?ie=-.0036316338579956914:ie=.0026484338648234077;let Pe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Pe=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Pe=-.027850707388722303:e[91]>1e-35?Pe=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Pe=.005596837686865309:Pe=-.0059429747278747225:Pe=.009524033665726878:Pe=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Pe=.032201880996274065:Pe=-.009587971174292791:e[2]>.8958797346140276?Pe=.02761965407835318:Pe=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Pe=.08220352701195494:Pe=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Pe=-.03126230621131264:Pe=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Pe=.018944713961164792:e[3]>1e-35?Pe=.06629929139668997:Pe=-.16790799717043633:e[192]>1e-35?Pe=-.3320398525405097:Pe=.009790162291004705:e[125]>1e-35?Pe=-.0996239956884951:Pe=.017982806591038288:e[25]>1e-35?Pe=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Pe=-.0027582177390145703:Pe=-.02047492290459601:e[17]>1e-35?Pe=.01622159988588393:e[7]>.5866799179067689?Pe=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Pe=-.00567335909535631:Pe=.0036605424249172938:e[7]>.085616240166877?Pe=-.00662352094724046:Pe=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let Ge;e[11]>1e-35?e[154]>1e-35?Ge=-.07640004589975245:e[153]>1e-35?Ge=-.027921183286970398:e[156]>1e-35?Ge=-.02508900369371103:e[47]>1e-35?Ge=-.09621039139423637:e[46]>1e-35?Ge=-.05890206826599292:Ge=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?Ge=-.02026563108381904:e[91]>1e-35?Ge=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?Ge=.044705853812635206:Ge=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?Ge=.01585670681557334:Ge=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?Ge=.01475544028693712:e[30]>1e-35?Ge=.10219265831102325:Ge=-.0567832116465987:e[154]>1e-35?Ge=-.04682869193620295:Ge=.0058147572533605784:e[123]>1e-35?Ge=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?Ge=.016472642951500794:Ge=-.10372235311156908:e[19]>1e-35?Ge=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?Ge=.021404525777064917:Ge=-.022090537029637168:Ge=.07927547222505857:e[129]>1e-35?Ge=-.0315112950229846:e[90]>1e-35?Ge=-.08016175793969123:e[60]>1e-35?Ge=-.044255594885932:e[150]>1e-35?Ge=-.0643645650066138:Ge=18071436579202054e-21:e[6]>6.132312266239896?Ge=.00017227075512669227:Ge=-.010904669702571911;let z;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?z=-.053460642910797676:z=.009652079082741289:z=-.0017676195976280011:e[134]>1e-35?z=.01746182064829904:e[32]>1e-35?z=.033149881191962445:e[138]>1e-35?z=.02149173543949675:e[37]>1e-35?z=.028519159270523897:e[152]>1e-35?z=.023352031441951773:e[217]>1e-35?z=.02290558132732214:z=-.01850975101703459:e[152]>1e-35?z=.010488854074509982:e[155]>1e-35?e[12]>1e-35?z=.027490522294963154:z=.002575743497494008:e[131]>1e-35?z=-.07138027268500055:e[57]>1e-35?z=-.06658662137088783:e[28]>1e-35?z=.015141080652315508:e[55]>1e-35?z=-.07156337757427284:e[204]>1e-35?z=.008085415901726045:e[99]>1e-35?e[1]>1e-35?z=.01803019280250009:z=-.012275416064615064:e[113]>1e-35?z=.007680714218522011:e[102]>1e-35?z=.01923593781092882:e[38]>1e-35?z=.00598208846998872:e[112]>1e-35?z=.00895148693111358:e[217]>1e-35?z=.004322676779141819:e[114]>1e-35?e[1]>1e-35?z=.019173900241286065:e[18]>1e-35?z=-.1302545616586715:z=-.012219608237225175:e[89]>1e-35?z=.019080595932083305:e[95]>1e-35?z=.009182530113836561:z=-.006531048204768366;let ee;e[2]>4.135134555718313?e[47]>1e-35?ee=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?ee=-.09672976728291365:e[217]>1e-35?ee=-.09138286775903748:e[114]>1e-35?ee=.034435801312936894:ee=.003550781249532139:e[56]>1e-35?ee=.06582022232543998:e[144]>1e-35?ee=-.08601101006110747:ee=-.006766914059699758:e[217]>1e-35?ee=.001822103802069182:ee=-.013646878234832634:e[8]>1e-35?ee=-.02495807137678248:e[1]>1e-35?ee=.009517017217557915:ee=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?ee=-.013180308369805589:e[51]>1e-35?ee=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?ee=.017032153502995334:ee=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?ee=.04713518460375107:ee=-.0016223104582873055:e[131]>1e-35?ee=-.07291331059881433:e[27]>1e-35?ee=-.015619378359486803:ee=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?ee=-.02945681137428643:ee=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?ee=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?ee=-.03142097937872678:ee=-.17253564001853064:e[5]>3.156774023138548?ee=-.004860170522962415:e[12]>1e-35?ee=-.04169370739781986:ee=.05886396855048806:ee=-.10415236736977414;let Fe;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Fe=-.07548370555339029:Fe=-.009060327134219393:e[21]>1e-35?Fe=-.02536204329245056:e[155]>1e-35?Fe=.01626198918750622:e[142]>1e-35?Fe=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Fe=-.0522966414357639:e[47]>1e-35?Fe=-.03867213359133592:e[149]>1e-35?Fe=-.10392339919606915:e[135]>1e-35?Fe=-.010541433982611018:e[51]>1e-35?Fe=-.06273170107556418:e[54]>1e-35?Fe=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Fe=.0022966362330231133:e[31]>1e-35?Fe=.19571528454816625:Fe=-.04919246049942885:e[50]>1e-35?Fe=-.06766114512966344:e[7]>.9793410316570949?Fe=.00837983401462093:Fe=.0007986280224776339:e[186]>1e-35?Fe=-.16446174535054356:e[62]>1e-35?Fe=.06508947502037822:Fe=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Fe=-.01589822136096899:e[125]>1e-35?Fe=-.025465846683560996:e[190]>1e-35?Fe=-.03671457167643481:e[91]>1e-35?Fe=-.03821691103237143:e[57]>1e-35?Fe=-.07502589184745939:e[50]>1e-35?Fe=-.05395522531288487:Fe=.005241788285288346:e[4]>3.1132683346437333?Fe=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Fe=.06608964318040904:Fe=-.012827641806975033:Fe=.004744161815471635;let _e;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?_e=-.008352440702113342:_e=.00818161196788124:e[123]>1e-35?_e=-.02387242845183433:e[190]>1e-35?_e=-.03574127589374163:e[152]>1e-35?_e=.01262147105943106:e[11]>1e-35?e[58]>1e-35?_e=-.05955906348417553:_e=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?_e=.023589988800048537:_e=-.01290090410411923:e[38]>1e-35?_e=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?_e=-.01614208413608714:e[42]>1e-35?_e=-.05454658382875832:_e=.008894057269932708:e[141]>1e-35?_e=-.029660896741885025:_e=.0007918628584206305:e[12]>1e-35?_e=.010735865892076339:e[218]>1e-35?_e=.06499398466334683:e[29]>1e-35?_e=-.02987220407530282:e[118]>1e-35?_e=-.05994319680494358:_e=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?_e=.09992180359591052:_e=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?_e=.0012737346185997833:e[5]>3.979637980058199?_e=.012350990163327259:e[29]>1e-35?_e=-.4173182186315585:_e=.09483857671510697:_e=-.0034771114722081282:e[19]>1e-35?_e=.04818172610227253:e[158]>1e-35?_e=.09085872490042819:e[123]>1e-35?_e=.046170414156546824:_e=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Oe;e[39]>1e-35?Oe=-.019116728566000912:e[152]>1e-35?Oe=.011159312353677259:e[52]>1e-35?Oe=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Oe=-.02203060071288757:e[48]>1e-35?Oe=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Oe=-.026242020752538932:Oe=-.0026163734864036088:e[21]>1e-35?Oe=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Oe=-.07907862980413462:Oe=-.0024968534057976956:e[141]>1e-35?Oe=.01751368963010255:Oe=-.035334686232177996:e[3]>1e-35?Oe=-.049727650261844114:Oe=.06649006602788514:e[51]>1e-35?Oe=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Oe=.06794814379814933:Oe=-.033933057704283995:e[6]>8.681774988134558?Oe=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Oe=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Oe=.06547842372312768:Oe=.005706402727440608:e[89]>1e-35?Oe=.05238448470974841:Oe=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Oe=-.02994666941636212:Oe=.029175297065511276:e[139]>1e-35?Oe=-.03926804943552878:e[7]>.9626084674797213?Oe=.010270060885238803:e[6]>4.5379471377116305?Oe=.0051640733904868355:Oe=-.006326617548806485:e[3]>2.3502401828962087?Oe=-.001064039369711557:Oe=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let Ze;e[14]>1e-35?e[134]>1e-35?Ze=.03807815059641535:Ze=.007895137847547357:e[39]>1e-35?Ze=-.019172673927560828:e[138]>1e-35?Ze=.009207480510332959:e[152]>1e-35?e[10]>1e-35?Ze=.029310247627617716:Ze=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?Ze=.02869511059037871:e[137]>1e-35?Ze=.048763707543632046:e[218]>1e-35?Ze=.0393143924208134:Ze=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?Ze=.016047178137914484:e[35]>1e-35?Ze=-.09486179869071369:e[118]>1e-35?Ze=-.032706818831570415:e[0]>1e-35?Ze=.004733859562945298:Ze=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?Ze=-.23804773582311067:Ze=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?Ze=-.013296404682101122:Ze=-.14340192620927933:e[196]>1e-35?Ze=-.17446678790111786:Ze=-.01140535620661492:e[141]>1e-35?Ze=-.03362328403627273:e[99]>1e-35?Ze=.02082592497315901:e[196]>1e-35?Ze=.02125156827172031:e[204]>1e-35?Ze=.018738441981476887:e[194]>1e-35?Ze=.022230335367621302:e[114]>1e-35?Ze=.017460982004618885:e[210]>1e-35?e[11]>1e-35?Ze=-.07421933796695453:Ze=-.02600449772874995:e[62]>1e-35?Ze=.0435295764572802:Ze=-.0036358741919687645;let yt;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?yt=-.012866931871530748:e[47]>1e-35?yt=-.06511122680099479:yt=-.0033152297369715466:e[1]>1e-35?yt=.00634942519508748:yt=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?yt=-.06214080664476329:yt=.037029947625630194:e[47]>1e-35?yt=-.08203414630098728:yt=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?yt=.012452689013210465:yt=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?yt=.02888624440861723:yt=-.0026872248277927456:e[27]>1e-35?yt=-.01471521834054285:e[21]>1e-35?yt=-.014970363019863132:e[13]>1e-35?yt=-.0057151868439017945:e[38]>1e-35?yt=.01633003881478886:yt=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?yt=.006600693642185256:e[6]>3.1984648276080736?yt=.07576534772024612:yt=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?yt=.01266221511189265:e[29]>1e-35?yt=-.20167612409830682:yt=.09361829582187109:yt=.0016303497789744046:e[6]>4.310776603370241?yt=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?yt=-.05054316446311788:yt=.06528096075929847:e[29]>1e-35?yt=.07763431964140277:yt=-.017239135292908336:yt=-.011068823413100247;let Rt;e[91]>1e-35?Rt=-.03524202222673902:e[55]>1e-35?Rt=-.07505808762820981:e[47]>1e-35?Rt=-.026314216162986376:e[49]>1e-35?Rt=-.045488810456426665:e[54]>1e-35?Rt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Rt=-.03267263134559766:e[46]>1e-35?Rt=-.049285436356671077:e[51]>1e-35?Rt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Rt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Rt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Rt=-.08387877475105178:Rt=.014404401501386124:Rt=.004694473365260974:Rt=-.0001897538693116325:Rt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Rt=-.0007153953072197825:Rt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Rt=-.06966241558514917:e[4]>4.82429765145367?Rt=-.05703428861212874:Rt=-.007549683006633188:e[3]>1.2424533248940002?Rt=-.05340556429257431:Rt=.0524214727387076:e[22]>1e-35?Rt=-.012756524179901607:e[186]>1e-35?Rt=-.06578146880564559:e[208]>1e-35?Rt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Rt=-.05051984734793551:e[3]>1.2424533248940002?Rt=-.0002576217567062796:e[134]>1e-35?Rt=-.07452351335236179:Rt=-.010366062496356129:e[94]>1e-35?Rt=-.04206673603732986:Rt=.0017654268359667174;let At;e[2]>2.3502401828962087?e[28]>1e-35?At=.018743416209068924:e[142]>1e-35?At=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?At=-.039485087567133176:e[48]>1e-35?At=-.04707407726639779:e[49]>1e-35?At=-.0644727439161007:e[47]>1e-35?At=-.03586301268310228:e[52]>1e-35?At=-.08213761833929575:e[60]>1e-35?At=-.036939376764301805:e[22]>1e-35?At=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?At=.03651632275248908:At=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?At=.17011943799802248:At=-.024083374989820074:e[147]>1e-35?At=-.05792387046048145:e[39]>1e-35?At=-.019000152117179:e[54]>1e-35?At=-.09256681585621543:e[50]>1e-35?At=-.06535283940797192:e[187]>1e-35?At=-.023020538580498528:e[149]>1e-35?At=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?At=.0007122257672540384:At=-.024203929126070334:e[55]>1e-35?At=-.10687519344783902:e[21]>1e-35?At=-.019836359134795922:At=.0028141634686288143:e[153]>1e-35?At=-.044827592367532504:At=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?At=.060584003745668275:At=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?At=-.021624709427283298:At=.0035264081894521636:At=-.0030260520850755417;let Ht;e[57]>1e-35?Ht=-.06665941268716478:e[2]>5.4049245766661995?Ht=-.0048763725607228565:e[17]>1e-35?Ht=.012937023835595996:e[91]>1e-35?Ht=-.032642493399923284:e[40]>1e-35?Ht=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Ht=-.030555708374197955:Ht=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Ht=.016029829045206837:e[114]>1e-35?Ht=.017475123428921584:e[139]>1e-35?Ht=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Ht=.015395913258454092:Ht=-.024779051599098958:e[90]>1e-35?Ht=-.09436512907953146:e[25]>1e-35?Ht=-.0385103760507401:e[113]>1e-35?Ht=.014955995782471:e[208]>1e-35?Ht=.01363101947809469:Ht=.0004708078358576994:e[29]>1e-35?Ht=-.02567148566035587:e[217]>1e-35?Ht=.017896286118860596:e[118]>1e-35?Ht=-.04366196842115269:e[144]>1e-35?Ht=-.04332564222613586:e[54]>1e-35?Ht=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Ht=-.12797365603832508:Ht=.05407709367007049:e[56]>1e-35?Ht=.030874690971051524:e[148]>1e-35?Ht=-.06664437092250396:e[50]>1e-35?Ht=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Ht=-.12348764088627251:Ht=-.014081947133593207:e[147]>1e-35?Ht=-.044629298717173554:Ht=-.000742893245658901;let jt;e[138]>1e-35?jt=.008266725465725232:e[1]>1e-35?e[37]>1e-35?jt=-.06288072801700428:e[114]>1e-35?jt=.01701875404216428:e[128]>1e-35?jt=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?jt=.08078133512323216:jt=.010126216487392538:e[11]>1e-35?e[58]>1e-35?jt=-.0542116306120395:jt=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?jt=.02107443326718807:jt=-.01069225359959257:jt=.0009105709984003484:e[218]>1e-35?jt=.05160355321154702:e[134]>1e-35?jt=.006114948378400552:e[121]>1e-35?jt=.016106484014031797:e[89]>1e-35?jt=.01912348851711998:e[56]>1e-35?jt=.029777849606436514:e[157]>1e-35?jt=.04060172642469715:e[31]>1e-35?jt=.040190765597096945:e[115]>1e-35?jt=.038285461163007885:e[144]>1e-35?jt=-.04397941351839926:e[53]>1e-35?jt=-.09153555712989248:e[34]>1e-35?jt=.05063635650139542:e[145]>1e-35?jt=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?jt=.050915836711889595:jt=-.038668153033606156:e[142]>1e-35?jt=-.03161888799270195:e[21]>1e-35?jt=-.039152400008548416:e[147]>1e-35?jt=-.06369054146375448:e[146]>1e-35?jt=-.06687062048733548:e[143]>1e-35?jt=-.0374398909044375:jt=-.004075281311375503;let ir;e[19]>1e-35?ir=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?ir=.031458353209402545:ir=.006712963530887799:e[135]>1e-35?ir=-.008268741342836259:e[60]>1e-35?ir=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?ir=.001164103411669833:e[8]>1e-35?ir=-.04419920795209664:ir=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?ir=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?ir=-.10156793652811894:ir=-.004200534838133274:e[18]>1e-35?ir=-.01192673279840267:ir=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?ir=-.0032059430383565256:ir=.05159315082197918:e[8]>1e-35?ir=-.0890031715943104:e[22]>1e-35?ir=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?ir=.1021284677424052:ir=-.13655977142603173:ir=.09393254504800182:ir=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?ir=.028570793527563892:ir=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?ir=-.04344386283066575:ir=.049543778722220704:e[47]>1e-35?ir=-.025602694767462936:ir=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?ir=-.018924000087166926:ir=.005374758944061522:e[14]>1e-35?ir=.02825013192303339:ir=-.028367959366723622;let pe;e[190]>1e-35?pe=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?pe=-.030965448877928344:e[150]>1e-35?pe=-.05353588365501967:e[53]>1e-35?pe=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?pe=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?pe=-.00508197369229565:e[4]>3.5694334999727624?pe=-.09566908841488272:pe=-.009799018561370653:e[29]>1e-35?pe=.01134634874419129:pe=-.008480456528154491:pe=-.010775036248093376:pe=.006611525544742429:e[23]>1e-35?pe=.01761735039511882:e[19]>1e-35?pe=.01278442042249664:pe=-.0002242132003162585:e[186]>1e-35?pe=-.1282956565830828:e[99]>1e-35?pe=.018493666625505303:e[141]>1e-35?pe=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?pe=.010089877008871859:e[7]>.9569480028661056?pe=-.0021891593882122327:pe=-.019455050281455402:e[7]>.960816451500545?pe=-.13777176433158442:pe=.02722608122697913:e[28]>1e-35?e[194]>1e-35?pe=.09549833737461155:pe=.012447932823540411:e[129]>1e-35?e[26]>1e-35?pe=.147381625399948:pe=-.03418523266130075:e[7]>.26911173821332884?pe=.0014660191124088442:e[217]>1e-35?pe=-.08282397562490618:e[210]>1e-35?pe=-.0386848317545183:pe=-.001892646396528824;let Le;e[57]>1e-35?Le=-.059790543460520464:e[55]>1e-35?Le=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Le=-.054605342954169904:Le=-.006343751747681404:e[17]>1e-35?Le=.011961708215735271:e[40]>1e-35?Le=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Le=-.026498922218692673:Le=.10501477027016158:e[6]>4.03420147928485?Le=.012792216148037112:e[7]>.9830997303909479?Le=-.2271005546552327:Le=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Le=-.004842123367456505:Le=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Le=.032397176999597294:Le=-.0033271937210452387:e[204]>1e-35?Le=.02154799118278769:Le=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Le=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Le=-.21161676626091178:e[127]>1e-35?Le=-.4024450297968636:Le=-.030976570087232314:Le=.0031980605341801454:Le=.07943810970798848:e[135]>1e-35?Le=-.00869354055420051:e[123]>1e-35?Le=-.022241787113206086:e[62]>1e-35?Le=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Le=-.013433718654288605:e[155]>1e-35?Le=.00919342834132915:Le=-.0002729025327531227:Le=-.012537468897218136:Le=-.07894994665155514;let Ke;e[4]>.8958797346140276?e[14]>1e-35?Ke=.007800140351631253:e[138]>1e-35?Ke=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Ke=.09462192942805535:Ke=-.06376046128949985:e[37]>1e-35?Ke=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Ke=-.09261012186873348:Ke=-.015294712278584928:e[98]>1e-35?Ke=.019329173498247088:e[58]>1e-35?Ke=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Ke=6125118307170923e-20:Ke=-.009497787119169794:e[40]>1e-35?Ke=-.05491317248554455:e[7]>.30853255358841714?Ke=.003951848833690266:Ke=-.0021827028977256715:e[219]>1e-35?Ke=-.03918852409108207:e[98]>1e-35?Ke=-.025490621458423603:e[218]>1e-35?Ke=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Ke=.019288400231624092:e[132]>1e-35?Ke=.04845025214421127:e[157]>1e-35?Ke=.03681235344369351:e[18]>1e-35?Ke=-.034132162265456074:e[48]>1e-35?Ke=-.04861483835690636:e[142]>1e-35?Ke=-.031057400959951156:e[148]>1e-35?Ke=-.06903688486009983:Ke=-.004426858558248682:e[31]>1e-35?Ke=.06983425899920179:Ke=.002335587968443938:e[19]>1e-35?Ke=.04178364096434334:e[123]>1e-35?Ke=.03954255208630935:e[62]>1e-35?Ke=.07169067239737285:Ke=-.022094630155173406;let et;e[190]>1e-35?et=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?et=-.052080713549693486:et=.015237248725743169:e[49]>1e-35?et=-.05738028956460733:e[28]>1e-35?et=.015629889576502864:e[14]>1e-35?et=.007178838639724632:e[217]>1e-35?et=.006873744757442591:e[3]>.8958797346140276?et=-.0009297977761919447:e[4]>2.740319461670996?et=-.0032588616048005344:e[209]>1e-35?et=-.09352716353634213:et=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?et=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?et=.011687619771455333:et=-.014380012538782239:et=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?et=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?et=.03291298609827498:et=.056149641245301286:e[6]>5.66469358412419?et=.03259771207074825:et=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?et=-.061655392996083594:et=-.32745698278768204:et=.05791789791717941:et=-.018505458368810124:e[2]>1.2424533248940002?et=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?et=-.039544237504098204:et=-.00840469876565937:e[138]>1e-35?et=-.03964217397514852:et=-4311139741723525e-22:e[5]>6.136645972583987?et=-.022772355719852342:et=.00817231129409795;let _t;e[91]>1e-35?_t=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?_t=-.07374751231467579:_t=-.012603466600012023:_t=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?_t=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?_t=-.021752576521312197:e[142]>1e-35?_t=-.03703704004008216:e[21]>1e-35?_t=-.031901873695323615:_t=.0007949433315561949:e[156]>1e-35?_t=.04622194605125366:_t=.007164185384903575:e[156]>1e-35?_t=.05649230717257425:e[192]>1e-35?_t=-.14560972428612223:e[144]>1e-35?_t=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?_t=.009443385055723438:e[9]>1e-35?_t=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?_t=.03566002120217884:e[125]>1e-35?_t=-.08601531943220733:e[28]>1e-35?_t=-.07136595081940608:_t=.005430826378707227:_t=.026279964393698674:e[2]>.8958797346140276?_t=.025916235406054845:_t=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?_t=-.018458649485324576:e[123]>1e-35?_t=-.027048533130577097:e[9]>1e-35?_t=.005768627348361876:_t=.0011976274380886302:e[196]>1e-35?_t=.024074476840894424:_t=-.0040891042038809855:e[156]>1e-35?_t=-.03722816735059365:_t=-.004021663177778795;let xt;e[57]>1e-35?xt=-.054174378986311306:e[55]>1e-35?xt=-.05937408126377534:e[35]>1e-35?xt=-.06355743050048665:e[52]>1e-35?xt=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?xt=.023779508772836917:e[217]>1e-35?xt=.00760039749111183:xt=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?xt=-.03899686693288482:e[53]>1e-35?xt=-.06158372699069763:e[19]>1e-35?xt=.009506113370718208:e[154]>1e-35?xt=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?xt=.12643307498280917:xt=-.02322694568396696:e[49]>1e-35?xt=-.03489161935560748:e[173]>1e-35?xt=-.041310484369004336:e[116]>1e-35?xt=-.026931019221510855:e[150]>1e-35?xt=-.04336081700276943:e[46]>1e-35?xt=-.01503021840754708:e[21]>1e-35?xt=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?xt=.029035482597327224:xt=-.020238143126606493:e[22]>1e-35?xt=-.0092659038594408:e[6]>8.954867306462836?xt=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?xt=.025059955137215612:xt=-.058962720741665454:xt=4061285457160542e-20:e[7]>.787025207541384?xt=.0045073893285534905:e[156]>1e-35?xt=-.00956127321029558:e[153]>1e-35?xt=-.006428735642845697:xt=.0020065887307204903:xt=-.07142994726664682;let Ft;e[190]>1e-35?Ft=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Ft=-.019448665116575673:e[46]>1e-35?Ft=-.046207503035123526:e[143]>1e-35?Ft=-.060693025841649276:e[125]>1e-35?Ft=-.0635615784828548:Ft=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Ft=.021657999498329004:e[217]>1e-35?Ft=.006867901248533881:e[186]>1e-35?Ft=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Ft=-.06860813037660739:Ft=-.0030373931794416857:e[153]>1e-35?Ft=-.036659407900460406:Ft=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Ft=.022488528656368925:Ft=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Ft=-.0923825728762917:Ft=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Ft=-.02015430689927317:Ft=-.0014075476679032272:e[21]>1e-35?Ft=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Ft=-.11613127921904604:Ft=-.004425492436566155:e[61]>1e-35?Ft=-.04761391619756717:e[38]>1e-35?Ft=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Ft=-.03936956646884221:Ft=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Ft=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Ft=-.026128288926960785:Ft=.01402455905339408:Ft=-.018095204676971146:Ft=.002238241111198228;let Qt;e[3]>4.993822430271426?Qt=-.021704560089024494:e[39]>1e-35?Qt=-.012978601337522922:e[57]>1e-35?Qt=-.04850734344953324:e[190]>1e-35?Qt=-.02323817835232452:e[55]>1e-35?Qt=-.054265924680079236:e[144]>1e-35?Qt=-.020797331827991154:e[52]>1e-35?Qt=-.04407078296749134:e[50]>1e-35?Qt=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Qt=-.02603818360896512:Qt=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Qt=.010289606334961197:Qt=-.10259966877314837:e[139]>1e-35?Qt=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Qt=.027295226228104732:e[38]>1e-35?Qt=.036847447575421244:e[3]>2.861792550976191?Qt=-.016454620470329126:Qt=.010475083165212631:e[19]>1e-35?Qt=.008675111927467:e[40]>1e-35?Qt=-.036362054443170776:e[9]>1e-35?Qt=.0031294075955568394:e[123]>1e-35?Qt=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Qt=-.005045224468848018:e[3]>2.3502401828962087?Qt=.1006727710215487:Qt=-.21606952724358763:e[209]>1e-35?Qt=-.07903381656359819:Qt=.0099843967860757:e[28]>1e-35?Qt=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Qt=.04961274235179155:Qt=.005113567009198253:e[158]>1e-35?Qt=.031566828492110836:Qt=-.0012534895812835874;let Tt;e[4]>2.4414009612931857?e[123]>1e-35?Tt=-.022743199998420272:e[47]>1e-35?Tt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?Tt=.015256601991879549:e[23]>1e-35?Tt=.01997791344831838:e[97]>1e-35?Tt=.024977281654938052:e[218]>1e-35?Tt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?Tt=-.05855958691798028:Tt=-.009630189044251312:e[195]>1e-35?Tt=-.009842090802252708:e[125]>1e-35?Tt=-.030084333742373532:Tt=-.0009935375527704107:e[135]>1e-35?Tt=-.006040875366017567:e[43]>1e-35?Tt=-.03616920022546756:e[44]>1e-35?Tt=-.014787601622259254:e[0]>1e-35?Tt=.005949240867095038:Tt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?Tt=-.030610116678182732:Tt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?Tt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?Tt=.0927536258129216:Tt=.00806369969474508:e[198]>1e-35?Tt=.03402296877725087:Tt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?Tt=-.16957712930341856:e[28]>1e-35?Tt=-.2078243840685859:Tt=-.01982072284112783:e[134]>1e-35?Tt=-.059093837808976674:e[155]>1e-35?Tt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?Tt=.04159085402090426:Tt=-.0053579302271092874:Tt=-.038428527597709254;let St;e[2]>2.249904835165133?e[53]>1e-35?St=-.09149569302330776:e[142]>1e-35?St=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?St=-.005838073295705989:St=.0025448179376697196:e[217]>1e-35?St=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?St=.00016709708501075782:St=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?St=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?St=-.12592300140122323:St=-1.2073741246841418:St=-.17682453022795175:St=-.004373737265888883:St=-.032810714691009164:e[18]>1e-35?St=-.024280045660709612:e[156]>1e-35?St=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?St=-.032438707623116556:e[32]>1e-35?St=-.061272201063817755:St=.004415514992097752:St=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?St=.008680085548304642:e[29]>1e-35?St=.03767506445697859:St=-.0007537359215762705:e[4]>.8958797346140276?St=.0002799056937607271:St=-.039667032027283916:e[2]>1.2424533248940002?St=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?St=.0027367426972748597:St=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?St=-.03496264625173957:St=-.007705718616493613:e[138]>1e-35?St=-.035840689909527164:St=.0006855012949462712;let wt;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?wt=-.024776046248283234:wt=-.004761578172448051:e[8]>1e-35?wt=-.025343070913887773:wt=.012224469039913016:e[150]>1e-35?wt=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?wt=.019743419118584654:e[186]>1e-35?wt=-.15575093795294756:e[217]>1e-35?wt=.0056968023991711995:wt=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?wt=-.01597803134795572:e[151]>1e-35?wt=-.05058454115923059:e[50]>1e-35?wt=-.03619853041443809:e[49]>1e-35?wt=-.03261722685392842:e[24]>1e-35?wt=.011909155984778505:e[2]>2.012675845367575?wt=.0004933624031973823:e[219]>1e-35?wt=.015579421213152617:wt=.002812703494519415:e[113]>1e-35?e[24]>1e-35?wt=.09675188599473092:wt=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?wt=.02609533140492082:e[29]>1e-35?wt=-.21256031284758028:wt=.09442590919716193:wt=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?wt=-.011071875945121415:e[209]>1e-35?wt=-.19367443751378252:wt=-.04414838576908475:e[178]>1e-35?wt=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?wt=-.01294941588968201:e[5]>2.673553765358735?wt=.08150000027300734:wt=-.08989919051554107:wt=-.0032151101072856354;let Ot;e[35]>1e-35?Ot=-.05704221149718709:e[91]>1e-35?Ot=-.023832002943165256:e[102]>1e-35?Ot=.015441451551750014:e[3]>4.993822430271426?Ot=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?Ot=-.022873219553742163:e[22]>1e-35?Ot=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?Ot=.07657102696661595:Ot=-.0243921910773003:e[150]>1e-35?Ot=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?Ot=-.03740348349716821:Ot=.008237493112057112:e[49]>1e-35?Ot=-.03254806921800082:e[53]>1e-35?Ot=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?Ot=-.04084726667137505:e[155]>1e-35?Ot=.0323666619020495:Ot=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?Ot=-.0975422096275863:Ot=-.014038224866250074:e[136]>1e-35?Ot=-.03199938604211209:Ot=.0014268928516615767:e[99]>1e-35?Ot=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?Ot=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?Ot=-.047112416583853595:Ot=.00900546030963941:e[208]>1e-35?Ot=.02334424121914086:e[158]>1e-35?Ot=.04595592178250823:Ot=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?Ot=.009489783712825852:e[3]>2.249904835165133?Ot=.09999429949553015:Ot=-.03961464289941561:Ot=-.001190853283470586;let Gt;e[39]>1e-35?Gt=-.011391872842603505:e[190]>1e-35?Gt=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Gt=.08723256651643213:Gt=-.04233732133209843:e[19]>1e-35?Gt=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Gt=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Gt=.019990677612126993:Gt=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Gt=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Gt=.04230611914121616:Gt=-.1152833284663223:Gt=.03987788751961305:Gt=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Gt=.047655531405650486:Gt=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Gt=.1425984397283696:e[143]>1e-35?Gt=.05597721538261218:Gt=-.02117927246804007:Gt=.011077153043550766:e[143]>1e-35?Gt=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Gt=.02515771028113912:Gt=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Gt=.014623537050735559:Gt=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Gt=.021421346835282216:Gt=-.03287702034784505:e[16]>1e-35?Gt=.008645735809593434:e[3]>4.993822430271426?Gt=-.01889537207927676:Gt=.00131546333396141:e[153]>1e-35?Gt=-.09822789507794744:Gt=-.010292962989428067;let $t;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?$t=-.009153166060719259:$t=-.035386636811765286:e[58]>1e-35?$t=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?$t=-.01286680669029116:$t=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?$t=-.03084033316462023:$t=-.00517175216868761:e[195]>1e-35?$t=.01773824295809578:e[131]>1e-35?$t=-.17828043850421407:$t=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?$t=-.018589129226123456:e[116]>1e-35?$t=-.0227108777687536:e[24]>1e-35?$t=.009520152980411787:e[135]>1e-35?$t=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?$t=-.015737703364129243:$t=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?$t=.04655165952772795:$t=.009321761971665682:e[210]>1e-35?$t=.018839890489201528:e[129]>1e-35?$t=-.03111680952187252:$t=.0002649813454447912:e[23]>1e-35?$t=.014110539528977999:e[109]>1e-35?$t=.014168740682742625:$t=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?$t=-.004252607769147212:$t=.02017003996344357:e[16]>1e-35?$t=.01594899805169211:$t=-.006372071796745688:e[12]>1e-35?$t=-.0251011457777017:e[121]>1e-35?$t=-.07822588279288774:$t=-.005026529762858;let lr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?lr=.014982109981371684:lr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?lr=-.02862612402789537:lr=-.0004831913476108919:e[42]>1e-35?lr=-.08030278175390543:e[90]>1e-35?lr=-.11931838045625616:lr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?lr=-.03347653784336098:lr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?lr=.04078434374172937:e[130]>1e-35?lr=.04811471469938318:e[152]>1e-35?lr=.012079515899716571:e[23]>1e-35?lr=.017817807971301534:e[122]>1e-35?lr=.049338146544587284:e[115]>1e-35?lr=.026905923036994708:e[10]>1e-35?lr=-.008135082370740723:e[89]>1e-35?lr=.023584069012120446:e[95]>1e-35?lr=.013988944683250695:lr=-.002584756192745314:e[139]>1e-35?lr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?lr=.010620580427538877:lr=.047779724434429495:e[131]>1e-35?lr=-.08155143867377633:lr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?lr=.016956254821045937:e[90]>1e-35?lr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?lr=-.040607887814632475:lr=-.006287900824728332:lr=-.0018997472673294537:e[14]>1e-35?lr=.02358706984105576:lr=-.01737075534918072;let hr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?hr=-.007517267159018327:hr=-.02379463821120899:hr=-.0026543290628044274:e[8]>1e-35?hr=-.022865480180725452:hr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?hr=.0021573820428423146:hr=-.0046125093600082965:e[3]>3.314020688089767?hr=-.005566488595229649:e[6]>6.288787065535392?hr=.012796965207082116:hr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?hr=-.0003832411399288501:e[1]>1e-35?hr=-.03148874544425103:hr=-.3158553329522586:e[2]>1e-35?hr=.025981575700247922:hr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?hr=-.0005280655103032829:hr=-.009402467452152188:e[2]>.8958797346140276?hr=.0018798828715775142:e[3]>1.7005986908310777?hr=-.0002583719758369029:hr=-.014467497542301198:e[128]>1e-35?hr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?hr=-.03107874404542307:hr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?hr=.10168122236339333:hr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?hr=-.019182725682091863:e[3]>1.2424533248940002?hr=.10007959215270637:hr=-.049901874168813753:e[12]>1e-35?hr=-.008354674563617942:hr=.000556773623388255:hr=-.06338083699889271;let sr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?sr=-.03452197748259044:e[141]>1e-35?sr=-.05526745933972476:sr=.003096257901065188:sr=.013468654879205778:e[90]>1e-35?sr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?sr=-.011427282692256308:e[188]>1e-35?sr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?sr=.009014346731620665:sr=-.10784986305366669:e[102]>1e-35?sr=.014356846380168074:e[109]>1e-35?sr=.0100955463134877:e[31]>1e-35?sr=.025672511171270042:e[127]>1e-35?sr=-.10904631172619624:e[19]>1e-35?sr=.007015456473363717:e[60]>1e-35?sr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?sr=.02334115299069277:e[1]>1e-35?sr=-29013080593250377e-21:sr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?sr=-.06673983904970003:e[37]>1e-35?sr=-.05636396687178933:e[32]>1e-35?sr=-.042854874962508754:e[140]>1e-35?sr=-.014546243613252019:e[119]>1e-35?sr=.02592806792359847:sr=.0008331579108247542:e[12]>1e-35?sr=.004348565717870661:e[195]>1e-35?sr=-.016064193157584304:e[210]>1e-35?sr=-.01896835246692864:e[122]>1e-35?sr=.06415669138405272:e[219]>1e-35?sr=-.03191239858069586:sr=-.0022170295258555585:sr=-.00965022020696389;let cr;e[55]>1e-35?cr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?cr=-.04814595674860986:e[173]>1e-35?cr=-.030965289355370126:e[190]>1e-35?cr=-.01892908615035444:e[50]>1e-35?cr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?cr=.029102388421738776:e[217]>1e-35?cr=-.021829759931582565:cr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?cr=.007482519637019732:e[28]>1e-35?cr=.08823476156200263:cr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?cr=.037573808092493166:cr=-.008120569804875069:cr=.015185866424900767:cr=-.10150107137017012:e[39]>1e-35?cr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?cr=-.019406534412652932:e[22]>1e-35?cr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?cr=.007977856608752276:cr=-.038946271309380914:cr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?cr=-.06484570063989317:cr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?cr=.036329398743295674:cr=-.20474934656494398:e[4]>1.7005986908310777?cr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?cr=.03322386202318951:cr=-.01687696637036405:cr=-.10533305728771972:cr=-.0004901077590279651:cr=-.05758869249681345;let Jt;e[57]>1e-35?Jt=-.043478488738181505:e[53]>1e-35?Jt=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?Jt=-.01733439245316815:e[58]>1e-35?Jt=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?Jt=-.02641618586067251:Jt=.0053883499998111746:Jt=-.04111067521339709:e[46]>1e-35?Jt=-.03960880739147387:e[56]>1e-35?Jt=.02833430038101972:e[3]>4.548585836935273?Jt=-.028156779064728323:Jt=-.0006287807275955149:e[105]>1e-35?Jt=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?Jt=.021938681282791916:Jt=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?Jt=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?Jt=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?Jt=.09345774314045512:Jt=-.003460687191126055:Jt=.009778848673591349:Jt=.006207652194161698:e[134]>1e-35?e[14]>1e-35?Jt=.026940863472122597:Jt=.004032635910042969:e[16]>1e-35?e[156]>1e-35?Jt=-.014571620220052964:e[219]>1e-35?Jt=.03394257525872151:e[189]>1e-35?Jt=-.16441255476933125:Jt=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?Jt=-.002374233797129139:Jt=.015343494638416642:Jt=.0007085956801478842:Jt=-.0014226167854637043:Jt=-.014931890774210171;let ur;e[52]>1e-35?ur=-.040552145534119004:e[88]>1e-35?ur=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?ur=.08405882357263977:ur=-.028120036866471673:e[89]>1e-35?ur=.013417411709807947:e[138]>1e-35?e[25]>1e-35?ur=-.03104795267483152:e[8]>1e-35?ur=-.013793892541819341:ur=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?ur=-.04169781427571004:e[59]>1e-35?ur=.039366779099462186:e[190]>1e-35?ur=-.0746572875957972:ur=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?ur=-.015043885860062665:ur=.04427790295514171:e[127]>1e-35?ur=-.09222397003880911:e[188]>1e-35?ur=-.11791399942046604:e[116]>1e-35?ur=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?ur=-.08590814127371893:ur=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?ur=-.010834658570263708:ur=-.06942979142484561:e[59]>1e-35?ur=-.0368654965105411:e[186]>1e-35?ur=-.13585047638050318:ur=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?ur=-.07021793045868131:e[58]>1e-35?ur=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?ur=-.000719771928860618:ur=-.02550581685370434:ur=-.001300530189452872:e[216]>1e-35?ur=-.04553949138490546:ur=.0013445292966782988;let be;e[152]>1e-35?be=.005642349825665321:e[108]>1e-35?e[1]>1e-35?be=.012759171568581189:be=-.0015650437871311187:e[102]>1e-35?be=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?be=.007453521083396632:be=-.0036225862281260785:e[3]>.8958797346140276?be=-.0027177080775155366:e[5]>5.782284349061034?be=-.04454373321655838:be=.021964247026786614:e[11]>1e-35?e[47]>1e-35?be=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?be=-.06122312462911518:e[7]>.3847172300624272?be=.03518239795956787:e[3]>2.4414009612931857?be=.006811972713764457:be=-.0933556055347465:e[5]>4.938058177869999?be=-.004012086267764631:be=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?be=-.012304580143719986:be=.0013650712455989071:e[3]>2.802901033147999?be=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?be=.06211865200552023:e[17]>1e-35?be=.06775644666502018:be=-.06866304616688222:e[217]>1e-35?be=.059656960273077646:be=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?be=.006371564018556469:e[3]>2.138333059508028?be=.09486061534469152:be=-.09409330595635478:e[4]>2.602003343538398?be=.011308844028341723:e[100]>1e-35?be=.0439316487073224:be=-.003403233436702135:be=-.00960652384005499;let M;e[144]>1e-35?e[18]>1e-35?M=.07197995497453837:e[1]>1e-35?M=-.001274320993832369:M=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?M=.09098124993319018:M=-.04537404774072243:e[40]>1e-35?M=-.02515534903180516:e[53]>1e-35?M=-.04736675675905027:e[178]>1e-35?M=-.021374380471858013:e[55]>1e-35?M=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?M=.07999652271774131:M=-.036649228565504045:e[109]>1e-35?M=.009067075019741765:e[54]>1e-35?e[1]>1e-35?M=.019160818735605257:M=-.05967997790089002:e[35]>1e-35?M=-.043420689526233285:e[173]>1e-35?M=-.027561163630755333:e[190]>1e-35?M=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?M=-.019735056448517897:e[141]>1e-35?M=-.028090004807030017:M=.006865378253320941:e[139]>1e-35?e[1]>1e-35?M=-.032389864623829076:M=.005458607214221278:e[60]>1e-35?M=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?M=.015189336996079859:e[19]>1e-35?M=.013745154147527805:e[1]>1e-35?M=-.005284271350108698:M=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?M=-.0595395395199616:e[100]>1e-35?M=-.09991342902311327:M=-.0042488091801234805:M=.0006682804828197052;let de;e[46]>1e-35?de=-.012191380765172536:e[88]>1e-35?de=-.10266216005056819:e[91]>1e-35?de=-.018445844031974568:e[50]>1e-35?de=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?de=.03614842925379388:de=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?de=-.01053451990903616:de=-.05114195197878968:e[16]>1e-35?de=.007316468830803533:e[9]>1e-35?de=.003316750172048933:de=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?de=-.02547358042212171:de=.019472890771357998:e[186]>1e-35?de=-.09288424685816356:e[41]>1e-35?de=-.1310231930206974:e[42]>1e-35?de=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?de=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?de=-.16815706432319097:de=-.002818043413853223:de=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?de=.10052885656939581:de=-.11599835225683999:de=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?de=-.06576516230122952:de=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?de=.013062456952379193:e[7]>.7267616382562012?de=.0022613700798703854:de=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?de=.008501036224046256:de=-.06542467236134167:de=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let Y;e[6]>9.286096980078398?e[4]>2.970085626360216?Y=-.001155963563974424:Y=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?Y=-.0033183579364470086:e[11]>1e-35?Y=-.0018887492076874403:e[169]>1e-35?Y=-.09486398911649394:Y=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?Y=.012137569190879735:Y=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?Y=-.020817404206469048:Y=-.06464699261956137:Y=-.008121005894366425:Y=-.002273798477153842:e[4]>3.5114340430413216?Y=-.024199637055494112:Y=-.0044500308011184275:e[12]>1e-35?Y=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?Y=.0013628724281773107:Y=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?Y=-.15445392240959782:e[2]>2.970085626360216?Y=-.5683130345409004:Y=-1.2639522532467855:Y=-.12861577169349267:Y=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?Y=.003881870206848933:Y=.01474849027472377:e[18]>1e-35?e[219]>1e-35?Y=-.07387984252991263:Y=-.013089382916580447:Y=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Y=.019943967048858428:Y=-.04278248600927625:e[17]>1e-35?Y=-.11809979934412335:Y=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Ie;e[2]>8.18910569469239?Ie=-.011281718118735835:e[2]>8.136957041085973?Ie=.007639929297282146:e[2]>6.178980383851587?Ie=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Ie=-.026657037414316055:Ie=.03822052894720058:e[89]>1e-35?Ie=.01442240494610187:Ie=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Ie=-.04157937378268839:e[25]>1e-35?Ie=-.07438346384769444:Ie=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Ie=.10208422768618285:Ie=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Ie=-.18081467351794253:Ie=.06403272706376394:Ie=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Ie=-.034372452343283254:e[3]>1.2424533248940002?Ie=.10087241747333926:Ie=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Ie=.02872327658284419:Ie=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Ie=-.02165149142042258:e[3]>2.249904835165133?Ie=.011522668417532612:Ie=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Ie=.018894357520732635:Ie=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Ie=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Ie=-.16834554324370338:Ie=.08799302490518951:Ie=.007907573815540844:e[17]>1e-35?Ie=-.07843101628051594:Ie=.04322926522720053;let Me;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Me=6536595256810364e-20:e[153]>1e-35?Me=-.07687008855803332:Me=-.015088524832702519:e[18]>1e-35?Me=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Me=-.004574660978375117:Me=.02566519458840368:Me=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Me=.04675774128546983:Me=-.16922871147253024:e[5]>5.821564412917691?Me=.017788548280824237:Me=.101599048954043:e[5]>4.424828703319957?Me=.009470487487627452:Me=-.046977132290520585:e[95]>1e-35?Me=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Me=.0717824359443052:Me=.01776258010455891:Me=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Me=.012428835257375037:e[18]>1e-35?Me=-.08152843296689005:Me=-.0059907248803252305:e[109]>1e-35?Me=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Me=-.08097766993639294:Me=.014258345453663996:e[62]>1e-35?Me=.025185598552042956:e[213]>1e-35?Me=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Me=.004355449069502461:Me=-.03327693117307522:e[29]>1e-35?Me=-.024228224306581475:e[5]>5.244385543610066?Me=.01690188327986934:Me=-.02426164440751183:Me=-.0016932467092565535;let Ct;e[116]>1e-35?Ct=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?Ct=-.0289267666661116:Ct=.10225466717059267:e[5]>3.979637980058199?Ct=.007715497036238576:e[209]>1e-35?Ct=-.1596622066794057:Ct=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?Ct=.044010040060630896:Ct=-.018791912393741998:e[39]>1e-35?Ct=-.008648992983623099:e[3]>4.993822430271426?Ct=-.01442291433054286:e[158]>1e-35?Ct=.023944934429097977:e[21]>1e-35?Ct=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?Ct=.07015276907667169:Ct=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?Ct=.025342984951627335:e[56]>1e-35?Ct=-.039652717595259894:Ct=-.003499774006708361:e[4]>3.676220550121792?Ct=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?Ct=.012259156005894655:Ct=.04466570041636591:Ct=.002369030228609974:e[50]>1e-35?Ct=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?Ct=.004706524615587467:Ct=.03172381727140614:Ct=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?Ct=.047690620764284854:Ct=.004980692597287184:e[188]>1e-35?Ct=-.10330323519600788:e[108]>1e-35?Ct=.006389080836282864:e[217]>1e-35?Ct=.0034861135133741716:Ct=-.0005184951270632008;let Ut;e[150]>1e-35?Ut=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Ut=.0032708551521722813:e[3]>2.970085626360216?Ut=-.0008773771112515323:Ut=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Ut=-.0544661644610188:e[114]>1e-35?Ut=.014743200719322279:e[25]>1e-35?Ut=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Ut=-.012241568524042012:Ut=-.08332027167107449:e[119]>1e-35?Ut=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Ut=.003409540133128587:e[7]>.985694415330804?Ut=.014360134818665793:Ut=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Ut=-.07017324311241228:Ut=-.00954038893956995:e[32]>1e-35?Ut=-.0321895511220355:Ut=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Ut=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Ut=.03179391063657913:e[132]>1e-35?Ut=.044860161753142676:e[122]>1e-35?Ut=.056053352587009365:e[44]>1e-35?Ut=.011126140459263092:e[217]>1e-35?Ut=.015177735064648389:e[30]>1e-35?Ut=.00292550151642784:e[0]>1e-35?Ut=-.01370614277688821:Ut=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Ut=.06455607454604466:Ut=-.018525791968354337:e[127]>1e-35?Ut=.058525937257934674:Ut=.004550050432870272:Ut=-.024273015893662056;let Pt;e[57]>1e-35?Pt=-.03433295479723807:e[35]>1e-35?Pt=-.039185287251387806:e[2]>8.18910569469239?Pt=-.01005594457537474:e[2]>8.136957041085973?Pt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Pt=-.021428903659715646:Pt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Pt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Pt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Pt=.00015676395930232578:Pt=.008324926956588046:Pt=-.0031526636810443134:e[156]>1e-35?Pt=.053603289446623514:e[6]>5.912149824839399?Pt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Pt=-.44322676747225076:Pt=-.07989645752877887:Pt=.005736631305989689:e[6]>9.286096980078398?Pt=-.005302861539231229:e[133]>1e-35?Pt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Pt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Pt=-.029257180272820173:e[106]>1e-35?Pt=.03593102425808264:e[59]>1e-35?Pt=.03336711951593411:e[114]>1e-35?Pt=.021293721644930708:Pt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Pt=.005338088459754211:Pt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Pt=-.2145461556048109:Pt=-.013833058686928565:Pt=.0010745795613665528:Pt=-.003974960846380726:Pt=-.004018386137909663;let tr;e[55]>1e-35?tr=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?tr=.013340924551504776:tr=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?tr=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?tr=-.012347824466576033:tr=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?tr=-.0252070573488502:tr=-.13173630032620282:tr=.009893647988200364:e[6]>1e-35?e[73]>1e-35?tr=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?tr=.02326718288961822:tr=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?tr=.061286381265316374:e[3]>3.481121732133104?tr=.005424469650470853:e[6]>4.310776603370241?tr=.014609485744972962:tr=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?tr=-.2427431056579565:tr=.018014774163852717:tr=.0018695162213364096:e[61]>1e-35?tr=-.07802947082997094:e[45]>1e-35?tr=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?tr=-.021126260874271455:e[6]>4.03420147928485?tr=-.08415757514826445:e[3]>1e-35?tr=.10708927158160722:tr=-.24178647896179492:tr=.0008522369825914582:e[218]>1e-35?tr=.02373187641553724:e[57]>1e-35?tr=-.04729470896114382:e[6]>4.135134555718313?tr=-.00014270136560779048:tr=-.007024429214918294:tr=-.08338039048086893;let or;e[72]>1e-35?or=.056415744834310104:e[102]>1e-35?or=.010312560108512227:e[109]>1e-35?or=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?or=-.06595581480202953:or=.0010087955639505731:or=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?or=-.05474288807524913:or=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?or=.06670108938458437:e[20]>1e-35?or=.08555144132474565:or=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?or=.06392608504748652:or=-.02321056177872842:e[54]>1e-35?or=-.03592967725793262:e[6]>5.519456907163478?or=.0008682946366782881:e[133]>1e-35?or=-.029370515479889298:e[4]>3.0201273556387074?or=-.004567764283497172:e[12]>1e-35?or=-.008355751724201374:e[113]>1e-35?or=.04158028065835193:or=.005544170962219649:e[141]>1e-35?or=-.01706283616408152:e[186]>1e-35?or=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?or=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?or=-.1239344826496822:or=.026355647530608275:or=-.07955511774996737:e[41]>1e-35?or=-.10181506412232362:e[42]>1e-35?or=-.0453542732395041:e[116]>1e-35?or=-.040407946567398226:e[158]>1e-35?or=.027239009428531448:or=-.002118967070037752;let Mt;e[174]>1e-35?Mt=-.02339144841300339:e[173]>1e-35?Mt=-.02466576607302462:e[60]>1e-35?Mt=-.014400177078045:e[187]>1e-35?Mt=-.009580909976967153:e[6]>8.681774988134558?Mt=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Mt=-.13287881120130746:Mt=-.03759084751116859:e[25]>1e-35?Mt=-.029737667621816583:e[119]>1e-35?Mt=.022639692376110337:e[98]>1e-35?Mt=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Mt=.008961268500787772:Mt=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Mt=-.08413653233956772:Mt=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Mt=-.009299863216357543:Mt=-.0613782065666655:Mt=-.06705655672927394:e[5]>3.772694874805912?Mt=.0008635593500817348:Mt=.08361268069705163:Mt=.001087642897550713:e[98]>1e-35?Mt=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Mt=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Mt=-.07079074829049314:Mt=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Mt=-.10610285355896108:Mt=-.009292320249100847:e[157]>1e-35?Mt=.03507595269407085:e[97]>1e-35?Mt=.0249669535461336:e[48]>1e-35?Mt=-.027595291123779366:Mt=.0011643902717306173:Mt=-.0211420439263067;let vt;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?vt=-.022448598781455772:vt=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?vt=.00894455632762117:vt=-.003454709734759444:e[0]>1e-35?vt=.060858110677215166:vt=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?vt=.0168978378983998:vt=-.009237748165804088:vt=-.016931758267026403:e[3]>4.424828703319957?vt=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?vt=-.023722482692479133:vt=.10064484300766507:e[6]>4.03420147928485?vt=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?vt=.11711852031495243:vt=-.15067622815741855:vt=-.011085192149895408:e[108]>1e-35?vt=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?vt=.04454460743043898:e[37]>1e-35?vt=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?vt=-.020705364221039385:vt=.006460529078997639:e[0]>1e-35?e[98]>1e-35?vt=.10347448218504114:vt=-.04090123141769794:e[6]>5.636572136251498?vt=-.001212671493834005:e[2]>1.8688348091416842?vt=-.15821279618670178:vt=-.03563734739460456:vt=.027924859655082585:e[57]>1e-35?vt=-.03743904649648422:e[35]>1e-35?vt=-.0414066369468363:e[46]>1e-35?vt=-.011240341460759123:vt=-.0003091959047563666;let ar;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?ar=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?ar=-.05008164665262682:ar=.0007032387608254502:e[190]>1e-35?ar=-.19371592847895003:ar=.0017489801221668277:e[129]>1e-35?ar=-.24591656603456258:ar=.011026730387591234:e[72]>1e-35?ar=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?ar=.017141361021852975:e[28]>1e-35?ar=.07243997319099477:ar=-.08677988948169385:e[138]>1e-35?ar=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?ar=.014990462643385919:ar=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?ar=.0022421195021632245:e[4]>1.2424533248940002?ar=.03891295508085918:e[4]>.8958797346140276?ar=-.08902318396862074:ar=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?ar=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?ar=.016171629088047517:e[134]>1e-35?ar=.03196373735768742:ar=-.006820341969572339:ar=-.02712238491085242:ar=-.016309188486296804:ar=-.0019386576944297078:e[156]>1e-35?ar=-.03079416196682616:e[123]>1e-35?ar=-.020888866054988395:e[4]>3.238486181444842?ar=-.0027078359220281674:e[141]>1e-35?ar=-.029581214969996845:ar=.002299670778244013:ar=.0001804027795430786;let Do=Ast(t+r+n+i+s+a+l+c+u+f+m+h+p+A+E+x+v+b+S+k+P+N+W+te+ge+re+G+q+se+ne+H+O+j+J+le+Z+ae+ce+Re+ve+Ue+Be+Je+ft+it+ot+ie+Pe+Ae+Ge+z+ee+Fe+_e+Ce+Oe+Ve+Ze+yt+Rt+At+Ht+jt+ir+pe+Le+Ke+et+_t+xt+Ft+Qt+Tt+St+wt+Ot+Gt+$t+lr+hr+sr+cr+Jt+ur+be+M+de+ye+Y+L+Ie+Me+Ct+Ut+Pt+tr+or+Mt+vt+ar);return[1-Do,Do]}o(FCe,"treeScore");function Ast(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(Ast,"sigmoid");var Du=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function LCe(e){let t=e.split(`
`);return t[t.length-1].length}o(LCe,"getLastLineLength");function QCe(e,t,r){let n=e.get(Du),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+LCe(f));let k=f.slice(-1);_c[k]!==void 0&&(u=_c[k])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+LCe(p));let k=p.slice(-1);_c[k]!==void 0&&(h=_c[k])}let A=0;if("documentLength"in t.measurements){let k=t.measurements.documentLength;A=Math.log(1+k)}let E=0;if("promptEndPos"in t.measurements){let k=t.measurements.promptEndPos;E=Math.log(1+k)}let x=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let k=t.measurements.documentLength;x=(t.measurements.promptEndPos+.5)/(1+k)}let v=0;qJ[t.properties.languageId]!==void 0&&(v=qJ[t.properties.languageId]);let b=0,S=new Array(221).fill(0);return S[0]=i,S[1]=s,S[2]=l,S[3]=c,S[4]=m,S[5]=A,S[6]=E,S[7]=x,S[8+v]=1,S[29+u]=1,S[125+h]=1,b=FCe(S)[1],e.get(Du).probabilityAccept=b,b}o(QCe,"contextualFilterScore");d();d();d();var EF=class{static{o(this,"Debouncer")}async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};d();d();var xF=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},m5=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return iT.languageIds.has(t)||oT.languageIds.has(t)}static create(t,r,n,i){if(iT.languageIds.has(t))return new iT(t,r,n,i);if(oT.languageIds.has(t))return new oT(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await CC(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},GJ=class e extends xF{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},iT=class extends m5{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new GJ(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},WJ=class e extends xF{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},oT=class extends m5{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new WJ(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}};var h5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return m5.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=vV(n,m5.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{IV(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}},bF=class extends h5{constructor(r,n,i,s=10){super(r,n,i);this.lineLimit=s;let a=[...this.completion.matchAll(/\n/g)];a.length>=this.lineLimit&&this.lineLimit>0?this.offsetLimit=a[this.lineLimit-1].index:this.offsetLimit=void 0}static{o(this,"VerboseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=this.getStatementAtCursor(r),i=this.getContainingBlockOffset(n);return this.isWithinLimit(i)||(i=this.trimToBlankLine(i)),this.isWithinLimit(i)||(i=this.trimToStatement(n,i)),i})}isWithinLimit(r){return this.offsetLimit===void 0||r!==void 0&&r<=this.offsetLimit}trimToBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)].reverse();for(;n.length>0&&!this.isWithinLimit(r);)r=n.pop().index;return r}trimToStatement(r,n){let i=this.prefix.length,s=this.prefix.length+(this.offsetLimit??this.completion.length),a=r,l=r?.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a);)a=l,l=l.nextSibling;return a&&a===r&&a.node.endIndex<=i&&(a=l),a&&a.node.endIndex>s?this.trimToStatement(a.children[0],this.asCompletionOffset(a.node.endIndex)):this.asCompletionOffset(a?.node?.endIndex)??n}},vF=class extends h5{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function MCe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=vV(l,m5.create(e.languageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{IV(l,u,f)}}o(MCe,"getBlockPositionType");d();d();function OCe(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let A;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?A=.005888790687820524:A=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?A=-.0224319889201976:e[212]>1e-35?A=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?A=.010357273289123324:A=-.029749145161304082:e[218]>1e-35?A=.06449336340743606:A=.018047654539345502:A=-.07350502390293116:A=-.019594829995832414:e[4]>39.50000000000001?A=-.019338083179859314:e[39]>1e-35?A=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?A=-.019197415255018464:A=-.0836562507048181:e[149]>1e-35?A=-.07679624472577429:e[32]>1e-35?A=-.05097506748590604:e[191]>1e-35?A=.04670476485250936:e[30]>1e-35?A=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?A=.03930363008271334:A=-.06029171685615689:A=.016203086182431294:e[4]>7.500000000000001?A=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?A=-.09817668643367765:e[10]>40.50000000000001?A=-.023558078753593125:A=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?A=-.1352063548573715:A=.058203900441270634:A=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?A=-.012552876807800442:A=.05991247777734298:A=.0035893102109330177;let E;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?E=.03507251990078782:e[2]>14.500000000000002?E=.004905698363309292:e[8]>2421.5000000000005?E=-.10306119951984316:E=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?E=-.08503171085833393:E=.015130974593044409:E=-.024425267075198206:E=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?E=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?E=.09908783187786288:E=-.06920877329925636:e[8]>241.50000000000003?E=-.016756131804203496:e[9]>33.50000000000001?E=.04903179955263626:e[217]>1e-35?E=-.047416847619291644:E=-.0017200891991431119:e[39]>1e-35?E=-.10389927604977028:e[134]>1e-35?E=-.050480365434872866:e[178]>1e-35?E=-.05167855791556937:e[8]>2134.5000000000005?E=-.01663197335585307:e[242]>1e-35?E=-.05361323756615453:e[118]>1e-35?E=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?E=-.0016544848369620534:E=.04494144460483587:E=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?E=.051166688553608355:E=-.06623908820705383:e[84]>1e-35?E=-.12990936092409747:e[306]>1e-35?E=-.07020596855118943:e[49]>1e-35?E=.06272964802556856:e[192]>1e-35?E=.06540204627162581:E=.008277910531592885;let x;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?x=.003325460510319164:x=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?x=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?x=.0697359767152808:e[230]>1e-35?x=.06513506845651572:x=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?x=.013616385013146277:x=.04171540100223404:x=-.04360396575094823:e[212]>1e-35?x=.025945477945627522:x=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?x=-.07856453318384411:x=-.014803893522351739:e[39]>1e-35?x=-.09185452630751932:e[149]>1e-35?x=-.07122426086157027:e[134]>1e-35?x=-.04231052091434186:e[227]>1e-35?x=-.029815824273994197:e[50]>1e-35?x=-.15736496271211153:e[222]>1e-35?x=-.02360285356956629:e[128]>1e-35?x=-.03922080193836443:e[136]>1e-35?x=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?x=-.0029736170756835783:x=-.06482902102259112:e[84]>1e-35?x=-.11340924635708383:e[94]>1e-35?x=-.03635703457792193:e[118]>1e-35?x=-.058181913914186034:e[126]>1e-35?x=-.062030576241517366:e[116]>1e-35?x=-.045086301850604006:e[25]>1e-35?x=-.031665223656767286:e[203]>1e-35?x=-.009444685731407691:x=.0112265153772187;let v;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?v=.022717227245241684:v=-.049700413274686266:v=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?v=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?v=-.12263724050601095:v=.0070743478891288035:e[288]>1e-35?v=-.050439138582109:v=.0255701593657891:v=-.005812703740580558:e[6]>49.50000000000001?v=-.008542694147899113:v=.035147383686665:v=-.0960461939274094:e[32]>1e-35?v=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?v=-.01800870272656664:v=-.07817304234604389:e[30]>1e-35?v=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?v=.08778416018479411:v=-.026563982720830256:v=-.05296139548112329:e[50]>1e-35?v=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?v=-.036572140520852024:e[183]>1e-35?v=-.10766853736801459:v=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?v=.09513215942486053:v=-.03641865277445567:e[10]>59.50000000000001?v=.03177172388687933:e[39]>1e-35?v=-.10234241303898953:e[243]>1e-35?v=-.02966738115984321:e[190]>1e-35?v=-.04312785336449181:e[118]>1e-35?v=-.05808521194081524:v=.006720381600740378;let b;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?b=-.046284053681928526:e[210]>1e-35?b=49778070699847876e-21:e[13]>1e-35?b=.03328070054739309:e[128]>1e-35?b=-.054790214922938896:e[126]>1e-35?b=-.08524792218532945:b=.014414055975542446:e[1]>38.50000000000001?b=-.07287851335872973:b=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?b=-.12459748864088374:b=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?b=.13044981041138526:e[9]>71.50000000000001?b=-.056068402282406865:e[9]>12.500000000000002?b=.038957722962512764:b=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?b=-.0852126122372075:e[225]>1e-35?b=.10082066771689505:e[1]>161.50000000000003?b=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?b=-.010835400874777133:b=.004607419973807752:b=-.016989075258564062:b=.009205417251698097:e[23]>1e-35?e[20]>1e-35?b=.10184317139657878:e[0]>5724.500000000001?b=-.1163666496650542:e[1]>106.50000000000001?b=.1303850608190687:e[129]>1e-35?b=.10745031509534769:b=.006166901738036226:e[31]>1e-35?b=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?b=.005004582564506611:b=-.10481581731668346:e[19]>1e-35?b=-.009850706427306281:b=-.02608226348051303;let S;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?S=-.0024117174588695603:S=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?S=.04575380761203418:S=-.10025595041353463:e[15]>1e-35?S=.17705790384964004:S=.0073813837628615014:S=.07676373681392407:S=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?S=.07078572910026419:e[4]>23.500000000000004?S=.005513918674164821:S=.0206586476926392:e[0]>5269.500000000001?S=.07706773525822633:S=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?S=-.03204783603215824:S=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?S=-.0930246911392012:S=.011173087289703683:e[3]>24.500000000000004?S=.03281421918878597:S=.12449335091369843:e[204]>1e-35?S=.06634531187326123:S=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?S=-.041196758517013515:e[4]>7.500000000000001?S=-2942718111029724e-20:e[4]>6.500000000000001?S=.11953909558532852:S=.03188615019450534:e[122]>1e-35?S=-.0616037324662157:e[101]>1e-35?S=.027230889593349412:e[8]>4968.500000000001?S=-.1113986516540856:e[3]>2.5000000000000004?S=-.002045140426885727:e[129]>1e-35?S=.12641163374304432:S=.014909826232873194;let k;e[308]>1e-35?e[0]>7277.500000000001?k=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?k=-.040884836258675006:e[210]>1e-35?k=-.0003719413278428804:e[13]>1e-35?k=.030287610160818174:k=.011174130013595384:e[1]>38.50000000000001?k=-.0662442170185784:k=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?k=-.08092286307197555:k=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?k=-.1155211149523894:k=-.0032903546638958538:e[149]>1e-35?k=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?k=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?k=-.025416927789760076:k=.02777568919793122:k=-.10310351509769732:k=.013549608903688785:e[186]>1e-35?k=.08513865847420551:k=-.009306721292510369:e[31]>1e-35?k=.009780833952582307:e[23]>1e-35?k=.011143773934157629:e[210]>1e-35?k=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?k=-.04846287537743046:k=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?k=-.034224938681445764:e[8]>1641.5000000000002?k=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?k=-.027950103994861836:k=.14575930827829034:k=-.007124740389354946:e[10]>22.500000000000004?k=.013173304107866726:k=-.11119620042551365;let P;e[131]>1e-35?P=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?P=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?P=-.022305242912035072:P=.024792895826340516:P=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?P=.2080083584805785:P=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?P=.060783227455868206:P=-.056904865557409035:P=-.03278952553107572:e[192]>1e-35?P=.13117402617043625:P=.01647119888257836:P=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?P=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?P=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?P=-.11083976837572328:e[146]>1e-35?P=-.03359294484446772:P=-.0042815953591236475:e[190]>1e-35?P=-.09264239592903775:e[10]>1e-35?P=.022282638485105657:P=-.0205994057928458:e[5]>4918.500000000001?P=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?P=.08935072241972036:P=-.03781647876237494:P=.0062655753179671515:e[31]>1e-35?P=.008603500300349887:e[230]>1e-35?P=.03350056932774173:e[23]>1e-35?e[241]>1e-35?P=.10277555508503314:P=.0017901817172993888:e[2]>98.50000000000001?P=-.05920081229672715:P=-.015722173275739208;let N;e[13]>1e-35?e[118]>1e-35?N=.07957905150112207:e[1]>125.50000000000001?N=-.0662620579858685:e[145]>1e-35?N=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?N=-.0009597832580977798:N=-.081474760755753:e[212]>1e-35?N=.03637001492325179:N=.006912305498963309:e[32]>1e-35?N=-.03919900630910754:e[134]>1e-35?N=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?N=.06671440854602108:e[136]>1e-35?N=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?N=.026430947016830915:N=-.04075501264495112:e[9]>93.50000000000001?N=-.04353169430417609:e[50]>1e-35?N=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?N=.068392679163672:e[10]>1.5000000000000002?N=-.0209659792007492:N=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?N=.07254524592323175:N=-.0319087835282534:N=.00037444813327793425:N=-.025138768151370408:e[243]>1e-35?N=-.050010891710502096:e[94]>1e-35?N=-.0817513550778599:e[122]>1e-35?N=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?N=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?N=.1454877641381946:N=.053787998331240316:e[9]>33.50000000000001?N=.08602629796680285:N=-.03895127455803038:N=.008830878042315722;let W;e[131]>1e-35?W=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?W=.07473600489975568:e[0]>93.50000000000001?W=-.021596848506011502:W=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?W=.10264284346448256:W=.031042487183181262:W=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?W=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?W=.006271403149804702:W=-.030013637555715046:e[0]>4449.500000000001?W=-.06556876058654929:W=.06437994816903034:e[32]>1e-35?W=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?W=-.09349726304052086:e[210]>1e-35?W=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?W=-.029188394315052574:W=.017219308333820193:W=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?W=-.04428555753857688:W=.0001456106867817353:e[5]>213.50000000000003?W=.01740292726636365:W=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?W=.03410288911259329:e[121]>1e-35?W=-.06056527462120627:e[8]>2592.5000000000005?W=.12166808844363577:e[191]>1e-35?W=.11669879218998758:W=-.001664858391716235:W=-.01262927450503166:W=-.04506589951879664:e[227]>1e-35?W=-.08548904959752329:W=.02156080776537726;let te;e[306]>1e-35?e[149]>1e-35?te=-.1389218965136736:te=-.032218642644416894:e[13]>1e-35?te=.006465035217331847:e[50]>1e-35?te=-.1381687930130022:e[179]>1e-35?te=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?te=-.03262719498763048:te=.023342916702125613:e[191]>1e-35?te=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?te=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?te=-.09989343595668776:te=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?te=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?te=-.09165257825246746:e[9]>32.50000000000001?te=.02484870392366004:te=-.008499493096971395:e[8]>24.500000000000004?te=.02459679192828244:te=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?te=.0015644546318714849:te=-.06579524865022705:te=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?te=.03331853632960164:te=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?te=-.019091477207111116:te=.037878468575478504:e[94]>1e-35?te=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?te=.16919658785098224:e[243]>1e-35?te=-.06580584936754524:te=.01567555159935563:e[129]>1e-35?te=.06721746994993226:e[10]>32.50000000000001?te=-.046394462507797975:te=-.006436180519584767;let ge;e[131]>1e-35?ge=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?ge=.019122095523977856:e[298]>1e-35?ge=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?ge=-.026094309429557913:e[204]>1e-35?ge=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?ge=.012643810980689466:ge=-.07884161741497837:ge=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?ge=.04493082949897325:ge=.18046359750455776:e[7]>18.500000000000004?ge=-.018667348656891496:ge=.02584325784698236:ge=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?ge=.04749240016989375:ge=-.0333334578246718:e[5]>3276.5000000000005?ge=.11330554740098908:e[7]>94.50000000000001?ge=.1296600395033268:ge=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?ge=-.13787130789142835:e[0]>1847.5000000000002?ge=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?ge=.028856848462727104:ge=-.11197632885851168:ge=.08169801342016791:e[1]>22.500000000000004?ge=-.021052888644970163:ge=.019048604298876753:e[7]>4.500000000000001?ge=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?ge=.03432638833359197:ge=-.0036767863082454973:e[1]>48.50000000000001?ge=.03087375270128195:e[2]>3.5000000000000004?ge=-.04219917149740248:ge=.018818493993207935;let re;e[306]>1e-35?re=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?re=-.09091897542577475:re=.04042943082645558:e[218]>1e-35?re=.056254985867151:re=-.053848117950183044:re=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?re=.021581808008986944:re=-.05639286496176611:re=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?re=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?re=.023885302967553288:re=.1617794086125622:e[212]>1e-35?re=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?re=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?re=.01894935813286188:re=-.06449356357429188:re=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?re=-.034718828212885515:re=.0898976288814321:e[1]>17.500000000000004?re=-.15440137451988326:re=-.03864183216821465:re=.009988507307006308:re=-.08540311947043305:e[50]>1e-35?re=-.13323659732101975:e[134]>1e-35?re=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?re=.08082476177379844:re=-.041665761903645876:e[179]>1e-35?re=-.12405023987936657:e[39]>1e-35?re=-.06247416524997478:e[138]>1e-35?re=-.10724031753676487:re=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let q;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?q=-.03461119351456781:q=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?q=-.12404435523286539:q=-.0034376913880382956:q=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?q=.0037507103585310234:q=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?q=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?q=-.04832024079663151:e[37]>1e-35?q=-.037103393468366934:q=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?q=.032539071163832034:e[5]>1643.5000000000002?q=.036408625378035665:e[0]>1500.5000000000002?q=-.1346358322854993:q=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?q=-.1133991164577881:e[9]>52.50000000000001?q=-.024478640359723122:q=.03673777861098756:q=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?q=.002583438691776944:q=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?q=-.02141222346712401:q=.06392462314316179:e[4]>12.500000000000002?q=.08700122294434816:e[8]>267.50000000000006?q=.056923170082743224:q=-.07716309825583327:e[32]>1e-35?q=-.03961343943752142:q=.002674914122888783:e[1]>42.50000000000001?q=-.05217539654421676:e[145]>1e-35?q=.09553630282946368:q=-.009424791262477729;let se;e[183]>1e-35?se=-.05753337139158443:e[308]>1e-35?se=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?se=-.10477869875380448:se=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?se=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?se=-.04442302951713574:se=.00012409888451734224:se=-.092199119633697:e[225]>1e-35?se=.13773072450201831:e[0]>2882.5000000000005?se=.0028540012229920533:e[298]>1e-35?se=.07134486044361629:se=.014297412329837425:e[145]>1e-35?se=.05608385321902638:e[92]>1e-35?se=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?se=-.0039957800609801315:se=.0776927564241081:e[203]>1e-35?se=-.05502900859432093:e[105]>1e-35?se=.06062892720841595:se=-.009574839629252128:e[31]>1e-35?se=.009488858841144216:e[23]>1e-35?e[20]>1e-35?se=.08818126313644752:e[8]>161.50000000000003?se=.014353968957885408:se=-.022240738532827903:e[210]>1e-35?se=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?se=-.043902062079383485:se=-.014741559220396223:se=-.00934935734853194:e[6]>32.50000000000001?se=.1514593126307404:se=.010771222510801532:e[10]>22.500000000000004?se=.01412495209334078:se=-.08576940379502533;let ne;e[0]>384.50000000000006?e[84]>1e-35?ne=-.06647690967306838:e[2]>101.50000000000001?ne=-.024451334501552457:e[306]>1e-35?ne=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?ne=.0031858381443673127:ne=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?ne=-.08601340441214533:e[1]>29.500000000000004?ne=.10487598629539963:e[8]>597.5000000000001?ne=-.0786529133673238:ne=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?ne=-.04883600353740688:e[126]>1e-35?ne=-.03794042763348827:ne=-.003358871967539988:e[210]>1e-35?ne=.054991356498447566:e[6]>19.500000000000004?ne=-.007418396981635549:ne=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?ne=-.02143003429501711:ne=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?ne=-.006636355416244082:ne=-.06483095743431454:e[4]>21.500000000000004?ne=-.028975965946833545:ne=.022012264796522657:ne=-.06653648243193663:e[5]>4593.500000000001?ne=.01753551428088607:e[217]>1e-35?ne=-.028864824937700297:e[94]>1e-35?ne=-.04885192273020658:e[279]>1e-35?ne=.08105715462329498:e[121]>1e-35?ne=-.04576676034750651:ne=.004795141324949362:e[1]>42.50000000000001?ne=-.047446619702809195:e[145]>1e-35?ne=.08400495571952321:ne=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let O;e[0]>384.50000000000006?e[84]>1e-35?O=-.06088131453064195:e[147]>1e-35?O=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?O=.04219361472548491:O=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?O=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?O=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?O=-.11431764534511478:O=.013549717238356157:O=-.020987333767091276:e[6]>2.5000000000000004?O=-.02914877855133127:O=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?O=-.10087072787978416:e[37]>1e-35?O=-.030467397753331196:e[229]>1e-35?O=-.1017559811057469:e[4]>20.500000000000004?O=-.00413177742240167:e[20]>1e-35?O=.05213315982685969:O=.0037921635866823133:e[8]>51.50000000000001?O=.07327913092421544:e[6]>49.50000000000001?O=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?O=.02744420891894289:O=.11288946357194463:O=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?O=-.012329314369909049:O=.026816658655600168:O=-.0872405354618811:O=.007872673500247845:e[1]>42.50000000000001?O=-.04309044198258254:e[145]>1e-35?O=.07572529147860785:e[7]>5.500000000000001?O=-.013837187093264945:e[1]>17.500000000000004?O=.04208698439539668:O=-.06284346769019863;let j;e[294]>1e-35?j=-.0384794324818203:e[266]>1e-35?j=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?j=.07432960094940501:j=-.035248735855751855:e[134]>1e-35?j=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?j=-.01706896375068821:j=.08212247914968074:e[2]>59.50000000000001?j=-.09546478958824225:e[6]>53.50000000000001?j=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?j=.02816463285971267:j=.15449139016588445:j=-.10199787406123524:j=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?j=-.13924786681478077:j=-.0072772442570213335:e[39]>1e-35?j=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?j=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?j=-.11174465335620831:j=.00013144040097180107:j=-.08493919336681105:e[42]>1e-35?j=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?j=-.015540659878839153:j=-.14442609417300142:e[21]>1e-35?j=-.025251979447574083:j=.0023698372645272847:e[18]>1e-35?j=.07269739695712212:e[8]>2592.5000000000005?j=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?j=-.01835130329646532:e[9]>45.50000000000001?j=.02023047454629885:j=.16469378262221102:j=-.042975030085836426;let J;e[8]>2915.5000000000005?e[297]>1e-35?J=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?J=-.01034964686484714:J=-.07357437440667927:J=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?J=-.09476398869062203:e[9]>72.50000000000001?J=-.0757383854264379:J=.02806542779508718:J=-.05147742568418084:J=.10212721564444344:J=.0518263760642861:J=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?J=-.10669213185972036:J=.027050434286384796:e[302]>1e-35?J=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?J=.06354599160071946:e[1]>67.50000000000001?J=.05317447949011187:J=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?J=-.09369289448773599:e[0]>2215.5000000000005?J=.04077965380363924:e[0]>807.5000000000001?J=-.0591771776458298:J=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?J=-.016323380219241672:J=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?J=.03720704290087811:J=-.008730548158766654:e[4]>80.50000000000001?J=-.05346644687473197:J=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?J=.019984510398089086:J=-.03917825025861855:e[9]>170.50000000000003?J=-.09759719821334525:J=-.0023586682752856298;let le;e[183]>1e-35?e[17]>1e-35?le=.030100940443356424:e[10]>1.5000000000000002?le=-.10861112216742408:le=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?le=-.032062878390325456:le=-.10808232631806887:e[8]>1641.5000000000002?le=-.06147013392655731:e[4]>12.500000000000002?le=.03324767551088266:e[145]>1e-35?le=.028851633810612017:le=-.054871239091792784:e[134]>1e-35?le=-.023813968121342108:e[266]>1e-35?le=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?le=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?le=-.025350325484720576:le=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?le=.056817276537534815:le=-.07674158463557636:le=-.06335553143454145:e[1]>56.50000000000001?le=.16390494217299284:le=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?le=.041717597065890205:le=-.10357913492269129:e[10]>29.500000000000004?le=.1365512866715726:le=.020600048310575665:le=.09708785634773187:le=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?le=-.03146213719547347:le=.11784024316238083:le=-.050940520532045355:le=-.047988344143075616:e[191]>1e-35?le=.028764654731460032:le=.0011911575567860023;let Z;e[294]>1e-35?e[10]>50.50000000000001?Z=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?Z=-.05103908560370243:Z=.05002066201169583:Z=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?Z=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?Z=.127983140816313:Z=-.05436534163636867:Z=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?Z=-.009504203657088933:e[8]>819.5000000000001?Z=.18689664822602375:Z=.03635576744011826:Z=-.029862411809998525:e[223]>1e-35?Z=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Z=-.09405026597863717:e[0]>4153.500000000001?Z=.053577663326799765:Z=-.05062127873995668:Z=.06512222894425874:e[39]>1e-35?Z=-.04985311717827547:e[51]>1e-35?Z=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?Z=-.02860634573675884:Z=.08863753005590103:Z=.11158892111063744:e[0]>655.5000000000001?Z=-.031005736641654926:Z=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?Z=-.00843386136334982:Z=-.05273594615999777:Z=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Z=-.015774115523598486:Z=.10147367091236065:Z=-.048307000563071016:Z=.002118376117677254;let ae;e[8]>1014.5000000000001?e[9]>137.50000000000003?ae=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?ae=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?ae=.07211107542565391:ae=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?ae=-.0751486415451188:e[1]>59.50000000000001?ae=.13459005084554104:ae=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?ae=.06715575425741895:ae=-.005895690393702183:e[8]>2915.5000000000005?ae=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?ae=-.00029068886245881074:ae=.0613467393188786:e[148]>1e-35?ae=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?ae=.003887223773199377:ae=-.08553893131979015:ae=.025654192706396767:ae=-.05651733979610658:ae=-.02039913645229667:e[2]>7.500000000000001?ae=-.1058450646728524:ae=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?ae=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?ae=.1283258201586378:ae=-.01718135372229775:ae=-.07702452408491414:e[125]>1e-35?ae=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?ae=.04273051857848212:ae=-.04533122948101463:e[2]>196.50000000000003?ae=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?ae=.0231032972703664:ae=-.04807386814498683:ae=.002729435991332102;let ce;e[179]>1e-35?ce=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?ce=.026484626664041125:e[10]>1.5000000000000002?ce=-.10187000872941615:ce=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?ce=.09574540795390041:ce=-.06454986703691233:ce=-.11411849349353141:e[266]>1e-35?ce=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?ce=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?ce=-.04403391373512386:ce=.1132928075412222:e[2]>47.50000000000001?ce=-.09700191391838056:ce=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?ce=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?ce=-.001668912999010927:ce=-.02363511102970245:e[8]>58.50000000000001?ce=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?ce=.0911011436534449:e[1]>28.500000000000004?ce=-.07192390493729035:ce=.06913818091291246:ce=-.012312625373699222:ce=.06784496312307986:ce=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?ce=.0026564453057705273:ce=-.025425772389361445:e[122]>1e-35?ce=-.12046786388602149:e[0]>3183.5000000000005?ce=.01162092842804907:e[91]>1e-35?ce=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?ce=-.0001647792543020228:ce=-.023664538532907665:ce=.01609078206180752;let Re;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?Re=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?Re=-.017696526862422682:Re=.1450050954613223:Re=-.05406930069823832:Re=-.08308700260259043:e[120]>1e-35?Re=.058316269489189415:e[297]>1e-35?e[94]>1e-35?Re=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?Re=.038431826961746934:Re=-.05937462906539856:e[9]>65.50000000000001?Re=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?Re=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?Re=-.09579030954062734:Re=.025064711572811746:Re=.02579440518821548:Re=.1044440128091862:Re=-.058348633139536844:Re=.07766788227934436:Re=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?Re=.07463684068207214:Re=.18244269035484484:e[6]>39.50000000000001?Re=-.06050050067471004:Re=.05787759066913493:Re=.010783225857972171:Re=.1674891243602606:e[4]>9.500000000000002?Re=-.004814132027475892:Re=-.14543299413454813:Re=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?Re=-.07634466313617769:Re=.0287825335169114:Re=-.06894721943300268:Re=-.00023988459059521937;let ve;e[131]>1e-35?e[1]>93.50000000000001?ve=-.05706887458825395:e[2]>1.5000000000000002?ve=.011446637886629108:ve=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?ve=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?ve=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?ve=.026278724448495064:ve=.17053138400480508:e[0]>4463.500000000001?ve=-.06482289890096041:ve=.03026516489536295:ve=-.031785170717683144:ve=.1312690622980455:e[13]>1e-35?ve=.14336922540461444:ve=.03523850945454039:ve=-.015407465968975714:e[39]>1e-35?ve=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?ve=-.0659975068798723:ve=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?ve=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?ve=.057409156184759516:ve=.2024322059866388:ve=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?ve=.010648654146284154:e[308]>1e-35?ve=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?ve=.12364025998551711:ve=-.02247495081065243:e[1]>22.500000000000004?ve=-.0726295464624251:ve=.03481895086048152:e[0]>4331.500000000001?ve=-.04775443357020673:ve=.07172377425057568:e[2]>89.50000000000001?ve=-.11782645274716962:ve=.00010092665257989378;let Ue;e[147]>1e-35?Ue=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Ue=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Ue=-.016101990375700172:e[0]>2579.5000000000005?Ue=-.13045089661551845:Ue=-.02874367814784938:Ue=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Ue=.17084176915326055:Ue=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Ue=.10591712319944074:Ue=-.024082167264285:Ue=.16497698867036126:Ue=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Ue=-.021012910475524206:Ue=-.13058422554298485:e[0]>1102.5000000000002?Ue=.10955864175201457:Ue=-.03566689354348996:e[1]>11.500000000000002?Ue=-.02093884208606101:Ue=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Ue=-.013861861436128482:Ue=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Ue=.10163873449625677:Ue=-.02779270277623805:e[1]>26.500000000000004?Ue=-.08035058228527389:Ue=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Ue=-.007028075523033826:Ue=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Ue=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Ue=-.0032075580718124892:Ue=-.04442829143298883:Ue=-.06597073245775804:Ue=.0015594090939337751;let Be;e[223]>1e-35?e[8]>668.5000000000001?Be=-.12803889879260094:Be=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?Be=.08967966612917375:e[1]>39.50000000000001?Be=-.059791671514498074:Be=.05648934961902822:e[2]>59.50000000000001?Be=-.08633234097449628:e[6]>53.50000000000001?Be=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?Be=.025606129643140924:Be=.13835395886271978:Be=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?Be=-.09975506556937946:e[10]>36.50000000000001?Be=-.09427724661655643:e[10]>24.500000000000004?Be=.07329330653410447:Be=-.02271182965807972:Be=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?Be=-.05082091374050816:Be=.1687114435254966:e[0]>2314.5000000000005?Be=-.06422664016383926:Be=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Be=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?Be=-.1274167728754332:Be=.01308079126447365:e[4]>73.50000000000001?Be=.13854015371106546:e[4]>48.50000000000001?Be=-.03684255740123261:e[6]>45.50000000000001?Be=.10329912215813097:e[10]>77.50000000000001?Be=-.08630788656925215:Be=.031022006843800853:e[1]>25.500000000000004?Be=-.08278381528048026:Be=.06664374548141594:e[84]>1e-35?Be=-.05624227409079396:Be=.00012184182357340415;let Je;e[179]>1e-35?Je=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Je=-.07595415373151816:Je=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Je=.022822510448266862:Je=.17491569312933697:Je=-.058362287133533565:e[2]>2.5000000000000004?Je=-.03633895806364428:Je=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Je=-.07294848747514579:Je=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Je=-.07009535282685533:e[8]>2640.0000000000005?Je=-.051761240111316276:e[131]>1e-35?Je=-.06245774419231631:Je=.03495606662854905:Je=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Je=.0015036626973581122:Je=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Je=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Je=.022343994371919224:Je=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Je=.07724450228328664:e[0]>3853.5000000000005?Je=-.15671707454435677:e[10]>28.500000000000004?Je=-.10179090671841723:Je=.014878216919760927:Je=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Je=.14054154485273487:Je=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Je=-.08632985141410315:Je=.005524157938954954:Je=-.08802502622523681:Je=-.0004649168897260341;let ft;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ft=-.007458687464321174:ft=-.09444966249102484:e[1]>23.500000000000004?ft=.08564129697360716:ft=-.07105002902845851:ft=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ft=-.10326216566705966:e[1]>26.500000000000004?ft=.0050539832484585365:ft=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ft=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ft=.05783632021087773:e[10]>17.500000000000004?ft=-.06720598671764105:e[1]>47.50000000000001?ft=.097495825172558:ft=-.013372242800584872:ft=-.06463226787713715:e[42]>1e-35?ft=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ft=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ft=.11051270080118503:ft=.027719462817590454:e[8]>597.5000000000001?ft=-.08441503592016869:ft=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ft=-.12190088985091102:ft=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ft=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ft=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ft=.016585157185448045:ft=-.11032043771149425:ft=.01586986028570486:e[8]>388.50000000000006?ft=-.10592413013261853:ft=.04930703248769364:e[13]>1e-35?ft=.003621937787920821:ft=-.0013786331198611841;let it;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?it=.009769895322846493:it=-.10620052926943656:e[9]>19.500000000000004?it=.03781202525403449:e[9]>14.500000000000002?it=-.11485785321365344:e[9]>6.500000000000001?it=.07677177833073881:e[0]>4342.500000000001?it=-.07079285609687631:e[49]>1e-35?it=.06156814809246001:it=-.014788509042554625:it=-.032659201618470655:e[5]>5207.500000000001?it=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?it=-.03094160322187924:e[1]>29.500000000000004?it=.09474646043921069:it=.023445783928231618:it=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?it=-.07164443768784848:e[1]>29.500000000000004?it=.089473622509272:e[8]>597.5000000000001?it=-.08155349903101317:it=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?it=-.004003900679358653:e[190]>1e-35?it=-.09236113461485262:e[8]>3198.5000000000005?it=-.0124130160451179:it=.018453070064009328:e[15]>1e-35?it=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?it=-.0009580759587680961:it=-.03227283036698222:it=.01369287669536875:e[1]>50.50000000000001?it=-.04213060332500437:e[35]>1e-35?it=-.11508095777767471:e[190]>1e-35?it=-.08611884672400155:e[297]>1e-35?it=.05723551879433584:it=-.004829340082311461;let ot;e[183]>1e-35?ot=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?ot=-.11753465135886734:ot=-.007515490299047085:ot=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?ot=-.12371142493530439:e[1]>36.50000000000001?ot=.032189417575190435:ot=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?ot=-.0784518658439288:e[2]>54.50000000000001?ot=.12477882322370665:ot=.000313468482399738:ot=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?ot=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?ot=.0353146070135579:ot=-.06327619611098285:ot=.02813577701641991:ot=-.12354390728506215:e[34]>1e-35?ot=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?ot=-.01245803535276381:ot=-.07169472553475001:e[1]>11.500000000000002?ot=.12989984824561698:ot=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?ot=.010390226893521422:e[10]>14.500000000000002?ot=.16790888126487719:ot=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?ot=-.043398307129729134:ot=.09963544907820426:e[9]>30.500000000000004?ot=-.13540713124984502:e[9]>17.500000000000004?ot=.0509435850590757:ot=-.04761897852404613:e[4]>78.50000000000001?ot=.09197086656470652:ot=.0006771050176682337;let ie;e[122]>1e-35?e[6]>36.50000000000001?ie=.05686884451670743:ie=-.05334759543084309:e[266]>1e-35?ie=-.08603579519816038:e[157]>1e-35?ie=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?ie=-.0499592651503952:e[0]>725.5000000000001?ie=.11780353905132664:ie=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?ie=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?ie=-.03190157229022304:ie=.07985197845805492:ie=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?ie=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?ie=-.027174047777029083:ie=.057117284879796476:e[3]>43.50000000000001?ie=-.0016147040913107311:ie=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?ie=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?ie=-.01466076988151239:ie=.13375695925484857:ie=-.04885873081899647:e[0]>5566.500000000001?ie=.11086813028591343:e[8]>992.5000000000001?ie=-.07622304217072383:ie=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?ie=.03285858361708423:ie=-.12354858211764992:ie=.0672788301823281:e[15]>1e-35?ie=.08658836986585006:ie=-.02741484278509758:e[290]>1e-35?ie=-.08161310335133287:e[135]>1e-35?ie=-.04824156054814152:ie=.0009156904299554183;let Pe;e[3]>7.500000000000001?Pe=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Pe=.03642374718166293:Pe=.16379973756366603:Pe=-.03946685266127979:e[186]>1e-35?Pe=.07618896623420895:e[96]>1e-35?Pe=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Pe=-.022822371600847505:Pe=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Pe=.044416424920571296:Pe=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Pe=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Pe=.1061937286809567:e[7]>54.50000000000001?Pe=.11487507743121311:e[8]>819.5000000000001?Pe=-.07181278009001418:e[10]>25.500000000000004?Pe=.13499019430369633:e[1]>31.500000000000004?Pe=.09032979489780704:Pe=-.12754166393372374:e[9]>37.50000000000001?Pe=-.05093963635361407:Pe=-.005026651151683848:e[9]>2.5000000000000004?Pe=.07619735785573735:Pe=.012363301341532136:e[26]>1e-35?Pe=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Pe=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Pe=-.10764172927882483:Pe=.01890760098464703:Pe=.06573095405846417:e[8]>634.5000000000001?Pe=-.00783575973273707:Pe=-.050612689680229306:e[1]>22.500000000000004?Pe=-.0016842490401359626:Pe=.0738227088444087:Pe=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let Ge;e[189]>1e-35?e[0]>5269.500000000001?Ge=-.103183298350443:e[2]>51.50000000000001?Ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?Ge=-.05186168947388339:Ge=.0496996365539082:e[10]>23.500000000000004?Ge=.1404445738719:e[93]>1e-35?Ge=.0027146310074558505:e[5]>3821.5000000000005?Ge=.002153033152069652:e[4]>2.5000000000000004?Ge=.007663539551317215:Ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?Ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?Ge=-.021479467709980358:Ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?Ge=.021660293256233334:Ge=-.0927396152303864:Ge=.0665074081601698:e[0]>1550.5000000000002?Ge=.08972407105958534:Ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?Ge=.06761927942466854:Ge=-.015762168112653286:e[17]>1e-35?Ge=.10311304131145381:Ge=-.017672785252336027:Ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?Ge=-.10638321435298535:Ge=.0007073011744385905:e[18]>1e-35?Ge=-.027056185501334325:e[145]>1e-35?Ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?Ge=.09762140519655171:e[9]>110.50000000000001?Ge=-.06581942957595835:e[6]>54.50000000000001?Ge=.04959634035251596:Ge=.0022616298654554207:Ge=-.007437620924990854;let z;e[179]>1e-35?z=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?z=.1470294450403005:z=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?z=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?z=.07965955447707423:e[10]>10.500000000000002?z=-.09236156404262426:z=.03396273196231458:z=-.13246465021467432:z=.07092822261735353:z=-.08753829085942:z=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?z=.004705878789890202:z=.13775378964952867:z=-.04770928980587811:e[10]>29.500000000000004?z=.011221519891071544:e[0]>3853.5000000000005?z=.06365381191628273:z=.15506252245336827:e[1]>37.50000000000001?z=-.07254777021042061:z=.026514587757252385:e[308]>1e-35?z=.04115804816617256:e[10]>26.500000000000004?z=.02077721353011946:e[5]>3548.5000000000005?z=-.1280907116663952:z=-.021974774274438:e[306]>1e-35?z=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?z=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?z=-.005710865560475598:e[94]>1e-35?z=-.06751507982853555:z=.027250040757588703:e[9]>52.50000000000001?z=.07060357924595577:z=-.030297760713011795:z=-.0006005400085266517;let ee;e[113]>1e-35?ee=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?ee=-.06996356565314456:ee=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?ee=-.08317707559926495:e[21]>1e-35?ee=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?ee=-.010538203005984922:ee=.08454819465349446:e[9]>124.50000000000001?ee=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?ee=-.08542251249346582:e[9]>50.50000000000001?ee=-.023428882537657472:ee=.010042500833979073:ee=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?ee=.03006025206979096:e[9]>108.50000000000001?ee=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?ee=.04222035773042132:ee=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?ee=-.07209095448054853:ee=.028065954981903313:ee=.08714651929917122:ee=-.006678820669279169:e[10]>40.50000000000001?ee=.006982396294941626:ee=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?ee=-.09351114982645548:e[4]>3.5000000000000004?ee=-.004837550129223451:ee=-.08324141237464677:e[303]>1e-35?ee=.10703037493990825:e[9]>156.50000000000003?ee=-.10803018621648303:e[116]>1e-35?ee=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?ee=.10261721665006701:ee=.018994509090668264:ee=.0011244262442038839;let Fe;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Fe=-.08404263465005328:e[0]>3682.5000000000005?Fe=.041259223920298876:e[1]>29.500000000000004?Fe=-.09541257493441671:Fe=.001482192721625409:Fe=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Fe=-.08268996098437432:e[230]>1e-35?Fe=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Fe=-913218977737457e-19:e[4]>10.500000000000002?Fe=-.056334165674005156:e[127]>1e-35?Fe=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Fe=-.04231200150318989:e[10]>42.50000000000001?Fe=.10182973257894812:Fe=.015934763950068445:Fe=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Fe=-.041117068322885315:Fe=.1167767830037126:Fe=.13611206992387337:e[10]>41.50000000000001?Fe=-.07120286010564107:Fe=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Fe=-.07702290997669524:e[198]>1e-35?Fe=.08776558554437136:Fe=-.008290740324975692:e[2]>32.50000000000001?Fe=.07198457624219955:Fe=.005463113714361629:Fe=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Fe=.03295785445437507:Fe=.15140250150674536:Fe=-.035613213948910254:e[186]>1e-35?Fe=.06849425535860769:e[96]>1e-35?Fe=.06028225812727254:Fe=-.007582543288662308;let _e;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?_e=.08396556264106572:_e=-.0562516995099192:_e=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?_e=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?_e=.0052017514017035915:_e=-.11194119432743639:_e=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?_e=-.025692451287403446:_e=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?_e=-.11892250746801664:e[10]>22.500000000000004?_e=.07548493166973796:_e=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?_e=.13750699058082427:e[18]>1e-35?_e=.06535408879552801:_e=-.054118179035040674:_e=.1344282838979622:e[0]>3982.5000000000005?_e=-.10409582202467015:e[19]>1e-35?_e=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?_e=.012705935670766466:_e=.14149359442527545:_e=-.047977876173706004:e[20]>1e-35?_e=.057945228080337946:e[0]>3642.5000000000005?_e=-.008726535792122467:_e=-.08424769891378858:e[34]>1e-35?_e=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?_e=.01196849566739346:_e=.1614642278429876:_e=-.043022338150701625:e[3]>5.500000000000001?_e=-.03907848255033881:_e=.018280601026175593:_e=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Oe;e[120]>1e-35?Oe=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Oe=-.042799574885345304:Oe=.07412430171193245:Oe=-.11248270469336048:e[193]>1e-35?Oe=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Oe=.028911612178122104:Oe=.12326369727728437:e[0]>4091.5000000000005?Oe=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Oe=.1159839898100149:Oe=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Oe=-.0216343737351583:Oe=-.1220272260878369:e[2]>18.500000000000004?Oe=.09152924475072398:e[8]>55.50000000000001?Oe=.039508716651005665:Oe=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Oe=.06793009902674053:Oe=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Oe=-.04391068849624096:Oe=.04009967593394672:e[8]>1085.5000000000002?Oe=-.024773826356034825:Oe=-.13919707884246582:Oe=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Oe=-.11567917501901476:Oe=-.006813640337684114:e[3]>7.500000000000001?Oe=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Oe=-.001754586408351048:Oe=-.055422422450722056:Oe=-.06090032532532226:e[0]>5269.500000000001?Oe=.11787981735983527:Oe=-.00198119768540783:Oe=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let Ze;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?Ze=-.01192072916082109:Ze=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?Ze=.06874032717466054:e[4]>40.50000000000001?Ze=-.07752510020707537:e[1]>76.50000000000001?Ze=-.09944032260703917:e[8]>1381.5000000000002?Ze=-.054466635810800745:e[1]>32.50000000000001?Ze=.05974084520839573:Ze=-.0384718740755954:Ze=-.11374190719134032:e[0]>2151.5000000000005?Ze=-.13703645155803298:Ze=.004833344758654556:e[297]>1e-35?e[212]>1e-35?Ze=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?Ze=.013539805885738608:Ze=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?Ze=.09941880179344399:Ze=-.01608127391210995:Ze=.08025226531247417:e[9]>67.50000000000001?Ze=.13525448212444113:e[6]>61.50000000000001?Ze=-.05511099182158894:e[94]>1e-35?Ze=-.06821509831783572:e[128]>1e-35?Ze=.11361314817714643:Ze=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?Ze=-.09954181329804547:e[197]>1e-35?Ze=.10102833149755386:e[188]>1e-35?Ze=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?Ze=-.03781554214742005:Ze=.09927933385592314:Ze=-.020006000056720083:Ze=-.10520473615957895:Ze=-.12006990846253787:Ze=-.00026111570975317574;let yt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?yt=-.019188245509744628:yt=-.13354864350075848:e[0]>2461.5000000000005?yt=.051885477468354396:yt=-.0833581968852119:yt=.08233441701532287:yt=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?yt=.09926337893072812:yt=-.027753610497327715:e[0]>1972.5000000000002?yt=-.09780045823152517:yt=.032380915168504935:yt=.11502632261226381:e[17]>1e-35?yt=-.06094965899579662:e[10]>40.50000000000001?yt=-.07500475582440802:yt=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?yt=-.09584538995220808:yt=-.00908705814304442:yt=.03203281520813893:e[10]>49.50000000000001?yt=-.03146271513986384:e[2]>63.50000000000001?yt=.13172001315536286:e[224]>1e-35?yt=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?yt=.09521549382082259:yt=-.04414925613522197:e[0]>1847.5000000000002?yt=-.09118580379557353:yt=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?yt=.03525144509943896:yt=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?yt=-.04766112322938157:e[2]>10.500000000000002?yt=.0728516504357201:yt=-.05049625965272536:yt=-.10868663055825774:yt=.0005382613419948969;let Rt;e[147]>1e-35?e[1]>53.50000000000001?Rt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Rt=-.030504020655417463:Rt=.07102458639110094:Rt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Rt=.055304563442710876:e[1]>53.50000000000001?Rt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Rt=-.1568835288372895:Rt=-.0279829124400056:Rt=.04493843959601833:Rt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Rt=-.054133834303687026:e[9]>48.50000000000001?Rt=.11263810289007213:e[9]>9.500000000000002?Rt=-.02202034562838259:e[4]>45.50000000000001?Rt=-.03410927569045158:Rt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Rt=-.029687297407295893:Rt=.10673602850001934:e[4]>42.50000000000001?Rt=.0036275562945108117:Rt=-.0760789221330622:Rt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Rt=.08274426793676076:Rt=-.07076234425516396:Rt=.13890177606150175:Rt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Rt=-.09250637750836187:Rt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Rt=-.01897867921812603:Rt=.04890781705365262:Rt=-.11569892307597907:e[2]>106.50000000000001?Rt=.09032697440623969:Rt=.00047935919155035045;let At;e[115]>1e-35?At=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?At=-.10131179514695865:e[8]>938.5000000000001?At=.10203729808015481:At=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?At=.03574015165562999:At=-.07763042506449493:At=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?At=.0665706259130275:At=-.06586817559309924:At=.11925564412287476:At=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?At=.046017146627455346:At=-.08623321630086885:e[8]>1765.5000000000002?At=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?At=.11143827902215087:At=-.01817808730473413:At=.16980985030210127:At=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?At=.010168994879727824:At=-.09099594488792513:e[9]>1.5000000000000002?At=.0533459678147928:At=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?At=-.062346959148773695:e[1]>47.50000000000001?At=-.0021578343835599316:e[2]>27.500000000000004?At=.19567373210166172:At=.07851555379116423:e[18]>1e-35?At=.03711549097804649:e[8]>359.50000000000006?At=.012492346746905587:e[4]>20.500000000000004?At=.047511695735697544:At=-.07999269063948773:At=6802045404471004e-20;let Ht;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Ht=.0011484728213539738:Ht=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Ht=-.09828874964938798:e[8]>1586.5000000000002?Ht=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Ht=.011938269926919522:Ht=.17541983715953954:e[19]>1e-35?Ht=.023002786011088672:Ht=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Ht=.06508934844183291:Ht=-.10168553534835639:Ht=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Ht=.021140806225203937:Ht=-.1167833342453639:e[2]>33.50000000000001?Ht=.13163585734056618:Ht=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Ht=.06314479201263888:Ht=-.09639088327091713:e[10]>29.500000000000004?Ht=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Ht=40577156464836036e-21:Ht=.12322387121810757:Ht=-.03697224045046014:e[1]>22.500000000000004?Ht=.016474835887320276:Ht=.16919298733903063:Ht=.07633203630214054:Ht=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ht=.14150493354700563:Ht=-.01831155354975749:e[1]>28.500000000000004?Ht=-.07952557178685365:e[10]>28.500000000000004?Ht=.0665695554984927:Ht=-.053640139319277094:Ht=.0004754840665898665;let jt;e[76]>1e-35?jt=-.06814884255939921:e[179]>1e-35?jt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?jt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?jt=.004193658608848433:jt=-.1066968975983452:e[8]>302.50000000000006?jt=.05476730110440451:jt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?jt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?jt=.013555772109446666:jt=-.09856116699770784:jt=.0284329611813383:e[2]>52.50000000000001?jt=.04008708444763762:e[9]>29.500000000000004?jt=-.1289599546008197:jt=-.018566534248335896:e[8]>747.5000000000001?jt=.02236484980076122:jt=.1148871655157582:e[8]>3084.0000000000005?jt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?jt=.03164751204281298:jt=.11752140436184891:e[9]>42.50000000000001?jt=-.07180559595410106:e[22]>1e-35?jt=.09325040416256854:jt=-.016041122807939914:jt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?jt=-.010718250133458515:jt=.09818827994853763:jt=.010180038981174032:jt=-.039472162599295535:e[9]>170.50000000000003?jt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?jt=-.08674788057474031:jt=.02077653508548371:jt=-.0003536561382007414;let ir;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?ir=.018337297491457794:ir=-.05926206443180149:ir=.024026520855881126:e[288]>1e-35?e[184]>1e-35?ir=.10747078482128616:e[126]>1e-35?ir=-.10550625192391357:e[7]>71.50000000000001?ir=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?ir=.1317396472229434:ir=-.025035791351328947:ir=-.0728334305864372:e[8]>963.5000000000001?ir=.023642201723096064:ir=.183010326734258:e[128]>1e-35?ir=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?ir=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?ir=-.1088876900335281:ir=.02758317023002635:ir=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?ir=-.01928020117446408:ir=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?ir=.07893723375925096:ir=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?ir=-.10301657587280551:ir=.005787463140224318:ir=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?ir=-.019296977889522397:ir=-.07274529751752634:e[1]>30.500000000000004?ir=-.050368901143148286:ir=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?ir=.0015332402792773946:ir=.09930153676749967:ir=-.06370844564357069:ir=.00042272155209927616;let pe;e[71]>1e-35?e[4]>17.500000000000004?pe=.12586844370423247:pe=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?pe=-.08474891624263797:e[8]>125.50000000000001?pe=.08125086980439704:pe=-.04082085238068532:e[0]>3863.5000000000005?pe=.020481535807469208:pe=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?pe=-.019110200161573936:pe=-.12387719685855114:e[0]>1102.5000000000002?pe=.08376595701957407:pe=-.031821919580524834:e[9]>4.500000000000001?pe=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?pe=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?pe=.1349841206807871:pe=.011864053595560297:e[1]>41.50000000000001?pe=-.08203662486612544:e[2]>18.500000000000004?pe=-.009541865642346947:pe=.08345043168501759:e[2]>10.500000000000002?pe=-.09585031818030947:pe=.019432330487099865:pe=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?pe=.11951517733981365:pe=-.016651014735738538:e[1]>28.500000000000004?pe=-.07410922545030711:e[10]>28.500000000000004?pe=.05886430683844788:pe=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?pe=.04802269879144705:pe=-.026208212831796737:e[4]>45.50000000000001?pe=-.03227476944664786:pe=.05124575625622705:pe=.00020506696916003137;let Le;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Le=-.03042091758483443:e[10]>14.500000000000002?Le=.09816619204768777:Le=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Le=-.02381165060401718:Le=-.10950361804974783:Le=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Le=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Le=-.06371052144380579:Le=.0835500621252692:Le=-.10408255929333915:e[1]>74.50000000000001?Le=.13208968122712403:e[1]>64.50000000000001?Le=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Le=.09922816902423433:Le=.016366955328796718:Le=.1592412560903584:e[1]>39.50000000000001?Le=.05409467990258923:Le=-.08260633210459611:Le=-.06307205775247567:e[9]>36.50000000000001?Le=.040253940015648144:Le=.14202568969471283:Le=-.028761848341594044:Le=.08994073058773508:e[0]>807.5000000000001?Le=-.043427848826323195:Le=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Le=-.0758877731600639:e[23]>1e-35?Le=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Le=.08124700978741987:Le=.013296063087086852:e[7]>5.500000000000001?Le=-.01640196088612987:Le=-.12685498840146067:Le=-.0004940792382459551;let Ke;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ke=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Ke=.08513773825688947:Ke=-.1184664832315282:Ke=.05676963535893477:Ke=.14263843210340613:Ke=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Ke=-.10669720555606924:Ke=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Ke=.0664744575868955:Ke=-.08469256188890871:Ke=-.026746678040592144:e[281]>1e-35?Ke=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ke=.012131807587207655:Ke=-.12776015795398743:Ke=.04320472481083551:Ke=.08390980661550446:e[10]>227.50000000000003?Ke=-.09771783809101153:e[10]>130.50000000000003?Ke=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Ke=-.07610698254064358:e[8]>902.5000000000001?Ke=-.03136381213599649:e[131]>1e-35?Ke=.0704821739127936:e[224]>1e-35?Ke=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Ke=.10431473040024908:e[8]>841.5000000000001?Ke=.07304745320500514:Ke=-.038011541882439825:Ke=-.01679746695007364:e[0]>3129.5000000000005?Ke=.05589952587431965:e[210]>1e-35?Ke=.06227198085800842:Ke=-.0011341890997947812:e[8]>740.5000000000001?Ke=.04817300084412584:Ke=-.000577001010789238;let et;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?et=-.10504730480402079:e[5]>3341.5000000000005?et=.11087894671081754:et=-.0406668834674614:et=.03308382165616109:e[8]>104.50000000000001?et=-.10431436764549162:et=.0073928337244891455:e[4]>34.50000000000001?et=-.10571751512748416:et=-.006081128814142983:e[13]>1e-35?et=.1299673566095023:e[4]>60.50000000000001?et=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?et=.04857126072645073:et=-.03431365358104773:e[4]>16.500000000000004?et=.04101865986596709:et=.16480274980378218:e[10]>26.500000000000004?et=.03673978504199255:e[10]>9.500000000000002?et=-.10996402743800027:e[308]>1e-35?et=.0553693735082498:et=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?et=.010902983761213922:et=.1325118659895645:et=-.064362945508595:e[1]>66.50000000000001?et=.033416767779331176:et=-.054080316225040496:e[42]>1e-35?et=-.07762364337810815:e[10]>1089.5000000000002?et=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?et=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?et=.0220102041325908:et=-.06516708740003069:et=.012833498905748267:e[224]>1e-35?et=-.007038418272997865:et=.00037666304316290967;let _t;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?_t=.07554189644995735:_t=-.052089349455904946:_t=-.10148206848169845:e[113]>1e-35?_t=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?_t=.07172653627995676:_t=-.07602959317610998:_t=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?_t=-.0399322883690891:_t=.06523495517476098:_t=-.10358715295743802:e[193]>1e-35?_t=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?_t=.015928764772252406:_t=.1341513061552287:_t=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?_t=-.033592997607280156:_t=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?_t=-.08402551858097379:_t=.017401984506038796:e[1]>25.500000000000004?_t=.13337205393591278:_t=-.01160208350090984:_t=.06708317942315471:e[8]>227.50000000000003?_t=-.08486943882418681:_t=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?_t=-.10496268177586783:_t=-.020921489532370493:_t=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?_t=.11639296062157028:_t=-.004275784356569115:e[32]>1e-35?_t=-.07297384970166025:_t=.006026841626381599:_t=.002034611134960428;let xt;e[248]>1e-35?xt=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?xt=-.06455513326540585:e[1]>29.500000000000004?xt=.07718474591552532:e[4]>7.500000000000001?xt=.040139336931404826:xt=-.09685734690563386:xt=.00015327283570347363:e[9]>88.50000000000001?xt=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?xt=-.04077257804338707:xt=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?xt=.03778141591008941:xt=-.06459919920634845:xt=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?xt=.14063930759326346:e[0]>179.50000000000003?xt=.07287482250668585:e[8]>1180.5000000000002?xt=-.14419393112726253:e[10]>28.500000000000004?xt=-.07993142770099469:e[17]>1e-35?xt=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?xt=.05527969663610186:xt=-.10824385941441346:e[3]>11.500000000000002?xt=.12358502961047915:xt=-.017509147119622873:e[0]>74.50000000000001?xt=-.014907705458730486:e[8]>95.50000000000001?xt=-.02225118168342062:xt=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?xt=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?xt=.04962819555610421:xt=-.07213577821855309:xt=.09139529824708481:e[19]>1e-35?xt=.013439401088345224:xt=-.049274647207292056:xt=.10531673719686951;let Ft;e[40]>1e-35?e[0]>1937.5000000000002?Ft=-.06421671152073961:Ft=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Ft=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Ft=-.03520420769287065:e[8]>1085.5000000000002?Ft=-.019817352506127633:Ft=.11444439424520964:Ft=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Ft=-.010490117519863269:Ft=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Ft=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Ft=.06619344145920268:e[0]>4091.5000000000005?Ft=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Ft=.10016091391222309:Ft=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Ft=-.019511460451434884:Ft=-.11643672465055221:e[2]>18.500000000000004?Ft=.07848228087333317:e[8]>55.50000000000001?Ft=.032583027899956235:Ft=-.11209832692153521:e[11]>1e-35?Ft=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Ft=-.09996887746328006:e[9]>2.5000000000000004?Ft=.02157682011863397:Ft=-.05247727848991843:Ft=.07409150201483244:e[1]>38.50000000000001?Ft=-.11378466075449625:e[224]>1e-35?Ft=-.10741749127732923:e[1]>26.500000000000004?Ft=.07343136534146562:Ft=-.07013573628594773:e[25]>1e-35?Ft=-.04626669734164317:Ft=.05518333197956482:Ft=.00032434010867555516;let Qt;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Qt=.026313251010808853:Qt=-.08997339150292381:Qt=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Qt=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Qt=.0905155504503746:e[8]>1049.5000000000002?Qt=-.062312558183394054:e[8]>719.5000000000001?Qt=.09583836191410239:e[0]>3719.5000000000005?Qt=-.0778097309430818:Qt=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Qt=-.12920865648544927:e[0]>2699.5000000000005?Qt=-.07086587879041864:Qt=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Qt=-.11377786322600797:Qt=-.009486325820117998:e[1]>55.50000000000001?Qt=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Qt=-.07938291201004219:e[2]>36.50000000000001?Qt=.01520046732530246:Qt=.13649854049662832:Qt=-.07145015938528873:e[8]>407.50000000000006?Qt=-.00350257360822279:Qt=.11332047082193297:Qt=-.10060624458629897:Qt=.05429496612497562:e[8]>1446.5000000000002?Qt=.006073419197482838:Qt=-.08718676350883998:Qt=-.11532497988252638:Qt=.10766270463068293:e[34]>1e-35?Qt=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Qt=-.0004109812623829506:Qt=.021601073497455662:Qt=-7343540098965853e-20;let Tt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Tt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Tt=.05995640200798119:e[0]>3443.5000000000005?Tt=-.14698883458733583:Tt=-.030039164579240187:e[189]>1e-35?Tt=-.06086763220538141:e[1]>86.50000000000001?Tt=-.05096727866142538:e[4]>64.50000000000001?Tt=.11240554253834577:e[4]>45.50000000000001?Tt=-.030279760168394117:e[6]>45.50000000000001?Tt=.10161088917815142:e[10]>77.50000000000001?Tt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Tt=-.06672020005240323:Tt=.08831457502630258:e[8]>2592.5000000000005?Tt=-.052617701047376654:e[10]>29.500000000000004?Tt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Tt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Tt=-.064099222705728:Tt=.044332487521538365:e[0]>2882.5000000000005?Tt=.031099546885005065:Tt=.12938467051623853:e[0]>4221.500000000001?Tt=-.0928676413498701:e[9]>30.500000000000004?Tt=-.05781824812803708:Tt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Tt=-.06648105454098469:Tt=.05985487552383097:Tt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Tt=.05282385499619401:e[1]>66.50000000000001?Tt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Tt=.027885690791379255:Tt=-.08407126408362446:Tt=.014432924125571093:Tt=-9903435845205118e-20;let St;e[76]>1e-35?St=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?St=.013633653464240465:St=-.10164319411983509:St=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?St=.00632864847804078:St=-.08393000368134668:St=.07870508617440916:e[284]>1e-35?St=.1092302727710421:St=-.0025505047582483234:e[248]>1e-35?St=.07101822393621864:e[274]>1e-35?St=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?St=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?St=.025081789181021243:St=-.014813325803582618:e[9]>33.50000000000001?St=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?St=.11926990418060353:St=.01852125513565268:St=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?St=-.1178464984373743:e[283]>1e-35?St=.043370859226927405:e[5]>4320.500000000001?St=-.01103141226366587:e[8]>1104.5000000000002?St=-.023053423988095886:St=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?St=.000579145585864887:St=.03389152834202143:e[128]>1e-35?St=-.14527722052568462:e[210]>1e-35?St=-.08915971541902741:e[7]>9.500000000000002?St=-.03307314577076116:e[18]>1e-35?St=-.05521712302023565:St=.009315605032770029:St=.0036332551852289933;let wt;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?wt=-.07583539600416284:e[188]>1e-35?wt=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?wt=-.011038193049597113:wt=.08154028164397753:e[1]>85.50000000000001?wt=.10259361975201933:wt=.011640408330521594:wt=-.00023319159023748508:e[92]>1e-35?wt=.13771692859530546:wt=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?wt=.09967230141007705:e[30]>1e-35?wt=-.08888529037551285:wt=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?wt=.08284665960761373:wt=-.029292565021289504:e[7]>7.500000000000001?wt=-.09945093355204493:wt=-.008381393701708593:e[20]>1e-35?wt=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?wt=.07585582641438211:e[8]>284.50000000000006?wt=-.029387993239886723:wt=.07716738177321587:e[1]>18.500000000000004?wt=.026745348497993746:wt=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?wt=.02337306890530338:wt=-.10390355904767366:wt=.07390521199638532:wt=-.06788247515155237:wt=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?wt=-.06360325615644084:wt=.04342192339836601:wt=-.10598779152030145:wt=.05253384605768211;let Ot;e[3]>7.500000000000001?e[157]>1e-35?Ot=-.07514182877923786:Ot=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ot=.028692053800951845:Ot=.14081686716133598:Ot=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?Ot=.0037139292567243084:Ot=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?Ot=.01202688580305612:Ot=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?Ot=.043935495082738626:Ot=-.05639305759669704:e[247]>1e-35?Ot=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?Ot=.10331836202616368:Ot=.0006926658459781341:e[96]>1e-35?Ot=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?Ot=-.0741403257305367:Ot=.022900127535540854:e[7]>3.5000000000000004?Ot=.038110741403836294:Ot=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ot=-.09552842289807008:e[1]>27.500000000000004?Ot=.012505935885798007:Ot=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?Ot=-.1046104767723845:Ot=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?Ot=.023466328488582572:Ot=.11730925774586994:Ot=-.04771965631104874:Ot=.17059689880751394:Ot=-.08181850955999449:e[26]>1e-35?Ot=-.12727482696678769:Ot=-.014343123272734182;let Gt;e[147]>1e-35?e[1]>53.50000000000001?Gt=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Gt=-.02763546051134888:Gt=.06423344777499343:Gt=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Gt=.049825139823021586:e[7]>22.500000000000004?Gt=-.01131680751379858:e[0]>2579.5000000000005?Gt=-.10673674485369694:Gt=-.015387212937189957:Gt=.04347325151148724:e[179]>1e-35?Gt=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Gt=.0650355590939066:Gt=-.0473332870892226:Gt=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Gt=.11139543329789044:e[126]>1e-35?Gt=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Gt=.06370903833231022:e[10]>29.500000000000004?Gt=.03415223859607161:e[10]>3.5000000000000004?Gt=-.07415518117873297:Gt=-.0014119203473324082:Gt=.12617652343819508:e[9]>41.50000000000001?Gt=-.10311145857176976:e[8]>2757.5000000000005?Gt=-.08106484219011428:e[7]>71.50000000000001?Gt=-.09783384432091176:e[1]>88.50000000000001?Gt=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Gt=-.008884084501608536:Gt=.061339437777743616:Gt=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Gt=.01526664064166223:Gt=.13534828515415498:Gt=-.06985484465894776:Gt=.0005758961943178744;let $t;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?$t=-.029152732370514342:$t=.07173628916139178:e[1]>36.50000000000001?$t=-.08859111297255318:$t=.0018030071815630785:$t=.13652461563759322:$t=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?$t=-.07145140450454163:e[21]>1e-35?$t=-.07422841663493233:$t=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?$t=.11864240653986852:e[3]>33.50000000000001?$t=-.08821209591953476:$t=.05706392280054726:$t=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?$t=.01953613016837112:$t=-.059781039130025006:e[148]>1e-35?$t=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?$t=.07207826841738371:e[202]>1e-35?$t=.08163917539410503:$t=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?$t=-.06858280496900336:$t=-.1781828899516648:$t=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?$t=.018232649414147116:$t=-.04419781124222661:$t=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?$t=.11452368095776105:$t=-.036496437259924026:$t=-.040445338739465486:$t=.0816572651001145:$t=-.08968914517368663:$t=.0002826343082585516;let lr;e[189]>1e-35?e[0]>5269.500000000001?lr=-.08839493050459957:e[10]>85.50000000000001?lr=.10046908365702462:e[8]>2592.5000000000005?lr=-.09632233975926387:e[8]>2000.5000000000002?lr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?lr=.035504970430426296:e[1]>31.500000000000004?lr=-.1133764813142531:lr=-.01138280942244812:e[8]>1125.5000000000002?lr=.09800530246229806:lr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?lr=.07316772160107896:lr=-.059095014819051765:lr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?lr=-.09150209066166894:e[8]>3084.0000000000005?lr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?lr=-.04449234460408263:lr=.05568837973347338:lr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?lr=.12741077850267066:lr=.007372371864985329:e[2]>39.50000000000001?lr=.02295917234617787:lr=.14966532083907075:e[1]>39.50000000000001?lr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?lr=-.02511861881285652:e[1]>27.500000000000004?lr=.08683660011672288:lr=.02956214835267301:e[9]>15.500000000000002?lr=-.016538805462996232:lr=.04352738094981517:lr=-.05561856645643868:e[9]>170.50000000000003?lr=-.07996752635874248:e[179]>1e-35?lr=-.09065975936933919:lr=-.00042817975060427177;let hr;e[39]>1e-35?e[4]>25.500000000000004?hr=.03443173196222934:hr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?hr=-.0013415395759330318:hr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?hr=.002297618040307216:hr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?hr=-.015297257305397608:hr=.09651828834062742:hr=-.06636003334371929:e[10]>11.500000000000002?hr=.17631616138309397:e[0]>1639.5000000000002?hr=3804386478092585e-20:hr=-.09099296398683193:hr=-.06874415876172972:e[0]>2151.5000000000005?hr=-.1311264883406766:hr=.00809052010141122:e[253]>1e-35?hr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?hr=.045038497754638605:hr=-.07770167665661752:hr=-.08596294280650517:hr=.08538655727027213:hr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?hr=.054627956617973275:e[1]>61.50000000000001?hr=-.11994465088415499:e[4]>8.500000000000002?hr=.06676200239406452:hr=-.027503148069376867:e[8]>676.5000000000001?hr=-.10363964928357075:e[4]>8.500000000000002?hr=-.07589816227175682:hr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?hr=.009093153189012338:hr=-.06119765876605404:hr=.0004668642103528348;let sr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?sr=-.10100794502567233:sr=.08000205636470442:sr=-.11945419826856896:e[113]>1e-35?sr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?sr=.1224302423880318:sr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?sr=.0019277012166729114:e[1]>28.500000000000004?sr=-.054445821715687494:sr=.045645722976713245:e[30]>1e-35?sr=.13402660155331655:sr=.008921176001777645:sr=-.058547426505451076:sr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?sr=-.13526418192218206:sr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?sr=.0007263224246135398:sr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?sr=-.11575657261278308:sr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?sr=-.01995960178292952:sr=.11216586049153021:sr=-.10050961087149474:sr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?sr=.10303451081526649:sr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?sr=-.043799548968209395:sr=-.12451444314954115:e[4]>12.500000000000002?sr=-.03838117361958468:sr=.06504990789767144:e[57]>1e-35?sr=.06890006938293915:sr=.0003914274695562949;let cr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?cr=.004271749009686975:cr=-.10523878297127605:cr=.04633982158107851:cr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?cr=-.08655730561951676:e[8]>919.5000000000001?cr=-.0676453705610183:e[7]>18.500000000000004?cr=-.027787974193650575:cr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?cr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?cr=-.03473877164537313:e[8]>719.5000000000001?cr=.10471053866934404:cr=.008236107678382981:e[4]>57.50000000000001?cr=.09412219478825269:e[10]>66.50000000000001?cr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?cr=-.040681323751002293:cr=.06374650297561021:cr=.12884615227401788:e[10]>5.500000000000001?cr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?cr=-.05474068967150784:cr=.03744700650806603:cr=-.07846396348680855:e[1]>42.50000000000001?cr=.018972315810821302:cr=.10953621007604744:e[5]>4439.500000000001?cr=.010999776705494586:e[1]>40.50000000000001?cr=-.12394200059775967:e[10]>2.5000000000000004?cr=.013528093962849453:cr=-.09222088417048682:cr=-.12662967149701485:cr=.09327296405849603:e[3]>99.50000000000001?cr=-.013581954439986752:cr=.0005526498251862075;let Jt;e[187]>1e-35?e[243]>1e-35?Jt=-.08392792551692502:e[10]>68.50000000000001?Jt=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Jt=-.0825306209711224:Jt=.049559996084532945:Jt=-.1064938580886302:Jt=.03353240732240275:Jt=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Jt=.16966001471529374:e[1]>57.50000000000001?Jt=-.005772777673676247:Jt=.09383677041525058:e[8]>747.5000000000001?Jt=.054068175469351235:Jt=-.049968216310277036:e[8]>753.5000000000001?Jt=-.0679383555784074:e[4]>8.500000000000002?Jt=-.059757341189735386:Jt=.05701083682780414:Jt=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Jt=.05820296128730006:Jt=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Jt=.15340611616954566:Jt=.04385036188666874:e[0]>4449.500000000001?Jt=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Jt=.004840354641006495:Jt=.09967827580276283:Jt=.11605363537391578:e[9]>19.500000000000004?Jt=-.0735831692725717:Jt=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Jt=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Jt=-.02442182361342386:Jt=.10334853004243093:Jt=-.030431948680167104:Jt=-956078595250818e-19;let ur;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?ur=-.040232505718244854:e[0]>3030.5000000000005?ur=.0634109586813073:ur=-.04043617034245621:ur=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?ur=-.007859096946435131:ur=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?ur=.05515771679628051:ur=-.04214471312668263:ur=-.09589322222261765:e[193]>1e-35?ur=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?ur=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?ur=-.08152604001147906:e[11]>1e-35?ur=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?ur=.13100930780107503:e[10]>25.500000000000004?ur=.05921074710011526:ur=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?ur=.0009447118243153454:ur=-.09820565036865991:ur=.057146909749745546:e[0]>2115.5000000000005?ur=-.12331216726611678:ur=.007281983677694285:e[2]>56.50000000000001?ur=.012310154675612615:ur=-.08873665774670461:e[6]>25.500000000000004?ur=.134708740821879:e[9]>5.500000000000001?ur=-.0805901581148979:e[224]>1e-35?ur=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?ur=.10842593386554122:e[2]>13.500000000000002?ur=.06466798320378395:ur=-.08578130788886655:ur=-.03590892078300114:ur=.0003499894043880708;let be;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?be=.10839808814624702:be=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?be=-.007478368069393829:be=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?be=.04035247751736232:e[0]>4255.500000000001?be=-.1310865624507367:e[0]>4004.5000000000005?be=.06647367311982634:be=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?be=-.011618902907510411:be=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?be=.09356028223727986:be=-.03811765057032162:be=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?be=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?be=.1146142460964847:e[1]>62.50000000000001?be=-.09679869865322362:e[9]>71.50000000000001?be=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?be=-.039046426387852974:be=.04558778688367152:be=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?be=.03261697816211156:e[15]>1e-35?be=.02586252542264368:e[2]>14.500000000000002?be=-.016420452667484604:be=-.1011799626006976:be=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?be=.010193588102560583:be=.11748729525930773:be=-.04468162226743652:be=-.028365274393617957:e[71]>1e-35?be=.05115139346588793:be=-.0001510425316936658;let M;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?M=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?M=.020637047900190317:M=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?M=-.04632587527094407:M=.08603684785510396:M=-.05101401015448496:M=.025466432054358498:M=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?M=.020385355430046367:M=.12032592051335252:M=-.012387370292173013:e[2]>23.500000000000004?M=-.12568545484492677:M=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?M=.043528764484784536:M=.14352071657196003:M=-.009332833816977268:M=.11186782227735846:M=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?M=-.05649104643152564:M=.03884200719305747:e[42]>1e-35?M=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?M=-.04103416502526736:M=.04881823954656287:e[4]>15.500000000000002?M=.009342724662897898:e[0]>3969.5000000000005?M=-.025637309961309498:M=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?M=-.08185697075265091:e[0]>2215.5000000000005?M=.030063975892297354:e[0]>807.5000000000001?M=-.03924325550733229:M=.0415330999189793:M=-.00024374664461674863;let de;e[3]>7.500000000000001?de=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?de=.025798416259686565:de=.13251610353146012:de=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?de=-.11098564237775424:de=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?de=.15347826616466054:e[3]>4.500000000000001?de=.10379320730958941:de=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?de=.03159791088468647:de=-.10612873364104258:de=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?de=-.02335760775001469:de=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?de=-.011164334474672973:de=-.06594044410501655:e[207]>1e-35?de=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?de=-.01725821503981916:de=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?de=-.04226531631656534:de=-.14409800530171432:de=-.03245576341206398:e[8]>4214.500000000001?de=.0895409165534886:e[247]>1e-35?de=-.06506383629143335:e[118]>1e-35?de=-.07214270121257443:e[8]>546.5000000000001?de=-.004385020865473831:de=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?de=.046278501133958524:de=-.030835570926968044:e[0]>493.50000000000006?de=-.12794504651610425:de=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let Y;e[7]>17.500000000000004?e[115]>1e-35?Y=.08741852531696623:e[167]>1e-35?Y=.10078975495600809:Y=-.0018324767784017562:e[290]>1e-35?Y=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Y=.1379733311640402:Y=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Y=-.09360083033774169:Y=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Y=-.015599362579530679:e[0]>4593.500000000001?Y=-.12029549262691491:Y=-.018917032256501397:Y=.04632831686576592:Y=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Y=-.05894883236412263:Y=.05213944998315824:Y=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Y=.07577412405680808:Y=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Y=-.0277076900736147:e[1]>65.50000000000001?Y=-.023587471585763506:Y=.10184896592433082:Y=-.057699270527916825:Y=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Y=.06566902102799584:e[10]>25.500000000000004?Y=-.07033633753181047:Y=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Y=-.08108035861059537:Y=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Y=-.12431182772561139:Y=.01886235886984271:Y=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Ie;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Ie=.029186512383291244:e[7]>1.5000000000000002?Ie=-.14984127276725573:e[1]>40.50000000000001?Ie=.032757060730648144:Ie=-.07675575422749602:e[6]>8.500000000000002?Ie=.10599766037117893:Ie=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ie=-.051394622947855385:Ie=.03237141302699347:Ie=.12526173027943244:Ie=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Ie=-.07383912482657777:e[0]>5147.500000000001?Ie=.07008813937042091:e[10]>38.50000000000001?Ie=-.06779203808365307:Ie=-.013782769999524498:Ie=.0880038869117715:Ie=-.12846294176070952:e[281]>1e-35?Ie=-.06810806903850834:e[10]>227.50000000000003?Ie=-.08937977001661111:e[10]>130.50000000000003?Ie=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ie=.011036530162093841:Ie=-.11500797478569702:Ie=.03702229366129399:Ie=.07242026683784307:e[189]>1e-35?Ie=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Ie=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Ie=-.02608892716555304:Ie=.09609599320761308:e[9]>105.50000000000001?Ie=-.06848127135991534:Ie=.0023675721254089715:e[86]>1e-35?Ie=-.11049635625500497:Ie=-.004847764219432233;let Me;e[125]>1e-35?e[0]>3969.5000000000005?Me=-.09462233499115416:Me=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Me=-.030700661288166148:Me=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Me=.03149547314036763:Me=-.08166208257451366:e[0]>5850.500000000001?Me=-.10228136324773157:e[102]>1e-35?Me=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Me=.01782894842128785:e[13]>1e-35?Me=.002680190260979968:Me=.1773965720476949:e[2]>72.50000000000001?Me=.09090831938627947:e[1]>59.50000000000001?Me=-.12297206702816128:e[0]>4977.500000000001?Me=.09899015653118268:Me=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Me=-.0675900954187773:Me=.012336403425364092:Me=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Me=-.02671721777458802:Me=-.09242452991958029:e[284]>1e-35?Me=-.08585691288582491:Me=.013332890564324447:e[4]>14.500000000000002?Me=-.005245022074799553:e[23]>1e-35?Me=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Me=-.09289852307936758:e[116]>1e-35?Me=-.09686573010015055:e[8]>804.5000000000001?Me=.03812547148215318:Me=.005162744968176633:e[9]>43.50000000000001?Me=-.059246106396159376:Me=.050370113808135275:Me=.000794041852811028;let Ct;e[3]>7.500000000000001?Ct=.0004981426543104341:e[9]>114.50000000000001?Ct=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Ct=-.019061766497948867:Ct=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Ct=-.006044199577160493:Ct=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Ct=.11486607015912494:e[9]>16.500000000000004?Ct=-.08686820858087294:Ct=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Ct=-.022230207980026437:Ct=.1056683690528792:Ct=-.05859530800943035:Ct=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Ct=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Ct=-.05177544573528314:Ct=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Ct=.15159657923771555:Ct=-.0060542654587671055:e[9]>5.500000000000001?Ct=-.042808028205051786:e[1]>48.50000000000001?Ct=-.010449538258110742:Ct=.10026907521968294:Ct=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Ct=-.02272452389409874:Ct=-.11202691218244319:e[5]>1809.5000000000002?Ct=-.04460413584255906:Ct=.08196329474205256:e[10]>69.50000000000001?Ct=.10221481166238167:Ct=.0004063052701699382:e[243]>1e-35?Ct=-.07563941678849846:e[18]>1e-35?Ct=.02563513231103432:Ct=-.004740081147303786;let Ut;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Ut=.057446442918106:Ut=-.04404018270156349:Ut=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Ut=-.05930486238817954:e[1]>29.500000000000004?Ut=.06955866121256543:e[8]>597.5000000000001?Ut=-.06538593556505168:Ut=.06212512595497445:Ut=.00021102929959182257:e[9]>90.50000000000001?Ut=.0958061289119631:e[102]>1e-35?Ut=.07172059675638813:e[1]>47.50000000000001?Ut=-.03879798603977766:e[297]>1e-35?Ut=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Ut=.003805910996312012:Ut=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Ut=.11252376801858695:e[288]>1e-35?Ut=-.10293901912180432:Ut=.014669268837893872:e[1]>42.50000000000001?Ut=-.05988274123836837:e[145]>1e-35?Ut=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Ut=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Ut=-.03366718308159971:Ut=.11936550608549797:e[1]>31.500000000000004?Ut=-.07454716789539667:Ut=.027859650621164217:e[10]>10.500000000000002?Ut=-.11806374092321247:Ut=-.03506042229223101:Ut=-.0007080765837654515:e[10]>6.500000000000001?Ut=-.028077713664996503:e[2]>7.500000000000001?Ut=.15803724124216814:Ut=.0351381284833169:Ut=-.07877953381054767;let Pt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Pt=.14144941521975005:Pt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Pt=.10514088112381886:e[7]>18.500000000000004?Pt=-.10370643555956745:Pt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Pt=-.0508129468802936:e[224]>1e-35?Pt=-.037816066368733595:e[10]>43.50000000000001?Pt=.07793408602607932:Pt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Pt=.036972453794202324:Pt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Pt=.09475302525132188:Pt=-.03580104945898193:Pt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Pt=-.1282448778804823:Pt=-.014395808269207212:Pt=-.008940927190750592:Pt=-.1459118815453748:e[0]>4897.500000000001?Pt=-.09733068457286576:e[1]>57.50000000000001?Pt=.06575271409540207:Pt=-.019556422817450115:Pt=-.10623959222984136:e[18]>1e-35?Pt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Pt=.008125645893104896:Pt=-.11084368630465868:Pt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Pt=-.05854904579626861:e[4]>5.500000000000001?Pt=.02985784951394175:Pt=-.03247600140149334:Pt=-.11152899295304973:Pt=-.00035424577714215764;let tr;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?tr=-.06563670567578264:tr=.067656954313663:tr=-.10388217548685377:e[8]>2302.5000000000005?tr=.07190621943790435:e[4]>67.50000000000001?tr=.060020507643618604:e[4]>38.50000000000001?tr=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?tr=-.06568134366461277:e[8]>1075.5000000000002?tr=-.004768057709758692:tr=.11785959165999467:tr=-.05080221682879267:tr=.14814206127494542:tr=-.07241946332311736:e[253]>1e-35?tr=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?tr=-.02471195342450034:tr=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?tr=-.10741850739482771:tr=.010051635824944:tr=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?tr=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?tr=-.08992396138178163:tr=.010944365997007212:tr=.06221307021813793:tr=.1286024087559141:e[127]>1e-35?tr=.06568148624531012:e[10]>40.50000000000001?tr=-.07567979134643352:e[5]>5647.500000000001?tr=.07594672895572069:tr=-.018158016446439187:e[6]>55.50000000000001?tr=.009293422430111872:e[4]>45.50000000000001?tr=-.017749818406964022:e[2]>46.50000000000001?tr=.01714136511113982:tr=-724762291423549e-19;let or;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?or=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?or=.07084726276890757:or=-.11232323677722932:or=.04812773089510436:or=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?or=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?or=.0879462816013881:or=-.002966662093626573:e[306]>1e-35?or=-.04588085188342676:or=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?or=-.006600332774461143:or=.1272481351557754:or=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?or=.011884312066620044:or=.11678751052403374:e[4]>8.500000000000002?or=.03627129613273813:or=-.12132783497902287:or=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?or=-.06830131718398992:e[0]>5147.500000000001?or=.062360406249609306:e[4]>4.500000000000001?or=-.013162203864592055:or=-.07153029184927609:or=.07628618062271557:or=-.12085065687320373:e[190]>1e-35?or=-.045816889524231186:e[137]>1e-35?or=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?or=.025895337822752502:or=-.06503949350616421:e[10]>227.50000000000003?or=-.09989456525790491:e[10]>130.50000000000003?or=.08616651057030683:or=.0001234981796706021;let Mt;e[8]>1014.5000000000001?e[9]>137.50000000000003?Mt=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Mt=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Mt=-.141732381961068:Mt=-.0317152307496497:Mt=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Mt=.12191801556691254:Mt=-.0003444689085397977:Mt=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Mt=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Mt=-.05676033995381961:Mt=.10933961076803381:e[4]>26.500000000000004?Mt=-.11667582544549814:e[8]>1765.5000000000002?Mt=.032174455312047705:Mt=-.0755016390126608:e[293]>1e-35?Mt=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Mt=.026571311956824436:e[15]>1e-35?Mt=.06175459479851121:Mt=-.018778084411148754:e[9]>40.50000000000001?Mt=-.09420232889965811:Mt=-.004578248021263184:e[2]>1.5000000000000002?Mt=.005453714644971445:Mt=-.03907138175699279:Mt=-.055296364182154736:e[23]>1e-35?Mt=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Mt=-.09358146510580179:Mt=.060524657996178094:Mt=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Mt=-.12698331085931538:Mt=.006059605604079918:e[2]>196.50000000000003?Mt=-.09451315810804783:Mt=.0011390147031687425;let vt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?vt=.05517359070460923:vt=-.04758751221404857:vt=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?vt=.1040436595565776:e[9]>21.500000000000004?vt=.04032250517675179:e[107]>1e-35?vt=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?vt=.1192453009230486:e[1]>51.50000000000001?vt=.0443376336292195:vt=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?vt=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?vt=-.08999822408398037:vt=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?vt=-.061850439226075:vt=.08849196353361093:vt=.10536348167793089:e[92]>1e-35?vt=.04894947712119185:e[9]>16.500000000000004?vt=.05900227903883853:e[9]>5.500000000000001?vt=-.11946594348916476:vt=-.03652096348071964:e[1]>41.50000000000001?vt=-.07411603110840567:vt=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?vt=.08493634342741495:e[11]>1e-35?vt=-.10899097825564363:vt=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?vt=.08356655906359918:e[7]>25.500000000000004?vt=-.09475076526194888:e[10]>5.500000000000001?vt=-.01999406228763778:vt=.06696212545889428:e[6]>20.500000000000004?vt=.14713592661393468:vt=.0459917279002218:vt=.00027445928493734093;let ar;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?ar=-.06904501553217077:ar=.05696231672035904:ar=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?ar=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?ar=-.011419256378538392:e[0]>3830.5000000000005?ar=.140315841503076:ar=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?ar=-.04027822909411164:ar=.03176085103667189:ar=.06779515865838849:e[4]>15.500000000000002?ar=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?ar=.06124039747298539:ar=-.04312732764434027:ar=.09161522761808062:ar=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?ar=.11211681010488772:e[13]>1e-35?ar=.06725735814960367:ar=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?ar=.11743605068905603:ar=-.011309033539148687:ar=-.07896094707523052:ar=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?ar=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?ar=.02836295848998302:ar=.12210680366745175:ar=-.058302317470509096:e[5]>4144.500000000001?ar=.06123341960495106:ar=-.03840046906926525:ar=-.05221474543453495:ar=.03988215485860711:ar=-.00033074684693083496;let Do=yst(t+r+n+i+s+a+l+c+u+f+m+h+p+A+E+x+v+b+S+k+P+N+W+te+ge+re+G+q+se+ne+H+O+j+J+le+Z+ae+ce+Re+ve+Ue+Be+Je+ft+it+ot+ie+Pe+Ae+Ge+z+ee+Fe+_e+Ce+Oe+Ve+Ze+yt+Rt+At+Ht+jt+ir+pe+Le+Ke+et+_t+xt+Ft+Qt+Tt+St+wt+Ot+Gt+$t+lr+hr+sr+cr+Jt+ur+be+M+de+ye+Y+L+Ie+Me+Ct+Ut+Pt+tr+or+Mt+vt+ar);return[1-Do,Do]}o(OCe,"multilineModelPredict");function yst(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(yst,"sigmoid");var Cst={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},UCe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function qCe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(Cst[r]??[]).some(l=>s.includes(l))}o(qCe,"hasComment");var IF=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=qCe(t,-2,r),this.rstripSecondToLastLineHasComment=qCe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},HJ=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new IF(t,n),this.suffixFeatures=new IF(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(UCe).length+1).fill(0);r[UCe[this.language]??0]=1;let n=new Array(Object.keys(_c).length+1).fill(0);n[_c[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(_c).length+1).fill(0);i[_c[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(_c).length+1).fill(0);s[_c[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(_c).length+1).fill(0);return a[_c[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function Est(e,t){return new HJ(e.prefix,e.suffix,t)}o(Est,"constructMultilineFeatures");function GCe(e,t){let r=Est(e,t).constructFeatures();return OCe(r)[1]}o(GCe,"requestMultilineScore");d();var TF=new Er("getCompletions");function wF(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=sT(r.resultType),Xt(e,`${t}.shown`,r.telemetry)}o(wF,"telemetryShown");function WCe(e,t,r){let n=t+".accepted",i=e.get(Du);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),Xt(e,n,r)}o(WCe,"telemetryAccepted");function HCe(e,t,r){let n=t+".rejected",i=e.get(Du);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),Xt(e,n,r)}o(HCe,"telemetryRejected");function Jf(e,t={}){return{...t,telemetryBlob:e}}o(Jf,"mkCanceledResultTelemetry");function As(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(As,"mkBasicResultTelemetry");function VCe(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=ql()-t.telemetryBlob.issuedTime,n=sT(t.resultType),i={...t.telemetryData,reason:n},{foundOffset:s}=t.telemetryBlob.measurements;return TF.debug(e,`ghostText produced from ${n} in ${r}ms with foundOffset ${s}`),Ob(e,"ghostText.produced",i,{timeToProduceMs:r,foundOffset:s}),t.value}if(TF.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Xt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}Ob(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(VCe,"handleGhostTextResultTelemetry");function sT(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(sT,"resultTypeToString");d();d();var xst=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],bst=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],w3r=[...xst,...bst];var np={isEmptyBlockStart:gye,isBlockBodyFinished:Aye,isSupportedLanguageId:Iu,getBlockCloseToken:rye,getNodeStart:yye,getPrompt:cye};d();d();d();var lT={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();var jCe=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],$Ce={".php":[".blade"]},cT=Object.keys(lT).flatMap(e=>lT[e].extensions);var VJ=ct(require("node:path"));var Cv=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},uT=class{static{o(this,"LanguageDetection")}},jJ=new Map,yv=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(lT)){for(let n of t)jJ.set(n,[...jJ.get(n)??[],e]);for(let n of r??[])yv.set(n,[...yv.get(n)??[],e])}var $J=class extends uT{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Qs(t.uri),n=VJ.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new Cv(s.languageId,s.isGuess,a):new Cv(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(jCe.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=VJ.extname(n).toLowerCase();if(i.length>0&&cT.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=$Ce[t];return!n||n.includes(r)}detectLanguageId(t,r){if(yv.has(t))return{languageId:yv.get(t)[0],isGuess:!1};let n=jJ.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),yv.has(t))return{languageId:yv.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},zJ=class extends uT{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Cv("cpp",n.isGuess,n.fileExtension):n}},YJ=class extends uT{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Cv(r.languageId,!0,""):this.delegate.detectLanguage(r)}},vst=new zJ(new YJ(new $J));function zCe({uri:e,clientLanguageId:t}){let r=vst.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(zCe,"detectLanguage");d();var _F=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=JCe(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=YCe(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=YCe(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&KCe(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},p5;(function(e){function t(i,s,a,l){return new _F(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof _F)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=KJ(s.map(Ist),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(p5||(p5={}));function KJ(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);KJ(n,t),KJ(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(KJ,"mergeSort");function YCe(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);KCe(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(YCe,"computeLineOffsets");function KCe(e){return e===13||e===10}o(KCe,"isEOL");function JCe(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(JCe,"getWellformedRange");function Ist(e){let t=JCe(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(Ist,"getWellformedEdit");d();var XCe;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(XCe||(XCe={}));var JJ;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(JJ||(JJ={}));var ZCe;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(ZCe||(ZCe={}));var SF;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(SF||(SF={}));var A0;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=SF.MAX_VALUE),i===Number.MAX_VALUE&&(i=SF.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.line)&&Ye.uinteger(i.character)}o(r,"is"),e.is=r})(A0||(A0={}));var Mo;(function(e){function t(n,i,s,a){if(Ye.uinteger(n)&&Ye.uinteger(i)&&Ye.uinteger(s)&&Ye.uinteger(a))return{start:A0.create(n,i),end:A0.create(s,a)};if(A0.is(n)&&A0.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&A0.is(i.start)&&A0.is(i.end)}o(r,"is"),e.is=r})(Mo||(Mo={}));var BF;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(Ye.string(i.uri)||Ye.undefined(i.uri))}o(r,"is"),e.is=r})(BF||(BF={}));var e4e;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.targetRange)&&Ye.string(i.targetUri)&&Mo.is(i.targetSelectionRange)&&(Mo.is(i.originSelectionRange)||Ye.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(e4e||(e4e={}));var XJ;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.numberRange(i.red,0,1)&&Ye.numberRange(i.green,0,1)&&Ye.numberRange(i.blue,0,1)&&Ye.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(XJ||(XJ={}));var t4e;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&XJ.is(i.color)}o(r,"is"),e.is=r})(t4e||(t4e={}));var r4e;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.undefined(i.textEdit)||xv.is(i))&&(Ye.undefined(i.additionalTextEdits)||Ye.typedArray(i.additionalTextEdits,xv.is))}o(r,"is"),e.is=r})(r4e||(r4e={}));var n4e;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(n4e||(n4e={}));var i4e;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Ye.defined(s)&&(u.startCharacter=s),Ye.defined(a)&&(u.endCharacter=a),Ye.defined(l)&&(u.kind=l),Ye.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.startLine)&&Ye.uinteger(i.startLine)&&(Ye.undefined(i.startCharacter)||Ye.uinteger(i.startCharacter))&&(Ye.undefined(i.endCharacter)||Ye.uinteger(i.endCharacter))&&(Ye.undefined(i.kind)||Ye.string(i.kind))}o(r,"is"),e.is=r})(i4e||(i4e={}));var ZJ;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&BF.is(i.location)&&Ye.string(i.message)}o(r,"is"),e.is=r})(ZJ||(ZJ={}));var o4e;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(o4e||(o4e={}));var s4e;(function(e){e.Unnecessary=1,e.Deprecated=2})(s4e||(s4e={}));var a4e;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&Ye.string(n.href)}o(t,"is"),e.is=t})(a4e||(a4e={}));var kF;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Ye.defined(s)&&(u.severity=s),Ye.defined(a)&&(u.code=a),Ye.defined(l)&&(u.source=l),Ye.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Ye.defined(s)&&Mo.is(s.range)&&Ye.string(s.message)&&(Ye.number(s.severity)||Ye.undefined(s.severity))&&(Ye.integer(s.code)||Ye.string(s.code)||Ye.undefined(s.code))&&(Ye.undefined(s.codeDescription)||Ye.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ye.string(s.source)||Ye.undefined(s.source))&&(Ye.undefined(s.relatedInformation)||Ye.typedArray(s.relatedInformation,ZJ.is))}o(r,"is"),e.is=r})(kF||(kF={}));var Ev;(function(e){function t(n,i,...s){let a={title:n,command:i};return Ye.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.title)&&Ye.string(i.command)}o(r,"is"),e.is=r})(Ev||(Ev={}));var xv;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Ye.objectLiteral(a)&&Ye.string(a.newText)&&Mo.is(a.range)}o(i,"is"),e.is=i})(xv||(xv={}));var eX;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ye.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(eX||(eX={}));var bv;(function(e){function t(r){let n=r;return Ye.string(n)}o(t,"is"),e.is=t})(bv||(bv={}));var l4e;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return xv.is(a)&&(eX.is(a.annotationId)||bv.is(a.annotationId))}o(i,"is"),e.is=i})(l4e||(l4e={}));var tX;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&sX.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(tX||(tX={}));var rX;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||bv.is(i.annotationId))}o(r,"is"),e.is=r})(rX||(rX={}));var nX;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ye.string(i.oldUri)&&Ye.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||bv.is(i.annotationId))}o(r,"is"),e.is=r})(nX||(nX={}));var iX;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ye.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ye.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||bv.is(i.annotationId))}o(r,"is"),e.is=r})(iX||(iX={}));var oX;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ye.string(i.kind)?rX.is(i)||nX.is(i)||iX.is(i):tX.is(i)))}o(t,"is"),e.is=t})(oX||(oX={}));var c4e;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)}o(r,"is"),e.is=r})(c4e||(c4e={}));var u4e;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.integer(i.version)}o(r,"is"),e.is=r})(u4e||(u4e={}));var sX;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&(i.version===null||Ye.integer(i.version))}o(r,"is"),e.is=r})(sX||(sX={}));var f4e;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.string(i.languageId)&&Ye.integer(i.version)&&Ye.string(i.text)}o(r,"is"),e.is=r})(f4e||(f4e={}));var aX;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(aX||(aX={}));var fT;(function(e){function t(r){let n=r;return Ye.objectLiteral(r)&&aX.is(n.kind)&&Ye.string(n.value)}o(t,"is"),e.is=t})(fT||(fT={}));var d4e;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(d4e||(d4e={}));var m4e;(function(e){e.PlainText=1,e.Snippet=2})(m4e||(m4e={}));var h4e;(function(e){e.Deprecated=1})(h4e||(h4e={}));var p4e;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.newText)&&Mo.is(i.insert)&&Mo.is(i.replace)}o(r,"is"),e.is=r})(p4e||(p4e={}));var g4e;(function(e){e.asIs=1,e.adjustIndentation=2})(g4e||(g4e={}));var A4e;(function(e){function t(r){let n=r;return n&&(Ye.string(n.detail)||n.detail===void 0)&&(Ye.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(A4e||(A4e={}));var y4e;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(y4e||(y4e={}));var C4e;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(C4e||(C4e={}));var RF;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ye.string(i)||Ye.objectLiteral(i)&&Ye.string(i.language)&&Ye.string(i.value)}o(r,"is"),e.is=r})(RF||(RF={}));var E4e;(function(e){function t(r){let n=r;return!!n&&Ye.objectLiteral(n)&&(fT.is(n.contents)||RF.is(n.contents)||Ye.typedArray(n.contents,RF.is))&&(r.range===void 0||Mo.is(r.range))}o(t,"is"),e.is=t})(E4e||(E4e={}));var x4e;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(x4e||(x4e={}));var b4e;(function(e){function t(r,n,...i){let s={label:r};return Ye.defined(n)&&(s.documentation=n),Ye.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(b4e||(b4e={}));var v4e;(function(e){e.Text=1,e.Read=2,e.Write=3})(v4e||(v4e={}));var I4e;(function(e){function t(r,n){let i={range:r};return Ye.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(I4e||(I4e={}));var T4e;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(T4e||(T4e={}));var w4e;(function(e){e.Deprecated=1})(w4e||(w4e={}));var _4e;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(_4e||(_4e={}));var S4e;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(S4e||(S4e={}));var B4e;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.name)&&Ye.number(i.kind)&&Mo.is(i.range)&&Mo.is(i.selectionRange)&&(i.detail===void 0||Ye.string(i.detail))&&(i.deprecated===void 0||Ye.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(B4e||(B4e={}));var k4e;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(k4e||(k4e={}));var DF;(function(e){e.Invoked=1,e.Automatic=2})(DF||(DF={}));var R4e;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.typedArray(i.diagnostics,kF.is)&&(i.only===void 0||Ye.typedArray(i.only,Ye.string))&&(i.triggerKind===void 0||i.triggerKind===DF.Invoked||i.triggerKind===DF.Automatic)}o(r,"is"),e.is=r})(R4e||(R4e={}));var D4e;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):Ev.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.title)&&(i.diagnostics===void 0||Ye.typedArray(i.diagnostics,kF.is))&&(i.kind===void 0||Ye.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ev.is(i.command))&&(i.isPreferred===void 0||Ye.boolean(i.isPreferred))&&(i.edit===void 0||oX.is(i.edit))}o(r,"is"),e.is=r})(D4e||(D4e={}));var P4e;(function(e){function t(n,i){let s={range:n};return Ye.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.command)||Ev.is(i.command))}o(r,"is"),e.is=r})(P4e||(P4e={}));var N4e;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.uinteger(i.tabSize)&&Ye.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(N4e||(N4e={}));var F4e;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.target)||Ye.string(i.target))}o(r,"is"),e.is=r})(F4e||(F4e={}));var L4e;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(L4e||(L4e={}));var Q4e;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Q4e||(Q4e={}));var M4e;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(M4e||(M4e={}));var O4e;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(O4e||(O4e={}));var U4e;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.string(i.text)}o(r,"is"),e.is=r})(U4e||(U4e={}));var q4e;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.boolean(i.caseSensitiveLookup)&&(Ye.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(q4e||(q4e={}));var G4e;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&(Ye.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(G4e||(G4e={}));var W4e;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(n.stoppedLocation)}o(r,"is"),e.is=r})(W4e||(W4e={}));var lX;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(lX||(lX={}));var cX;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&(i.tooltip===void 0||Ye.string(i.tooltip)||fT.is(i.tooltip))&&(i.location===void 0||BF.is(i.location))&&(i.command===void 0||Ev.is(i.command))}o(r,"is"),e.is=r})(cX||(cX={}));var H4e;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&A0.is(i.position)&&(Ye.string(i.label)||Ye.typedArray(i.label,cX.is))&&(i.kind===void 0||lX.is(i.kind))&&i.textEdits===void 0||Ye.typedArray(i.textEdits,xv.is)&&(i.tooltip===void 0||Ye.string(i.tooltip)||fT.is(i.tooltip))&&(i.paddingLeft===void 0||Ye.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ye.boolean(i.paddingRight))}o(r,"is"),e.is=r})(H4e||(H4e={}));var V4e;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(V4e||(V4e={}));var j4e;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(j4e||(j4e={}));var $4e;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})($4e||($4e={}));var z4e;(function(e){e.Invoked=0,e.Automatic=1})(z4e||(z4e={}));var Y4e;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(Y4e||(Y4e={}));var K4e;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(K4e||(K4e={}));var J4e;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&JJ.is(n.uri)&&Ye.string(n.name)}o(t,"is"),e.is=t})(J4e||(J4e={}));var X4e;(function(e){function t(s,a,l,c){return new uX(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Ye.defined(a)&&Ye.string(a.uri)&&(Ye.undefined(a.languageId)||Ye.string(a.languageId))&&Ye.uinteger(a.lineCount)&&Ye.func(a.getText)&&Ye.func(a.positionAt)&&Ye.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(X4e||(X4e={}));var uX=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return A0.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return A0.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ye;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,A,E){return t.call(p)==="[object Number]"&&A<=p&&p<=E}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,A){return Array.isArray(p)&&p.every(A)}o(h,"typedArray"),e.typedArray=h})(Ye||(Ye={}));var oo=class{static{o(this,"LocationFactory")}static{this.range=Mo.create.bind(Mo)}static{this.position=A0.create.bind(A0)}};function PF(e,t,r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(PF,"applyEditsWithPosition");var M0=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=p5.create(t.clientUri,t.clientLanguageId,n,t.getText());return p5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=p5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return p5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=zCe({uri:t,clientLanguageId:r})){return new e(dm(t),p5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this.detectedLanguageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Mo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Mo.create(A0.create(r,0),A0.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};function FF(e,t){return np.isEmptyBlockStart(e.languageId,e.getText(),e.offsetAt(t))}o(FF,"isEmptyBlockStart");var sCr=new Er("parseBlock");function dT(e,t,r){let n=t.getText(oo.range(oo.position(0,0),r)),i=t.offsetAt(r),s=t.languageId;return a=>np.isBlockBodyFinished(s,n,a,i)}o(dT,"parsingBlockFinished");async function Z4e(e,t,r,n){let s=t.getText(oo.range(oo.position(0,0),r))+n,a=await np.getNodeStart(t.languageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(Z4e,"getNodeStart");var Tst=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),wst=new RegExp(`^(${Tst.join("|")})`);function _st(e){return wst.test(e.trimLeft().toLowerCase())}o(_st,"isContinuationLine");function NF(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(NF,"indentationOfLine");function mT(e,t){let r=e.getText(),n=e.offsetAt(t);return fX(r,n,e.languageId)}o(mT,"contextIndentation");function fX(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,A,E;for(;A===void 0&&p>=0&&p<f.length;)A=NF(f[p]),E=p,p+=h;if(r==="python"&&h===-1){p++;let x=f[p].trim();if(x.endsWith('"""')){if(!(x.startsWith('"""')&&x!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(A=void 0,p--;A===void 0&&p>=0;)A=NF(f[p]),E=p,p--}}return[A,E]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=NF(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(fX,"contextIndentationFromText");var Sst=!1;function Bst(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&Sst&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=NF(u);if(f!==void 0&&(f<l||f===l&&!_st(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(Bst,"completionCutOrContinue");function eEe(e,t){return async r=>{let n=Bst(r,e,t);return n==="continue"?void 0:n}}o(eEe,"indentationBlockFinished");d();d();d();var hT={isBlocked:!1,reason:"VALID_FILE"},LF={isBlocked:!1,reason:"NO_MATCHING_POLICY"},tEe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},WC={all:"all",repo:"repo"},o1=new Er("contentExclusion");d();d();var QF=class{static{o(this,"PolicyEvaluator")}};d();d();d();var rEe=require("child_process");var kst=new Er("repository"),vv=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},ip=class{static{o(this,"GitConfigLoader")}},MF=class extends ip{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,rEe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){kst.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=ja(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new vv;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}},OF=class extends ip{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var nEe=require("os");var UF=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return xo.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=xo.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,nEe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var qF=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(ip).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new UF(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var Rst=100,dX=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},s1=class e{constructor(t){this.ctx=t;this.remoteResolver=new qF;this.cache=new Rn(Rst)}static{o(this,"RepositoryManager")}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t.toString());return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=gu(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new dX(t.toString(),await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Qo),i=ks(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=ks(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=sC(r,s[1]),l=ks(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=ks(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=ks(a,"commondir");a=sC(a,(await t.readFileString(u)).trimEnd());let f=ks(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var iEe=o((e,t)=>{if(K2.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...K2.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var GF=new WeakMap;function WF(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&GF.has(e))return GF.get(e);switch(GF.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=WF(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+WF(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+WF(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return GF.set(e,n),n}o(WF,"t");function HF(e){return WF(e,0)}o(HF,"r");var mX=new WeakMap;function oEe(e,t,r=HF(t)){let n,i,s=mX.get(e);s||(mX.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),mX.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(oEe,"n");var sEe=new WeakMap;function Dst(e,t,r,n=HF(r)){if(t||(t=sEe.get(e)),t||sEe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=oEe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Dst,"n");function aEe(e,t){return function(r,n){return Dst(e,t,r,n)}}o(aEe,"o");d();var SEe=ct(EEe(),1);d();var gT=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Ust={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},AT=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),qst=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),xEe=o(e=>e.join(""),"rangesToString"),bEe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let E=e.charAt(s);if((E==="!"||E==="^")&&s===r+1){u=!0,s++;continue}if(E==="]"&&a&&!c){f=s+1;break}if(a=!0,E==="\\"&&!c){c=!0,s++;continue}if(E==="["&&!c){for(let[x,[v,b,S]]of Object.entries(Ust))if(e.startsWith(x,s)){if(m)return["$.",!1,e.length-r,!0];s+=x.length,S?i.push(v):n.push(v),l=l||b;continue e}}if(c=!1,m){E>m?n.push(AT(m)+"-"+AT(E)):E===m&&n.push(AT(E)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(AT(E+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=E,s+=2;continue}n.push(AT(E)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let E=n[0].length===2?n[0].slice(-1):n[0];return[qst(E),!1,f-r,!1]}let h="["+(u?"^":"")+xEe(n)+"]",p="["+(u?"":"^")+xEe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var g5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Gst=new Set(["!","?","+","*","@"]),vEe=o(e=>Gst.has(e),"isExtglobType"),Wst="(?!(?:^|/)\\.\\.?(?:$|/))",VF="(?!\\.)",Hst=new Set(["[","."]),Vst=new Set(["..","."]),jst=new Set("().*{}+?[]^$\\!"),$st=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),gX="[^/]",IEe=gX+"*?",TEe=gX+"+?",Iv=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,A="";for(;p<t.length;){let E=t.charAt(p++);if(s||E==="\\"){s=!s,A+=E;continue}if(a){p===l+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(p===l+2&&c)&&(a=!1),A+=E;continue}else if(E==="["){a=!0,l=p,c=!1,A+=E;continue}if(!i.noext&&vEe(E)&&t.charAt(p)==="("){r.push(A),A="";let x=new e(E,r);p=e.#u(t,x,p,i),r.push(x);continue}A+=E}return r.push(A),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(vEe(p)&&t.charAt(u)==="("){f.push(h),h="";let A=new e(p,f);f.push(A),u=e.#u(t,A,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[A,E,x,v]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||x,this.#i=this.#i||v,A}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Vst.has(this.#n[0]))){let A=Hst,E=r&&A.has(u.charAt(0))||u.startsWith("\\.")&&A.has(u.charAt(2))||u.startsWith("\\.\\.")&&A.has(u.charAt(4)),x=!r&&!t&&A.has(u.charAt(0));f=E?Wst:x?VF:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,g5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,g5(this.toString()),!1,!1]}let a=!n||t||r||!VF?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?VF:"")+TEe;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?VF:"")+IEe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,g5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(jst.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=bEe(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=TEe:s+=IEe,r=!0;continue}if(c==="?"){s+=gX,r=!0;continue}s+=$st(c)}return[s,g5(t),!!r,a]}};d();var AX=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var na=o((e,t,r={})=>(gT(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Tv(t,r).match(e)),"minimatch"),zst=/^\*+([^+@!?\*\[\(]*)$/,Yst=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Kst=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),Jst=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Xst=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),Zst=/^\*+\.\*+$/,eat=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),tat=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),rat=/^\.\*+$/,nat=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),iat=/^\*+$/,oat=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),sat=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),aat=/^\?+([^+@!?\*\[\(]*)?$/,lat=o(([e,t=""])=>{let r=BEe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),cat=o(([e,t=""])=>{let r=kEe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),uat=o(([e,t=""])=>{let r=kEe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),fat=o(([e,t=""])=>{let r=BEe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),BEe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),kEe=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),REe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",wEe={win32:{sep:"\\"},posix:{sep:"/"}},dat=REe==="win32"?wEe.win32.sep:wEe.posix.sep;na.sep=dat;var Zf=Symbol("globstar **");na.GLOBSTAR=Zf;var mat="[^/]",hat=mat+"*?",pat="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",gat="(?:(?!(?:\\/|^)\\.).)*?",Aat=o((e,t={})=>r=>na(r,e,t),"filter");na.filter=Aat;var Xf=o((e,t={})=>Object.assign({},e,t),"ext"),yat=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return na;let t=na;return Object.assign(o((n,i,s={})=>t(n,i,Xf(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,Xf(e,s))}static defaults(i){return t.defaults(Xf(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,Xf(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,Xf(e,s))}},unescape:o((n,i={})=>t.unescape(n,Xf(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,Xf(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,Xf(e,i)),"filter"),defaults:o(n=>t.defaults(Xf(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,Xf(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,Xf(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,Xf(e,s)),"match"),sep:t.sep,GLOBSTAR:Zf})},"defaults");na.defaults=yat;var DEe=o((e,t={})=>(gT(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,SEe.default)(e)),"braceExpand");na.braceExpand=DEe;var Cat=o((e,t={})=>new Tv(e,t).makeRe(),"makeRe");na.makeRe=Cat;var Eat=o((e,t,r={})=>{let n=new Tv(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");na.match=Eat;var _Ee=/[?*]|[+@!]\(.*?\)|\[|\]/,xat=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Tv=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){gT(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||REe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!_Ee.test(s[2]))&&!_Ee.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let E=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),x=!E&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),v=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),b=!v&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),S=x?3:E?0:void 0,k=b?3:v?0:void 0;if(typeof S=="number"&&typeof k=="number"){let[P,N]=[t[S],r[k]];P.toLowerCase()===N.toLowerCase()&&(r[k]=P,k>S?r=r.slice(k):S>k&&(t=t.slice(S)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===Zf){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var A=t[h];if(this.debug(`
globstar while`,t,h,r,p,A),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,A),!0;if(A==="."||A===".."||!i.dot&&A.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let E;if(typeof f=="string"?(E=m===f,this.debug("string match",f,m,E)):(E=f.test(m),this.debug("pattern match",f,m,E)),!E)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return DEe(this.pattern,this.options)}parse(t){gT(t);let r=this.options;if(t==="**")return Zf;if(t==="")return"";let n,i=null;(n=t.match(iat))?i=r.dot?sat:oat:(n=t.match(zst))?i=(r.nocase?r.dot?Xst:Jst:r.dot?Kst:Yst)(n[1]):(n=t.match(aat))?i=(r.nocase?r.dot?cat:lat:r.dot?uat:fat)(n):(n=t.match(Zst))?i=r.dot?tat:eat:(n=t.match(rat))&&(i=nat);let s=Iv.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?hat:r.dot?pat:gat,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?xat(f):f===Zf?Zf:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==Zf||p===Zf||(p===void 0?h!==void 0&&h!==Zf?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==Zf&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=Zf))}),u.filter(f=>f!==Zf).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return na.defaults(t).Minimatch}};na.AST=Iv;na.Minimatch=Tv;na.escape=AX;na.unescape=g5;var yX="contentExclusion",jF=class extends QF{static{o(this,"CopilotContentExclusion")}#e;#t=new Rn(1e4);#i=new Rn(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=sC(t).toString();let n=await this.getGitRepo(t),i=await this.#n(n?.url??WC.all);if(!i)return LF;let s=n?.baseFolder??"file://",a=await this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=await this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return o1.exception(this.#e,n,`${yX}.evaluate`),tEe}return hT}async evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=hT,a,l=Zz(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(na(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=CX(c,"FILE_BLOCKED_PATH"),a=u;break e}return o1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}async evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return hT;let a=await this.evaluateFileContent(i,s,n);return o1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}async evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>PEe(a)).some(a=>a.test(n)))return CX(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>PEe(a)).some(a=>a.test(n)))return CX(i,"FILE_BLOCKED_TEXT_BASED");return hT}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Lo(this.#e,t,`${yX}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=aEe(async t=>{let r=await this.#e.get(jr).getGitHubSession();if(!r)throw new Ns("No token found");let n=this.#e.get(vn).getContentRestrictionsUrl(r),i=new URL(n),s=t.includes(WC.all);t.filter(u=>u!==WC.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==WC.all).join(",")),i.searchParams.set("scope",s?WC.all:WC.repo);let l=await this.#e.get(Nr).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new G3(l)}return this.#s("fetch.success"),iEe(Tat,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(s1).getRepo(gu(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Xt(this.#e,`${yX}.${t}`,tn.createAndMarkAsIssued(r,n))}};function PEe(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(PEe,"stringToRegex");function CX(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(CX,"fileBlockedEvaluationResult");var bat=T.Object({name:T.String(),type:T.String()}),vat=T.Object({paths:T.Array(T.String()),ifNoneMatch:T.Optional(T.Array(T.String())),ifAnyMatch:T.Optional(T.Array(T.String())),source:bat}),EX=T.Array(vat),Iat=T.Object({rules:EX,last_updated_at:T.String(),scope:T.String()}),Tat=T.Array(Iat);d();d();async function $F(e,t){let r=await e.get(Sa).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:r.message??"Document is blocked by repository policy"}:{status:"valid",document:t}}o($F,"isDocumentValid");var Wr=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await $F(this.ctx,n)).status==="valid"&&r.push(n);return r}getOpenTextDocument(t){let r=dm(t.uri);return this.getOpenTextDocuments().find(n=>n.uri==r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return t?$F(this.ctx,t).catch(()=>this.notFoundResult(r)):this.notFoundResult(r)}async getTextDocumentWithValidation(t){try{let r=this.getOpenTextDocument(t);return!r&&(r=await this.openTextDocument(t.uri),!r)?await this.notFoundResult(t.uri):$F(this.ctx,r)}catch{return await this.notFoundResult(t.uri)}}getOpenTextDocumentWithValidation(t){let r=this.getOpenTextDocument(t);if(r){let n;return{then:o((i,s)=>(n??=this.validateTextDocument(r,t.uri),n.then(i,s)),"then")}}else return this.notFoundResult(t.uri)}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}async openTextDocument(t){try{if((await this.ctx.get(Qo).stat(t)).size>5*1024*1024)return}catch{return}let r=await this.ctx.get(Qo).readFileString(t);return M0.create(t,"UNKNOWN",0,r)}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>t.clientUri.startsWith(r.uri))}getRelativePath(t){if(!t.uri.startsWith("untitled:")){for(let r of this.getWorkspaceFolders()){let n=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");if(t.clientUri.startsWith(n))return t.clientUri.slice(n.length)}return Qs(t.uri)}}};var Sa=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new jF(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Wr).getTextDocumentWithValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Wr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Va(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=DD(t);if(i||o1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){o1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Yi).setInactive(r??"Copilot is disabled"):this.ctx.get(Yi).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===LF.reason)return o1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Xt(this.ctx,t,tn.createAndMarkAsIssued(l,c)),Xt(this.ctx,t,tn.createAndMarkAsIssued({...l,path:r},c),1),o1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};d();d();function NEe(e,t){return{...Xb,useSubsetMatching:xX(e,t)}}o(NEe,"getCppSimilarFilesOptions");function FEe(e){return Xb.maxTopSnippets}o(FEe,"getCppNumberOfSnippets");var wat=new Map([["cpp",NEe]]);function zF(e,t,r){let n=wat.get(r);return n?n(e,t):{...zP,useSubsetMatching:xX(e,t)}}o(zF,"getSimilarFilesOptions");var _at=new Map([["cpp",FEe]]);function LEe(e,t){let r=_at.get(t);return r?r(e):EK}o(LEe,"getNumberOfSnippets");function xX(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||ai(e,qt.UseSubsetMatching))??!1}o(xX,"useSubsetMatching");d();d();var Sat=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Bat(e){return Sat.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Bat,"isOomError");function YF(e,t,r,n=ei){if(!ou(t)){if(t instanceof Error){let i=t;Bat(i)?e.get(Yi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Yi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Yi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Yi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Yi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(YF,"handleException");function QEe(e){process.addListener("uncaughtException",r=>{YF(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,YF(e,r,"unhandledRejection")}finally{t=!1}})}o(QEe,"registerDefaultHandlers");d();d();d();var Ba=class{constructor(){this._prompt_lib_expectations=new Map;this._prompt_components_expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addPromptLibExpectations(t,r){let n=this._prompt_lib_expectations.get(t)??[];this._prompt_lib_expectations.set(t,[...n,...r])}addPromptComponentsExpectations(t,r){let n=this._prompt_components_expectations.get(t)??[];this._prompt_components_expectations.set(t,[...n,...r])}clearExpectations(){this._prompt_lib_expectations.clear(),this._prompt_components_expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatchWithPrompt(t){try{for(let[r,n]of this._prompt_lib_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=0,a=!1;for(let u of n){if(u==KF){a=!0;continue}t.includes(u)&&s++}let l=s/n.length,c;a?c=l===0?"none_content_excluded":"partial_content_excluded":c=l===1?"full":l===0?"none":"partial",this._statistics.set(r,{usage:c,resolution:i})}}finally{this.clearExpectations(),this._lastResolution.clear()}}computeMatch(t){try{for(let[r,n]of this._prompt_components_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[],a=!1;for(let[f,m]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),m==="content_excluded"){a=!0,s.push({...h,usage:"none_content_excluded"});continue}let p=t.find(A=>A.source===f);p===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let c=s.reduce((f,m)=>m.usage==="full"?f+1:m.usage==="partial"?f+.5:f,0)/n.length,u;a?u=c===0?"none_content_excluded":"partial_content_excluded":u=c===1?"full":c===0?"none":"partial",this._statistics.set(r,{resolution:i,usage:u,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function MEe(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(MEe,"componentStatisticsToPromptMatcher");d();var OEe=T.Object({importance:T.Optional(T.Integer({minimum:0,maximum:100})),id:T.Optional(T.String()),origin:T.Optional(T.Union([T.Literal("request"),T.Literal("update")]))}),UEe=T.Intersect([T.Object({name:T.String(),value:T.String()}),OEe]),qEe=T.Intersect([T.Object({uri:T.String(),value:T.String(),additionalUris:T.Optional(T.Array(T.String()))}),OEe]),kat=[UEe,qEe],Rat=T.Union(kat),Dat=new Map([["Trait",ta.Compile(UEe)],["CodeSnippet",ta.Compile(qEe)]]),Pat=o(e=>e,"ensureTypesAreEqual");Pat(!0);var Nat=T.Object({contextItems:T.Array(Rat)}),Fat=T.Object({selector:T.Array(T.Union([T.String(),T.Object({language:T.Optional(T.String()),scheme:T.Optional(T.String()),pattern:T.Optional(T.String())})]))}),bX=T.Object({id:T.String()}),Lat=T.Intersect([bX,Fat]),Qat=T.Intersect([bX,Nat]),GEe=T.Object({providers:T.Array(Lat)}),WEe=T.Object({providers:T.Array(bX)}),vX=T.Object({providers:T.Array(Qat),updating:T.Optional(T.Array(T.String()))}),JF=T.Intersect([rAe,T.Object({contextItems:T.Optional(vX)})]);function XF(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(XF,"filterContextItemsByType");function HEe(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of Dat.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(HEe,"filterSupportedContextItems");function Mat(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(Mat,"validateContextItemId");function VEe(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Sr();if(!Mat(s)){let a=Sr();ei.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Sr();ei.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(VEe,"addOrValidateContextItemsIDs");var KF="content_excluded";async function ZF(e,t,r){let n=[],i=XF(t,"CodeSnippet");if(i.length===0)return n;let s=e.get(Wr),a=e.get(Ba),l=i.flatMap(c=>c.data.map(u=>({providerId:c.providerId,data:u})));for(let c of l){let f=[c.data.uri,...c.data.additionalUris??[]].map(h=>s.getTextDocumentWithValidation({uri:h}));(await Promise.all(f)).every(h=>h.status==="valid")?(n.push(c.data),a.addPromptLibExpectations(c.providerId,[Ta(c.data.value,wa(r))]),a.addPromptComponentsExpectations(c.providerId,[[c.data,"included"]])):(a.addPromptLibExpectations(c.providerId,[KF]),a.addPromptComponentsExpectations(c.providerId,[[c.data,KF]]))}return n}o(ZF,"getCodeSnippetsFromContextItems");function eL(e,t){let r=e.get(Wr);return t.map(n=>{let i=M0.create(n.uri,"unknown",0,n.value);return{snippet:n,relativePath:r.getRelativePath(i)}})}o(eL,"addRelativePathToCodeSnippets");d();function ia(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(ia,"Text");function jEe(e){return e.children}o(jEe,"Chunk");d();function qn(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(qn,"functionComponentFunction");function a1(e){return{type:"f",children:e}}o(a1,"fragmentFunction");a1.isFragmentFunction=!0;var $Ee=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Sc,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=wa(i.clientLanguageId),l=eL(e.ctx,r),c=new Map;for(let f of l){let m=f.relativePath??f.snippet.uri,h=c.get(m);h===void 0&&(h=[],c.set(m,h)),h.push(f)}let u=[];for(let[f,m]of c.entries()){let h=m.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,m)=>m.importance-f.importance),u.reverse(),u.map(f=>{let m=[];return m.push(qn(ia,{children:Ta(`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`,a)})),f.chunkElements.forEach((h,p)=>{m.push(qn(ia,{source:h,children:Ta(h.value,a)},h.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&m.push(qn(ia,{children:Ta("---",a)}))}),qn(jEe,{children:m})})},"CodeSnippets");d();d();function Oat(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(Oat,"approximateMaxCharacters");function yT(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(Sc,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=Oat(a);return qn(a1,{children:[qn(IX,{document:r,position:i,maxCharacters:f}),qn(TX,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(yT,"CurrentFile");function IX(e){if(e.document===void 0||e.position===void 0)return qn(ia,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),qn(ia,{children:t})}o(IX,"BeforeCursor");function TX(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return qn(ia,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return qn(ia,{});if(r===s)return qn(ia,{children:r});let a=s;if(r!==""){let l=So(),c=l.takeFirstTokens(s,t5);c.tokens.length>0&&100*tN(c.tokens,l.takeFirstTokens(r,t5).tokens)?.score<(e.suffixMatchThreshold??O7)*c.tokens.length&&(a=r)}return a!==r&&n(a),qn(ia,{children:a})}o(TX,"AfterCursor");d();var tL=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function zEe(e){return e.map(t=>t.elidedValue).join("")}o(zEe,"makePrompt");function YEe(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(YEe,"makePrefixPrompt");function KEe(e,t){return e.filter(r=>r.type==="context").map(r=>J5e(r.elidedValue,t)).join("").trim()}o(KEe,"makeContextPrompt");d();var Zxe=ct(Nv());var vL=class{constructor(t){this.snapshot=t}static{o(this,"SnapshotWalker")}async walkSnapshot(t){await this.walkSnapshotNode(this.snapshot,t,1,void 0,void 0)}async walkSnapshotNode(t,r,n,i,s){let a=t.props?.weight??1,c=(typeof a=="number"?Math.max(0,Math.min(1,a)):1)*n,f=t.name===Zxe.Chunk.name?t:i,m=t.props?.source??s;if(await r(t,c,f,m))for(let p of t.children??[])await this.walkSnapshotNode(p,r,c,f,m)}};var IL=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}async render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??So(),c=r.languageId??"unknown",{prefixBlocks:u,suffixBlock:f,componentStatistics:m}=await this.processSnapshot(t,a),{prefixTokenLimit:h,suffixTokenLimit:p}=this.getPromptLimits(f,r),A=performance.now(),E=new tL(l),[x,...v]=E.elide(u,h,f,p),b=performance.now(),S=zEe(v),k=YEe(v),P=KEe(v,c),N=x.elidedValue,W=l.tokenLength(S)+x.elidedTokens;return m.push(...Dlt([...v,x])),{prefix:S,suffix:N,prefixWithoutContext:k,context:P,tokens:W,status:"ok",metadata:{renderId:i,elisionTimeMs:b-A,renderTimeMs:performance.now()-s,componentStatistics:m,updateDataTimeMs:m.reduce((te,ge)=>te+(ge.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit??EC,s=r.suffixPercent??JP;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-xK:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}async processSnapshot(t,r){let n=[],i=[],s=[],a=!1,l=!1,c=!1;if(await new vL(t).walkSnapshot(async(m,h,p,A)=>{if(m===t||(m.name===yT.name?a=!0:m.name===IX.name?l=!0:m.name===TX.name&&(c=!0),m.statistics.updateDataTimeMs&&m.statistics.updateDataTimeMs>0&&s.push({componentPath:m.path,updateDataTimeMs:m.statistics.updateDataTimeMs}),m.value===void 0||m.value===""))return!0;if(c)i.push({value:m.value,type:"suffix",weight:h,componentPath:m.path,nodeStatistics:m.statistics,chunk:p?p.path:void 0,source:A});else{let E=m.value.endsWith(r)?m.value:m.value+r,x=l?m.value:E;n.push({type:l?"prefix":"context",value:x,weight:h,componentPath:m.path,nodeStatistics:m.statistics,chunk:p?p.path:void 0,source:A})}return!0}),!a)throw new Error(`Node of type ${yT.name} not found`);if(i.length>1)throw new Error("Only one suffix is allowed");let f=i[0];return{prefixBlocks:n,suffixBlock:f,componentStatistics:s}}};function Dlt(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(Dlt,"computeComponentStatistics");d();var ebe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Sc,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var tbe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Sc,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Wr),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),offset:-1,relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?qn(Plt,{docInfo:a}):qn(Nlt,{docInfo:a})}},"DocumentMarker"),Plt=o((e,t)=>qn(ia,{children:UP(e.docInfo)}),"PathMarker"),Nlt=o((e,t)=>qn(ia,{children:OP(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var dZ=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?TL.isErrorNoTelemetry(t)?new TL(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},rbe=new dZ;function YC(e){rbe.onUnexpectedError(e)}o(YC,"onBugIndicatingError");function Fv(e){Flt(e)||rbe.onUnexpectedError(e)}o(Fv,"onUnexpectedError");var mZ="Canceled";function Flt(e){return e instanceof up?!0:e instanceof Error&&e.name===mZ&&e.message===mZ}o(Flt,"isCancellationError");var up=class extends Error{static{o(this,"CancellationError")}constructor(){super(mZ),this.name=this.message}};function RT(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(RT,"illegalArgument");function nbe(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(nbe,"illegalState");var TL=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},gi=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function wL(e,t="Unreachable"){throw new Error(t)}o(wL,"assertNever");function Rc(e,t="unexpected state"){if(!e)throw new gi(`Assertion Failed: ${t}`)}o(Rc,"assert");function v5(e){if(!e()){debugger;e(),Fv(new gi("Assertion Failed"))}}o(v5,"assertFn");function _L(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(_L,"checkAdjacentItems");d();d();d();function hZ(e,t){let r=Bm(e,t);return r===-1?void 0:e[r]}o(hZ,"findLastMonotonous");function Bm(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(Bm,"findLastIdxMonotonous");function Lv(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(Lv,"findFirstIdxMonotonousOrArrLen");var ibe=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=Bm(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function pZ(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(pZ,"equals");function*sbe(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(sbe,"groupAdjacentBy");function abe(e){return e.filter(t=>!!t)}o(abe,"coalesce");var lbe;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(lbe||={});function I5(e,t){return(r,n)=>t(e(r),e(n))}o(I5,"compareBy");var T5=o((e,t)=>e-t,"numberComparator");var SL=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},obe=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||lbe.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function dbe(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(dbe,"groupBy");var ube,fbe,cbe=class{constructor(t,r){this.toKey=r;this._map=new Map;this[ube]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(fbe=Symbol.iterator,ube=Symbol.toStringTag,fbe)](){return this.values()}};d();function gZ(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(gZ,"createSingleCallFunction");d();var AZ;(S=>{function e(k){return k&&typeof k=="object"&&typeof k[Symbol.iterator]=="function"}S.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}S.empty=r,o(r,"empty");function*n(k){yield k}S.single=n,o(n,"single");function i(k){return e(k)?k:n(k)}S.wrap=i,o(i,"wrap");function s(k){return k||t}S.from=s,o(s,"from");function*a(k){for(let P=k.length-1;P>=0;P--)yield k[P]}S.reverse=a,o(a,"reverse");function l(k){return!k||k[Symbol.iterator]().next().done===!0}S.isEmpty=l,o(l,"isEmpty");function c(k){return k[Symbol.iterator]().next().value}S.first=c,o(c,"first");function u(k,P){let N=0;for(let W of k)if(P(W,N++))return!0;return!1}S.some=u,o(u,"some");function f(k,P){for(let N of k)if(P(N))return N}S.find=f,o(f,"find");function*m(k,P){for(let N of k)P(N)&&(yield N)}S.filter=m,o(m,"filter");function*h(k,P){let N=0;for(let W of k)yield P(W,N++)}S.map=h,o(h,"map");function*p(k,P){let N=0;for(let W of k)yield*P(W,N++)}S.flatMap=p,o(p,"flatMap");function*A(...k){for(let P of k)yield*P}S.concat=A,o(A,"concat");function E(k,P,N){let W=N;for(let te of k)W=P(W,te);return W}S.reduce=E,o(E,"reduce");function*x(k,P,N=k.length){for(P<-k.length&&(P=0),P<0&&(P+=k.length),N<0?N+=k.length:N>k.length&&(N=k.length);P<N;P++)yield k[P]}S.slice=x,o(x,"slice");function v(k,P=Number.POSITIVE_INFINITY){let N=[];if(P===0)return[N,k];let W=k[Symbol.iterator]();for(let te=0;te<P;te++){let ge=W.next();if(ge.done)return[N,S.empty()];N.push(ge.value)}return[N,{[Symbol.iterator](){return W}}]}S.consume=v,o(v,"consume");async function b(k){let P=[];for await(let N of k)P.push(N);return Promise.resolve(P)}S.asyncToArray=b,o(b,"asyncToArray")})(AZ||={});d();var yZ=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Qlt(e){return Array.isArray(e)}o(Qlt,"isEntries");var hbe,BL=class e{constructor(t,r){this[hbe]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Qlt(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new yZ(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(hbe=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},pbe,mbe=class{constructor(t,r){this[pbe]="ResourceSet";!t||typeof t=="function"?this._map=new BL(t):(this._map=new BL(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(pbe=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var gbe,CZ=class{constructor(){this[gbe]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(gbe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},EZ=class extends CZ{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},kL=class extends EZ{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var RL=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Mlt=!1,Qv=null;var Abe=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new RL;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(I5(c=>c.idx,T5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let A=s.get(u.slice(0,m).join(`
`)),E=dbe([...A].map(x=>i(x)[m]),x=>x);delete E[u[m]];for(let[x,v]of Object.entries(E))f.unshift(`    - stacktraces of ${v.length} other leaks continue with ${x}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Olt(e){Qv=e}o(Olt,"setDisposableTracker");if(Mlt){let e="__is_disposable_tracked__";Olt(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==oa.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==oa.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function Mv(e){return Qv?.trackDisposable(e),e}o(Mv,"trackDisposable");function Ov(e){Qv?.markAsDisposed(e)}o(Ov,"markAsDisposed");function xZ(e,t){Qv?.setParent(e,t)}o(xZ,"setParentOfDisposable");function Ult(e,t){if(Qv)for(let r of e)Qv.setParent(r,t)}o(Ult,"setParentOfDisposables");function ybe(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(ybe,"isDisposable");function DL(e){if(AZ.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(DL,"dispose");function Cbe(...e){let t=sa(()=>DL(e));return Ult(e,t),t}o(Cbe,"combinedDisposable");function sa(e){let t=Mv({dispose:gZ(()=>{Ov(t),e()})});return t}o(sa,"toDisposable");var O0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;Mv(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(Ov(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{DL(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return xZ(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),xZ(t,null))}},oa=class{constructor(){this._store=new O0;Mv(this),xZ(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){Ov(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var f1=o((e,t)=>e===t,"strictEquals");d();d();var Ebe=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var qlt=globalThis.performance&&typeof globalThis.performance.now=="function",PL=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=qlt&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var xbe=!1,Glt=!1,KC;(ne=>{ne.None=o(()=>oa.None,"None");function t(H){if(Glt){let{onDidAddListener:O}=H,j=DT.create(),J=0;H.onDidAddListener=()=>{++J===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),j.print()),O?.()}}}o(t,"_addLeakageTraceLogic");function r(H,O){return p(H,()=>{},0,void 0,!0,void 0,O)}ne.defer=r,o(r,"defer");function n(H){return(O,j=null,J)=>{let le=!1,Z;return Z=H(ae=>{if(!le)return Z?Z.dispose():le=!0,O.call(j,ae)},null,J),le&&Z.dispose(),Z}}ne.once=n,o(n,"once");function i(H,O){return ne.once(ne.filter(H,O))}ne.onceIf=i,o(i,"onceIf");function s(H,O,j){return m((J,le=null,Z)=>H(ae=>J.call(le,O(ae)),null,Z),j)}ne.map=s,o(s,"map");function a(H,O,j){return m((J,le=null,Z)=>H(ae=>{O(ae),J.call(le,ae)},null,Z),j)}ne.forEach=a,o(a,"forEach");function l(H,O,j){return m((J,le=null,Z)=>H(ae=>O(ae)&&J.call(le,ae),null,Z),j)}ne.filter=l,o(l,"filter");function c(H){return H}ne.signal=c,o(c,"signal");function u(...H){return(O,j=null,J)=>{let le=Cbe(...H.map(Z=>Z(ae=>O.call(j,ae))));return h(le,J)}}ne.any=u,o(u,"any");function f(H,O,j,J){let le=j;return s(H,Z=>(le=O(le,Z),le),J)}ne.reduce=f,o(f,"reduce");function m(H,O){let j,J={onWillAddFirstListener(){j=H(le.fire,le)},onDidRemoveLastListener(){j?.dispose()}};O||t(J);let le=new Nu(J);return O?.add(le),le.event}o(m,"snapshot");function h(H,O){return O instanceof Array?O.push(H):O&&O.add(H),H}o(h,"addAndReturnDisposable");function p(H,O,j=100,J=!1,le=!1,Z,ae){let ce,Re,ve,Ue=0,Be,Je={leakWarningThreshold:Z,onWillAddFirstListener(){ce=H(it=>{Ue++,Re=O(Re,it),J&&!ve&&(ft.fire(Re),Re=void 0),Be=o(()=>{let ot=Re;Re=void 0,ve=void 0,(!J||Ue>1)&&ft.fire(ot),Ue=0},"doFire"),typeof j=="number"?(clearTimeout(ve),ve=setTimeout(Be,j)):ve===void 0&&(ve=0,queueMicrotask(Be))})},onWillRemoveListener(){le&&Ue>0&&Be?.()},onDidRemoveLastListener(){Be=void 0,ce.dispose()}};ae||t(Je);let ft=new Nu(Je);return ae?.add(ft),ft.event}ne.debounce=p,o(p,"debounce");function A(H,O=0,j){return ne.debounce(H,(J,le)=>J?(J.push(le),J):[le],O,void 0,!0,void 0,j)}ne.accumulate=A,o(A,"accumulate");function E(H,O=(J,le)=>J===le,j){let J=!0,le;return l(H,Z=>{let ae=J||!O(Z,le);return J=!1,le=Z,ae},j)}ne.latch=E,o(E,"latch");function x(H,O,j){return[ne.filter(H,O,j),ne.filter(H,J=>!O(J),j)]}ne.split=x,o(x,"split");function v(H,O=!1,j=[],J){let le=j.slice(),Z=H(Re=>{le?le.push(Re):ce.fire(Re)});J&&J.add(Z);let ae=o(()=>{le?.forEach(Re=>ce.fire(Re)),le=null},"flush"),ce=new Nu({onWillAddFirstListener(){Z||(Z=H(Re=>ce.fire(Re)),J&&J.add(Z))},onDidAddFirstListener(){le&&(O?setTimeout(ae):ae())},onDidRemoveLastListener(){Z&&Z.dispose(),Z=null}});return J&&J.add(ce),ce.event}ne.buffer=v,o(v,"buffer");function b(H,O){return o((J,le,Z)=>{let ae=O(new k);return H(function(ce){let Re=ae.evaluate(ce);Re!==S&&J.call(le,Re)},void 0,Z)},"fn")}ne.chain=b,o(b,"chain");let S=Symbol("HaltChainable");class k{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(j=>(O(j),j)),this}filter(O){return this.steps.push(j=>O(j)?j:S),this}reduce(O,j){let J=j;return this.steps.push(le=>(J=O(J,le),J)),this}latch(O=(j,J)=>j===J){let j=!0,J;return this.steps.push(le=>{let Z=j||!O(le,J);return j=!1,J=le,Z?le:S}),this}evaluate(O){for(let j of this.steps)if(O=j(O),O===S)break;return O}}function P(H,O,j=J=>J){let J=o((...ce)=>ae.fire(j(...ce)),"fn"),le=o(()=>H.on(O,J),"onFirstListenerAdd"),Z=o(()=>H.removeListener(O,J),"onLastListenerRemove"),ae=new Nu({onWillAddFirstListener:le,onDidRemoveLastListener:Z});return ae.event}ne.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function N(H,O,j=J=>J){let J=o((...ce)=>ae.fire(j(...ce)),"fn"),le=o(()=>H.addEventListener(O,J),"onFirstListenerAdd"),Z=o(()=>H.removeEventListener(O,J),"onLastListenerRemove"),ae=new Nu({onWillAddFirstListener:le,onDidRemoveLastListener:Z});return ae.event}ne.fromDOMEventEmitter=N,o(N,"fromDOMEventEmitter");function W(H,O){return new Promise(j=>n(H)(j,null,O))}ne.toPromise=W,o(W,"toPromise");function te(H){let O=new Nu;return H.then(j=>{O.fire(j)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}ne.fromPromise=te,o(te,"fromPromise");function ge(H,O){return H(j=>O.fire(j))}ne.forward=ge,o(ge,"forward");function re(H,O,j){return O(j),H(J=>O(J))}ne.runAndSubscribe=re,o(re,"runAndSubscribe");class G{constructor(O,j){this._observable=O;this._counter=0;this._hasChanged=!1;let J={onWillAddFirstListener:o(()=>{O.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{O.removeObserver(this)},"onDidRemoveLastListener")};j||t(J),this.emitter=new Nu(J),j&&j.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,j){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function q(H,O){return new G(H,O).emitter.event}ne.fromObservable=q,o(q,"fromObservable");function se(H){return(O,j,J)=>{let le=0,Z=!1,ae={beginUpdate(){le++},endUpdate(){le--,le===0&&(H.reportChanges(),Z&&(Z=!1,O.call(j)))},handlePossibleChange(){},handleChange(){Z=!0}};H.addObserver(ae),H.reportChanges();let ce={dispose(){H.removeObserver(ae)}};return J instanceof O0?J.add(ce):Array.isArray(J)&&J.push(ce),ce}}ne.fromObservableLight=se,o(se,"fromObservableLight")})(KC||={});var bZ=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new PL,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},bbe=-1;var vZ=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new IZ(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},DT=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},IZ=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},TZ=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},Wlt=0,Uv=class{constructor(t){this.value=t;this.id=Wlt++}static{o(this,"UniqueContainer")}},Hlt=2,Vlt=o((e,t)=>{if(e instanceof Uv)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),Nu=class{constructor(t){this._size=0;this._options=t,this._leakageMon=bbe>0||this._options?.leakWarningThreshold?new vZ(t?.onListenerError??Fv,this._options?.leakWarningThreshold??bbe):void 0,this._perfMon=this._options?._profName?new bZ(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(xbe){let t=this._listeners;queueMicrotask(()=>{Vlt(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new TZ(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||Fv)(f),oa.None}if(this._disposed)return oa.None;r&&(t=t.bind(r));let i=new Uv(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=DT.create(),s=this._leakageMon.check(i.stack,this._size+1)),xbe&&(i.stack=a??DT.create()),this._listeners?this._listeners instanceof Uv?(this._deliveryQueue??=new wZ,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=sa(()=>{s?.(),this._removeListener(i)});return n instanceof O0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Hlt<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||Fv;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Uv)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var wZ=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var U0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return wbe(t,this)}},vbe=new Map,_Z=new WeakMap;function wbe(e,t){let r=_Z.get(e);if(r)return r;let n=jlt(e,t);if(n){let i=vbe.get(n)??0;i++,vbe.set(n,i);let s=i===1?n:`${n}#${i}`;return _Z.set(e,s),s}}o(wbe,"getDebugName");function jlt(e,t){let r=_Z.get(e);if(r)return r;let n=t.owner?zlt(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=NL(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=$lt(t.owner,e);if(l!==void 0)return n+l}}o(jlt,"computeDebugName");function $lt(e,t){for(let r in e)if(e[r]===t)return r}o($lt,"findKey");var Ibe=new Map,Tbe=new WeakMap;function zlt(e){let t=Tbe.get(e);if(t)return t;let r=Ylt(e),n=Ibe.get(r)??0;n++,Ibe.set(r,n);let i=n===1?r:`${r}#${n}`;return Tbe.set(e,i),i}o(zlt,"formatOwner");function Ylt(e){let t=e.constructor;return t?t.name:"Object"}o(Ylt,"getClassName");function NL(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(NL,"getFunctionName");d();var JC;function LL(e){JC?JC instanceof FL?JC.loggers.push(e):JC=new FL([JC,e]):JC=e}o(LL,"addLogger");function ys(){return JC}o(ys,"getLogger");var SZ;function _be(e){SZ=e}o(_be,"setLogObservableFn");function Sbe(e){SZ&&SZ(e)}o(Sbe,"logObservable");var FL=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var Bbe;function kbe(e){Bbe=e}o(kbe,"_setRecomputeInitiallyAndOnChange");var Rbe;function Dbe(e){Rbe=e}o(Dbe,"_setKeepObserved");var BZ;function Pbe(e){BZ=e}o(Pbe,"_setDerivedOpts");var QL=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return BZ({owner:n,debugName:o(()=>{let s=NL(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return BZ({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(Bbe(this,r)),this}keepObserved(t){return t.add(Rbe(this)),this}get debugValue(){return this.get()}},w5=class extends QL{constructor(){super();this.observers=new Set;ys()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&ys()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&ys()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!ys();return Sbe(this),r||ys()?.handleObservableCreated(this),this}};function OL(e,t){let r=new qv(e,t);try{e(r)}finally{r.finish()}}o(OL,"transaction");function kZ(e,t,r){e?t(e):OL(t,r)}o(kZ,"subtransaction");var qv=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];ys()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():NL(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,ys()?.handleEndTransaction(this)}};function km(e,t){let r;return typeof e=="string"?r=new U0(void 0,e,void 0):r=new U0(e,void 0,void 0),new ML(r,t,f1)}o(km,"observableValue");var ML=class extends w5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,ys()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new qv(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),ys()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function XC(e){return new Gv(new U0(void 0,void 0,e),e,void 0,void 0)}o(XC,"autorun");function RZ(e,t){return new Gv(new U0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(RZ,"autorunOpts");function UL(e,t){return new Gv(new U0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(UL,"autorunHandleChanges");function DZ(e,t){let r=new O0,n=UL({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return sa(()=>{n.dispose(),r.dispose()})}o(DZ,"autorunWithStoreHandleChanges");function PZ(e){let t=new O0,r=RZ({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return sa(()=>{r.dispose(),t.dispose()})}o(PZ,"autorunWithStore");var Gv=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),ys()?.handleAutorunCreated(this),this._runIfNeeded(),Mv(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),ys()?.handleAutorunDisposed(this),Ov(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){ys()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){YC(n)}finally{this._isRunning=!1}}}finally{this.disposed||ys()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}v5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){ys()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){YC(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new gi("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=Gv)(XC||={});d();function qL(e,t){return new ZC(new U0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??f1)}o(qL,"derivedOpts");Pbe(qL);var ZC=class extends w5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,ys()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),ys()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){YC(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new gi("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}v5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){ys()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){YC(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new gi("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function NZ(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new _5(new U0(t,void 0,n),r,n,()=>_5.globalTransaction,f1)}o(NZ,"observableFromEvent");var _5=class extends w5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,kZ(this._getTransaction(),l=>{ys()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||ys()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=_5;function t(n,i){let s=!1;_5.globalTransaction===void 0&&(_5.globalTransaction=n,s=!0);try{i()}finally{s&&(_5.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(NZ||={});function Fbe(e){let t=new GL(!1,void 0);return e.addObserver(t),sa(()=>{e.removeObserver(t)})}o(Fbe,"keepObserved");Dbe(Fbe);function Lbe(e,t){let r=new GL(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),sa(()=>{e.removeObserver(r)})}o(Lbe,"recomputeInitiallyAndOnChange");kbe(Lbe);var GL=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function d1(e,t,r,n){let i=new WL(r,n);return qL({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new WL(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(d1,"mapObservableArrayCached");var WL=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new O0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function FZ(e,t){let r;return DZ({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(FZ,"runOnChange");d();d();d();var Qbe=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),HL;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof Wv?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:KC.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Qbe})})(HL||={});var Wv=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Qbe:(this._emitter||(this._emitter=new Nu),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},m1=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new Wv),this._token}cancel(){this._token?this._token instanceof Wv&&this._token.cancel():this._token=HL.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Wv&&this._token.dispose():this._token=HL.None}};d();var VL;function Mbe(e){VL||(VL=new NT,LL(VL)),VL.addFilteredObj(e)}o(Mbe,"logObservableToConsole");var NT=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Klt([Hv(Zlt("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[Hv(" "),ed(PT(t.oldValue,70),{color:"red",strikeThrough:!0}),Hv(" "),ed(PT(t.newValue,60),{color:"green"})]:[Hv(" (unchanged)")]:[Hv(" "),ed(PT(t.newValue,60),{color:"green"}),Hv(" (initial)")]}handleObservableCreated(t){if(t instanceof ZC){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof ZC){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([Vv("observable value changed"),ed(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return ed(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([Vv("derived recomputed"),ed(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Vv("derived cleared"),ed(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Vv("observable from event triggered"),ed(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Vv("autorun"),ed(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Vv("transaction"),ed(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Klt(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(Klt,"consoleTextToArgs");function Hv(e){return ed(e,{color:"black"})}o(Hv,"normalText");function Vv(e){return ed(e0t(`${e}: `,10),{color:"black",bold:!0})}o(Vv,"formatKind");function ed(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(ed,"styled");function PT(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?Jlt(e,t):Xlt(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(PT,"formatValue");function Jlt(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${PT(i,t-r.length)}`}return r+=" ]",r}o(Jlt,"formatArray");function Xlt(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${PT(s,t-r.length)}`}return r+=" }",r}o(Xlt,"formatObject");function Zlt(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(Zlt,"repeat");function e0t(e,t){for(;e.length<t;)e+=" ";return e}o(e0t,"padStr");_be(Mbe);var t0t=!1;t0t&&LL(new NT);d();var e4;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(e4||={});d();d();d();function Obe(e){return e}o(Obe,"identity");var jL=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=Obe):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},h1=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=Obe):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var fp=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function t4(e){return e<0?0:e>4294967295?4294967295:e|0}o(t4,"toUint32");function LZ(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(LZ,"escapeRegExpCharacters");function S5(e){return e.split(/\r\n|\r|\n/)}o(S5,"splitLines");function Hbe(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(Hbe,"commonPrefixLength");function $L(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o($L,"commonSuffixLength");var n0t=/^[\t\n\r\x20-\x7E]*$/;function QZ(e){return n0t.test(e)}o(QZ,"isBasicASCII");var d7r=String.fromCharCode(65279);var Ube=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=i0t()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function i0t(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(i0t,"getGraphemeBreakRawData");var qbe=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new fp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new jL({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,A]of m)h.set(p,A);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,A]of f)m.has(p)&&h.set(p,A);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new fp(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},Gbe=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Or=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new gi(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new gi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new gi(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var so=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var li=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new so(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new so(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var Hn=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new zL(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new zL(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new gi("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new gi(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new li(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new li(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Or(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},zL=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=Lv(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=Bm(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=hZ(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=hZ(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new Hn(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=Lv(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=Bm(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new Hn(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new Hn(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var Fu=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new li(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new li(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new li(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return Hn.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new so(t.lineNumber,t.column+this.columnCount):new so(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return li.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var pl=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new MZ(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return S5(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},MZ=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Or(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Bm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new so(n,i)}getRange(t){return li.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Fu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Fu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var dp=class{static{o(this,"ObservableWorkspace")}getFirstOpenDocument(){return this.openDocuments.get()[0]}getDocument(t){return this.openDocuments.get().find(r=>r.id===t)}};var YL=class extends oa{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=km(this,n),this.selection=km(this,i),this.languageId=km(this,s),this._register(sa(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var sve=ct(Ii());d();d();d();d();var JL=!1,XL=!1,KL=!1,o0t=!1,s0t=!1,Vbe=!1,a0t=!1,l0t=!1,c0t=!1,u0t=!1;var p1,g1=globalThis,td;typeof g1.vscode<"u"&&typeof g1.vscode.process<"u"?td=g1.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(td=process);var jbe=typeof td?.versions?.electron=="string",f0t=jbe&&td?.type==="renderer";typeof td=="object"?(JL=td.platform==="win32",XL=td.platform==="darwin",KL=td.platform==="linux",o0t=KL&&!!td.env.SNAP&&!!td.env.SNAP_REVISION,a0t=jbe,c0t=!!td.env.CI||!!td.env.BUILD_ARTIFACTSTAGINGDIRECTORY,s0t=!0):typeof navigator=="object"&&!f0t?(p1=navigator.userAgent,JL=p1.indexOf("Windows")>=0,XL=p1.indexOf("Macintosh")>=0,l0t=(p1.indexOf("Macintosh")>=0||p1.indexOf("iPad")>=0||p1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,KL=p1.indexOf("Linux")>=0,u0t=p1?.indexOf("Mobi")>=0,Vbe=!0):console.error("Unable to resolve platform.");var OZ=0;XL?OZ=1:JL?OZ=3:KL&&(OZ=2);var r4=JL,$be=XL;var d0t=Vbe&&typeof g1.importScripts=="function",lTr=d0t?g1.origin:void 0;var mp=p1;var m0t=typeof g1.postMessage=="function"&&!g1.importScripts,cTr=(()=>{if(m0t){let e=[];g1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),g1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var h0t=!!(mp&&mp.indexOf("Chrome")>=0),uTr=!!(mp&&mp.indexOf("Firefox")>=0),fTr=!!(!h0t&&mp&&mp.indexOf("Safari")>=0),dTr=!!(mp&&mp.indexOf("Edg/")>=0),mTr=!!(mp&&mp.indexOf("Android")>=0);var n4,UZ=globalThis.vscode;if(typeof UZ<"u"&&typeof UZ.process<"u"){let e=UZ.process;n4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?n4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:n4={get platform(){return r4?"win32":$be?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var FT=n4.cwd,zbe=n4.env,Ybe=n4.platform,CTr=n4.arch;var g0t=65,A0t=97,y0t=90,C0t=122,R5=46,gl=47,Dc=92,B5=58,E0t=63,ZL=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function x0t(e,t){if(e===null||typeof e!="object")throw new ZL(t,"Object",e)}o(x0t,"validateObject");function qs(e,t){if(typeof e!="string")throw new ZL(t,"string",e)}o(qs,"validateString");var Pc=Ybe==="win32";function Vn(e){return e===gl||e===Dc}o(Vn,"isPathSeparator");function qZ(e){return e===gl}o(qZ,"isPosixPathSeparator");function k5(e){return e>=g0t&&e<=y0t||e>=A0t&&e<=C0t}o(k5,"isWindowsDeviceRoot");function eQ(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=gl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==R5||i.charCodeAt(i.length-2)!==R5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===R5&&l!==-1?++l:l=-1}return i}o(eQ,"normalizeString");function b0t(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(b0t,"formatExt");function Kbe(e,t){x0t(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${b0t(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(Kbe,"_format");var Gs={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],qs(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=FT():(s=zbe[`=${t}`]||FT(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Dc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Vn(f)&&(l=1,u=!0);else if(Vn(f))if(u=!0,Vn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!Vn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&Vn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!Vn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else k5(f)&&s.charCodeAt(1)===B5&&(c=s.slice(0,2),l=2,a>2&&Vn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=eQ(r,!n,"\\",Vn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){qs(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return qZ(s)?"\\":e;if(Vn(s))if(i=!0,Vn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Vn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else k5(s)&&e.charCodeAt(1)===B5&&(n=e.slice(0,2),r=2,t>2&&Vn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?eQ(e.slice(r),!i,"\\",Vn):"";return a.length===0&&!i&&(a="."),a.length>0&&Vn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){qs(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Vn(r)||t>2&&k5(r)&&e.charCodeAt(1)===B5&&Vn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];qs(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Vn(r.charCodeAt(0))){++i;let s=r.length;s>1&&Vn(r.charCodeAt(1))&&(++i,s>2&&(Vn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Vn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Gs.normalize(t)},relative(e,t){if(qs(e,"from"),qs(t,"to"),e===t)return"";let r=Gs.resolve(e),n=Gs.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Dc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Dc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Dc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Dc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Dc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Dc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Dc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Dc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Dc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Gs.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Dc){if(t.charCodeAt(1)===Dc){let r=t.charCodeAt(2);if(r!==E0t&&r!==R5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(k5(t.charCodeAt(0))&&t.charCodeAt(1)===B5&&t.charCodeAt(2)===Dc)return`\\\\?\\${t}`;return e},dirname(e){qs(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Vn(i)?e:".";if(Vn(i)){if(r=n=1,Vn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Vn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else k5(i)&&e.charCodeAt(1)===B5&&(r=t>2&&Vn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Vn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&qs(t,"suffix"),qs(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&k5(e.charCodeAt(0))&&e.charCodeAt(1)===B5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Vn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Vn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){qs(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===B5&&k5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Vn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===R5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:Kbe.bind(null,"\\"),parse(e){qs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Vn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Vn(i)){if(n=1,Vn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!Vn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&Vn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!Vn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(k5(i)&&e.charCodeAt(1)===B5){if(r<=2)return t.root=t.dir=e,t;if(n=2,Vn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Vn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===R5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},v0t=(()=>{if(Pc){let e=/\\/g;return()=>{let t=FT().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>FT()})(),aa={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:v0t();qs(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===gl)}return t=eQ(t,!r,"/",qZ),r?`/${t}`:t.length>0?t:"."},normalize(e){if(qs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===gl,r=e.charCodeAt(e.length-1)===gl;return e=eQ(e,!t,"/",qZ),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return qs(e,"path"),e.length>0&&e.charCodeAt(0)===gl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];qs(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":aa.normalize(t)},relative(e,t){if(qs(e,"from"),qs(t,"to"),e===t||(e=aa.resolve(e),t=aa.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===gl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===gl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===gl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===gl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(qs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===gl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===gl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&qs(t,"ext"),qs(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===gl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===gl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){qs(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===gl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===R5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:Kbe.bind(null,"/"),parse(e){qs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===gl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===gl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===R5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};aa.win32=Gs.win32=Gs;aa.posix=Gs.posix=aa;var xTr=Pc?Gs.normalize:aa.normalize,bTr=Pc?Gs.isAbsolute:aa.isAbsolute,vTr=Pc?Gs.join:aa.join,ITr=Pc?Gs.resolve:aa.resolve,TTr=Pc?Gs.relative:aa.relative,wTr=Pc?Gs.dirname:aa.dirname,Jbe=Pc?Gs.basename:aa.basename,Xbe=Pc?Gs.extname:aa.extname,_Tr=Pc?Gs.format:aa.format,STr=Pc?Gs.parse:aa.parse,BTr=Pc?Gs.toNamespacedPath:aa.toNamespacedPath,kTr=Pc?Gs.sep:aa.sep,RTr=Pc?Gs.delimiter:aa.delimiter;d();d();var T0t=/^\w[\w\d+.-]*$/,w0t=/^\//,_0t=/^\/\//;function S0t(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!T0t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!w0t.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_0t.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(S0t,"_validateUri");function B0t(e,t){return!e&&!t?"file":e}o(B0t,"_schemeFix");function k0t(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Rm&&(t=Rm+t):t=Rm;break}return t}o(k0t,"_referenceResolution");var ko="",Rm="/",R0t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,P5=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||ko,this.authority=t.authority||ko,this.path=t.path||ko,this.query=t.query||ko,this.fragment=t.fragment||ko):(this.scheme=B0t(t,a),this.authority=r||ko,this.path=k0t(this.scheme,n||ko),this.query=i||ko,this.fragment=s||ko,S0t(this,a))}get fsPath(){return GZ(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=ko),n===void 0?n=this.authority:n===null&&(n=ko),i===void 0?i=this.path:i===null&&(i=ko),s===void 0?s=this.query:s===null&&(s=ko),a===void 0?a=this.fragment:a===null&&(a=ko),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new D5(r,n,i,s,a)}static parse(t,r=!1){let n=R0t.exec(t);return n?new D5(n[2]||ko,tQ(n[4]||ko),tQ(n[5]||ko),tQ(n[7]||ko),tQ(n[9]||ko),r):new D5(ko,ko,ko,ko,ko)}static file(t){let r=ko;if(r4&&(t=t.replace(/\\/g,Rm)),t[0]===Rm&&t[1]===Rm){let n=t.indexOf(Rm,2);n===-1?(r=t.substring(2),t=Rm):(r=t.substring(2,n),t=t.substring(n)||Rm)}return new D5("file",r,t,ko,ko)}static from(t,r){return new D5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return r4&&t.scheme==="file"?n=e.file(Gs.join(GZ(t,!0),...r)).path:n=aa.join(t.path,...r),t.with({path:n})}toString(t=!1){return WZ(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new D5(t);return r._formatted=t.external??null,r._fsPath=t._sep===tve?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var tve=r4?1:void 0,D5=class extends P5{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=GZ(this,!1)),this._fsPath}toString(r=!1){return r?WZ(this,!0):(this._formatted||(this._formatted=WZ(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=tve),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},rve={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Zbe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=rve[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(Zbe,"encodeURIComponentFast");function D0t(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=rve[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(D0t,"encodeURIComponentMinimal");function GZ(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,r4&&(r=r.replace(/\//g,"\\")),r}o(GZ,"uriToFsPath");function WZ(e,t){let r=t?D0t:Zbe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Rm,n+=Rm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:Zbe(c,!1,!1)),n}o(WZ,"_asFormatted");function nve(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+nve(e.substr(3)):e}}o(nve,"decodeURIComponentGraceful");var eve=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function tQ(e){return e.match(eve)?e.replace(eve,t=>nve(t)):e}o(tQ,"percentDecode");var rd=class e{constructor(t){this.uri=t;this._uri=P5.parse(this.uri)}static{o(this,"DocumentId")}static{this._cache=new h1({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return Jbe(this.uri)}get extension(){return Xbe(this.uri)}toUri(){return this._uri}};function HZ(e){return rd.create(e)}o(HZ,"createDocumentId");d();d();var nd=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new gi(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(ka.fromJson))}static from(t){let r=t.map(i=>new ka(Or.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new ka(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new ka(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return P0t(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new ka(Or.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Or.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new ka(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new ka(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Or(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Or(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},ka=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Or.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=Hbe(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,$L(r,this.newText)),s=new Or(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function P0t(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new ka(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let A=new ka(Or.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(A),i-=A.newText.length-A.replaceRange.length}let h=u+s.newText,p=new Or(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new ka(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new nd(n).normalize()}o(P0t,"joinEdits");d();d();var ive=-1;function jv(){return ive!==-1?ive:Date.now()}o(jv,"now");function ove(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(ove,"lineRangeDistance");d();var $v=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new A1(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Cs.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return ts.create(r)}mapEdits(t){return new e(this.edits.map(t))}},A1=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new gi;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=li.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(li.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(li.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(li.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new li(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Cs.replace(n,this.newText)}};var Es=class e{constructor(t){this.edits=t;Rc(_L(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>y1.deserialize(r)))}static fromEdit(t){let r=$v.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=A1.joinEdits(s,r);s.length=0;let f=y1.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(I5(n=>n.lineRange.startLineNumber,T5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return ts.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(Hn.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new Hn(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new y1(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of sbe(this.edits,(c,u)=>ove(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new y1(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},y1=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(Hn.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=S5(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(li.fromPositions(new so(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(li.fromPositions(t.range.getEndPosition(),new so(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new Hn(i,a),n)}toLineEdit(){return new Es([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new so(s,a)}else n=new so(1,1);let i=r.addToPosition(new so(1,1));return new A1(li.fromPositions(n,i),"")}else return new A1(new li(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new A1(li.fromPositions(new so(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new li(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new A1(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Cs.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new Hn(r,n),this.newLines.slice(i,this.newLines.length-s))}},N0t;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(N0t||={});var hp=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=Es.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new Lu(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Es(r))}};var ts=class e{constructor(t){this.edits=t;Rc(_L(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>Cs.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Cs.replace(t,r)])}static insert(t,r){return new e([Cs.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Cs.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new nd(this.edits.map(t=>new ka(t.range,t.newText)))}compose(t){return F0t(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Cs.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Cs.replace(Or.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(Cs.replaceWithData(Or.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new rQ(i)}if(this.edits.length!==t.arrayLength)throw RT(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Cs.replaceWithData(Or.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new rQ(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Or(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Cs.replace(Or.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Cs.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Cs.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function F0t(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Cs.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(Cs.replaceWithData(Or.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=Cs.replaceWithData(Or.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Or(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(Cs.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return ts.create(n).normalize()}o(F0t,"joinEdits");var Cs=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Or(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Or(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Or(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return ts.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=L0t(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=Q0t(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function L0t(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(L0t,"commonPrefixLength");function Q0t(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(Q0t,"commonSuffixLength");var Lu=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return v5(()=>null.base.equals(this.base.apply(t))),v5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return hp.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},rQ=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return ts.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new pp(this.edits.map(t=>t.toEdit()))}},pp=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return ts.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=ts.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>ts.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=Es.fromEdit(new Lu(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var zv=class extends dp{constructor(r,n=!1){super();this._openDocuments=km(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Wr);for(let n of r.getOpenTextDocuments())n&&this.addLspDocument(n.uri,n);r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges,n.document)})}addLspDocument(r,n){let i=rd.create(r);return this.addDocument({id:i,initialValue:n.getText(),languageId:e4.create(n.clientLanguageId)},void 0)}onDidChangeLspDocument(r,n,i){if(i===void 0)throw new Error("Not implemented: LspDocumentManager.onDidChangeLspDocument with undefined baseDoc");let s=rd.create(r),a=this._documents.get(s);a&&a.applyLspContentChanges(n,i)}onUserPositionChange(r,n){let i=rd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=rd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new VZ(r.id,new pl(r.initialValue??""),[],r.languageId??e4.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}getDocument(r){return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},VZ=class extends YL{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t,r){let n=this.editFromLspContentChanges(t);this.applyEdit(n.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new so(t.lineNumber+1,t.column+1));this.updateSelection([new Or(r,r)])}editFromLspContentChanges(t){return new pp(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(sve.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new so(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new so(t.range.end.line+1,t.range.end.character+1));return ts.replace(new Or(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function ave(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(ave,"isObject");function nQ(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(nQ,"assertType");d();d();d();var i4=0;function iQ(e){return e===0}o(iQ,"lengthIsZero");var Qu=2**26;function Yv(e,t){return e*Qu+t}o(Yv,"toLength");function C1(e){let t=e,r=Math.floor(t/Qu),n=t-r*Qu;return new Fu(r,n)}o(C1,"lengthToObj");function LT(e,t){let r=e+t;return t>=Qu&&(r=r-e%Qu),r}o(LT,"lengthAdd");function lve(e,t){return e.reduce((r,n)=>LT(r,t(n)),i4)}o(lve,"sumLengths");function jZ(e,t){return e===t}o(jZ,"lengthEquals");function QT(e,t){let r=e,n=t;if(n-r<=0)return i4;let s=Math.floor(r/Qu),a=Math.floor(n/Qu),l=n-a*Qu;if(s===a){let c=r-s*Qu;return Yv(0,l-c)}else return Yv(a-s,l)}o(QT,"lengthDiffNonNegative");function cve(e,t){let r=e,n=Math.floor(r/Qu),i=r-n*Qu,s=t,a=Math.floor(s/Qu),l=s-a*Qu;return new li(n+1,i+1,a+1,l+1)}o(cve,"lengthsToRange");d();var Kv=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${C1(this.startOffset)}...${C1(this.endOffset)}) -> ${C1(this.newLength)}`}};function fve(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new SL(uve(e)),n=uve(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!iQ(u);){let[m,h]=i.splitAt(u);f.push(m),u=QT(m.lengthAfter,u),i=h??r.dequeue()}return iQ(u)||f.push(new MT(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&jZ(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new Kv(h.startOffset,f,LT(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=i4;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=lve(f,p=>p.lengthBefore),h=LT(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=LT(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(fve,"combineTextEditInfos");var MT=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=QT(t,this.lengthAfter);return jZ(r,i4)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,i4,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${C1(this.lengthBefore)} -> ${C1(this.lengthAfter)}`}};function uve(e){let t=[],r=i4;for(let n of e){let i=QT(r,n.startOffset);iQ(i)||t.push(new MT(!1,i,i));let s=QT(n.startOffset,n.endOffset);t.push(new MT(!0,s,n.newLength)),r=n.endOffset}return t}o(uve,"toLengthMapping");var OT=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new oQ(n.range,Fu.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=C1(n.newLength);return new oQ(cve(n.startOffset,n.endOffset),new Fu(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new Kv(Yv(t.range.startLineNumber-1,t.range.startColumn-1),Yv(t.range.endLineNumber-1,t.range.endColumn-1),Yv(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=fve(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return li.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},oQ=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function Jv(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return UL({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(Jv,"autorunWithChanges");d();var sQ=class{constructor(t){this.documents=t;Rc(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},aQ=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new Lu(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var lQ=class extends oa{constructor(){super();this.branch=km("branchName",void 0);this._register(PZ((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var Xv=class extends oa{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new zZ(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new lQ;this._register(XC(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=jv(),this._documentState.forEach(s=>s.applyAllEdits()))})),d1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new $Z(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(Jv(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(sa(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0&&(u.editCount===0&&l||(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0)))break}if(a.reverse(),!!a.some(c=>c.docId===r))return new sQ(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=jv()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}},$Z=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new pl(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=$v.fromEdit(t,this._currentValue),i=OT.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return cQ(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&M0t(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=jv(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:jv()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new pp(this._edits.map(s=>s.edit));return{history:new aQ(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=ts.empty,s=OT.empty,a,l=0,c=ts.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(jv()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();nQ(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=cQ(u.textLengthEdit.edits,P=>P.range.endLineNumber-P.range.startLineNumber+P.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||cQ(u.edit.edits,P=>P.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||cQ(u.edit.edits,P=>P.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let P=ts.trySwap(u.edit,c);if(P)c=P.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let x=u.edit.inverseOnString(n.value);n=n.apply(x);let v=u.edit.compose(i),b=Es.fromEdit(new Lu(n,v)),k=new hp(n,b).removeCommonSuffixPrefixLines().edit.edits.length;if(k>t)break;l=k,i=v,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new pp(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function cQ(e,t){let r=0;for(let n of e)r+=t(n);return r}o(cQ,"sum");function M0t(e,t){let r=t.getNewRanges();return e.edits.every(n=>O0t(n.range,r))}o(M0t,"editExtends");function O0t(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(O0t,"doesTouch");var zZ=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function dve(e,t,r){return e.get(YZ).safeStartIfApplicable(t,r)}o(dve,"startRecentEditsPromptFeatureIfApplicable");var YZ=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function U0t(e,t,r){return ai(e,qt.VSCodeRecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(U0t,"isRecentEditsActive");var mve=o((e,t)=>{let r=e.get(er);return U0t(e,r,t)},"recentEditsPredicate");function q0t(e,t,r=0){let n=[];for(let i of e.edits){let s=i.lineRange.startLineNumber-1,a=i.lineRange.endLineNumberExclusive-1,l=t.slice(s,a),c=i.newLines;if(l.filter(m=>m.trim().length>0).length===0&&c.filter(m=>m.trim().length>0).length===0)continue;let u=Math.max(0,s-r),f=Math.min(t.length,a+r);n.push(`@@ -${s+1},${l.length} +${s+1},${c.length} @@`);for(let m=u;m<s;m++)n.push(` ${t[m]}`);n.push(...l.map(m=>`-${m}`)),n.push(...c.map(m=>`+${m}`));for(let m=a;m<f;m++)n.push(` ${t[m]}`)}return n}o(q0t,"summarizeEditsAsUnifiedDiff");var hve=o((e,t)=>{let[r,n]=t.useState([]),[i,s]=t.useState();if(t.useData(Sc,async c=>{s(c.document);let u=c.telemetryData,f=e.ctx.get(er);await dve(e.ctx,u,f);let m=ai(e.ctx,qt.VSCodeRecentEditsEditCount)??f.recentEditsEditCount(u),h=ai(e.ctx,qt.VSCodeRecentEditsContextLines)??f.recentEditsContextLines(u),p=ai(e.ctx,qt.VSCodeRecentEditsMaxLinesBetweenEdits)??f.recentEditsMaxLinesBetweenEdits(u),A=e.ctx.get(Xv),E=e.ctx.get(zv),x=e.ctx.get(Wr),v=[];for(let b of x.getOpenTextDocuments()){E.onUserPositionChange(b.uri,new so(0,0));let k=A.getHistoryContext(HZ(b.uri),m,p)?.getDocument(HZ(b.uri)),P=k?.base.getLines();if(k&&P){let N=k.lastEdit,W=Es.fromEdit(N),te=b.uri===c.document?.uri?0:h,ge=q0t(W,P,te);if(ge.length>0){let re={value:ge.join(`
`),uri:b.uri};v.push(re)}}}n(v)}),!r||r.length===0||!i)return;let a=wa(i.clientLanguageId),l=h0("These are recently edited files in unified diff format:");for(let c of r)l+=h0(`File: ${c.uri}`),l+=h0(c.value);return l+=h0("End of recent edits"),l=Ta(l,a),qn(ia,{children:l})},"RecentEdits");d();d();d();d();var KZ=new Rn;function pve(e){return[...e].sort((t,r)=>{let n=KZ.get(t.uri.toString())??0;return(KZ.get(r.uri.toString())??0)-n})}o(pve,"sortByAccessTimes");var gve=o(e=>e.get(Wr).onDidFocusTextDocument(t=>{t&&KZ.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var uQ=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>gp.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&fQ(n,l.languageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(pve(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function dQ(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(dQ,"shortCircuit");d();function W0t(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(W0t,"defaultHash");function JZ(e,t={}){let{hash:r=W0t,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(JZ,"memoize");var Ave={entries:[],traits:[]},mQ={entries:new Map,traits:[]},XZ=class extends Rn{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},za=new Er("relatedFiles"),H0t=1e3,hQ=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},o4=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===null)return null;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{za.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){za.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){za.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){za.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Qo).readFileString(xo.parse(t))}catch(r){za.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Sa).evaluate(t,r)).isBlocked}catch(n){za.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},V0t=3,yve=new XZ(H0t);async function Cve(e,t,r,n,i){let s=Date.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){za.exception(e,c,".getRelatedFiles"),a=null}a===null&&(yve.bumpRetryCount(t.uri)>=V0t?a=mQ:a=null);let l=Date.now()-s;if(za.debug(e,a!==null?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===null)throw new hQ;return a}o(Cve,"getRelatedFiles");var ZZ=JZ(Cve,{cache:yve,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});ZZ=dQ(ZZ,200,mQ);async function Eve(e,t,r,n,i,s=!1){let a=e.get(o4),l=mQ;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await Cve(e,c,r,n,a):await ZZ(e,c,r,n,a)}catch(c){l=mQ,c instanceof hQ&&Xt(e,"getRelatedFilesList",r)}return $0t(e,l.traits,t,r),za.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(Eve,"getRelatedFilesAndTraits");var j0t=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function $0t(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=j0t.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return Xt(e,"related.traits",s)}}o($0t,"ReportTraitsTelemetry");function fQ(e,t){return wa(e)===wa(t)}o(fQ,"considerNeighborFile");var gp=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Wr);e.instance===void 0&&(e.instance=new uQ(c));let u=rct(t,n,i),f=ect(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return za.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=await c.getWorkspaceFolder(h);if(!p)return za.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let A=await Eve(t,h,i,s,a,l);if(A.entries.size===0)return za.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...A.traits),m;let E=u?e.defaultEmptyResult():m;return A.entries.forEach((x,v)=>{let b=[];x.forEach((S,k)=>{let P=e.getRelativePath(k,p.uri);if(!P||E.docs.has(k))return;let N={relativePath:P,uri:k,source:S};b.unshift(N),E.docs.set(k,N)}),b.length>0&&E.neighborSource.set(v,b.map(S=>S.uri.toString()))}),E.traits.push(...A.traits),E}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},z0t=["cpp","c"],Y0t=["typescript","javascript","typescriptreact","javascriptreact"],K0t=["csharp"];function J0t(e,t){return e.get(er).excludeOpenTabFilesCSharp(t)||ai(e,qt.ExcludeOpenTabFilesCSharp)}o(J0t,"isExcludeOpenTabFilesCSharpActive");function X0t(e,t){return e.get(er).excludeOpenTabFilesCpp(t)||ai(e,qt.ExcludeOpenTabFilesCpp)}o(X0t,"isExcludeOpenTabFilesCppActive");function Z0t(e,t){return e.get(er).excludeOpenTabFilesTypeScript(t)||ai(e,qt.ExcludeOpenTabFilesTypeScript)}o(Z0t,"isExcludeOpenTabFilesTypeScriptActive");function ect(e,t){return e.get(er).fallbackToOpenTabFilesWithNoRelatedFiles(t)||ai(e,qt.FallbackToOpenTabFilesWithNoRelatedFiles)}o(ect,"isFallbackToOpenTabFilesActive");var tct=new Map([...z0t.map(e=>[e,X0t]),...Y0t.map(e=>[e,Z0t]),...K0t.map(e=>[e,J0t])]);function rct(e,t,r){let n=tct.get(t);return n?n(e,r):!1}o(rct,"isExcludeOpenTabFilesActive");var xve=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]);t.useData(Sc,async c=>{c.document.uri!==r?.uri&&s([]),n(c.document);let u=c.turnOffSimilarFiles?gp.defaultEmptyResult():await gp.getNeighborFilesAndTraits(e.ctx,c.document.uri,c.document.detectedLanguageId,c.telemetryData,c.cancellationToken,c.data),f=await a(c.telemetryData,c.document,c,u);s(f)});async function a(c,u,f,m){let h=UT(e.ctx,c,u.detectedLanguageId);return(await l(h,c,u,f,m)).filter(A=>A.snippet.length>0).sort((A,E)=>A.score-E.score).map(A=>({text:bK(A,u.detectedLanguageId),score:A.score}))}o(a,"produceSimilarFiles");async function l(c,u,f,m,h){let p=c.similarFilesOptions||zF(e.ctx,u,f.detectedLanguageId),E=e.ctx.get(Wr).getRelativePath(f),x={uri:f.uri,source:f.getText(),offset:f.offsetAt(m.position),relativePath:E,languageId:f.detectedLanguageId};return await YP(x,Array.from(h.docs.values()),p)}return o(l,"findSimilarSnippets"),qn(a1,{children:i.map((c,u)=>qn(nct,{text:c.text}))})},"SimilarFiles"),nct=o((e,t)=>qn(ia,{children:e.text}),"SimilarFile");d();var bve=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Sc,a=>{a.traits!==r&&n(a.traits);let l=wa(a.document.clientLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return qn(a1,{children:[qn(ia,{children:Ta(`Consider this related information:
`,i)}),...r.map(a=>qn(ia,{source:a,children:Ta(`${a.name}: ${a.value}`,i)},a.id))]})},"Traits");d();d();var ict="CppCodeSnippetsEnabledFeatures",oct="CppCodeSnippetsTimeBudgetFactor",sct="CppCodeSnippetsMaxDistanceToCaret";function pQ(e,t,r){try{let n=e.get(er).cppCodeSnippetsFeatures(r);if(n){t.set(ict,n);let i=e.get(er).cppCodeSnippetsTimeBudgetFactor(r);i&&t.set(oct,i);let s=e.get(er).cppCodeSnippetsMaxDistanceToCaret(r);s&&t.set(sct,s)}}catch(n){return ei.debug(e,`Failed to get the active C++ Code Snippets experiments for the Context Provider API: ${n}`),!1}return!0}o(pQ,"fillInCppActiveExperiments");d();function ree(e){return e instanceof eee?!0:e instanceof Error&&e.name===tee&&e.message===tee}o(ree,"isCancellationError");var eee=class extends Error{static{o(this,"CancellationError")}constructor(){super(tee),this.name=this.message}},tee="Canceled";var vve=require("node:timers/promises"),Ive=ct(Ii());var Al=class{static{o(this,"ContextProviderRegistry")}},nee=class extends Al{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return ei.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;pQ(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,A])=>{let E={providerId:p.id,matchScore:A,resolution:"none",resolutionTimeMs:0,data:[]};l.push(E)}),u.length===0)return l;if(i?.isCancellationRequested)return ei.debug(this.ctx,"Resolving context providers cancelled"),[];let m=iC(this.ctx)&&!BD(this.ctx)?0:ai(this.ctx,qt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,A]of u){let E={completionId:wve(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},x=this.ctx.get(Ba).pop(p.id);x&&(E.previousUsageStatistics=x);let v=new Ive.CancellationTokenSource;i?.onCancellationRequested(G=>{v.cancel()});let b=performance.now(),S=p.resolver.resolve(E,v.token),[k,P]=await act(this.ctx,S,E,p,v),N=performance.now();this.ctx.get(Ba).setLastResolution(p.id,P);let[W,te]=HEe(k);te&&ei.error(this.ctx,`Dropped ${te} context items from ${p.id} due to invalid schema`);let ge=VEe(this.ctx,W),re={providerId:p.id,matchScore:A,resolution:P,resolutionTimeMs:N-b,data:ge};l.push(re)}return l.sort((p,A)=>A.matchScore-p.matchScore)}async matchProviders(r,n){let i=_ve(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},iee=class extends Al{constructor(r){super();this.delegate=r;this._cachedContextItems=new Rn(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=wve(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function Tve(e){return e>0?(0,vve.setTimeout)(e,null):new Promise(()=>{})}o(Tve,"nullTimeout");async function act(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await lct(e,t,r,n,i):[s,a]=await cct(e,t,r,n,i),[s,a]}o(act,"extractDataFromPendingContextItem");async function lct(e,t,r,n,i){let s=[],a,l=Tve(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),ei.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return ree(c)||ei.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(lct,"handlePromiseContextItem");async function cct(e,t,r,n,i){let s=[],a,l=Tve(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),ei.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return ree(u)||ei.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(cct,"handleAsyncIteratorContextItem");function gQ(e,t){return new iee(new nee(e,t))}o(gQ,"getContextProviderRegistry");function AQ(e,t){let r=e.get(Ba);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(E=>E.usage==="full"||E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0,A=f?.usageDetails!==void 0?f?.usageDetails.filter(E=>E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),A!==void 0&&(h.numPartiallyUsedItems=A),h})}o(AQ,"telemetrizeContextItems");function wve(e){return e.properties.headerRequestId}o(wve,"extractCompletionId");function yQ(e){return e.matchScore>0&&e.resolution!=="error"}o(yQ,"matchContextItems");function _ve(e,t){if(iC(e))return["*"];let r=e.get(er).contextProviders(t),n=ai(e,qt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(_ve,"getExpContextProviders");function Zv(e,t){return _ve(e,t).length>0}o(Zv,"useContextProviderAPI");d();async function CQ(e,t){let r=XF(t,"Trait");for(let i of r)uct(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(CQ,"getTraitsFromContextItems");function uct(e,t,r){let n=e.get(Ba);t.forEach(i=>{n.addPromptLibExpectations(r,[i.value]),n.addPromptComponentsExpectations(r,[[i,"included"]])})}o(uct,"setupExpectationsForTraits");function Sve(e){return e.map(t=>({...t,includeInPrompt:!0}))}o(Sve,"convertTraitsToRelatedFileTraits");function Bve(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o(Bve,"addKindToRelatedFileTrait");d();d();d();var EQ=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},xQ=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}},bQ=class{constructor(){this.effects=[];this.cleanupFunctions=[]}static{o(this,"UseEffect")}useEffect(t){this.effects.push(t)}async runEffects(){for(let t of this.effects){let r=await t();r&&this.cleanupFunctions.push(r)}this.effects=[]}async cleanup(){for(let t of this.cleanupFunctions)await t()}};var vQ=class{constructor(){this.lifecycleData=new Map}static{o(this,"VirtualPromptReconciler")}async initialize(t){this.vTree=await this.virtualizeElement(t,"$",0)}async reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=await this.reconcileNode(this.vTree,"$",0,t),this.vTree)}async reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);await t.lifecycle?.componentWillUnmount(),s=await this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=await this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}async virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(fct(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=await Promise.all(i.children.map((c,u)=>this.virtualizeElement(c,a,u)));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return await this.virtualizeFunctionComponent(r,n,t,t.type)}}async virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new see(this.getOrCreateLifecycleData(a));await l.componentWillMount();let c=await i(n.props,l);await l.componentDidMount();let u=Array.isArray(c)?c:[c],m=(await Promise.all(u.map((h,p)=>this.virtualizeElement(h,a,p)))).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new oee([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},oee=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},see=class{constructor(t){this.lifecycleData=t;this.effectHook=new bQ;this.stateHook=new EQ(t.state),this.dataHook=new xQ(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useEffect(t){this.effectHook.useEffect(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}async componentWillMount(){await this.effectHook.runEffects()}async componentDidMount(){await this.effectHook.runEffects()}async componentWillUnmount(){await this.effectHook.cleanup()}};function fct(e){return typeof e=="function"&&"isFragmentFunction"in e}o(fct,"isFragmentFunction");var IQ=class e{static{o(this,"VirtualPrompt")}static async create(t){let r=new e;return await r.initialize(t),r}constructor(){this.reconciler=new vQ}async initialize(t){await this.reconciler.initialize(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}async snapshot(t){try{let r=await this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var id=class{static{o(this,"CompletionsPromptFactory")}};function TQ(e,t){return new aee(new lee(new cee(e,t)))}o(TQ,"createCompletionsPromptFactory");var aee=class extends id{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n,i,s,a){return this.lastPromise=this.promptAsync(r,n,i,s,a),this.lastPromise}async promptAsync(r,n,i,s,a){if(await this.lastPromise,s?.isCancellationRequested)return qT;try{return await this.delegate.prompt(r,n,i,s,a)}catch{return mee}}},mct=1200,lee=class extends id{constructor(r){super();this.delegate=r;this.timeoutHandlingCreatePrompt=dQ(this.delegate.prompt.bind(this.delegate),mct,Dve)}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){return await this.timeoutHandlingCreatePrompt(r,n,i,s,a)}};function Sc(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Sc,"isCompletionRequestData");var cee=class extends id{constructor(r,n){super();this.ctx=r;this.renderer=new IL;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){try{return await this.createPromptUnsafe(r,n,i,s,a)}catch(l){return this.errorPrompt(l)}}async createPromptUnsafe(r,n,i,s,a={}){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=UT(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,s);if(f)return f;let{virtualPrompt:m,pipe:h}=await this.getOrCreateVirtualPrompt(this.ctx),p=performance.now(),{traits:A,codeSnippets:E,turnOffSimilarFiles:x,resolvedContextItems:v}=await this.resolveContext(r,n,i,s,a);await this.updateComponentData(h,r,n,A,E,i,x,l??EC,s,a,u);let b=await m.snapshot(s),S=b.status;if(S==="cancelled")return qT;if(S==="error")return this.errorPrompt(b.error);let k=await this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:So(),promptTokenLimit:l,suffixPercent:c,languageId:r.detectedLanguageId},s);if(k.status==="cancelled")return qT;if(k.status==="error")return this.errorPrompt(k.error);let[P,N]=s4(k.prefix),W;if(Zv(this.ctx,i)){let ge=MEe(k.metadata.componentStatistics);this.ctx.get(Ba).computeMatch(ge),W=AQ(this.ctx,v)}let te=performance.now();return this.resetIfEmpty(k),this.successPrompt(P,k,te,p,N,W)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(Zv(this.ctx,i)){l=await this.ctx.get(Al).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(yQ);!this.ctx.get(er).includeNeighboringFiles(i)&&h.length>0&&(f=!0),c=await CQ(this.ctx,h),u=await ZF(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return qT;if((await this.ctx.get(Sa).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return dee;if((i>0?r.getText().length:r.offsetAt(n))<uee)return fee}async getOrCreateVirtualPrompt(r){return this.virtualPrompt||(this.virtualPrompt=await IQ.create(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return qn(a1,{children:[qn(tbe,{ctx:this.ctx,weight:.7}),qn(bve,{weight:.6}),qn($Ee,{ctx:this.ctx,weight:.9}),qn(xve,{ctx:this.ctx,weight:.8}),qn(ebe,{ctx:this.ctx,by:mve,children:qn(hve,{ctx:this.ctx,weight:.99})}),qn(yT,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a,l){return{type:"prompt",prompt:{prefix:r,suffix:n.suffix,context:n.context,prefixWithoutContext:n.prefixWithoutContext,isFimEnabled:n.suffix.length>0,promptElementRanges:[]},computeTimeMs:i-s,trailingWs:a,promptChoices:new ev,promptBackground:new Zb,neighborSource:new Map,metadata:n.metadata,contextProvidersTelemetry:l}}errorPrompt(r){return Lo(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),mee}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};function kve(e,t){return e.get(er).promptComponentsEnabled(t)||ai(e,qt.EnablePromptComponents)?"components":"wishlist"}o(kve,"getPromptStrategy");function Rve(e){try{So()}catch(t){YF(e,t,"heatUpTokenizer")}}o(Rve,"tryHeatingUpTokenizer");var hee=require("node:perf_hooks");var uee=10,fee={type:"contextTooShort"},dee={type:"copilotContentExclusion"},mee={type:"promptError"},qT={type:"promptCancelled"},Dve={type:"promptTimeout"};async function hct(e,t,r,n,i,s,a,l,c,u,f,m,h={}){let p={uri:s.toString(),source:t,offset:r,relativePath:i,languageId:a},A=UT(e,f,a),E=[],x=new Map,v=new Map,b=[],S=[],k=[],P=[],N=!1;try{if(Zv(e,f)){S=await e.get(Al).resolveAllProviders({uri:s,languageId:l,version:c,offset:r,position:h.positionBeforeApplyingEdits??n,proposedEdits:u.length>0?u:void 0},f,m,h.data);let re=S.filter(yQ);!e.get(er).includeNeighboringFiles(f)&&re.length>0&&(N=!0),P=await CQ(e,re),k=await ZF(e,re,a)}let te=N?gp.defaultEmptyResult():await gp.getNeighborFilesAndTraits(e,s,a,f,m,h.data);x=te.docs,v=te.neighborSource,b=te.traits.concat(Sve(P)).filter(ge=>ge.includeInPrompt).map(Bve)}catch(te){Lo(e,te,"prompt.getPromptForSource.exception")}try{let te={currentFile:p,similarFiles:Array.from(x.values()),traits:b,tooltipSignature:h.selectedCompletionInfo?.tooltipSignature,options:new Q7(A,a),codeSnippets:eL(e,k)},re=await e.get(Cm).getSnippets(te),G=TK(re),q=wK(re),{runtimes:se,timeouts:ne}=_K(re);f.extendWithConfigProperties(e),f.sanitizeKeys();let H=As(f);x.size>0?Ob(e,"prompt.stat",{...H,neighborFilesTimeout:`${ne["similar-files"]}`},{neighborFilesRuntimeMs:se["similar-files"]}):Ob(e,"prompt.stat",{...H},{});for(let O of q)O.error instanceof r1||Lo(e,O.error,"getSnippets");E.push(...G)}catch(te){throw Lo(e,te,"prompt.orchestrator.getSnippets.exception"),te}let W;try{W=await np.getPrompt(p,A,E),Zv(e,f)&&(e.get(Ba).computeMatchWithPrompt(W.prefix+`
`+W.suffix),W.contextProvidersTelemetry=AQ(e,S))}catch(te){throw Lo(e,te,"prompt.getPromptForSource.exception"),te}return{neighborSource:v,...W}}o(hct,"getPromptForSource");function s4(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(s4,"trimLastLine");async function Pve(e,t,r,n,i,s,a,l,c,u,f,m,h={}){if((await e.get(Sa).evaluate(s,t,"UPDATE")).isBlocked)return dee;let p=e.get(er).suffixPercent(f);if((p>0?t.length:r)<uee)return fee;let E=hee.performance.now(),{prefix:x,suffix:v,prefixLength:b,suffixLength:S,promptChoices:k,promptBackground:P,promptElementRanges:N,neighborSource:W,contextProvidersTelemetry:te}=await hct(e,t,r,n,i,s,a,l,c,u,f,m,h),[ge,re]=s4(x),G=hee.performance.now();return{type:"prompt",prompt:{prefix:ge,suffix:v,prefixTokens:b,suffixTokens:S,isFimEnabled:p>0&&v.length>0,promptElementRanges:N.ranges},trailingWs:re,promptChoices:k,computeTimeMs:G-E,promptBackground:P,neighborSource:W,contextProvidersTelemetry:te}}o(Pve,"extractPromptForSource");async function Nve(e,t,r,n,i="wishlist",s,a={}){let l=e.get(Wr).getRelativePath(t);return i==="components"?(n.extendWithConfigProperties(e),n.sanitizeKeys(),e.get(id).prompt(t,r,n,s,a)):Pve(e,t.getText(),t.offsetAt(r),r,l,t.uri,t.detectedLanguageId,t.clientLanguageId,t.version,t.appliedEdits,n,s,a)}o(Nve,"extractPromptForDocument");function pct(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Ta(n,t)}o(pct,"addNeighboringCellsToPrompt");async function gct(e,t,r,n,i,s="wishlist",a,l={}){let c=r.getCellFor(t);if(c){let f=r.getCells().filter(A=>A.index<c.index&&fQ(c.document.detectedLanguageId,A.document.detectedLanguageId)),m=f.length>0?f.map(A=>pct(A,c.document.detectedLanguageId)).join(`

`)+`

`:"",h=m+t.getText(),p=m.length+t.offsetAt(n);if(s==="components"){i.extendWithConfigProperties(e),i.sanitizeKeys();let A=e.get(id),E=M0.create(t.uri,c.document.clientLanguageId,c.document.version,h,c.document.detectedLanguageId),x=E.positionAt(p);return A.prompt(E,x,i,a,l)}return Pve(e,h,p,n,void 0,t.uri,c.document.detectedLanguageId,c.document.clientLanguageId,c.document.version,c.document.appliedEdits,i,a,l)}else return Nve(e,t,n,i,s,a,l)}o(gct,"extractPromptForNotebook");function eI(e,t,r,n,i,s={}){let l=e.get(Wr).findNotebook(t),c=kve(e,n);return l===void 0?Nve(e,t,r,n,c,i,s):gct(e,t,l,r,n,c,i,s)}o(eI,"extractPrompt");function UT(e,t,r){let i=e.get(er).maxPromptCompletionTokens(t)-yF(e),s=LEe(t,r),a=zF(e,t,r),l=e.get(er).promptOrderListPreset(t),c=e.get(er).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(er).suffixPercent(t),m=e.get(er).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(UT,"getPromptOptions");d();d();var Fve=2.98410452738298,Lve=-.838732736843507,Qve=1.50314646255716,Mve=-.237798634012662,wQ={python:.314368072478742},Ove={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Act={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function yct(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(yct,"linearInterpolation");var tI=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},pee=class{constructor(t,r,n){this.link=Act;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return yct(n,this.logitsToQuantiles)}},Uve=new pee(Fve,[new tI("compCharLen",Lve,e=>Math.log(1+e)),new tI("meanLogProb",Qve),new tI("meanAlternativeLogProb",Mve)].concat(Object.entries(wQ).map(e=>new tI(e[0],e[1]))),Ove);function qve(e,t){let r={...t.measurements};return Object.keys(wQ).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),Uve.predict(e,r)}o(qve,"ghostTextScoreConfidence");function Gve(e,t){let r={...t.measurements};return Object.keys(wQ).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),Uve.quantile(e,r)}o(Gve,"ghostTextScoreQuantile");d();d();var Cct=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function _Q(e){let t=e.slice();return t.reverse(),Wve(t)||Wve(t.filter(r=>r.trim().length>0))}o(_Q,"isRepetitive");function Wve(e){let t=Ect(e);for(let r of Cct){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(Wve,"isRepeatedPattern");function Ect(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(Ect,"kmp_prefix_function");function xct(e,t,r,n){let i="}";try{i=np.getBlockCloseToken(t.languageId)??"}"}catch{}return bct({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(xct,"maybeSnipCompletion");function bct(e,t,r,n){let i=vct(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let E=t.line+1+f+c;if(m=E>=e.getLineCount()?void 0:e.getLineText(E),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let A=h===s.length-1;if(!p||!(m&&(A?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(bct,"maybeSnipCompletionImpl");function vct(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(vct,"splitByNewLine");function Ict(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(Ict,"matchesNextLine");async function SQ(e,t,r,n,i,s){if(_Q(n.tokens)){let l=tn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Xt(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Ict(t,r,a.completionText,!i)){let l=tn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Xt(e,"completion.alreadyInDocument",l),Xt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=xct(e,t,r,a.completionText),a.completionText?a:void 0}o(SQ,"postProcessChoiceInContext");function Hve(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(Hve,"checkSuffix");var Vve=ct(I2());var eo=new Er("ghostText");async function jve(e,t,r,n,i,s,a){eo.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=await Bct(e,t,r),c=Av(e,l),u={stream:!0,n:l,temperature:c,extra:{language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:vye(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0}};t.multiline||(u.stop=[`
`]);let f=Date.now(),m={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(u.logit_bias??null)};Object.assign(r.properties,m);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineUrl:t.engineURL,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers},p=await e.get(Kf).fetchAndStreamCompletions(e,h,r,i,n);return p.type==="failed"?{type:"failed",reason:p.reason,telemetryData:As(r)}:p.type==="canceled"?(eo.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:p.reason,telemetryData:Jf(r)}):a(l,f,p.getProcessingTime(),p.choices)}catch(h){if(ou(h))return{type:"canceled",reason:"network request aborted",telemetryData:Jf(r,{cancelledNetworkRequest:!0})};if(eo.exception(e,h,"Error on ghost text request"),e.get(xc).notifyUser(e,h),_b(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:As(r)}}}o(jve,"genericGetCompletionsFromNetwork");function gee(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(gee,"postProcessChoices");async function _ct(e,t,r,n,i){return jve(e,t,r,n,i,"completions",async(s,a,l,c)=>{let f=await c[Symbol.asyncIterator]().next();if(f.done)return eo.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:As(r)};if(n?.isCancellationRequested)return eo.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:Jf(r)};let m=f.value;if(m===void 0)return eo.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:As(r)};zve(e,"performance",m,a,l),eo.debug(e,`Awaited first result, id:  ${m.choiceIndex}`);let h=gee(m,t);h&&(Aee(e,t,{multiline:t.multiline,choices:[h]}),eo.debug(e,`GhostText first completion (index ${h?.choiceIndex}): ${JSON.stringify(h?.completionText)}`));let p=(async()=>{let A=h!==void 0?[h]:[];for await(let E of c){if(E===void 0)continue;eo.debug(e,`GhostText later completion (index ${E?.choiceIndex}): ${JSON.stringify(E.completionText)}`);let x=gee(E,t,A);x&&(A.push(x),Aee(e,t,{multiline:t.multiline,choices:[x]}))}})();return fm(e)&&await p,h?{type:"success",value:[yee(h,{forceSingleLine:!1}),p],telemetryData:As(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:As(r)}})}o(_ct,"getCompletionsFromNetwork");async function Sct(e,t,r,n,i){return jve(e,t,r,n,i,"all completions",async(s,a,l,c)=>{let u=[];for await(let f of c){if(n?.isCancellationRequested)return eo.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:Jf(r)};let m=gee(f,t,u);m&&u.push(m)}return u.length>0&&(Aee(e,t,{multiline:t.multiline,choices:u}),zve(e,"cyclingPerformance",u[0],a,l)),{type:"success",value:[u,Promise.resolve()],telemetryData:As(r),telemetryBlob:r,resultType:3}})}o(Sct,"getAllCompletionsFromNetwork");function yee(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r;n?.[0]===`
`?r.completionText=`
`+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(yee,"makeGhostAPIChoice");async function Bct(e,t,r){let n=e.get(er).overrideNumGhostCompletions(r);return n?t.isCycling?Math.max(3,n):n:bye(t.blockMode)&&t.multiline?3:t.isCycling?2:1}o(Bct,"getNumGhostCompletions");async function kct(e,t,r,n,i,s,a,l,c){let u=await e.get(Em).forLanguage(e,t.languageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,isCyclingRequest:i,finishedCb:o(async f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f=await Uct(e,u,t,r,s,a,l,n);if(f.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=oo.position(r.line,Math.max(r.character-n.trailingWs.length,0)):m=r,{blockMode:u,requestMultiline:!0,isCyclingRequest:!1,finishedCb:Rct(e,u,t,m,f.blockPosition)}}return{blockMode:u,requestMultiline:!1,isCyclingRequest:i,finishedCb:o(async m=>{},"finishedCb")}}}}o(kct,"getGhostTextStrategy");function Rct(e,t,r,n,i){if(t==="moremultiline"&&h5.isSupported(r.languageId)){let s=r.getText(oo.range(oo.position(0,0),n));if(ai(e,qt.TrimCompletionsAggressively)){let a=3;return(i==="empty-block"||i==="block-end")&&(a=7),async function(l){return await new vF(r.languageId,s,l,3,a).getCompletionTrimOffset()}}else return async function(a){return await new bF(r.languageId,s,a).getCompletionTrimOffset()}}return dT(e,r,n)}o(Rct,"multilineFinishedCallback");var Dct=new EF,Pct={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function Nct(e,t,r,n,i,s,a){let l={...Pct,...a},c=e.get(od),u=c.clientCompletionId,f=e.get(er);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:As(i)};let m=Lct(t,r);if(m===void 0)return eo.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:As(i)};let h=e.get(Im).isEnabled(i)?e.get(Im):void 0,p=s,A=new si.CancellationTokenSource;h&&(s=A.token);let E=await eI(e,t,r,i,s,l);return E.type==="copilotContentExclusion"?(eo.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:As(i)}):E.type==="contextTooShort"?(eo.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:As(i)}):E.type==="promptError"?(eo.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:As(i)}):l.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:E}:E.type==="promptCancelled"?(eo.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:As(i)}):E.type==="promptTimeout"?(eo.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:As(i)}):E.prompt.prefix.length===0&&E.prompt.suffix.length===0?(eo.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:As(i)}):s?.isCancellationRequested?(eo.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:As(i)}):e.get(Yi).withProgress(async()=>{let[v]=s4(t.getText(oo.range(oo.position(0,0),r))),b=f.triggerCompletionAfterAccept(i),S=e.get(od).hasAcceptedCurrentCompletion(v,E.prompt.suffix),k=b?S:void 0,P=E.prompt;k&&(E.prompt={...E.prompt,prefix:E.prompt.prefix+`
`,prefixWithoutContext:E.prompt.prefixWithoutContext+`
`});let N=await kct(e,t,r,E,l.isCycling,m,S,k??!1,i);if(s?.isCancellationRequested)return eo.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:As(i)};let W=Fct(e,v,P,N.requestMultiline),te=X2(e,t.uri),ge=J2(e,i),re={blockMode:N.blockMode,languageId:t.languageId,repoInfo:te,engineURL:ge.url,ourRequestId:n,prefix:v,prompt:E.prompt,multiline:N.requestMultiline,indentation:mT(t,r),isCycling:l.isCycling,headers:ge.headers,requestForNextLine:k},G=$ct(e,t,re,r,E,i,ge),q=ai(e,qt.EnableSpeculativeRequests),se=f.enableSpeculativeRequests(i),ne=(q||se)&&!l.isSpeculative&&!N.isCyclingRequest,H=Promise.resolve();if(h&&W===void 0&&!N.isCyclingRequest&&h.shouldWaitForAsyncCompletions(v,E.prompt)){let ae=await h.getFirstMatchingRequestWithTimeout(n,v,E.prompt,l.isSpeculative,G);if(ae){let ce=!N.requestMultiline;W=[[yee(ae[0],{forceSingleLine:ce})],4],H=ae[1]}if(p?.isCancellationRequested)return eo.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:As(G)}}if(W!==void 0&&(!N.isCyclingRequest||W[0].length>1))eo.debug(e,`Found inline suggestions locally via ${sT(W[1])}`);else if(N.isCyclingRequest){let ae=await Sct(e,re,G,s,N.finishedCb);if(ae.type==="success"){let ce=W?.[0]??[];ae.value[0].forEach(Re=>{ce.findIndex(ve=>ve.completionText.trim()===Re.completionText.trim())===-1&&ce.push(Re)}),W=[ce,3]}else if(W===void 0)return ae}else{let ce=f.debounceThreshold(i)??(ge.modelId.startsWith("gpt-4o")||ge.modelId.startsWith("chat-")?0:75);if(!(h!==void 0||re.requestForNextLine===!0||ce===0)){try{await Dct.debounce(ce)}catch{return{type:"canceled",reason:"by debouncer",telemetryData:Jf(G)}}if(s?.isCancellationRequested)return eo.debug(e,"Cancelled during debounce"),{type:"canceled",reason:"during debounce",telemetryData:Jf(G)}}if(s?.isCancellationRequested)return eo.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:Jf(G)};if(!f.disableContextualFilter(i)&&G.measurements.contextualFilterScore<35/100)return eo.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:Jf(G)};let ve=h?(Be,Je)=>(h.updateCompletion(n,Be),N.finishedCb(Be,Je)):N.finishedCb,Ue=_ct(e,re,G,s,ve);if(h){h.queueCompletionRequest(n,v,E.prompt,A,Ue);let Be=await h.getFirstMatchingRequest(n,v,E.prompt,l.isSpeculative);if(Be===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:As(G)};W=[[Be[0]],4],H=Be[1]}else{let Be=await Ue;if(Be.type!=="success")return Be;W=[[Be.value[0]],0],H=Be.value[1]}}if(W===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:As(G)};let[O,j]=W,J=OC(_Ce(O),async ae=>SQ(e,t,r,ae,N.blockMode==="moremultiline"&&h5.isSupported(t.languageId),eo)),le=[],Z=[];for await(let ae of J){if(le.push(ae),p?.isCancellationRequested)return eo.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:Jf(G)};let ce=jct(e,t,re,ae,G),Re=m?Hve(t,r,ae):0,Ue={completion:Gct(ae.choiceIndex,ae.completionText,E.trailingWs),telemetry:ce,isMiddleOfTheLine:m,suffixCoverage:Re,copilotAnnotations:ae.copilotAnnotations};Z.push(Ue)}if(G.properties.clientCompletionId=Z?.[0]?.telemetry?.properties.clientCompletionId,G.measurements.foundOffset=Z?.[0]?.telemetry?.measurements?.foundOffset??-1,eo.debug(e,`Produced ${Z.length} results from ${sT(j)} at ${G.measurements.foundOffset} offset`),ne&&Z.length>0){let ae=PF(t,r,[{newText:Z[0].completion.completionText,range:{start:r,end:r}}]),ce=new si.CancellationTokenSource().token;H.then(()=>{Cee(e,ae.textDocument,ae.position,ce,{positionBeforeApplyingEdits:l.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:l.opportunityId})})}if(u!==c.clientCompletionId){let ae=c.getCompletionsForUserTyping(v,E.prompt.suffix);if(ae&&ae.length>0)return eo.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:Jf(G)}}return l.isSpeculative||c.setGhostText(v,E.prompt.suffix,le,j),{type:"success",value:[Z,j],telemetryData:As(G),telemetryBlob:G,resultType:j}})}o(Nct,"getGhostTextWithoutAbortHandling");async function Cee(e,t,r,n,i){let s=Sr(),a=await Vct(e,t,s,i);try{return await Nct(e,t,r,s,a,n,i)}catch(l){if(ou(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:Jf(a,{cancelledNetworkRequest:!0})};throw l}}o(Cee,"getGhostText");function Fct(e,t,r,n){let i=e.get(od).getCompletionsForUserTyping(t,r.suffix),s=Hct(e,t,r,n);if(i&&i.length>0){let a=(s??[]).filter(l=>!i.some(c=>c.completionText===l.completionText));return[i.concat(a),2]}if(s&&s.length>0)return[s,1]}o(Fct,"getLocalInlineSuggestion");function Lct(e,t){let r=Qct(t,e),n=Mct(t,e);return r&&!n?void 0:r&&n}o(Lct,"isInlineSuggestion");function Qct(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(Qct,"isMiddleOfTheLine");function Mct(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(Mct,"isValidMiddleOfTheLinePosition");function Oct(e,t){return t.lineAt(e).text.trim().length===0}o(Oct,"isNewLine");var E1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function Uct(e,t,r,n,i,s,a,l){if(e.get(E1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Xt(e,"ghostText.longFileMultilineSkip",tn.createAndMarkAsIssued({languageId:r.languageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&h5.isSupported(r.languageId)){let f=await MCe(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=mT(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=r.applyEdits([h])}if(["typescript","typescriptreact"].includes(r.languageId)&&Oct(n,r))return{requestMultiline:!0};let u=!1;return!i&&Iu(r.languageId)?u=await FF(r,n):i&&Iu(r.languageId)&&(u=await FF(r,n)||await FF(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.languageId)&&(u=GCe(l.prompt,r.languageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(Uct,"shouldRequestMultiline");function Aee(e,t,r){let n={...t.prompt};t.requestForNextLine&&(n.prefix=n.prefix.slice(0,-1));let i=KV(n),s=e.get(Ru).get(i);s&&s.multiline===r.multiline?e.get(Ru).set(i,{multiline:s.multiline,choices:s.choices.concat(r.choices)}):e.get(Ru).set(i,r),eo.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${i}, multiline: ${r.multiline}, total number of suggestions: ${(s?.choices.length??0)+r.choices.length}`)}o(Aee,"appendToCache");function qct(e,t,r){let n=e.get(Ru).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(qct,"getCachedChoices");function Gct(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(Gct,"adjustLeadingWhitespace");var Wct=50;function Hct(e,t,r,n){for(let i=0;i<Wct;i++){let s=[],a=r.prefix.substring(0,r.prefix.length-i),l=KV({prefix:a,suffix:r.suffix}),c=qct(e,l,n);if(!c)continue;eo.debug(e,`Got completions from cache at ${i} characters back for key: ${l}, multiline: ${n}`);let u=r.prefix.substring(a.length);for(let f of c){let m=f.completionText;if(!m.startsWith(u)||m.length<=u.length)continue;m=m.substring(u.length);let h=yee({...f,completionText:m},{forceSingleLine:!n});h.telemetryData.measurements.foundOffset=i,h.completionText!==""&&s.push(h)}if(eo.debug(e,`Found ${s.length} matching completions from cache at ${i} characters back`),s.length>0)return s}return[]}o(Hct,"getCompletionsFromCache");async function Vct(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=tn.createAndMarkAsIssued(i);return await e.get(er).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(Vct,"createTelemetryWithExp");function jct(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId},l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,$ve(u,t),u.extendWithRequestId(s),u.measurements.confidence=qve(e,u),u.measurements.quantile=Gve(e,u),eo.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(jct,"telemetryWithAddData");function $ct(e,t,r,n,i,s,a){let l={languageId:t.languageId};r.requestForNextLine!==void 0&&(l.requestForNextLine=r.requestForNextLine.toString());let c=s.extendedBy(l);$ve(c,t);let u=r.repoInfo;c.properties.gitRepoInformation=u===void 0?"unavailable":u===0?"pending":"available",u!==void 0&&u!==0&&(c.properties.gitRepoUrl=u.url,c.properties.gitRepoHost=u.hostname,c.properties.gitRepoOwner=u.owner,c.properties.gitRepoName=u.repo,c.properties.gitRepoPath=u.pathname),c.properties.engineName=a.modelId,c.properties.engineChoiceSource=a.engineChoiceSource,c.properties.isMultiline=JSON.stringify(r.multiline),c.properties.isCycling=JSON.stringify(r.isCycling);let f=t.lineAt(n.line),m=t.getText(oo.range(f.range.start,n)),h=t.getText(oo.range(n,f.range.end)),p=Array.from(i.neighborSource.entries()).map(v=>[v[0],v[1].map(b=>(0,Vve.SHA256)(b).toString())]),A={beforeCursorWhitespace:JSON.stringify(m.trim()===""),afterCursorWhitespace:JSON.stringify(h.trim()===""),promptChoices:JSON.stringify(i.promptChoices,(v,b)=>b instanceof Map?Array.from(b.entries()).reduce((S,[k,P])=>({...S,[k]:P}),{}):b),promptBackground:JSON.stringify(i.promptBackground,(v,b)=>b instanceof Map?Array.from(b.values()):b),neighborSource:JSON.stringify(p),blockMode:r.blockMode},E={...Mb(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(A.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(A.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let x=c.extendedBy(A,E);return x.measurements.contextualFilterScore=QCe(e,x,i.prompt),Xt(e,"ghostText.issued",x),c}o($ct,"telemetryIssued");function $ve(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o($ve,"addDocumentTelemetry");function zve(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Xt(e,`ghostText.${t}`,l)}o(zve,"telemetryPerformance");var od=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&Yve(this.choices[0].completionText,n))return zct(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);return n===void 0?!1:n===this.choices?.[0].completionText}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function zct(e,t){return e.filter(r=>Yve(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(zct,"adjustChoicesStart");function Yve(e,t){return e.startsWith(t)&&e.length>t.length}o(Yve,"startsWithAndExceeds");d();d();d();var a4=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Wr);this._tracker=i.onDidChangeTextDocument(async s=>{if(s.document.uri.toString()===r.toString()){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function Eee(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],A=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,A),n[m]===A?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(Eee,"editDistance");function Yct(){return new Map}o(Yct,"emptyLexDictionary");function Kct(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(Kct,"reverseLexDictionary");function*Jct(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(Jct,"lexGeneratorWords");function Kve(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(Kve,"lexicalAnalyzer");function Jve(e){return e!==" "}o(Jve,"notSingleSpace");function Xve(e,t,r=Jct){let[n,i]=Kve(e,Yct(),r,Jve),[s,a]=Kve(t,i,r,Jve);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=Kct(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(E,x,v,b){if(b===0||b===c-1){let S=l[n[v][0]];return b==0&&S.endsWith(u)||b==c-1&&S.startsWith(f)?0:1}else return E===x?0:1}o(m,"compare");let h=Eee(n.map(E=>E[0]),s.map(E=>E[0]),m),p=n[h.startOffset][1],A=h.endOffset<n.length?n[h.endOffset][1]:e.length;return A>0&&e[A-1]===" "&&--A,{lexDistance:h.distance,startOffset:p,endOffset:A,haystackLexLength:n.length,needleLexLength:s.length}}o(Xve,"lexEditDistance");d();function Zve(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(Zve,"computeCompCharLen");function eIe(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(eIe,"computeCompletionText");function tIe(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(tIe,"computePartialLength");var N5=new Er("postInsertion"),rIe=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],nIe=50,Xct=1500,Zct=.5,eut=500,xee={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function iIe(e,t,r,n,i){let s=await e.get(Wr).getTextDocument({uri:t});if(!s)return N5.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1,promptElementRanges:[]},capturedCode:"",terminationOffset:0};let a=s.getText(),l=a.substring(0,n),c=s.positionAt(n),u=await eI(e,s,c,r),f=u.type==="prompt"?u.prompt:{prefix:l,suffix:"",isFimEnabled:!1,promptElementRanges:[]};if(f.isFimEnabled&&i!==void 0){let m=a.substring(n,i);return f.suffix=a.substring(i),{prompt:f,capturedCode:m,terminationOffset:0}}else{let m=a.substring(n),h=fX(l,n,s.languageId),A=await eEe(h,void 0)(m),E=Math.min(a.length,n+(A?A*2:eut)),x=a.substring(n,E);return{prompt:f,capturedCode:x,terminationOffset:A??-1}}}o(iIe,"captureCode");function BQ(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{N5.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),HCe(e,t,u)});let s=new a4(e,n,r-1),a=new a4(e,n,r),l=o(async c=>{N5.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await iIe(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let A=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});N5.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,A),Xt(e,t+".capturedAfterRejected",A,1)},"checkInCode");rIe.filter(c=>c.captureRejection).map(c=>s.push(pu(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(BQ,"postRejectionTasks");function l4(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:Zve(a,r)});N5.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),WCe(e,t,c);let u=r;r=eIe(r,a);let f=r.trim(),m=new a4(e,i,n),h=new a4(e,i,n+r.length),p=o(async A=>{await iut(e,t,f,n,i,A,c,m,h)},"stillInCodeCheck");if(xee.triggerPostInsertionSynchroneously&&fm(e)){let A=p({seconds:0,captureCode:xee.captureCode,captureRejection:xee.captureRejection});e.get(yo).register(A)}else rIe.map(A=>m.push(pu(e,()=>p(A),"postInsertionTasks"),A.seconds*1e3));pu(e,tut,"post insertion citation check")(e,i,u,r,n,l)}o(l4,"postInsertionTasks");async function tut(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Wr).getTextDocument({uri:t});if(a){let l=bee(a.getText(),n,nIe,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=rut(r.length,n.length,l.start_offset);if(c===void 0){N5.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+nut(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(Bu).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(tut,"citationCheck");function rut(e,t,r){if(!(t<e&&r>t))return r}o(rut,"computeCitationStart");function nut(e,t,r){return t<e?Math.min(r,t):r}o(nut,"computeCitationEnd");function bee(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=Xve(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=Eee(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Zct?1:0}}o(bee,"find");async function iut(e,t,r,n,i,s,a,l,c){let u=await e.get(Wr).getTextDocument({uri:i});if(u){let f=u.getText(),m=bee(f,r,nIe,l.offset);m.stillInCodeHeuristic||(m=bee(f,r,Xct,l.offset)),N5.debug(e,`stillInCode: ${m.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${m.relativeLexEditDistance}. Char edit distance was ${m.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${m.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let h=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},m);if(Xt(e,t+".stillInCode",h),s.captureCode){let{prompt:p,capturedCode:A,terminationOffset:E}=await iIe(e,i,h,l.offset,c.offset),x;p.isFimEnabled?x={hypotheticalPromptPrefixJson:JSON.stringify(p.prefix),hypotheticalPromptSuffixJson:JSON.stringify(p.suffix)}:x={hypotheticalPromptJson:JSON.stringify(p.prefix)};let v=a.extendedBy({...x,capturedCodeJson:JSON.stringify(A)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:E});N5.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,h),Xt(e,t+".capturedAfterAccepted",v,1)}}}o(iut,"checkStillInCode");var vee=new Er("ghostText"),q0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function sut(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(sut,"computeRejectedCompletions");function Iee(e,t){let r=e.get(q0);if(!r.position||!r.uri)return;let n=sut(r);n.length>0&&BQ(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(Iee,"rejectLastShown");function oIe(e,t,r,n){let i=e.get(q0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&Iee(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(oIe,"setLastShown");function sIe(e,t){let r=e.get(q0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;vee.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,wF(e,"ghostText",t)}}o(sIe,"handleGhostTextShown");function kQ(e,t){let r=e.get(q0);r.resetState(),vee.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),l4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(kQ,"handleGhostTextPostInsert");function aIe(e,t,r,n=0){let i=e.get(q0);r===t.insertText.length&&i.resetState(),vee.debug(e,"Ghost text partial post insert");let s=tIe(t,r,n);if(s)return i.partiallyAcceptedLength=r,l4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(aIe,"handlePartialGhostTextPostInsert");d();d();var lIe=ct(require("node:util"));function cIe(e,...t){return`[${e}] ${aut(t)}`}o(cIe,"formatLogMessage");function aut(e){return lIe.default.formatWithOptions({maxStringLength:1/0},...e)}o(aut,"format");function RQ(e){return hAe(e)}o(RQ,"verboseLogging");var DQ=class extends ba{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||RQ(r))&&this.console.warn(`[${i}]`,...s)}};d();var rI=class extends zh{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){cC(t,"log",tn.createAndMarkAsIssued({context:r,level:aC[1],message:lut(...n)}),1)}sendException(t,r,n){Lo(t,r,n)}};function lut(...e){return e.length>0?JSON.stringify(e):"no msg"}o(lut,"telemetryMessage");d();var Ike=ct(require("crypto")),Tke=ct(require("fs")),wke=ct(bke()),_ke=require("tls"),Ske=ct(vke());var f8=new Er("certificates"),Na=class{static{o(this,"RootCertificateReader")}};function cU(e,t=process.platform){return new Yie(e,[new Kie,new Jie,cbt(e,t)])}o(cU,"getRootCertificateReader");function cbt(e,t){switch(t){case"linux":return new Xie(e);case"darwin":return new Zie(e);case"win32":return new eoe(e);default:return new toe}}o(cbt,"createPlatformReader");var zie=class extends Na{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return f8.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Yie=class extends Na{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new zie(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new Ike.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return f8.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&f8.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},Kie=class extends Na{static{o(this,"NodeTlsRootCertificateReader")}async getAllRootCAs(){return _ke.rootCertificates}},Jie=class extends Na{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await Bke(t):[]}},Xie=class extends Na{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await Bke(n);f8.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},Zie=class extends Na{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}async getAllRootCAs(){let r=wke.get();return f8.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},eoe=class extends Na{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}async getAllRootCAs(){let r=Ske.all();return f8.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},toe=class extends Na{static{o(this,"UnsupportedPlatformRootCertificateReader")}async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};async function Bke(e){try{let n=(await Tke.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(Bke,"readCertsFromFile");d();var Vke=ct(require("http"));var Qbt=407,Yl=new Er("proxySocketFactory"),Mp=class{static{o(this,"ProxySocketFactory")}},q4=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function fU(e){return new ooe(e,new soe(e))}o(fU,"getProxySocketFactory");var ooe=class extends Mp{constructor(r,n,i=new a_,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new Rn(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Yl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof q4&&i.code===`ProxyStatusCode${Qbt}`){Yl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return Yl.debug(this.ctx,"Proxy authorization successful, caching result"),Xt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(Yl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(Yl.debug(this.ctx,"Proxy authorization successful, received token"),i)return Yl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){Yl.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);Yl.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);Yl.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return Yl.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Yl.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return Yl.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},soe=class extends Mp{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{Yl.debug(this.ctx,"Attempting to establish connection to proxy");let l=Vke.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{Yl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new q4(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new q4(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Yl.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{Yl.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new q4(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{Yl.debug(this.ctx,"Proxy socket connection timeout"),a(new q4(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},a_=class{static{o(this,"KerberosLoader")}load(){return Hke()}};d();var Yke=require("node:os");var Mbt=new Er("repository"),G4="\\\\",Kke="(?:[#;].*)",h8=`(?:[^"${G4}]|${G4}.)`,Obt="[0-9A-Za-z-]",jke=`[A-Za-z]${Obt}*`,Jke=`\\s*${Kke}?$`,Xke=`(?:[^"${G4};#]|${G4}.)`,Ubt=`(?:"${h8}*"|"${h8}*(?<strCont>${G4})$)`,qbt=`(?:${Xke}|${Ubt})+`,Gbt=`(?:(?<cont>${G4})$)`,Zke=`(?<value>${qbt})${Gbt}?${Jke}`,$ke=new RegExp(`^${Zke}`),Wbt=new RegExp(`^(?<value>${h8}*(?:(?<strCont>${G4})$|(?<quote>")))`),Hbt=new RegExp(`^\\s*(?:(?<key>${jke})\\s*=\\s*${Zke}|(?<soloKey>${jke})${Jke})`),Vbt=new RegExp(`(?<value>${Xke}+)|"(?<string>${h8}*)"`,"g"),zke="[-.0-9A-Za-z]+",jbt=`\\s+"(?<ext>${h8}*)"`,$bt=`\\s+"(?<extOnly>${h8}*)"`,zbt=new RegExp(`^\\s*\\[(?:(?<simple>${zke})${jbt}|${$bt}|(?<simpleOnly>${zke}))\\]`),Ybt=new RegExp(`^\\s*${Kke}$`),aoe=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(zbt);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(Hbt);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Wbt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match($ke),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match($ke),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(Vbt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Ybt.test(this.line)&&(this.line="")}},dU=class extends ip{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await s1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new vv)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new aoe(i),a=new vv;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Qo).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&Mbt.warn(t,`Failed to load git config from ${r.toString()}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=ks(this.xdgConfigUri(),"git","config"),s=ks(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Qs(r).toLowerCase()!=="config.worktree")return;let n=gu(r),i=ks(n,"commondir");try{let s=(await t.get(Qo).readFileString(i)).trimEnd();return ks(sC(n,s),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?xo.file(process.env.XDG_CONFIG_HOME):ks(this.homeUri(),".config")}homeUri(){return xo.file((0,Yke.homedir)())}};d();var tRe=ct(require("node:events"));var eRe="onWorkspaceChanged",zu=class{constructor(){this.emitter=new tRe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(eRe,t)}emit(t){this.emitter.emit(eRe,t)}};function rRe(e){let t=new pv;return t.set(ep,e),t.set(Lh,new Lh),t.set(io,new io),Kbt(t),t.set(Ru,new Ru),t.set(Vh,new Vh),t.set(Na,cU(t)),t.set(Mp,fU(t)),t.set(er,new er(t)),t.set($h,new $h),t.set(Ml,new Ml(t)),t.set(ps,new ps),t.set(yu,new yu),t.set(xc,new xc),t.set(Du,new Du),t.set(Kf,new tT),t.set(Em,new rv),t.set(Qf,new Ub),t.set(yo,new yo),t.set(id,TQ(t)),t.set(Cm,new Cm),t.set(q0,new q0),t.set(od,new od),t.set(E1,E1.default),t.set(s1,new s1(t)),t.set(ip,new OF([new MF,new dU])),t.set(zu,new zu),t.set(Uf,new Uf(t)),t.set(Ms,new Ms),t.set(Im,new Im(t)),t.set(GC,new GC(t)),t}o(rRe,"createProductionContext");function Kbt(e){e.set(Nf,Nf.fromEnvironment(!1)),e.set(zh,new rI),e.set(ba,new DQ(console))}o(Kbt,"setupRudimentaryLogging");var YGr=new Er("context");d();d();var _n=new Er("chat");d();d();d();async function Ka(e,t,r,n){let i=tn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(er).updateExPValuesAndAssignments(n,i)}o(Ka,"createTelemetryWithExpWithId");function l_(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(Jbt(l))),a=a.extendedBy(u,f),a}o(l_,"extendUserMessageTelemetryData");function Jbt(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(Jbt,"mapSkillResolutionsForTelemetry");function nRe(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),mU(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(nRe,"createUserMessageTelemetryData");function iRe(e,t,r,n,i,s,a,l){let c=Zbt(n);return mU(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o(iRe,"createModelMessageTelemetryData");function oRe(e,t,r,n,i,s,a){mU(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(oRe,"createOffTopicMessageTelemetryData");function sRe(e,t,r,n,i,s,a,l,c){let u=mU(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return Xbt(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(sRe,"createSuggestionMessageTelemetryData");var aRe={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function lRe(e,t,r){let n=await Ka(e.ctx,e.turn.id,e.conversation.id),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";Yu(e.ctx,void 0,{conversationId:e.conversation.id,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.id,provider:t,uiKind:i},r,"index.codesearch",n)}o(lRe,"telemetryIndexCodesearch");function mU(e,t,r,n,i,s,a){let l=a??tn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=Sr();i.messageId=h,c.messageId=h}t&&(i.languageId=t.languageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=Wc(r);return Xt(e,`${m}.message`,u),Xt(e,`${m}.messageText`,f,1),u}o(mU,"telemetryMessage");function cRe(e,t,r,n){Yu(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(cRe,"createSuggestionShownTelemetryData");function Xbt(e,t,r,n,i,s,a,l){Yu(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o(Xbt,"createSuggestionSelectedTelemetryData");function Yu(e,t,r,n,i,s){let a=s??tn.createAndMarkAsIssued();t&&(r.languageId=t.languageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return Xt(e,i,l),l}o(Yu,"telemetryUserAction");function hU(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Xt(e,"engine.messages",n,1)}o(hU,"logEngineMessages");function Wc(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(Wc,"telemetryPrefixForUiKind");function Zbt(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(Zbt,"getCodeBlocks");function uRe(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(uRe,"uiKindToIntent");function dy(e){return e==="inline"?"conversationInline":"conversationPanel"}o(dy,"conversationSourceToUiKind");var Kl=(i=>(i.System="system",i.User="user",i.Assistant="assistant",i.Function="function",i))(Kl||{});function nn(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(nn,"getTextPart");var fRe=o((e,t)=>T.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),dRe=T.Optional(T.Object({agentSlug:T.String(),state:T.Union([T.Literal("accepted"),T.Literal("dismissed")]),confirmation:T.Any()}));function mRe(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),hU(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o(mRe,"convertToChatCompletion");d();var loe=new Er("streamMessages");function hRe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(loe.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),loe.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),loe.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=UJ(t.solution),a={role:"assistant",content:n};return mRe(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(hRe,"prepareChatCompletionForReturn");var pRe=ct(require("util"));var Ed=new Er("fetchChat"),pU=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){Ed.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??Sr(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:nn(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=nn(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>rT(a),"getProcessingTime")}}else{let c=qC.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:d5(c,async f=>hRe(t,f,n)),getProcessingTime:o(()=>rT(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return tn.createAndMarkAsIssued({endpoint:t,engineName:nT(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:Av(t,n.count),top_p:AF(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=e1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await evt(t,n.messages,n.engineUrl,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Ed.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),Xt(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(jr).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return Ed.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return Ed.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){let a=n.headers.get("retry-after");return{type:"failed",reason:a?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(a).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}return Ed.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function evt(e,t,r,n,i,s,a,l,c,u,f){let m=pRe.format("%s/%s",r,n);if(!a)throw new Error(`Failed to send request to ${m} due to missing key`);let h=c.extendedBy({endpoint:n,engineName:nT(e,r),uiKind:l});for(let[x,v]of Object.entries(s))x!="messages"&&(h.properties[`request.option.${x}`]=JSON.stringify(v)??"undefined");h.properties.headerRequestId=i,Xt(e,"request.sent",h);let p=ql(),A=uRe(l),E={...Vb(e),...u.toCapiHeaders()};return s.messages?.some(x=>Array.isArray(x.content)?x.content.some(v=>"image_url"in v):!1)&&(E["Copilot-Vision-Request"]="true"),Ux(e,m,a,A,i,s,f,E).then(x=>{let v=UC(x,void 0);h.extendWithRequestId(v);let b=ql()-p;return h.measurements.totalTimeMs=b,Ed.info(e,`request.response: [${m}] took ${b} ms`),Ed.debug(e,"request.response properties",h.properties),Ed.debug(e,"request.response measurements",h.measurements),Ed.debug(e,"messages:",JSON.stringify(t)),Xt(e,"request.response",h),x}).catch(x=>{if(ou(x))throw x;let v=h.extendedBy({error:"Network exception"});Xt(e,"request.shownWarning",v),h.properties.message=String(Tm(x,"name")??""),h.properties.code=String(Tm(x,"code")??""),h.properties.errno=String(Tm(x,"errno")??""),h.properties.type=String(Tm(x,"type")??"");let b=ql()-p;throw h.measurements.totalTimeMs=b,Ed.debug(e,`request.response: [${m}] took ${b} ms`),Ed.debug(e,"request.error properties",h.properties),Ed.debug(e,"request.error measurements",h.measurements),Xt(e,"request.error",h),x}).finally(()=>{hU(e,t,h)})}o(evt,"fetchWithInstrumentation");var ua=class{constructor(t){this.ctx=t;this.fetcher=new pU}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=Sr(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(jr).getToken(),u=jb(this.ctx,c,t.enginePath??"chat"),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,engineUrl:u,endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(async()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=OC(t.chatCompletions,async a=>this.postProcess(a,n));for await(let a of s)_n.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:nn(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>nn(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return _Q(t.tokens)?(r.extendWithRequestId(t.requestId),Xt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return _n.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return ou(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(_n.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var Il=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},gU=class extends Il{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var my=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var hy=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var AU="filepath:",Vm="...existing code...",W4="copilot-edited-file";d();function O1(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(O1,"getFenceForCodeBlock");var coe=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},yU=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=nn(a.content).endsWith(`
`)?nn(a.content):`${nn(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${W4}>.
</SYSTEM>


`}return s+nn(a.content)},"")+`


The resulting document:
<${W4}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.clientLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${Vm}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=O1(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.clientLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new coe({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=O1(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.clientLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();d();function os(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(os,"statusFromTextDocumentResult");var zn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}async getRelativePath(t){return this.ctx.get(Wr).getRelativePath(t)??Qs(t.uri)}async readFile(t){let r=await this.readFromTextDocumentManager({uri:t});return r.status!=="notfound"?r:await this.readFromFilesystem(t)}async readFromTextDocumentManager(t){return await this.ctx.get(Wr).getTextDocumentWithValidation(t)}async readFromFilesystem(t){if(await this.fileExists(t)){if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let n=await this.doReadFile(t);return(await this.ctx.get(Sa).evaluate(t,n)).isBlocked?{status:"invalid",reason:"blocked"}:{status:"valid",document:M0.create(t,"UNKNOWN",0,n)}}return{status:"notfound",message:"File not found"}}async doReadFile(t){return await this.ctx.get(Qo).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Qo).stat(t)).size/1024/1024}async fileExists(t){try{return await this.ctx.get(Qo).stat(t),!0}catch{return!1}}};var py=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(zn).readFile(t)}};var CU=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.reporter=t.get(Il),this.logger=new Er("CopilotEditsCodeMapper")}async mapCode(t,r,n){if(!t.resource)throw new hy("No uri found in code block");if(!t.code.includes(Vm)){await this.reporter.reportTurn(r,{fileGenerationStatus:"edit-plan-generated",uri:t.resource.toString(),basename:Qs(t.resource),editDescription:t.markdownBeforeBlock}),await this.reporter.reportTurn(r,{fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource.toString(),basename:Qs(t.resource)});return}if(n.isCancellationRequested)throw new my;let i=await this.ctx.get(zn).readFile(t.resource.toString());if(i.status!=="valid"){let A=`Failed to find file ${t.resource.toString()} with status ${i.status}`,E=new hy(A);throw this.logger.error(this.ctx,A,E),E}let s=new yU({documentContext:{document:i},codeBlock:t.code,uri:xo.parse(t.resource.toString()),markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new py(this.ctx)}),a=await s.render(),l=i.document.clientLanguageId||"",c=O1(t.code),u=i.document.getText();if(u.length>0){let A=O1(u);A.length>c.length&&(c=A)}let f=s.transformToSpeculationPrompt(a,l,c);await this.reporter.reportTurn(r,{fileGenerationStatus:"edit-plan-generated",uri:t.resource.toString(),basename:Qs(t.resource),editDescription:t.markdownBeforeBlock});let m=await this.ctx.get(GC).fetchSpeculation({prompt:f,speculation:i.document.getText(),languageId:l,stops:[`\`\`\`
</${W4}>`,`\`\`\`\r
</${W4}>`,`</${W4}>`]},n),h=[];for await(let A of m.choices)h.push(A.completionText);let p=h.find(A=>A.length>0);if(p){await this.reporter.reportTurn(r,{fileGenerationStatus:"updated-code-generated",uri:t.resource.toString(),basename:Qs(t.resource),partialText:p,languageId:l,markdownCodeFence:O1(p)});return}else{let A=`No valid completion found for uri ${t.resource.toString()}`;throw new hy(A)}}};d();var z0=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var p8=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var EU=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var gy=class{constructor(t,r){this.request=t;this.id=Sr();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},uoe=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},xU=class{constructor(t=[],r="panel",n="en"){this._id=Sr();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new uoe(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new EU(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var bU=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new z0({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:j2,type:"user"},new z0({message:j2});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new z0({message:p8.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new z0({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new z0({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new z0({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new z0({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new z0({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new z0({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new z0({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*ARe(e){yield e}o(ARe,"stringToAsyncIterable");d();d();var U1=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||xo.file(r).toString(!0)}static uriToPath(t){if(typeof t=="string"&&(t=xo.parse(t)),t.scheme==="file")return t.fsPath;throw new Error(`Unsupported URI scheme: ${t.scheme}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///C:${t}`:`file://${t}`}};var vU=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet();return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:this.buildUserMessage(t)}]}getExampleFilePath(t){return this.getFilePath(U1.posixFilePathToUri(t))}getFilePath(t){return U1.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${AU} ${this.exampleFilePath}`,`// ${Vm}`,"{ changed code }",`// ${Vm}`,"{ changed code }",`// ${Vm}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${AU} ${this.tsExampleFilePath}`,"class Person {",`   // ${Vm}`,"   age: number;",`   // ${Vm}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=O1(a);r.push("<file>",`${l}${i.clientLanguageId}`,`// ${AU} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${Vm}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var IU=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var foe="<file>",c_="```",f_="###",rvt=/^(`+)([^ \n]*)/,u_="filepath:";async function*CRe(e,t){let r=new IU(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let E=await r.peek(Math.max(c_.length,foe.length,f_.length));if(E.startsWith(foe)||E.startsWith(c_))break;if(E.startsWith(f_)){let x=await r.readLineIncludingLF(),v=x.substring(f_.length).trim();await t(v)?n.length=0:n.push(x)}else await yRe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(foe);for(;!r.endOfStream&&!i.startsWith(c_);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(rvt),l=a?a[2]:void 0,c=X5e(l?Y5e(l):void 0),u=[`${c.lineComment.start} ${u_}`,`:: ${u_}`,`<!-- ${u_}`,`// ${u_}`,`# ${u_}`],f=Math.max(...u.map(E=>E.length)),m=c.lineComment.end??"",h="</file>",p,A=[];for(;!r.endOfStream;){let E=await r.peek(Math.max(c_.length,f));if(E.startsWith(c_)){let x=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{A.push(x);continue}}if(!p&&u.some(x=>E.startsWith(x))){let x=await r.readLineIncludingLF(),v=u.reduce((b,S)=>E.startsWith(S)?x.substring(S.length):b,x);v=v.split("-->")[0].trim(),v.endsWith(m)&&(v=v.substring(0,v.length-m.length)),v=v.trim(),p=await t(v);continue}await yRe(r,A)}yield{resource:p,language:l,code:A.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(CRe,"getCodeBlocksFromResponse");async function yRe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(yRe,"pipeOneLine");function ERe(e){if(e.startsWith(`${f_} `))return"";let t=e.indexOf(`
${f_} `);return t===-1?"":e.substring(0,t)+`
`}o(ERe,"parseOverallDescription");d();d();var TU=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var nvt=new Er("CopilotEditsConversations"),Fa=class{constructor(t){this.editConversations=new Rn(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new xU([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&nvt.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new TU(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var Xn=class{static{o(this,"ModelConfigurationProvider")}},_U=class extends Xn{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw _n.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(xu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(xu).getMetadata(),i=ivt(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===Qi.Gpt35turbo||r===Qi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:doe(6144,i),maxResponseTokens:wU(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===Qi.Gpt4||r===Qi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:doe(10240,i),maxResponseTokens:wU(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await xRe(this.ctx,i),maxResponseTokens:wU(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await xRe(this.ctx,i),maxResponseTokens:wU(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case cP.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function xRe(e,t){let r=e.get(er),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),doe(i,t)}o(xRe,"getExpRequestTokens");function doe(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(doe,"getRequestTokens");function wU(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(wU,"getResponseTokens");function ivt(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(ivt,"filterModelsByCapabilities");var q1=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(Xn).getBestChatModelConfig(n?[n]:Xo(r))}static transformMessages(t,r){return r===Qi.O1Ga||r===Qi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var G1=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new ua(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=bU.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof my)await this.reportEnd(t,{message:j2});else if(n instanceof z0)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(er).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await q1.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=q1.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await q1.getModelConfiguration(this.ctx,"edits",t.userSelectedModel);return await new vU({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new py(this.ctx),modelName:n.uiName}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:j2,type:"user"},new my;this.ctx.get(Fa).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=ARe(r),s=new CU(this.ctx),a=o(async u=>U1.pathToUri(t,u),"createUri"),l=[],c=ERe(r);c&&await this.ctx.get(Il).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of CRe(i,a))l.push(s.mapCode(u,t,n));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof hy||i instanceof gv)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof my)t.currentTurn.status="cancelled",t.currentTurn.response={message:j2,type:"user"},await this.reportEnd(t,{message:j2});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(Il).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(Il).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(Il).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var vRe="github.com",bRe=`https://${vRe}`,g8=class extends vn{constructor(r,n=bRe,i=process.env){super();this.env=i;this.recalculateUrlDefaults(n),Va(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??PD)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}getContentRestrictionsUrl(r){return r.devOverride?.contentRestrictionsUrl??this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getSignUpLimitedUrl(){return this.signUpLimitedUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}getCompletionsUrl(r,n){return this.join(tY(r,"proxy")??this.getLastKnownEndpointUrl("proxy"),n)}getSnippetRetrievalUrl(r,n,i){let s=new URL(this.getCompletionsUrl(r,"v0/retrieval"));return s.search=new URLSearchParams({repo:n,impl:i}).toString(),s.href}updateBaseUrl(r,n){n||=bRe;let i=this.baseUrlObject;if(!this.isPermittedUrl(r,n)){r.get(dl).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`);return}this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(jr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(yu);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==vRe,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.signUpLimitedUrl=this.join(i.href,"/copilot_internal/subscribe_limited_user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:PD.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!FD(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var _$r=new Er("exp");function IRe(e){let t=e.get(er);t.registerStaticFilters(avt(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>ai(e,qt.DebugOverrideEngine)||ai(e,qt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(sn).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>moe(!e.get(io).isProduction()&&e.get(sn).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(sn).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>ovt(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(sn).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>moe(e.get(sn).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>svt(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(sn).getRelatedPluginInfo()){let i=Ef+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(P9).includes(i)){$D(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=moe(n.version)}return r})}o(IRe,"setupExperimentationService");function ovt(e){let t=e.get(sn).getEditorPluginInfo();return t.name==="copilot"&&Lf(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(ovt,"getPluginRelease");function svt(e){let t=e.get(sn).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(svt,"getTargetPopulation");function avt(e){return lvt(e)}o(avt,"createAllFilters");function lvt(e){let t=e.get(us);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":uC(e)}}o(lvt,"createDefaultFilters");function moe(e){return e.split("-")[0]}o(moe,"trimVersionSuffix");d();d();var A8=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?Hc.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new Hc(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new Hc(new mo(0,0),new mo(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!Hc.isRange(t))throw Ay("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw Ay("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw Ay("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var mo=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw Ay("line must be non-negative");if(r<0)throw Ay("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw Ay();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw Ay();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},Hc=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?mo.isPosition(t.start)&&mo.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new mo(t,r),a=new mo(n,i)):mo.isPosition(t)&&mo.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):mo.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=mo.Max(t.start,this._start),n=mo.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=mo.Min(t.start,this._start),n=mo.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw Ay();let n;return t?mo.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return cvt(this)}};function Ay(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Ay,"illegalArgument");function cvt(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(cvt,"getDebugDescriptionOfRange");d();d();var uvt="X-Initiator",fvt="X-Interaction-ID",dvt="X-Interaction-Type";var SU=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},hoe=class extends SU{static{o(this,"User")}static id(){return"user"}},poe=class extends SU{static{o(this,"Agent")}static id(){return"agent"}},goe=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[uvt]:this.initiator,[fvt]:this.interactionId,[dvt]:this.interactionType.toString()}}},Y0=class e extends goe{static{o(this,"LlmInteraction")}static user(t,r){return new e(hoe,t,r)}static agent(t,r){return new e(poe,t,r)}};d();d();d();var jm;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})(jm||={});var Op=$m("instantiationService");function mvt(e,t,r){t[jm.DI_TARGET]===t?t[jm.DI_DEPENDENCIES].push({id:e,index:r}):(t[jm.DI_DEPENDENCIES]=[{id:e,index:r}],t[jm.DI_TARGET]=t)}o(mvt,"storeServiceDependency");function $m(e){if(jm.serviceIds.has(e))return jm.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");mvt(t,r,i)},"id");return t.toString=()=>e,jm.serviceIds.set(e,t),t}o($m,"createDecorator");d();d();var Ku=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Aoe=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},d_=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Aoe(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var H4=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var hvt=!1,BU=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},kU=class e{constructor(t=new H4,r=!1,n,i=hvt){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(Op,this),this._globalGraph=i?n?._globalGraph??new d_(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,DL(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)ybe(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=m_.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw nbe("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof Ku?(n=m_.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=m_.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=jm.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof Ku)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof Ku?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new d_(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new BU(i);for(let u of jm.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof Ku){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new BU(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof Ku){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof Ku)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var m_=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var RU=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new H4(...t):t??new H4}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new kU(this._collection,!0)}};var W1=$m("IParserService");d();var DU=$m("ISnippyService");d();d();var h_=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),PU=65;function pvt(e){let t=0,r;h_.lastIndex=0;do if(r=h_.exec(e),r&&(t+=1),t>=PU)break;while(r);return t}o(pvt,"lexemeLength");function gvt(e,t){let r=0,n;h_.lastIndex=0;do if(n=h_.exec(e),n&&(r+=1,r>=t))return h_.lastIndex;while(n);return e.length}o(gvt,"offsetFirstLexemes");function TRe(e,t){let r=e.split("").reverse().join(""),n=gvt(r,t);return r.length-n}o(TRe,"offsetLastLexemes");function yoe(e){return pvt(e)>=PU}o(yoe,"hasMinLexemeLength");d();d();d();var fa;(n=>{function e(i){return new Coe(i)}n.ok=e,o(e,"ok");function t(i){return new Eoe(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(fa||={});var Coe=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},Eoe=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var wRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(wRe||={});var xoe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(xoe||={});var _Re;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(wRe.is)}t.is=e,o(e,"is")})(_Re||={});var boe;(t=>{function e(r){if(xoe.is(r))return fa.error(r);if(_Re.is(r))return fa.ok(r)}t.to=e,o(e,"to")})(boe||={});var SRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(SRe||={});var BRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(BRe||={});var kRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(kRe||={});var RRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(SRe.is)&&"page_info"in r&&BRe.is(r.page_info)&&"license_stats"in r&&kRe.is(r.license_stats)}t.is=e,o(e,"is")})(RRe||={});var voe;(t=>{function e(r){if(xoe.is(r))return fa.error(r);if(RRe.is(r))return fa.ok(r)}t.to=e,o(e,"to")})(voe||={});var NU=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,boe.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,voe.to)}async fetch(t,r,n){let i=this.ctx.get(Nr),s=await this.ctx.get(jr).getToken(),a=ND(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/endpoint`),l={Authorization:`Bearer ${s.token}`,...i0(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var DRe=new Er("[CODE REFERENCING]"),y8=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(NU,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Wr).getOpenTextDocument({uri:t.toString()});if(!a){DRe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let A=await this.fetcher.fetchFilesForMatch(p.cursor);if(!A||A.isError())return;let{file_matches:E,license_stats:x}=A.val;return{match:p,files:E,licenseStats:x}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){DRe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let A=new Set(Object.keys(p.licenseStats?.count??{}));A.delete("NOASSERTION")&&A.add("unknown");let E=Array.from(A).sort(),x=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,v={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:x,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:E.map(b=>({license:b,url:`${p.match.github_url}`}))};await this.ctx.get(Bu).handleIPCodeCitation(this.ctx,v)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=ts.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!yoe(c)){let h=a.value.slice(0,s.start),p=TRe(h,PU);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!yoe(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};y8=ru([Aa(1,Op)],y8);d();var p_=$m("ITokenizerProvider");d();d();d();var Cvt=Symbol("MicrotaskDelay");function Evt(e){let t=new m1,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new up)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(Evt,"createCancelablePromise");function V4(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new up)})}):Evt(r=>V4(e,r))}o(V4,"timeout");var FU=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new gi("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new gi("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var g_=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new up)}},xvt;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(xvt||={});var A_=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new Nu,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await KC.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var LU=class{constructor(t){this._deferred=new g_;this._asyncIterable=new A_(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var MU=$m("ITelemetrySender"),H1=$m("IChatMLFetcher");var QU=class{constructor(){this._stream=new LU;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function PRe(e){let t=new RU;return t.define(MU,new Ioe(e)),t.define(W1,new Ku(Toe,[!0])),t.define(DU,new Ku(y8,[e])),t.define(H1,await woe.Create(e)),t.define(p_,new Ku(_oe)),t.seal()}o(PRe,"createInstantiationService");var Ioe=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=tn.createAndMarkAsIssued(i,s);Xt(this.ctx,t,a)}},Toe=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},woe=class e{constructor(t,r){this.modelConfiguration=r;this.fetcher=new ua(t)}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(Xn).getBestChatModelConfig([Qi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(a=>e.chatMessageToClsChatMessage(a)),s=await this.fetcher.fetchResponse({modelConfiguration:this.modelConfiguration,messages:i,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Y0.user("nextEditSuggestions",Sr())},n,Kg.createEmptyConfigForTesting());if(s.type==="success"){let a={type:"success",value:s.value,requestId:s.requestId,serverRequestId:void 0,usage:void 0};return r&&await r(a.value,0,{text:a.value}),a}else return{type:e.clsResponseTypeToResponseType(s.type),reason:s.type,requestId:s.requestId,serverRequestId:void 0}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},_oe=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new OU("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new OU(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},OU=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=So(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var Soe=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},UU=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new Soe(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var qU=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw RT(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw RT(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var C_=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},GU=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new m1;this.liveDependentants=0;this.fetchIssued=!1;this._result=new g_;Rc(r.length>0),Rc(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>E_.deserialize(r)),t.activeDocumentIdx,C_.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},E_=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,A=new Hn(1,i.length+1),E=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=A;this.lastSelectionInAfterEdit=E;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:Hn.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new pl(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(rd.create(t.id),t.workspaceRoot?P5.parse(t.workspaceRoot):void 0,e4.create(t.languageId),t.documentLinesBeforeEdit,Es.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?li.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new pl(t.documentBeforeEdits),pp.deserialize(t.recentEdits),new pl(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,Hn.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var Xi=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=fa.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=fa.ok(t),i=r.build(n);return new e(n,i)}},C8=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:wL(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,Rc(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function vvt(e,...t){let r=e;for(let n of t)r=n(r);return r}o(vvt,"chainStatelessNextEditProviders");var WU=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=vvt(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},E8=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new Xi(fa.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=qU.createSortPermutation(a,I5(u=>u.lineRange.startLineNumber,T5)),c=new Es(l.apply(a));return new Xi(fa.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},HU=class extends E8{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},VU=class extends E8{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var Ivt=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),Tvt=new Map(Object.entries(Ivt).map(([e,t])=>[e,{languageId:e,...t}]));function FRe(e){return koe(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(FRe,"getLanguage");function koe(e){return Tvt.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(koe,"_getLanguage");d();function LRe(e){let r=e.split(/\r?\n/).map(wvt),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o(LRe,"looksLikeCode");function wvt(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),QZ(e)||(t+=1);{QZ(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(wvt,"guessLineType");var x8;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(x8||={});function _vt(e){return e.replace(/^\s+/g,"")}o(_vt,"trimLeadingWhitespace");function Roe(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Roe,"isImportStatement");var Svt=new h1(e=>{let t=FRe(e),{start:r,end:n}=t.lineComment,i=`(?:${LZ(r)})`,s=n?`(?:${LZ(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function Doe(e,t){let r=e.match(Svt.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=_vt(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(Doe,"extractEndLineComment");function jU(e,t){let r=Doe(e,t);if(!(r&&r.content.trim().length>0&&LRe(r.commentWithoutTokens)))return r}o(jU,"extractExplicativeEndLineComment");var $U=class e extends E8{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Roe(i,r))||Bvt(t,n).some(i=>Roe(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function Bvt(e,t){return abe(e.lineRange.mapToLineArray(r=>t[r-1]))}o(Bvt,"getOldLines");d();var Poe=ct(Nv());d();var b8=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},x_=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},b_=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},yy=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},Cy=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var zU=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new b8(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},v_=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(yy.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new b8(t,0,n,i-n+1)]):t<=r?(yy.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new b8(t,r-t+1,n,0)]):(yy.Assert(t===r+1,"originalStart should only be one more than originalEnd"),yy.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,A,E,x,v){let b=null,S=null,k=new zU,P=r,N=n,W=p[0]-x[0]-i,te=-1073741824,ge=this.m_forwardHistory.length-1;do{let re=W+t;re===P||re<N&&u[re-1]<u[re+1]?(m=u[re+1],A=m-W-i,m<te&&k.MarkNextChange(),te=m,k.AddModifiedElement(m+1,A),W=re+1-t):(m=u[re-1]+1,A=m-W-i,m<te&&k.MarkNextChange(),te=m-1,k.AddOriginalElement(m,A+1),W=re-1-t),ge>=0&&(u=this.m_forwardHistory[ge],t=u[0],P=1,N=u.length-1)}while(--ge>=-1);b=k.getReverseChanges(),k=new zU,P=a,N=l,W=p[0]-x[0]-c,te=1073741824,ge=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let re=W+s;re===P||re<N&&f[re-1]>=f[re+1]?(m=f[re+1]-1,A=m-W-c,m>te&&k.MarkNextChange(),te=m+1,k.AddOriginalElement(m+1,A+1),W=re+1-s):(m=f[re-1],A=m-W-c,m>te&&k.MarkNextChange(),te=m,k.AddModifiedElement(m+1,A+1),W=re-1-s),ge>=0&&(f=this.m_reverseHistory[ge],s=f[0],P=1,N=f.length-1)}while(--ge>=-1);return S=k.getChanges(),this.ConcatenateChanges(b,S)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),A=p+1,E=new Int32Array(A),x=new Int32Array(A),v=i-n,b=r-t,S=t-n,k=r-i,N=(b-v)%2===0;E[v]=t,x[b]=r;for(let W=1;W<=p/2+1;W++){let te=0,ge=0;u=this.ClipDiagonalBound(v-W,W,v,A),f=this.ClipDiagonalBound(v+W,W,v,A);for(let re=u;re<=f;re+=2){re===u||re<f&&E[re-1]<E[re+1]?l=E[re+1]:l=E[re-1]+1,c=l-(re-v)-S;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(E[re]=l,l+c>te+ge&&(te=l,ge=c),!N&&Math.abs(re-b)<=W-1&&l>=x[re])return s[0]=l,a[0]=c,G<=x[re]&&W<=1448?this.WALKTRACE(v,u,f,S,b,m,h,k,E,x,l,r,s,c,i,a,N):null}m=this.ClipDiagonalBound(b-W,W,b,A),h=this.ClipDiagonalBound(b+W,W,b,A);for(let re=m;re<=h;re+=2){re===m||re<h&&x[re-1]>=x[re+1]?l=x[re+1]-1:l=x[re-1],c=l-(re-b)-k;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(x[re]=l,N&&Math.abs(re-v)<=W&&l<=E[re])return s[0]=l,a[0]=c,G>=E[re]&&W<=1448?this.WALKTRACE(v,u,f,S,b,m,h,k,E,x,l,r,s,c,i,a,N):null}if(W<=1447){let re=new Int32Array(f-u+2);re[0]=v-u+1,Cy.Copy2(E,u,re,1,f-u+1),this.m_forwardHistory.push(re),re=new Int32Array(h-m+2),re[0]=b-m+1,Cy.Copy2(x,m,re,1,h-m+1),this.m_reverseHistory.push(re)}}return this.WALKTRACE(v,u,f,S,b,m,h,k,E,x,l,r,s,c,i,a,N)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return Cy.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],Cy.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return Cy.Copy(t,0,i,0,t.length),Cy.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(yy.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),yy.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new b8(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function QRe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(ave(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(QRe,"safeStringify");var YU=!1,Loe=!0,kvt=200,I_=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new C8(t),i=t.getActiveDocument(),s=T_(i);if(!s||!s.isEmpty())return Xi.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let b of t.documents)b.id!==i.id&&(c.push(`RELATED DOC: ${b.getDisplayPath()}`),c.push("```patch"),c.push(...Fvt(b)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new Hn(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let b=m<l.length;c.push(`IN PROGRESS VERSION ${b?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),b&&(c.push(u),h={editRange:new Hn(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),A=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(A.isError())return A.err.kind==="cancel"?Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):Xi.noEdit({kind:"fetchFailure",error:new Error(QRe(A.err))},n);let{result:E}=A.val;if(E.trim().length===0)return Xi.noEdit({kind:"noSuggestions"},n);let x=KU(i.languageId,l,f,void 0,E,h),v=await Ooe(this._parserService,x,i,{requireEditWithinNLines:5});if(v){let b=new Es([v]);return Xi.edit({edit:b},n)}else return Xi.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};I_=ru([Aa(1,W1)],I_);var v8=class extends I_{constructor(r,n){super(v8.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return fa.error({kind:"cancel"});let s=await Qoe(this.ID,this._chatMLFetcher,[{role:Poe.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Poe.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),fa.ok({ignored:a,result:l,headersTime:c})}};v8=ru([Aa(0,W1),Aa(1,H1)],v8);async function Qoe(e,t,r,n,i){let s=new QU,a=!1,l,c=s.stream.map(E=>({choices:[{index:0,finish_reason:null,logprobs:null,text:E.delta.text}]})),u=Dvt(c,n),f=t.fetchOne(r,async(E,x,v)=>(typeof l>"u"&&(l=Date.now()),s.update(E,v),a?E.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let A=await f;return A.type!=="success"?fa.error({kind:"failure",err:new Error(`Fetch failed (${A.type}, ${A.reason})`)}):fa.ok({headersTime:l,ignored:m,result:h})}o(Qoe,"fetchUntilConvergence");function T_(e){let t=new Or(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:Rvt(e)}o(T_,"getOrDeduceSelectionFromLastEdit");function Rvt(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new li(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=$L(a,s),c=s.length-l+1;return new li(i,c,i,c)}o(Rvt,"deduceSelectionFromLastEdit");async function Dvt(e,t){let r=Pvt(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let A=c[h.index];if(n.startsWith(A))continue;let E=A.split(`
`).slice(-4,-1);if(E.length<3||n.indexOf(E.join(`
`)+`
`)<=0)continue;let v=f[h.index].substring(f[h.index].length-s);if(a.indexOf(v)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(Dvt,"fetchCompletionUntilConvergence");function Pvt(e,t){let r=[],n=[];return new A_(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(Pvt,"getTextAfterFirstPattern");function Nvt(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new y1(new Hn(n,i),s)}o(Nvt,"createReducedLineEdit");var I8=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=Nvt(r,n,i);let s=new Es([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(A=>{let E=h.lines.slice(A.originalStart,A.originalStart+A.originalLength),x=p.lines.slice(A.modifiedStart,A.modifiedStart+A.modifiedLength),v=E.join(`
`),b=x.join(`
`),{editDistance:S}=f(v,b);return new Noe(A.originalStart,A.originalLength,A.modifiedStart,A.modifiedLength,S)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new x_(this.oldLines,n),s=new x_(this.newLines,n),a=new v_(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(pZ(this.newLines,u))return new Foe(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return MRe(this.languageId,this.oldLines,u);function f(m,h){let p=new b_(m),A=new b_(h),x=new v_(p,A).ComputeDiff(),v=0,b=0;for(let N of x)v+=N.originalLength,b+=N.modifiedLength;let S=m.length,k=h.length,P=v+b;return{aChanged:v,bChanged:b,aLength:S,bLength:k,editDistance:P}}}},Noe=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},Foe=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new Es([this.edit]);{let r=this.groupInHunks();return new Es(r.map(n=>{let i=n[0],s=n[n.length-1];return new y1(new Hn(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Loe)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>kvt&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!Moe(new Hn(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new Es([this.edit]),i=r(n);this.parseErrorCount=await w_(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=jU(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>jU(c,this.languageId)),i=r.map(c=>jU(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return MRe(this.languageId,this.oldLines,t)}};function Moe(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o(Moe,"editIsInsideEditWindow");function MRe(e,t,r){let i=t.length+1,s=r.slice(0);return new I8(e,t,new Hn(1,i),s).resolveDiff()}o(MRe,"createPossibleEditFromLines");function KU(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=x8.fromString(i.trimEnd()),l=s?a.some(x=>x.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((x,v)=>{c.push(new I8(e,t,x,v))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let v=new Hn(r.endLineNumberExclusive,t.length+1);v.length>a.length+5||u(v,a)}o(m,"generateEditAllDoc");function h(){for(let x=1;x<a.length;x++){let b=a.slice(a.length-x).join(`
`);for(let S=r.endLineNumberExclusive-1;S<t.length;S++){let P=t.slice(S,S+x).join(`
`);b===P&&u(new Hn(r.endLineNumberExclusive,S+1),a.slice(0,a.length-x))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let x=[];for(let v of a){if(v.indexOf(s.omittedMessage)>=0){u(s.editRange,x.map(b=>b));return}x.push(v)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let x=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...KU(e,t,r,n,x,s))}return A(c);function A(x){return E(x,o(b=>b.edit.lineRange.startLineNumber+","+b.edit.lineRange.endLineNumberExclusive+","+b.edit.newLines.join("|"),"keyfn"))}function E(x,v){let b=new Set,S=[];for(let k of x){let P=v(k);b.has(P)||(b.add(P),S.push(k))}return S}}o(KU,"generatePossibleEdits");async function Ooe(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=YU?await w_(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(YU){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(Ooe,"selectBestEdit");function Fvt(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(Fvt,"summariseDocDiff");function ORe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(ORe,"summarizeEditsAsUnifiedDiff");async function w_(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(w_,"getParseErrorCount");d();var URe=ct(Nv());d();var Ey=class extends URe.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(p_);return new Ey(n,i,s,l,r,a.get(H1))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};Ey=ru([Aa(3,p_),Aa(4,Op),Aa(5,H1)],Ey);d();var qRe=ct(Nv());var JU=class extends qRe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var XU=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Or(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Bm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new so(n,i)}getRange(t){return li.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Fu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Fu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Uoe=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Or(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new Hc(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},zm=class extends Uoe{constructor(r){super();this.value=r;this._transformer=new XU(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new so(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return Lvt(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(Qvt(r))}_validatePosition(r){if(r.line<0)return new mo(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new mo(n-1,s)}if(r.character<0)return new mo(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new mo(r.line,i):r}};function Lvt(e){return new mo(e.lineNumber-1,e.column-1)}o(Lvt,"corePositionToVSCodePosition");function Qvt(e){return new so(e.line+1,e.character+1)}o(Qvt,"vsCodePositionToCorePosition");d();d();function GRe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(GRe,"min");d();function qoe(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>qoe(n,t))}}o(qoe,"toAstNode");function WRe(e,t){let r=Lv(t,a=>a.endExclusive>=e.start),n=Bm(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Or(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Or(s,e.endExclusive)),i}o(WRe,"subtractRange");d();d();d();var ZU=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=t4(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=t4(t),r=t4(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=t4(t),r=t4(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=t4(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new Goe(i,t-a)}};var Goe=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var __=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=S5(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new ZU(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=S5(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new mo(r.index,Math.min(r.remainder,n))}toRange(t){return new Hc(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Or(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new A8(this.validateRange(n.range),n.newText));return new nd(r.map(n=>new ka(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new A8(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof mo))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new mo(r,n):t}validateRange(t){return new Hc(this.validatePosition(t.start),this.validatePosition(t.end))}};var eq=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new fp(()=>new __(this.text));this._originalPositionOffsetTransformer=new fp(()=>new __(this.originalText));this._text=new fp(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Woe=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},$4=class extends eq{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function rq(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=HRe(u,c),A=Hoe.fromRootNode(p,m),E=Voe.fromNode(A,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&E.visitAll(W=>W.node.range.intersectsOrTouches(h)?(W.node.children.length===0&&W.markAsSurviving(),!0):!1),n.push(E),i.push(E.getTextFragment());let x=o(W=>h?W.range.endExclusive<h.start?h.start-W.range.endExclusive:W.range.start>h.endExclusive?3*(W.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),v=new h1(W=>h?W.children.length===0?W.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:GRe(W.children.map(te=>v.get(te)))+1:0),b=new h1(W=>{let te=W.parent?b.get(W.parent):Number.MAX_SAFE_INTEGER,ge=v.get(W);return Math.min(te,ge)}),S=!!t.tryPreserveTypeChecking,k=o(W=>S&&W.node?.kind==="import_statement"?0:100*b.get(W)+W.depth+10*(x(W)/m.length),"costFn"),P=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(P!==void 0){let W=k;k=o(te=>{let ge=W(te);return ge===!1?!1:te.node?P(te.node,ge,c):ge},"costFn")}let N=E.getDescendantsAndSelf();for(let W of N){if(!W.node.node)continue;let te=k(W.node);te!==!1&&s.push({idx:l,node:W,cost:te})}}s.sort(I5(l=>l.cost,T5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new $4(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:WRe(Or.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:qoe(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(A=>A.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(rq,"summarizeDocumentsSyncImpl");function HRe(e,t,r=void 0){let n=new Or(e.startIndex,e.endIndex),i=[],s=new Woe(r,e,n,i,t);for(let a of e.children)i.push(HRe(a,t,s));return s}o(HRe,"createRemovableNodeFromOverlayNode");var Hoe=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Or(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Or(0,t.range.start),s=new Or(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Or(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Or(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}},Voe=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new V1(this.node.range,this.node.document);if(!this._surviving)return new j4("");let t=[];for(let r of this.childNodes){let n=r.getTextFragment();if(n.length===0){t.length>0&&t[t.length-1].length===0||t.push(n);continue}Mvt(t,n)}for(let r=0;r<=t.length-3;r++){let n=t[r],i=t[r+1],s=t[r+2];if(i.length===0&&n instanceof V1&&s instanceof V1){let a=n.trimEnd(),l=s.trimStart();a.endsWith("{")&&l.startsWith("}")&&(t[r]=a,t[r+1]=new j4(this._tryPreserveTypeChecking?"/* ... */":"\u2026"),t[r+2]=l)}if(this._alwaysUseEllipsisForElisions&&i.length===0&&!(i instanceof V1)){let a=t[r].text,c=a.substring(a.lastIndexOf(`
`)+1).trim()===""?"":`
`,u=t[r+2].text,m=u.substring(0,u.indexOf(`
`)).trim()===""?"":`
`;t[r+1]=new j4(c+(this._tryPreserveTypeChecking?"/* ... */":"\u2026")+m)}}return tq.from(t)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},S_=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new ka(new Or(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof tq)for(let c of l.fragments)a(c);else l instanceof j4?i+=l.text:l instanceof V1&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new nd(r)}},j4=class extends S_{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},V1=class e extends S_{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Or(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Or(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Or(this.range.start,r.range.endExclusive),this.originalText):null}},tq=class e extends S_{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new j4(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function Mvt(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof V1&&t instanceof V1){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(Mvt,"pushFragment");d();d();var nq=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new gi("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new gi("Invalid child startIndex");if(a.endIndex>r)throw new gi("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function jRe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=Ovt(s,t),[l]=$Re(e,a,void 0);return l.adjust(e,zRe(t)),l.toOverlayNode(e,!0)}catch{return new iq(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(jRe,"getStructureUsingIndentation");function $Re(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=$Re(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new gi("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new gi("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new iq(n,i,s),r]}o($Re,"createFoldingRangeTree");var iq=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new gi("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=joe(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=joe(t,s,s,"LINE",[]);a&&n.push(a)}return joe(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function joe(e,t,r,n,i){let s=e.getOffsetAtPosition(new mo(t-1,0)),a=r<e.getLineCount()?new mo(r,0):new mo(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new nq(s,l,n,i)}o(joe,"createOverlayNode");function Ovt(e,t){return Uvt(e,zRe(t))}o(Ovt,"generateFoldingRegions");function zRe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(zRe,"isOffSide");function Uvt(e,t){let r=e.getOptions().tabSize,n=new $oe,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=Gvt(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(Uvt,"_computeRanges");var qvt=65535,z4=16777215,VRe=4278190080,$oe=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>z4||r>z4)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new zoe(t,r)}};function Gvt(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(Gvt,"computeIndentLevel");var zoe=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>z4||a>z4)throw new Error("startLineNumber or endLineNumber must not exceed "+z4);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&z4}getEndLineNumber(t){return this._endIndexes[t]&z4}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&VRe)>>>24)+((this._endIndexes[t]&VRe)>>>16);return r===qvt?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function Yoe(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(Yoe,"fromUnknown");var Ja=ct(Nv());var oq="current-version",Ju="next-version",YRe=2,KRe=10,JRe=.7,Vvt=/```[^\n]*\n/,xy=class extends WU{constructor(r,n,i){super(xy.ID,[s=>new $U(s),s=>new HU(s),s=>new VU(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new UU}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=T_(a),u=c?Koe(a,c):null,f=T_(l),m=f?Koe(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(YRe,KRe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new C8(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return Xi.noEdit({kind:"unexpected",error:Yoe(c)},i)}let l=s.getArtificalDelay();return l>0&&await V4(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):Xi.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return Xi.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return Xi.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let k={kind:"gotCancelled",message:"afterDebounce"};return Xi.noEdit(k,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:A,activeDocument:E,activeDocumentLines:x}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let v=await Qoe(this.ID,this.fetcher,m,{convergence:A,ignoreReplyTextBefore:Vvt,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(v.isOk()?"success":v.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(v.isError())return v.err.kind==="cancel"?Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):Xi.noEdit({kind:"fetchFailure",error:Yoe(v.err.err)},s);let{result:b}=v.val;if(b.length===0){let k=`<${Ju}>
`,P=v.val.ignored.indexOf(k);P>=0&&(b=v.val.ignored.substring(P+k.length))}if(b=jvt(b),b.trim().length===0)return Xi.noEdit({kind:"noSuggestions"},s);let S;if(l&&c&&u){let k=$vt(E,l,c,b);if(!k||k.edits.length===0)return Xi.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let P=zvt(l,k);if(P.edits.length===0)return Xi.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(YU){let te=await w_(this._parserService,E.languageId,E.documentAfterEditsNoShortening.value),ge=P.apply(E.documentAfterEditsNoShortening.value);if(await w_(this._parserService,E.languageId,ge)>te)return Xi.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}S=Yvt(E,P);let N=S.edits[0].lineRange.startLineNumber,W=S.edits[S.edits.length-1].lineRange.endLineNumberExclusive;if(!Moe(new Hn(N,W),u))return Xi.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let k=KU(E.languageId,x,h,p,b,void 0),P=await Ooe(this._parserService,k,E,{requireEditWithinNLines:100});if(!P)return Xi.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);S=new Es([P])}return Kvt(E,S)?Xi.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):Jvt(E,S)?Xi.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):Xvt(E,S)?Xi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Zvt(E,S)?Xi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Xi.edit({edit:S},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await V4(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=T_(i);if(c===null)return;let u=Koe(i,c),f=new zm(i.documentAfterEditsNoShortening.value),m=await rIt(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:A}=function(){let ge=eIt(i.documentAfterEditsLines,c.startLineNumber),re=Math.max(1,Math.min(ge,c.startLineNumber-YRe)),G=c.startLineNumber-re,q=Math.min(l.length,c.endLineNumber+KRe),se=q-c.endLineNumber,ne=u.line-G,H=u.line+se,O=new Hc(ne,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:re,lastEditableLineInShortenedDocument:q,editWindow:O}}(),E=rq(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:A}])[0],x=new Hn(1,h),v=new Hn(h,p+1),b=E.text,{messages:S,prediction:k,editWindowIsInPrompt:P}=await this._renderPrompt({request:r,activeDocumentSlice:b,languageId:i.languageId},n),N=b.split(/\r\n|\r|\n/).length,W=E.projectRange(A),te=E.positionOffsetTransformer.toOffsetRange(W);return{summarizedEditWindow:E,editWindowAllowedEditLineRange:new Hn(W.start.line+1,W.end.line+2),allowedEditLineRange:new Hn(h,p+1),messages:S,prediction:k,editWindowIsInPrompt:P,activeDocument:i,activeDocumentLines:l,completionPrefixRange:x,completionRange:v,convergence:b,expectedConvergencePrefix:te.start,maxCompletionLineCount:N+20}}async _renderPrompt(r,n){let s=await Ey.create(this._instantiationService,Xoe,r).render(void 0,n,{trace:!1}),a=s.metadata.get(uq)?.prediction,l=!!s.metadata.get(aq);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};xy=ru([Aa(0,H1),Aa(1,W1),Aa(2,Op)],xy);function jvt(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${Ju}>`,`
`),e=t(e,`\`\`\`
</${Ju}>`,`
`),e=t(e,`</${Ju}>`,`
`),e}o(jvt,"removeSuffixFromReply");function Koe(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new zm(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(Koe,"getCursorPositionInOuterDocument");function $vt(e,t,r,n){let i=x8.fromString(t.text),s=x8.fromString(n.trimEnd()),l=new I8(e.languageId,i,new Hn(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Loe?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o($vt,"generateSummarizedEditWindowEdit");function zvt(e,t){let r=t.toEdit(new pl(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(zvt,"convertSummarizedEditWindowEditToOuterDocumentEdit");function Yvt(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return Cs.replace(new Or(a,a+i.replaceRange.length),i.newText)}),n=new Lu(e.documentAfterEdits,ts.create(r));return Es.fromEdit(n)}o(Yvt,"convertOuterDocumentEditToProjectedEdit");function Kvt(e,t){let r=t.toEdit(e.documentAfterEdits),n=XRe(e.documentAfterEdits.value,r),i=new sq,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(XRe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(Kvt,"editWouldUndo");function Jvt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!rDe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o(Jvt,"editWouldDeleteWhatWasJustInserted");function Xvt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!rDe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(Doe(i,e.languageId))return!0}return!1}o(Xvt,"editWouldDeleteAComment");function Zvt(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size>1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return Joe(s,i)/i.size>.8}o(Zvt,"editWouldDuplicateExistingLines");function rDe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(rDe,"editIsDeletion");function eIt(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(eIt,"findLineNumberAboveWithContent");var sq=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(eDe(this.inserted,t.inserted),eDe(this.deleted,t.deleted))}isUndoneBy(t){let r=tDe(t.inserted,t.deleted),n=tDe(t.deleted,t.inserted),i=Joe(n,this.inserted),s=Joe(r,this.deleted);return n.size>6&&i/n.size>JRe||r.size>6&&s/r.size>JRe}};function XRe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of ZRe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of ZRe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(tIt(l.newText,c.newText)))}return new sq(r,n)}o(XRe,"getInformationDelta");function tIt(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(tIt,"trimOverlap");function ZRe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(ZRe,"to4grams");function eDe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(eDe,"setUnion");function tDe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(tDe,"setMinus");function Joe(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(Joe,"setIntersectionCount");async function rIt(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||jRe(new zm(t.getText()),t.languageId,void 0)}o(rIt,"getStructure");var Xoe=class extends Ja.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${Ju}>`,`\`\`\`${s}`,`${i}`,"```",`</${Ju}>`].join(`
`),l=(0,Ja.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new uq(a)}),vscpp(Ja.SystemMessage,{priority:1e3},vscpp(JU,null),this._getInstructions()),vscpp(Ja.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Ja.Chunk,{priority:300},vscpp(lq,{doc:c}))):vscpp(Ja.Chunk,{priority:100+u},vscpp(lq,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Ja.Chunk,{priority:300},vscpp(cq,{doc:c}))):vscpp(Ja.Chunk,{priority:200+u},vscpp(cq,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(Ja.Chunk,{priority:300},vscpp("meta",{local:!0,value:new aq}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",oq,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",oq,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",oq,"> and </",oq,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",Ju,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",Ju,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",Ju,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",Ju,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",Ju,">IDENTICAL</",Ju,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",Ju,">.")}}},aq=class extends Ja.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},lq=class extends Ja.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},cq=class extends Ja.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...ORe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},uq=class extends Ja.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var fq=class extends oa{constructor(r){super();this.workspace=r;this._garbageCollector=new tse(20);this._documentCaches=new Map;d1(this,r.openDocuments,(n,i)=>{let s=new Zoe(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(Jv(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},Zoe=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new ese(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},ese=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},tse=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();var rse=ct(require("crypto"));var nse=rse.randomUUID.bind(rse);d();d();var B_=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},dq=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new B_("",null),this._tail=new B_("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new B_(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var mq=class extends oa{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new dq(50);d1(this,r.openDocuments,(n,i)=>{let s=new ise(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(Jv(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},ise=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var hq=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},T8=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:E,wasPreviouslyRejected:x,isShown:v,acceptance:b,logProbThreshold:S,documentsCount:k,editsCount:P,activeDocumentEditsCount:N,promptLineCount:W,promptCharCount:te,isDefaultEndpoint:ge,hadLowLogProbSuggestion:re,nonTerminatingError:G,nEditsSuggested:q,kthEditPicked:se,lineDistanceToMostRecentEdit:ne,debounceTime:H,hasNextEdit:O,nextEditLogprob:j,maxLinesPerEdit:J,noNextEditReasonKind:le,noNextEditReasonMessage:Z,firstEditStrategy:ae,firstPickStrategyOverride:ce,fetchTime:Re,fetchResult:ve,fetchError:Ue,fetchStartedAfterMs:Be}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:b,nonTerminatingError:G,noNextEditReasonKind:le,noNextEditReasonMessage:Z,firstEditStrategy:ae,firstPickStrategyOverride:ce,fetchResult:ve,fetchError:Ue},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(ge),activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:E,wasPreviouslyRejected:this._boolToNum(x),isShown:this._boolToNum(v),logProbThreshold:S,documentsCount:k,editsCount:P,activeDocumentEditsCount:N,promptLineCount:W,promptCharCount:te,hadLowLogProbSuggestion:this._boolToNum(re),nEditsSuggested:q,kthEditPicked:se,lineDistanceToMostRecentEdit:ne,debounceTime:H,fetchStartedAfterMs:Be,fetchTime:Re,hasNextEdit:this._boolToNum(O),nextEditLogprob:j,maxLinesPerEdit:J})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};T8=ru([Aa(0,MU)],T8);d();var w8=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var Y4=!1,nDe=300,_8=class extends oa{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new fq(this._workspace);this._nextEditCache=new mq(this._workspace);this._recentlyShownCache=new ase;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;d1(this,this._workspace.openDocuments,(c,u)=>{u.add(FZ(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(T8)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=this._workspace.getDocument(r);if(!s)throw new gi(`Document "${r}" not found`);let a=s.value.get(),l=new hq(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??nse());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await V4(nDe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await V4(nDe);else{p=new sse,l.setHeaderRequestId(p.headerRequestId);let x=s.value.get();m=x;let v=await this.fetchNextEdit(p,r,l,i),b=x.value!==s.value.get().value;if(v.isError())switch(v.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=v.err.error;break;default:wL(v.err)}else if(!b){let S=v.val;S.isEmpty()||(f=S.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||S.edits.length>1)&&this._nextEditCache.setNextEdits(r,S,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new w8(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new w8(void 0);Rc(m!==void 0,"should be defined if edit is defined");let A=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",E=new w8({edit:f,showRangePreference:A,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(E,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),E}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=ts.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=ose(r.lastEdits.swap(l)),f=c.compose(),m=new $4(new zm(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new pl(s.text),A=hp.fromEdit(new Lu(h,f)).removeCommonSuffixPrefixLines(),E=c.edits.at(-1)?.getNewRanges().at(0),x;E&&(x=new pl(m.text).getTransformer().getRange(E));let v=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,b=this._workspace.getWorkspaceRoot(r.docId),S=o(W=>{let ge=new hp(new pl(m.text),W).toEdit();return iDe(ge,m)},"toEditOnDocumentAfterEditsNoShortening"),k=o(W=>m.projectBack(W),"toOffsetOnDocumentAfterEditsNoShortening"),P=o(W=>m.project(W),"toProjectedOffset"),N=new E_(r.docId,b,r.languageId,A.base.getLines(),A.edit,x,h,c,i,S,k,P,r.lastEdit.base.getTextLength().lineCount,a,v);return{recentEdit:r.lastEdit,nextEditDoc:N,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=this._historyContextProvider.getHistoryContext(n);if(!a)return fa.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=ose(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(N=>this._shortenDocument(N,c))),f=u[l.idx],m=new GU(r.headerRequestId,u.map(N=>N.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,A;if(h){p=h,Y4&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let N=this._hookupCancellation(p,s);try{A=await p.result}finally{N.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let N=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let W=this._hookupCancellation(p,s);try{A=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(A)}catch(te){throw p.setResultError(te),te}finally{W.dispose(),N()}}i.setStatelessNextEditTelemetry(A.telemetry);let E=A.nextEdit;if(E.isError())return E;let x=E.val.edit;if(x.edits.length===0)return fa.error({kind:"noSuggestions"});let b=new hp(new pl(f.projectedDocument.text),x).toEdit(),S=iDe(b,f.projectedDocument),k=b.edits.length===S.edits.length?E.val.permutation:void 0,P=S.decompose(k);return fa.ok(P)}_hookupCancellation(r,n){let i=new O0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new FU);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){Y4&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){Y4&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){Y4&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}Y4&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(sa(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){nQ(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new $4(new zm(r.base.value),new nd([])),clippedRange:new Hn(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Or(0,0)),s=Hn.fromRange(i);function a(m,h){return new Hn(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new Hn(1,n.textLength.lineCount+1),c=ose(l.intersect(a(s,100))),u=Hn.subtract(l,c);return{document:new $4(new zm(r.base.value),new nd(u.map(m=>ka.delete(n.getOffsetRange(new li(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new C_("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await iIt(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new zm(n.base.value),a=n.edit.edits.at(0)?.range??new Or(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),A=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Or(p.range.start,A.range.endExclusive))}let c=oDe(s.offsetRangeToRange(a)),u=rq(200*50,{costFnOverride:o((p,A,E)=>{let x=oDe(E.offsetRangeToRange(p.range)),v=nIt(c,x);return v>100?!1:v},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new Hn(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};_8=ru([Aa(3,W1),Aa(4,Op),Aa(5,DU)],_8);function iDe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return ts.fromOffsetEdit(r)}o(iDe,"projectBackEdit");function oDe(e){return new Hn(e.start.line+1,e.end.line+1)}o(oDe,"lineRangeFromVSCodeRange");function nIt(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(nIt,"lineRangeDist");async function iIt(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(iIt,"getStructure");function ose(e){if(!e)throw new gi("expected value to be defined, but it was not");return e}o(ose,"assertDefined");var sse=class{constructor(){this.headerRequestId=nse()}static{o(this,"NextEditFetchRequest")}},ase=class{constructor(){this._cache=new kL(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var j1=class{static{o(this,"NextEditSuggestionsManager")}constructor(t){this.ctx=t}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResult;s&&(this.lastResult=void 0,i.handleRejection(s.documentId,s.nextEditResult));let a=rd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Wr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=Sr();return this.lastResult={resultId:m,nextEditResult:l,documentId:a},[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async postInsertionTasks(t){let r=await this.nextEditProvider,n=this.lastResult;!r||!n||n.resultId===t&&(this.lastResult=void 0,await r.handleAcceptance(n.documentId,n.nextEditResult))}async createNextEditProvider(){let t=await PRe(this.ctx),r=t.createInstance(xy),n=this.ctx.get(dp),i=new Xv(n);return t.createInstance(_8,n,r,i)}};d();var by=require("fs"),sDe=require("os"),aDe=ct(require("path")),S8=require("process");var Xa=class{static{o(this,"PersistenceManager")}},lse=class extends Xa{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await by.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await by.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await by.promises.rm(i):await by.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await by.promises.rm(n)}catch{}}async listSettings(){try{return(await by.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await by.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function oIt(){return S8.env.XDG_CONFIG_HOME&&aDe.isAbsolute(S8.env.XDG_CONFIG_HOME)?S8.env.XDG_CONFIG_HOME+"/github-copilot":(0,sDe.platform)()==="win32"?S8.env.USERPROFILE+"\\AppData\\Local\\github-copilot":S8.env.HOME+"/.config/github-copilot"}o(oIt,"getXdgConfigPath");function lDe(){return new lse(oIt())}o(lDe,"makeXdgPersistenceManager");d();d();var cDe=ct(require("node:events"));var pq="onWorkspaceWatcherChanged";var gq=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new cDe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(pq,pu(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(pq,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(pq,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(pq,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var Ym=class{constructor(t){this.ctx=t;this.watchers=new Rn(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(_n.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[...this.watchers.keys()],n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s!==t.uri&&s.startsWith(n));for(let s of i)this.terminateWatching({uri:s});return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};d();d();var js=class{constructor(){this.capabilities={}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){this.capabilities=t}getCapabilities(){return this.capabilities}};d();d();var Up=new Map;Up.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});Up.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});Up.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});Up.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});Up.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});Up.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var sIt=new Er("sdk");function Aq(e,t){Up.has(e.get(sn).getEditorPluginInfo().name)||sIt.warn(e,...t)}o(Aq,"deprecationWarning");var kMe=ct(_se()),th=ct(n1());d();d();d();var Fr={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var Xu=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(tNe(t))}};function ut(e,t){let r=ta.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=tNe(r.Errors(s));return[null,{code:Fr.InvalidParams,message:a}]}return t(n,i,s)}}o(ut,"addMethodHandlerValidation");function tNe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(tNe,"createErrorMessage");d();var Sse=ct(Ii());d();var Gp=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var Bq="github.copilot.finishDeviceFlow",Bse=class extends Gp{constructor(){super(...arguments);this.name=Bq;this.arguments=T.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(In).pendingSignIn;if(!i)throw new Sse.ResponseError(Fr.InvalidRequest,"No pending sign in");try{await this.ctx.get(Gl).open(i.verificationUri)}catch(s){Eu.warn(this.ctx,"Failed to open",i.verificationUri),Eu.exception(this.ctx,s,Bq)}try{return await i.status}catch(s){throw new Sse.ResponseError(Fr.DeviceFlowFailed,String(s))}finally{this.ctx.get(In).pendingSignIn=void 0}}},rNe=[Bse];d();d();var Go=class extends Rn{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var Q_="github.copilot.didAcceptCompletionItem",kse=class extends Gp{constructor(){super(...arguments);this.name=Q_;this.arguments=T.Tuple([T.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){let s=this.ctx.get(Go).get(n);return s?(kQ(this.ctx,s),!0):!1}},nNe=[kse];d();var r9t="github.copilot.didAcceptNextEditSuggestionItem",Rse=class extends Gp{constructor(){super(...arguments);this.name=r9t;this.arguments=T.Tuple([T.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(j1).postInsertionTasks(n),!0}},iNe=[Rse];d();var Pse="github.copilot.didAcceptPanelCompletionItem",Dse=class extends Gp{constructor(){super(...arguments);this.name=Pse;this.arguments=T.Tuple([T.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}async handle(r,n){let[i]=n,a=this.ctx.get(Go).get(i);return a?(l4(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},oNe=[Dse];var n9t=[...rNe,...nNe,...iNe,...oNe];function sNe(e,t){let r=new Map;for(let n of n9t){let i=new n(e),s=ta.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand(async(n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=$1(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new Xu(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(sNe,"registerCommands");d();var Zu=class extends mN{constructor(r){super(new nv,new Map);this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${i9t(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(qt[n],this.env[s]),this.setConfig(qt[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r))}};function i9t(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(i9t,"camelCaseToSnakeCaseAllCaps");var o9t="unknown-editor",aNe="unknown-editor-plugin",kq=class extends sn{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:o9t,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:aNe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function lNe(e){return e.getEditorPluginInfo().name!==aNe}o(lNe,"hasValidInfo");d();var uNe=require("node:events");var cNe="initialize",z1=class{constructor(){this.emitter=new uNe.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(cNe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(cNe)}};d();var Y1=ct(n1());var s9t=new Map([[4,Y1.MessageType.Log],[3,Y1.MessageType.Info],[2,Y1.MessageType.Warning],[1,Y1.MessageType.Error]]),Rq=class extends ba{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!RQ(t)&&n!=="console")return;let s={type:s9t.get(r),message:cIe(n,...i)},a=t.get(Kr).connection;try{a.sendNotification(new Y1.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof Y1.ConnectionError)return;throw l}}};d();var fNe=ct(L0());var Dq=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(Kr).connection.sendNotification(new fNe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function dNe(e){let t=e.get(ps),r=t.deactivate();t.setReporter(new Dq(e)),t.setRestrictedReporter(new Dq(e,!0)),await r}o(dNe,"setupRedirectingTelemetryReporters");d();d();var Pq=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}async uninstall(t){return await this.handleUninstall(t)}handleInstall(t,r){r?Xt(t,"installed.reinstall"):Xt(t,"installed.new")}handleUpgrade(t){Xt(t,"installed.upgrade")}async handleUninstall(t){Xt(t,"uninstalled")}};var M_=ct(_se());var R8=class extends Pq{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(sn).getEditorPluginInfo();return await t.get(Xa).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(Xa).listSettings()).length>0}async markInstalled(t){let r=t.get(sn).getEditorPluginInfo();await t.get(Xa).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(sn).getEditorPluginInfo(),n=await t.get(Xa).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,M_.gt)((0,M_.coerce)(r.version),(0,M_.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(sn).getEditorPluginInfo();await t.get(Xa).delete("versions",r.name),(await t.get(Xa).listKeys("versions")).length===0&&await t.get(Xa).deleteSetting("versions")}};d();var mNe=require("events"),Fse=ct(require("path")),Nq=ct(L0());var Nse="didChangeWatchedFiles",a9t={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},Km=class e{constructor(t){this.ctx=t;this.emitter=new mNe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new Nq.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(Kr).connection}init(){this.ctx.get(js).getCapabilities().watchedFiles&&this.connection.onNotification(Nq.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(js).getCapabilities().watchedFiles)return a9t;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){let u=Fse.extname(c).toLowerCase();if(!cT.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Nse,t)}offDidChangeWatchedFiles(t){this.emitter.off(Nse,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Fse.extname(s.uri).toLowerCase();if(!cT.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Nse,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(zn).readFile(t);return n.status==="valid"?n.document:void 0}};d();d();var l9t=T.Object({uri:T.String({minLength:1})});async function c9t(e,t,r){let n=await e.get(zn).readFile(r.uri);return[{status:os(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(c9t,"handleCheckFileStatusChecked");var hNe=ut(l9t,c9t);d();d();var Dn=T.Object({});var u9t=T.Object({options:T.Optional(T.Intersect([T.Object({localChecksOnly:T.Optional(T.Boolean()),forceRefresh:T.Optional(T.Boolean())}),Dn]))});async function f9t(e,t,r){return[await e.get(In).checkAndUpdateStatus(e,r.options),null]}o(f9t,"handleCheckStatusChecked");var pNe=ut(u9t,f9t);d();d();d();d();d();d();function gNe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(gNe,"filterUnsupportedReferences");function ANe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(ANe,"convertToCopilotReferences");var yNe=T.Object({type:T.Literal("github.web-search"),id:T.String(),data:T.Object({query:T.String(),type:T.String(),results:T.Optional(T.Array(T.Object({title:T.String(),excerpt:T.String(),url:T.String()})))}),metadata:T.Optional(T.Object({display_name:T.Optional(T.String()),display_icon:T.Optional(T.String())}))});var D8=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,gNe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var La=class{static{o(this,"ConversationInspector")}};d();var Qa=class{static{o(this,"ConversationProgress")}};d();d();var Wp=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(jr).getGitHubToken(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n}`);let s=this.ctx.get(vn).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Nr).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var d9t=T.Union([T.Literal("included"),T.Literal("blocked"),T.Literal("notfound"),T.Literal("empty")]),X0=T.Object({uri:T.String(),position:T.Optional(T.Object({line:T.Number({minimum:0}),character:T.Number({minimum:0})})),visibleRange:T.Optional(um),selection:T.Optional(um),openedAt:T.Optional(T.String()),activeAt:T.Optional(T.String())}),O_=T.Intersect([T.Object({type:T.Literal("file"),status:T.Optional(d9t),range:T.Optional(um)}),X0]),P8=T.Union([O_,yNe]),vd=T.Union([T.Literal("panel"),T.Literal("inline")]),m9t=T.Union([T.Object({type:T.Literal("text"),text:T.String()}),T.Object({type:T.Literal("image_url"),imageUrl:T.Object({url:T.String(),detail:T.Optional(T.Union([T.Literal("low"),T.Literal("high")]))})})]),Lse=T.Union([T.String(),T.Array(m9t)]),CNe=T.Object({request:Lse,response:T.Optional(T.String()),agentSlug:T.Optional(T.String())});function Fq(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(Fq,"convertToMessageContent");function Lq(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(Lq,"appendToMessage");d();var xNe=ct(ef());var Hp=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new rr([(0,xNe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new rr(u.filter(([m,h])=>!N8(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:vu(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||N8(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new rr([["```"+this.doc.languageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function N8(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(N8,"isEmptyRange");var bNe=ct(require("path"));var vNe=X0,Qse=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=await r.readFile(t.uri),i=os(n);if(await this.turnContext.collectFile(b0,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new Hp(n.document,t.selection,t.visibleRange),l=await r.getRelativePath(n.document);if(i==="empty")return new rr([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(N8(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new rr([...c,...u])}else if(n.status==="invalid")return new rr([`The currently open file \`${bNe.basename(t.uri)}\` is content excluded.`])}},b0="current-editor",Qq=class{constructor(t){this._resolver=t;this.id=b0;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Qse(t)}};d();d();var Ma=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},Mse=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},Ose=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},Tl=class{constructor(t,r,n,i,s,a="explicit",l=[],c=async()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new Mse(this._resolver(t),this.id,this.stepTitle)}processor(t){return new Ose(this._processor(t),this.id)}};var INe=T.Object({name:T.String(),url:T.String()}),TNe=T.Object({path:T.String(),head:T.Optional(T.Object({name:T.String(),upstream:T.Optional(INe)})),remotes:T.Optional(T.Array(INe))}),Use=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}async processSkill(t){this.turnContext.collectLabel(J4,"git repository information");let r=[];return r.push([new rr(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new rr([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new rr([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new rr(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new rr([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new rr(r)}},J4="git-metadata",Mq=class extends Tl{static{o(this,"GitMetadataSkill")}constructor(t){super(J4,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Use(r))}};async function wNe(e){let t=await e.skillResolver.resolve(b0);if(t){let l=t.uri,c=X2(e.ctx,l);if(p5e(c))return{repoInfo:c,skillUsed:b0}}let r=await e.skillResolver.resolve(J4);if(!r||!r.remotes||r.remotes.length===0){_n.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(l=>l.name==="origin")??r.remotes[0],s=WY(i.url),a=ja(r.path);if(!(!s||!a))return{repoInfo:{baseFolder:a,url:i.url,...s},skillUsed:J4}}o(wNe,"extractRepoInfo");async function _Ne(e){let t=[];return await h9t(e,t),await p9t(e,t),await g9t(e,t),t}o(_Ne,"skillsToReference");async function h9t(e,t){let r=await A9t(e);r&&t.push(r)}o(h9t,"addRepositoryReference");async function p9t(e,t){let r=await y9t(e);r&&t.push(r)}o(p9t,"addSelectionReference");async function g9t(e,t){let r=[],n=await E9t(e);n&&r.push(n),r.push(...await x9t(e)),r.length>0&&t.push(...r)}o(g9t,"addFileReferences");async function A9t(e){let t=await wNe(e);if(t){let r=e.ctx.get(Wp),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(A9t,"gitMetadataToReference");async function y9t(e){let t=await e.skillResolver.resolve(b0);if(t&&t.selection){let n=await e.ctx.get(zn).readFile(t.uri),i=os(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return await C9t(t,n.document)}}o(y9t,"currentEditorToSelectionReference");async function C9t(e,t){if(e.selection&&!N8(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(C9t,"extractSelection");async function E9t(e){let t=await e.skillResolver.resolve(b0);if(t){let n=await e.ctx.get(zn).readFile(t.uri),i=os(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.languageId}}}}o(E9t,"currentEditorToFileReference");async function x9t(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(zn);for(let i of r)if(i.type==="file"){let s=await n.readFile(i.uri),a=os(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.languageId}})}}}return t}o(x9t,"fileReferenceToPlatformFileReference");d();d();d();d();var FNe=ct(qq()),Hse=ct(require("path"));var LNe=500,R9t=Math.floor(.25*LNe),Gq=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Hse.default.extname(__filename)===".ts"?Hse.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await FNe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=require(c).getTokenizer(l),p=h.tokenize(s),A=p.length,E=[],x=0;for(;x<A;){let v=x+u>=A,b=v?A:x+u,S=p.slice(x,b),k=h.detokenize(S),P=s.indexOf(k);E.push({id:`${a.toString()}#${x}`,chunk:k,tokenCount:S.length,range:{start:P,end:P+k.length}}),x=v?b:b-f}return E},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:LNe,overlap:R9t}}),n}};var D9t="fixedSize",P9t=new Map([["fixedSize",Gq]]);function QNe(e){let t=e==="default"?D9t:e,r=P9t.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(QNe,"getChunkingAlgorithm");d();d();var Wq=ct(I2()),K1=ct(require("fs")),MNe=require("os"),Id=ct(require("path")),F8=require("process");var Vse=5e4,N9t=new Er("workspaceChunks"),Hq=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Id.basename(r),i=(0,Wq.SHA256)(r).toString().substring(0,this.pathHashLength);this.cacheRootPath=Id.join(F9t(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,Wq.SHA256)(t).toString().substring(0,this.pathHashLength),n=Id.basename(t);return Id.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await K1.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await K1.promises.mkdir(Id.dirname(n),{recursive:!0}),await K1.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){N9t.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await K1.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await K1.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Id.join(this.cacheRootPath,n))}}async getFileHash(t){let r=await K1.promises.readFile(xo.parse(t).fsPath,{encoding:"utf8"});return(0,Wq.SHA256)(r).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=xo.file(t).toString(),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=ja(t);if(!r)return[];let n;try{n=await K1.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=xo.file(Id.join(r,s)).toString();i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await K1.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function F9t(){return F8.env.XDG_CACHE_HOME&&Id.isAbsolute(F8.env.XDG_CACHE_HOME)?F8.env.XDG_CACHE_HOME+"/github-copilot":(0,MNe.platform)()==="win32"?F8.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":F8.env.HOME+"/.cache/github-copilot"}o(F9t,"getXdgCachePath");var Vq=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new $se;this.status="notStarted",this.workspaceChunks=new Hq(t,r),this.cancellationToken=new jse,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(Ym).getWatchedFiles({uri:this.workspaceFolder}),i=t.get(er),s=await i.updateExPValuesAndAssignments(),a=i.ideChatProjectContextFileCountThreshold(s);this._totalFileCount=n.length,n.length>a&&(this._fileCountExceeded=!0,n=n.slice(0,a));let l=n.map(async c=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,c))});try{await Promise.all(l)}catch(c){Lo(t,c,"ChunkingProvider.chunk"),await this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>Vse&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async l=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(l.uri),await this._chunkLimiter.queue(()=>this._chunk(t,l)))});try{await Promise.all(n)}catch(l){Lo(t,l,"ChunkingProvider.chunkFiles"),await this.terminateChunking()}await this.workspaceChunks.getChunksCount()>Vse&&(this._chunkCountExceeded=!0);let i=t.get(er),s=await i.updateExPValuesAndAssignments(),a=i.ideChatProjectContextFileCountThreshold(s);return await this.workspaceChunks.getFilesCount()>a&&(this._fileCountExceeded=!0),SCe(...r.map(l=>this.workspaceChunks.getChunks(l)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(Xn).getBestChatModelConfig(Xo("user")))}async terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},jse=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},$se=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var Oa=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=QNe(r),i=new n;return new Vq(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n);let i=this.workspaceChunkingProviders.get(t);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t,i)),i}getParentFolder(t){return[...this.workspaceChunkingProviders.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}async terminateChunking(t,r){let n=this.getImplementation(r);await n.terminateChunking();let s=tn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});Xt(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r)}async clearChunks(t,r){await this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=tn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return Xt(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();var L8=class{constructor(t){this.request=t;this.id=Sr();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[]}static{o(this,"Turn")}},jq=class e{constructor(t=[],r="panel",n="en"){this.turns=t;this.source=r;this.userLanguage=n;this._id=Sr();this._timestamp=Date.now()}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage);return r._id=this.id,r._timestamp=this.timestamp,r}get id(){return this._id}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}};d();d();d();var ONe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},UNe="Alright, This response contains a code citation.";d();var qNe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var GNe=ct(require("fs")),Z0=ct(require("path"));var zse=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],Yse="test_",G_={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},W_=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Qs(t),n=Z0.extname(r).replace(".",""),i=G_[n]??{location:"sameFolder",prefix:Yse,suffix:zse},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=ja(gu(t)),l===void 0)return}else{let u=ja(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=Z0.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=xo.file(l).toString();if(await this.fileExists(c))return ks(c,s[0])}parseTestFilePath(t){try{return xo.file(t).toString()}catch(r){ei.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Qs(t),n=Z0.extname(r).replace(".",""),i=G_[n]??{location:"sameFolder",prefix:Yse,suffix:zse},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=gu(t):l=this.determineImplFolder(t);for(let c of s){let u=ks(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=ja(t);if(r===void 0)return;let n=Z0.extname(Qs(t)).replace(".",""),i,s=G_[n]?.location??"sameFolder";s==="sameFolder"?i=Z0.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,G_[n]);if(a.length>0)return xo.file(a[0]).toString()}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${Z0.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return GNe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&ja(this.baseUri))??"",i=Z0.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(Z0.sep)}getRelativeTestFolder(t,r,n,i){let s=Z0.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=Z0.extname(Qs(t)).replace(".",""),n=gu(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};async function H_(e){let t=Qs(e),r=Z0.extname(t),n=G_[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(zse.some(s=>t.endsWith(s+r))||t.startsWith(Yse))}o(H_,"isTestFile");d();var WNe=["indexed","indexing","not_indexed"],vy=class{constructor(){this._cache=new Rn(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx,s=i.get(vn).getBlackbirdIndexingStatusUrl();if(!n)return!1;let a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n}`},c=await i.get(Nr).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=e1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function HNe(e,t,r,n){let i=So(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get(jr).getToken(),c=jb(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await L9t(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(HNe,"fetchEmbeddings");async function L9t(e,t,r,n,i,s){let a=Sr(),l=i.map(u=>u.text),c=await Ux(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,Vb(e));if(c.status!==200||s.isCancellationRequested){Lo(e,new J1(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(L9t,"sendEmbeddingsRequest");d();d();var $q=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var Q9t="cosine",M9t=new Map([["cosine",$q]]);function VNe(e){let t=e==="default"?Q9t:e,r=M9t.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(VNe,"getScoringAlgorithm");d();var tf=class{constructor(){this.workspaceScoringProviders=new Rn(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=VNe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r)}};var jNe={modelFamily:cP.textEmbedding3Small,scoringType:"default",dimensions:null};async function $Ne(e,t,r,n,i,s,a,l=jNe){let c={...jNe,...l},u=U9t(e,t,r,n);_n.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(Xn).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await HNe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let A=h.findIndex(P=>P.id==="userQuery");if(A===void 0)return[];let E=h.splice(A,1)[0];if(s.isCancellationRequested)return[];let x=performance.now(),v=q9t(e,t,h,E,c.scoringType),b=performance.now();a.rerankingTimeMs=Math.floor(b-x);let S=v.slice(0,i);return _n.debug(e,`EmbeddingsReranker: Returning ${S.length} snippets`),S.map(P=>u.find(N=>N.id===P.id).id)}o($Ne,"rerankSnippets");function U9t(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(U9t,"formatEmbeddingsInput");function q9t(e,t,r,n,i){let s=e.get(tf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(q9t,"scoreEmbeddings");d();d();d();var Jse=ct(qq());var G9t=.75,W9t=1.2,H9t=47,zq=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await Yq();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,H9t),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(Oa).getChunks(this.workspaceFolder),n=d5(r,async s=>({...s,chunk:s.chunk.toLowerCase()})),i=d5(n,async s=>s.chunk);return await V9t(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(Oa).getChunks(this.workspaceFolder),a=new Kse(i);for await(let l of s){let c=await j9t({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}async deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}async terminateRanking(){}};async function V9t(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=Jse.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(V9t,"calculateIDFValues");async function j9t(e,t,r,n){return{score:await Jse.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let A=u[p],E=(a.match(new RegExp(p,"g"))||[]).length,x=A*(E*(f+1)),v=E+f*(1-m+m*l/c);h+=x/v}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:W9t,b:G9t}}),...e}}o(j9t,"calculateBM25Score");var Kse=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var z9t="bm25",Y9t=new Map([["bm25",zq]]);function zNe(e){let t=e==="default"?z9t:e,r=Y9t.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(zNe,"getRankingAlgorithm");var ec=class{constructor(){this.workspaceRankingProviders=new Rn(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=zNe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function YNe(e,t){let r=e.ctx,n=await r.get(Xn).getBestChatModelConfig(Xo("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(Jl).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new ua(r),c=await Ka(r,e.turn.id,e.conversation.id),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(_n.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Lo(r,new J1(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(YNe,"parseUserQuery");var KNe=ct(ef());var J1=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},Kq=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(Oa),s=i.status(t.turn.workspaceFolder),a=n.get(ec),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(Oa).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await YNe(t,t.cancelationToken)}catch(A){let E=new J1(A);Lo(i,E,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(ec),m=[],h=performance.now();try{let A=await f.query(i,n,l);r.localSnippetCount=A.length,m=A}catch(A){let E=new J1(A);Lo(i,E,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=nn(t.turn.request.message),l=[];try{l=await $Ne(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new J1(f);Lo(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(zn);for(let f of l){let m=f.split("#")[0],h=await u.readFile(m),p=r.find(A=>A.id===f);if(h.status==="valid"){let A=h.document.positionAt(p.range.start),E=h.document.positionAt(p.range.end),x=oo.range(A,E);c.push({uri:h.document.uri,range:x,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...aRe},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return _n.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(Oa).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return KNe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var XNe=ct(JNe()),Zq=ct(qq()),ZNe=ct(require("os")),eFe=ct(ef());var X9t=Math.max(ZNe.cpus().length-1,1),V_=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new XNe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await Zq.start({maxWorkers:X9t})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await Zq.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},Yq=V_.startWorkerPool.bind(V_);var oun=T.Object({uri:T.String(),snippet:T.String(),range:T.Object({start:T.Object({line:T.Number(),character:T.Number()}),end:T.Object({line:T.Number(),character:T.Number()})})}),eae=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(Q8);return}let r=[],n=this.turnContext.ctx.get(zn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.readFile(a);if(u.status==="valid"){let f=new Hp(u.document,c,c),m=new rr([l]),p=await H_(a)?.5:.8;r.push([`Code excerpt from file \`${ja(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(M8,a,os(u),c)}}if(r.length>0)return r.unshift([new rr(["The user wants you to consider the following snippets when computing your answer."]),1]),new rr(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},Q8="collect-project-context",Jq=class{constructor(t,r=[new Kq]){this.ctx=t;this.snippetProviders=r;t.get(zu).onChange(n=>{this.onWorkspacesAdded(n.added,t),this.onWorkspacesRemoved(n.removed,t)})}static{o(this,"ProjectContextSkillResolver")}async isEnabled(){try{await this.ctx.get(jr).getToken()}catch{return!1}let t=this.ctx.get(er),r=await t.updateExPValuesAndAssignments();return t.ideChatEnableProjectContext(r)}async onWorkspacesAdded(t,r){let n=await Yq();try{await this.doOnWorkspacesAdded(t,r)}finally{await n.stopWorkerPool()}}async doOnWorkspacesAdded(t,r){if(!t.length||!await this.isEnabled())return;let n=o((s,a)=>{let l=s.uri,c=a.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return l!==c&&l.startsWith(c)},"isSubfolder"),i=[];for(let s of t)s&&(i.some(a=>n(s,a))||(i=i.filter(a=>!n(a,s)),i.push(s)));for(let s of i){let a=r.get(Oa);if(!s.uri)continue;let l=r.get(Ym);if(l.shouldStartWatching(s)){l.startWatching(s);let c=l.terminateSubfolderWatchers(s),u=r.get(ec),f=r.get(tf);for(let h of c)await a.terminateChunking(r,h),await u.terminateRanking(r,h),f.terminateScoring(r,s.uri);let m=await a.chunk(r,s.uri);if(a.status(s.uri)!=="completed"){l.terminateWatching(s);continue}await u.initialize(r,s.uri,m),l.onFileChange(s,async({documents:h,type:p})=>{let A=await Yq();try{let E=h.map(x=>x.uri);if(p==="delete"||p==="update"){let x=await a.deleteFileChunks(s.uri,E);await u.deleteEmbeddings(r,s.uri,x)}if(p==="create"||p==="update"){let x=await a.chunk(r,s.uri,h);await u.addChunks(r,s.uri,x)}}finally{await A.stopWorkerPool()}})}}}async onWorkspacesRemoved(t,r){if(!t.length||!await this.isEnabled())return;let n=r.get(Oa);for(let i of t){let s=i.uri;if(!s)continue;let a=n.getParentFolder(s);if(a){let f=await n.deleteSubfolderChunks(a,s);await r.get(ec).deleteEmbeddings(r,a,f);continue}r.get(Ym).terminateWatching(i),await n.terminateChunking(r,s),await r.get(ec).terminateRanking(r,s),r.get(tf).terminateScoring(r,s)}n.workspaceCount===0&&await V_.forceStopWorkerPool()}async resolveSkill(t){await t.steps.start(Q8,"Collecting relevant project context"),await t.info(eFe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let r=this.snippetProviders.map(async a=>a.snippetProviderStatus(t)),n=await Promise.all(r),i="not_indexed",s;for(let a of WNe){let l=n.findIndex(c=>c===a);if(l!==-1){i=a,s=this.snippetProviders[l];break}}switch(i){case"indexed":{let{snippets:a,measurements:l}=await s.provideSnippets(t);if(await lRe(t,s.providerType,l),a.length===0){await t.steps.error(Q8,"No project context found");return}return await t.steps.finish(Q8),a}case"indexing":{await t.steps.error(Q8,"Indexing repository, please try again later");return}case"not_indexed":{await t.steps.error(Q8,"No project context available");return}}}},M8="project-context",Xq=class extends Tl{static{o(this,"ProjectContextSkill")}constructor(t){super(M8,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new eae(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],async r=>{let n=r.get(er),i=await n.updateExPValuesAndAssignments();return n.ideChatEnableProjectContext(i)})}};d();var tFe=T.Object({labels:T.Array(T.String())}),tae=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}async processSkill(t){let r=[];return r.push([new rr(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new rr([`- ${n}`]),.9]),this.turnContext.collectLabel(Jm,n)}),new rr(r)}},Jm="project-labels",eG=class{constructor(t){this._resolver=t;this.id=Jm;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new tae(t)}};d();var tG=ct(ef());var nFe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},iFe=tG.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,oFe=tG.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,Z9t=tG.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,rae=`

`,rFe=iFe+rae+oFe;function sFe(e){let t=1;if(e.length===0)return{reply:rFe,vulnerabilities:t};if(e==="0")return{reply:rFe,vulnerabilities:0};if(e==="help")return{reply:Z9t,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=iFe+rae:i==="c"&&(n+=oFe+rae);return{reply:n.trimEnd(),vulnerabilities:t}}o(sFe,"parseVulnerabilitiesInstructions");var aFe=ct(ef());var e7t="Oops, your response got filtered. Vote down if you think this shouldn't have happened",t7t="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",nae=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},r7t=new nae,iae=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}async response(t,r){return new wl(t7t,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},n7t=new iae,oae=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}async response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new wl("Alright, I'm producing a notification",void 0,[],s)}},i7t=new oae,sae=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}async response(t,r){return t.turn.status="filtered",new wl(e7t,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},o7t=new sae,aae=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new wl(await cFe(t))}},s7t=new aae,lae=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}async requiredSkills(t){return[Jm,b0]}instructions(t,r){return"Create a function that prints a christmas tree"}},a7t=new lae,cae=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}async response(t){return new wl(nn(t.turn.request.message))}},l7t=new cae,uae=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}async response(t,r){let n=t.ctx.get(_l).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=aFe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new wl(i)}return new wl("No prompt available")}},c7t=new uae,fae=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new wl(await uFe(t,n,i))}},u7t=new fae,dae=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}async response(t,r){let{reply:n,vulnerabilities:i}=sFe(r);for(let s=0;s<i;s++)t.turn.annotations.push(nFe);return new wl(n,void 0,t.turn.annotations)}},f7t=new dae,mae=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}async response(t,r){return t.turn.annotations.push(ONe),new wl(UNe,void 0,t.turn.annotations)}},d7t=new mae,hae=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}async response(t,r){return new wl(qNe)}},m7t=new hae,pae=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},h7t=new pae,gae=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}async requiredSkills(t){return[M8]}},p7t=new gae,Aae=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}async response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new wl("Alright, I'm producing a notification",void 0,[],[],[],t)}},g7t=new Aae;function lFe(){return[r7t,n7t,i7t,o7t,a7t,s7t,l7t,c7t,u7t,f7t,d7t,g7t,m7t,h7t,p7t]}o(lFe,"getDebugTemplates");d();d();function Ty(e,t){if(e.length==0)return new rr([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new rr(r)}o(Ty,"weighElidableList");var fFe=T.Object({uri:T.String(),problems:T.Array(T.Object({message:T.String(),range:um}))}),yae=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=await r.readFile(t.uri);if(await this.turnContext.collectFile(wy,t.uri,os(n)),n.status==="valid"){let i=await r.getRelativePath(n.document);this.turnContext.collectLabel(wy,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(wy,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new rr([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),Ty(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new rr([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.languageId;i.push(new rr([["```"+l,1],[vu(a),.8],["```",1]]))}return new rr(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(Xn).getBestChatModelConfig(Xo("user"))).maxRequestTokens,n=t.makePrompt(Math.floor(r*.1));return new rr([n])}},wy="problems-in-active-document",rG=class extends Tl{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(wy,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new yae(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var nG=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=await this.turnContext.ctx.get(Wr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new W_(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=await H_(t.uri);if(s&&!a){let l=t.languageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!await H_(t.uri))return;let n=await this.turnContext.ctx.get(Wr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new W_(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.languageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new rr([[`${A7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new rr([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new rr([[`${y7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new rr([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new rr([[`${C7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new rr([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t.toString())){let r=this.turnContext.ctx.get(zn),n=await r.readFile(t.toString());if(await this.turnContext.collectFile(Xm,t.toString(),os(n)),n.status==="valid"){let i=await r.getRelativePath(n.document);return[vu(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(Qo).stat(t),!0}catch{return!1}}}},A7t="Code excerpt from the implementation source file",y7t="Code excerpt from the test file",C7t="Code excerpt from an example test file";var dFe=T.Object({currentFileUri:T.String(),sourceFileUri:T.Optional(T.String()),testFileUri:T.Optional(T.String())}),Eae=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=new nG(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.readFile(t.testFileUri);if(await this.turnContext.collectFile(Xm,t.testFileUri,os(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.languageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.readFile(t.sourceFileUri);if(await this.turnContext.collectFile(Xm,t.sourceFileUri,os(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.languageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.readFile(t.sourceFileUri);if(await this.turnContext.collectFile(Xm,t.sourceFileUri,os(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.readFile(t.testFileUri);if(await this.turnContext.collectFile(Xm,t.testFileUri,os(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},Xm="test-context",iG=class extends Tl{static{o(this,"TestContextSkill")}constructor(t){super(Xm,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new Eae(r))}};d();var mFe=ct(ef());var hFe=T.Object({failures:T.Array(T.Object({testName:T.String(),testSuite:T.Optional(T.String()),testFileUri:T.String(),failureReason:T.Optional(T.String()),testLocation:um}))}),xae=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(eE,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new rr(["The latest test run produced the following failures and errors:"]);return new rr([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(zn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.readFile(s);if(await this.turnContext.collectFile(eE,s,os(l)),l.status==="valid"){let c=await r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new rr(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new rr([mFe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new rr(n)}appendCode(t,r,n){let i=[new rr([`
The code of file \`${r}\` is:
`]),.6],s=[new rr([["```"+n.languageId,1],[vu(n.getText()),.9],["```",1]]),.7];return new rr([[t,1],i,s])}},eE="test-failures",oG=class extends Tl{static{o(this,"TestFailuresSkill")}constructor(t){super(eE,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new xae(r))}};var Td=ct(ef());var wl=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},tE=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}async requiredSkills(t){return this.skills}},E7t=new tE("tests","Generate unit tests","Generate Tests",Td.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[Xm,eE],["chat-panel","editor"]),x7t=new tE("simplify","Simplify the code","Simplify This",Td.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],Td.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),b7t=new tE("fix","Fix problems and compile errors","Fix This",Td.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[wy],["editor","chat-panel","inline"],Td.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),v7t=new tE("explain","Explain how the code works","Explain This",Td.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],Td.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),I7t=new tE("doc","Document the current selection of code","Generate Docs",Td.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],Td.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),bae=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}async response(t){let r=Tae(t.conversation),n=Td.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new wl(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new wl(n)}},T7t=new bae,vae=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}async response(t){let r=Iae(t.ctx).filter(i=>i!=this),n=Td.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new wl(n)}},w7t=new vae;function j_(){return[E7t,x7t,b7t,v7t,I7t,T7t,w7t,...lFe()]}o(j_,"getPromptTemplates");function Iae(e){let t=j_();return!iC(e)&&!fm(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(Iae,"getUserFacingPromptTemplates");var wae=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},Wi=class{constructor(t){this.ctx=t;this.conversations=new Rn(100)}static{o(this,"Conversations")}async create(t,r="panel",n){let i=new jq([],r,n);return this.conversations.set(i.id,new wae(i,t)),i}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a){let l=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.workspaceFolder=i),s&&s.length>0&&(r.ignoredSkills=s.map(c=>({skillId:c}))),a&&(r.agent={agentSlug:a.agentSlug},r.confirmationResponse=a),await this.determineAndApplyAgent(l,r),await this.determineAndApplyTemplate(l,r),l.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&nn(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(nn(r.request.message),"@");(await jp(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(nn(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(nn(r.request.message),"/"),s=j_().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Ma).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){return this.getAll().find(r=>r.hasTurn(t))}};d();function kFe(e){return typeof e>"u"||e===null}o(kFe,"isNothing");function _7t(e){return typeof e=="object"&&e!==null}o(_7t,"isObject");function S7t(e){return Array.isArray(e)?e:kFe(e)?[]:[e]}o(S7t,"toArray");function B7t(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(B7t,"extend");function k7t(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(k7t,"repeat");function R7t(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(R7t,"isNegativeZero");var D7t=kFe,P7t=_7t,N7t=S7t,F7t=k7t,L7t=R7t,Q7t=B7t,Za={isNothing:D7t,isObject:P7t,toArray:N7t,repeat:F7t,isNegativeZero:L7t,extend:Q7t};function RFe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o(RFe,"formatError");function z_(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=RFe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(z_,"YAMLException$1");z_.prototype=Object.create(Error.prototype);z_.prototype.constructor=z_;z_.prototype.toString=o(function(t){return this.name+": "+RFe(this,t)},"toString");var jc=z_;function _ae(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(_ae,"getLine");function Sae(e,t){return Za.repeat(" ",t-e.length)+e}o(Sae,"padStart");function M7t(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=_ae(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=Za.repeat(" ",t.indent)+Sae((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=_ae(e.buffer,n[a],i[a],e.position,m),l+=Za.repeat(" ",t.indent)+Sae((e.line+1).toString(),f)+" | "+u.str+`
`,l+=Za.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=_ae(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=Za.repeat(" ",t.indent)+Sae((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(M7t,"makeSnippet");var O7t=M7t,U7t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],q7t=["scalar","sequence","mapping"];function G7t(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(G7t,"compileStyleAliases");function W7t(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(U7t.indexOf(r)===-1)throw new jc('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=G7t(t.styleAliases||null),q7t.indexOf(this.kind)===-1)throw new jc('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o(W7t,"Type$1");var v0=W7t;function pFe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(pFe,"compileList");function H7t(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(H7t,"compileMap");function kae(e){return this.extend(e)}o(kae,"Schema$1");kae.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof v0)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new jc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof v0))throw new jc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new jc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new jc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof v0))throw new jc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(kae.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=pFe(i,"implicit"),i.compiledExplicit=pFe(i,"explicit"),i.compiledTypeMap=H7t(i.compiledImplicit,i.compiledExplicit),i},"extend");var V7t=kae,j7t=new v0("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),$7t=new v0("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),z7t=new v0("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),Y7t=new V7t({explicit:[j7t,$7t,z7t]});function K7t(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(K7t,"resolveYamlNull");function J7t(){return null}o(J7t,"constructYamlNull");function X7t(e){return e===null}o(X7t,"isNull");var Z7t=new v0("tag:yaml.org,2002:null",{kind:"scalar",resolve:K7t,construct:J7t,predicate:X7t,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function eTt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(eTt,"resolveYamlBoolean");function tTt(e){return e==="true"||e==="True"||e==="TRUE"}o(tTt,"constructYamlBoolean");function rTt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(rTt,"isBoolean");var nTt=new v0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:eTt,construct:tTt,predicate:rTt,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function iTt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(iTt,"isHexCode");function oTt(e){return 48<=e&&e<=55}o(oTt,"isOctCode");function sTt(e){return 48<=e&&e<=57}o(sTt,"isDecCode");function aTt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!iTt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!oTt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!sTt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o(aTt,"resolveYamlInteger");function lTt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(lTt,"constructYamlInteger");function cTt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Za.isNegativeZero(e)}o(cTt,"isInteger");var uTt=new v0("tag:yaml.org,2002:int",{kind:"scalar",resolve:aTt,construct:lTt,predicate:cTt,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),fTt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function dTt(e){return!(e===null||!fTt.test(e)||e[e.length-1]==="_")}o(dTt,"resolveYamlFloat");function mTt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(mTt,"constructYamlFloat");var hTt=/^[-+]?[0-9]+e/;function pTt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Za.isNegativeZero(e))return"-0.0";return r=e.toString(10),hTt.test(r)?r.replace("e",".e"):r}o(pTt,"representYamlFloat");function gTt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Za.isNegativeZero(e))}o(gTt,"isFloat");var ATt=new v0("tag:yaml.org,2002:float",{kind:"scalar",resolve:dTt,construct:mTt,predicate:gTt,represent:pTt,defaultStyle:"lowercase"}),yTt=Y7t.extend({implicit:[Z7t,nTt,uTt,ATt]}),CTt=yTt,DFe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),PFe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ETt(e){return e===null?!1:DFe.exec(e)!==null||PFe.exec(e)!==null}o(ETt,"resolveYamlTimestamp");function xTt(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=DFe.exec(e),t===null&&(t=PFe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o(xTt,"constructYamlTimestamp");function bTt(e){return e.toISOString()}o(bTt,"representYamlTimestamp");var vTt=new v0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ETt,construct:xTt,instanceOf:Date,represent:bTt});function ITt(e){return e==="<<"||e===null}o(ITt,"resolveYamlMerge");var TTt=new v0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ITt}),Fae=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function wTt(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Fae;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(wTt,"resolveYamlBinary");function _Tt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Fae,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(_Tt,"constructYamlBinary");function STt(e){var t="",r=0,n,i,s=e.length,a=Fae;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(STt,"representYamlBinary");function BTt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(BTt,"isBinary");var kTt=new v0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:wTt,construct:_Tt,predicate:BTt,represent:STt}),RTt=Object.prototype.hasOwnProperty,DTt=Object.prototype.toString;function PTt(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,DTt.call(i)!=="[object Object]")return!1;for(s in i)if(RTt.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(PTt,"resolveYamlOmap");function NTt(e){return e!==null?e:[]}o(NTt,"constructYamlOmap");var FTt=new v0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:PTt,construct:NTt}),LTt=Object.prototype.toString;function QTt(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],LTt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(QTt,"resolveYamlPairs");function MTt(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(MTt,"constructYamlPairs");var OTt=new v0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:QTt,construct:MTt}),UTt=Object.prototype.hasOwnProperty;function qTt(e){if(e===null)return!0;var t,r=e;for(t in r)if(UTt.call(r,t)&&r[t]!==null)return!1;return!0}o(qTt,"resolveYamlSet");function GTt(e){return e!==null?e:{}}o(GTt,"constructYamlSet");var WTt=new v0("tag:yaml.org,2002:set",{kind:"mapping",resolve:qTt,construct:GTt}),NFe=CTt.extend({implicit:[vTt,TTt],explicit:[kTt,FTt,OTt,WTt]}),Sy=Object.prototype.hasOwnProperty,sG=1,FFe=2,LFe=3,aG=4,Bae=1,HTt=2,gFe=3,VTt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jTt=/[\x85\u2028\u2029]/,$Tt=/[,\[\]\{\}]/,QFe=/^(?:!|!!|![a-z\-]+!)$/i,MFe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function AFe(e){return Object.prototype.toString.call(e)}o(AFe,"_class");function $p(e){return e===10||e===13}o($p,"is_EOL");function nE(e){return e===9||e===32}o(nE,"is_WHITE_SPACE");function $c(e){return e===9||e===32||e===10||e===13}o($c,"is_WS_OR_EOL");function U8(e){return e===44||e===91||e===93||e===123||e===125}o(U8,"is_FLOW_INDICATOR");function zTt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(zTt,"fromHexCode");function YTt(e){return e===120?2:e===117?4:e===85?8:0}o(YTt,"escapedHexLen");function KTt(e){return 48<=e&&e<=57?e-48:-1}o(KTt,"fromDecimalCode");function yFe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(yFe,"simpleEscapeSequence");function JTt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(JTt,"charFromCodepoint");var OFe=new Array(256),UFe=new Array(256);for(rE=0;rE<256;rE++)OFe[rE]=yFe(rE)?1:0,UFe[rE]=yFe(rE);var rE;function XTt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||NFe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(XTt,"State$1");function qFe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=O7t(r),new jc(t,r)}o(qFe,"generateError");function Yr(e,t){throw qFe(e,t)}o(Yr,"throwError");function lG(e,t){e.onWarning&&e.onWarning.call(null,qFe(e,t))}o(lG,"throwWarning");var CFe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&Yr(t,"duplication of %YAML directive"),n.length!==1&&Yr(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Yr(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Yr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&lG(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&Yr(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],QFe.test(i)||Yr(t,"ill-formed tag handle (first argument) of the TAG directive"),Sy.call(t.tagMap,i)&&Yr(t,'there is a previously declared suffix for "'+i+'" tag handle'),MFe.test(s)||Yr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Yr(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function _y(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Yr(e,"expected valid JSON character");else VTt.test(l)&&Yr(e,"the stream contains non-printable characters");e.result+=l}}o(_y,"captureSegment");function EFe(e,t,r,n){var i,s,a,l;for(Za.isObject(r)||Yr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],Sy.call(t,s)||(t[s]=r[s],n[s]=!0)}o(EFe,"mergeMappings");function q8(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&Yr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&AFe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&AFe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)EFe(e,t,s[u],r);else EFe(e,t,s,r);else!e.json&&!Sy.call(r,i)&&Sy.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,Yr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o(q8,"storeMappingPair");function Lae(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Yr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(Lae,"readLineBreak");function Ua(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;nE(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if($p(i))for(Lae(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&lG(e,"deficient indentation"),n}o(Ua,"skipSeparationSpace");function fG(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||$c(r)))}o(fG,"testDocumentSeparator");function Qae(e,t){t===1?e.result+=" ":t>1&&(e.result+=Za.repeat(`
`,t-1))}o(Qae,"writeFoldedLines");function ZTt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),$c(p)||U8(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),$c(i)||r&&U8(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),$c(i)||r&&U8(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),$c(n))break}else{if(e.position===e.lineStart&&fG(e)||r&&U8(p))break;if($p(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,Ua(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(_y(e,s,a,!1),Qae(e,e.line-c),s=a=e.position,l=!1),nE(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return _y(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(ZTt,"readPlainScalar");function ewt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(_y(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else $p(r)?(_y(e,n,i,!0),Qae(e,Ua(e,!1,t)),n=i=e.position):e.position===e.lineStart&&fG(e)?Yr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Yr(e,"unexpected end of the stream within a single quoted scalar")}o(ewt,"readSingleQuotedScalar");function twt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return _y(e,r,e.position,!0),e.position++,!0;if(l===92){if(_y(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),$p(l))Ua(e,!1,t);else if(l<256&&OFe[l])e.result+=UFe[l],e.position++;else if((a=YTt(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=zTt(l))>=0?s=(s<<4)+a:Yr(e,"expected hexadecimal character");e.result+=JTt(s),e.position++}else Yr(e,"unknown escape sequence");r=n=e.position}else $p(l)?(_y(e,r,n,!0),Qae(e,Ua(e,!1,t)),r=n=e.position):e.position===e.lineStart&&fG(e)?Yr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Yr(e,"unexpected end of the stream within a double quoted scalar")}o(twt,"readDoubleQuotedScalar");function rwt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,A=Object.create(null),E,x,v,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,l=[];else if(b===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),b=e.input.charCodeAt(++e.position);b!==0;){if(Ua(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?b===44&&Yr(e,"expected the node content, but found ','"):Yr(e,"missed comma between flow collection entries"),x=E=v=null,m=h=!1,b===63&&(u=e.input.charCodeAt(e.position+1),$c(u)&&(m=h=!0,e.position++,Ua(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,G8(e,t,sG,!1,!0),x=e.tag,E=e.result,Ua(e,!0,t),b=e.input.charCodeAt(e.position),(h||e.line===n)&&b===58&&(m=!0,b=e.input.charCodeAt(++e.position),Ua(e,!0,t),G8(e,t,sG,!1,!0),v=e.result),p?q8(e,l,A,x,E,v,n,i,s):m?l.push(q8(e,null,A,x,E,v,n,i,s)):l.push(E),Ua(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}Yr(e,"unexpected end of the stream within a flow collection")}o(rwt,"readFlowCollection");function nwt(e,t){var r,n,i=Bae,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Bae===i?i=m===43?gFe:HTt:Yr(e,"repeat of a chomping mode identifier");else if((f=KTt(m))>=0)f===0?Yr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Yr(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(nE(m)){do m=e.input.charCodeAt(++e.position);while(nE(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!$p(m)&&m!==0)}for(;m!==0;){for(Lae(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),$p(m)){c++;continue}if(e.lineIndent<l){i===gFe?e.result+=Za.repeat(`
`,s?1+c:c):i===Bae&&s&&(e.result+=`
`);break}for(n?nE(m)?(u=!0,e.result+=Za.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=Za.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=Za.repeat(`
`,c):e.result+=Za.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!$p(m)&&m!==0;)m=e.input.charCodeAt(++e.position);_y(e,r,e.position,!1)}return!0}o(nwt,"readBlockScalar");function xFe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!$c(a))));){if(l=!0,e.position++,Ua(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,G8(e,t,LFe,!1,!0),s.push(e.result),Ua(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Yr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(xFe,"readBlockSequence");function iwt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,A=null,E=null,x=!1,v=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),b=e.input.charCodeAt(e.position);b!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&$c(n))b===63?(x&&(q8(e,m,h,p,A,null,a,l,c),p=A=E=null),v=!0,x=!0,i=!0):x?(x=!1,i=!0):Yr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,l=e.lineStart,c=e.position,!G8(e,r,FFe,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);nE(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),$c(b)||Yr(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(q8(e,m,h,p,A,null,a,l,c),p=A=E=null),v=!0,x=!1,i=!1,p=e.tag,A=e.result;else if(v)Yr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(v)Yr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(x&&(a=e.line,l=e.lineStart,c=e.position),G8(e,t,aG,!0,i)&&(x?A=e.result:E=e.result),x||(q8(e,m,h,p,A,E,a,l,c),p=A=E=null),Ua(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)Yr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&q8(e,m,h,p,A,null,a,l,c),v&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),v}o(iwt,"readBlockMapping");function owt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Yr(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Yr(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!$c(a);)a===33&&(n?Yr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),QFe.test(i)||Yr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),$Tt.test(s)&&Yr(e,"tag suffix cannot contain flow indicator characters")}s&&!MFe.test(s)&&Yr(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Yr(e,"tag name is malformed: "+s)}return r?e.tag=s:Sy.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Yr(e,'undeclared tag handle "'+i+'"'),!0}o(owt,"readTagProperty");function swt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Yr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!$c(r)&&!U8(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(swt,"readAnchorProperty");function awt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!$c(n)&&!U8(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Sy.call(e.anchorMap,r)||Yr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ua(e,!0,-1),!0}o(awt,"readAlias");function G8(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,A,E,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=aG===r||LFe===r,n&&Ua(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;owt(e)||swt(e);)Ua(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||aG===r)&&(sG===r||FFe===r?E=t:E=t+1,x=e.position-e.lineStart,c===1?l&&(xFe(e,x)||iwt(e,x,E))||rwt(e,E)?f=!0:(a&&nwt(e,E)||ewt(e,E)||twt(e,E)?f=!0:awt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Yr(e,"alias node should not have any properties")):ZTt(e,E,sG===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&xFe(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Yr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Sy.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){A=p[m];break}A||Yr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&Yr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Yr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(G8,"composeNode");function lwt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Ua(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!$c(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Yr(e,"directive name must not be less than one character in length");a!==0;){for(;nE(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!$p(a));break}if($p(a))break;for(r=e.position;a!==0&&!$c(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Lae(e),Sy.call(CFe,n)?CFe[n](e,n,i):lG(e,'unknown document directive "'+n+'"')}if(Ua(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ua(e,!0,-1)):s&&Yr(e,"directives end mark is expected"),G8(e,e.lineIndent-1,aG,!1,!0),Ua(e,!0,-1),e.checkLineBreaks&&jTt.test(e.input.slice(t,e.position))&&lG(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&fG(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ua(e,!0,-1));return}if(e.position<e.length-1)Yr(e,"end of the stream or a document separator is expected");else return}o(lwt,"readDocument");function GFe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new XTt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Yr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)lwt(r);return r.documents}o(GFe,"loadDocuments");function cwt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=GFe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(cwt,"loadAll$1");function uwt(e,t){var r=GFe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new jc("expected a single document in the stream, but found more")}}o(uwt,"load$1");var fwt=cwt,dwt=uwt,WFe={loadAll:fwt,load:dwt},HFe=Object.prototype.toString,VFe=Object.prototype.hasOwnProperty,Mae=65279,mwt=9,Y_=10,hwt=13,pwt=32,gwt=33,Awt=34,Rae=35,ywt=37,Cwt=38,Ewt=39,xwt=42,jFe=44,bwt=45,cG=58,vwt=61,Iwt=62,Twt=63,wwt=64,$Fe=91,zFe=93,_wt=96,YFe=123,Swt=124,KFe=125,I0={};I0[0]="\\0";I0[7]="\\a";I0[8]="\\b";I0[9]="\\t";I0[10]="\\n";I0[11]="\\v";I0[12]="\\f";I0[13]="\\r";I0[27]="\\e";I0[34]='\\"';I0[92]="\\\\";I0[133]="\\N";I0[160]="\\_";I0[8232]="\\L";I0[8233]="\\P";var Bwt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],kwt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Rwt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&VFe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(Rwt,"compileStyleMap");function Dwt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new jc("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Za.repeat("0",n-t.length)+t}o(Dwt,"encodeHex");var Pwt=1,K_=2;function Nwt(e){this.schema=e.schema||NFe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Za.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Rwt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?K_:Pwt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o(Nwt,"State");function bFe(e,t){for(var r=Za.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(bFe,"indentString");function Dae(e,t){return`
`+Za.repeat(" ",e.indent*t)}o(Dae,"generateNextLine");function Fwt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(Fwt,"testImplicitResolving");function uG(e){return e===pwt||e===mwt}o(uG,"isWhitespace");function J_(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Mae||65536<=e&&e<=1114111}o(J_,"isPrintable");function vFe(e){return J_(e)&&e!==Mae&&e!==hwt&&e!==Y_}o(vFe,"isNsCharOrWhitespace");function IFe(e,t,r){var n=vFe(e),i=n&&!uG(e);return(r?n:n&&e!==jFe&&e!==$Fe&&e!==zFe&&e!==YFe&&e!==KFe)&&e!==Rae&&!(t===cG&&!i)||vFe(t)&&!uG(t)&&e===Rae||t===cG&&i}o(IFe,"isPlainSafe");function Lwt(e){return J_(e)&&e!==Mae&&!uG(e)&&e!==bwt&&e!==Twt&&e!==cG&&e!==jFe&&e!==$Fe&&e!==zFe&&e!==YFe&&e!==KFe&&e!==Rae&&e!==Cwt&&e!==xwt&&e!==gwt&&e!==Swt&&e!==vwt&&e!==Iwt&&e!==Ewt&&e!==Awt&&e!==ywt&&e!==wwt&&e!==_wt}o(Lwt,"isPlainSafeFirst");function Qwt(e){return!uG(e)&&e!==cG}o(Qwt,"isPlainSafeLast");function $_(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o($_,"codePointAt");function JFe(e){var t=/^\n* /;return t.test(e)}o(JFe,"needIndentIndicator");var XFe=1,Pae=2,ZFe=3,eLe=4,O8=5;function Mwt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,A=-1,E=Lwt($_(e,0))&&Qwt($_(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=$_(e,c),!J_(u))return O8;E=E&&IFe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=$_(e,c),u===Y_)m=!0,p&&(h=h||c-A-1>n&&e[A+1]!==" ",A=c);else if(!J_(u))return O8;E=E&&IFe(u,f,l),f=u}h=h||p&&c-A-1>n&&e[A+1]!==" "}return!m&&!h?E&&!a&&!i(e)?XFe:s===K_?O8:Pae:r>9&&JFe(e)?O8:a?s===K_?O8:Pae:h?eLe:ZFe}o(Mwt,"chooseScalarStyle");function Owt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===K_?'""':"''";if(!e.noCompatMode&&(Bwt.indexOf(t)!==-1||kwt.test(t)))return e.quotingType===K_?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return Fwt(e,u)}switch(o(c,"testAmbiguity"),Mwt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case XFe:return t;case Pae:return"'"+t.replace(/'/g,"''")+"'";case ZFe:return"|"+TFe(t,e.indent)+wFe(bFe(t,s));case eLe:return">"+TFe(t,e.indent)+wFe(bFe(Uwt(t,a),s));case O8:return'"'+qwt(t)+'"';default:throw new jc("impossible error: invalid scalar style")}}()}o(Owt,"writeScalar");function TFe(e,t){var r=JFe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o(TFe,"blockHeader");function wFe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(wFe,"dropEndingNewline");function Uwt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,_Fe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+_Fe(c,t),i=s}return n}o(Uwt,"foldString");function _Fe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(_Fe,"foldLine");function qwt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=$_(e,i),n=I0[r],!n&&J_(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Dwt(r);return t}o(qwt,"escapeString");function Gwt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(Z1(e,t,l,!1,!1)||typeof l>"u"&&Z1(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(Gwt,"writeFlowSequence");function SFe(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(Z1(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&Z1(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Dae(e,t)),e.dump&&Y_===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(SFe,"writeBlockSequence");function Wwt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),Z1(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Z1(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o(Wwt,"writeFlowMapping");function Hwt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new jc("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=Dae(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),Z1(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&Y_===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=Dae(e,t)),Z1(e,t+1,f,!0,m)&&(e.dump&&Y_===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(Hwt,"writeBlockMapping");function BFe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,HFe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(VFe.call(l.represent,c))n=l.represent[c](t,c);else throw new jc("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(BFe,"detectType");function Z1(e,t,r,n,i,s,a){e.tag=null,e.dump=r,BFe(e,r,!1)||BFe(e,r,!0);var l=HFe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(Hwt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(Wwt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?SFe(e,t-1,e.dump,i):SFe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(Gwt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&Owt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new jc("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o(Z1,"writeNode");function Vwt(e,t){var r=[],n=[],i,s;for(Nae(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(Vwt,"getDuplicateReferences");function Nae(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Nae(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Nae(e[n[i]],t,r)}o(Nae,"inspectNode");function jwt(e,t){t=t||{};var r=new Nwt(t);r.noRefs||Vwt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Z1(r,0,n,!0,!0)?r.dump+`
`:""}o(jwt,"dump$1");var $wt=jwt,zwt={dump:$wt};function Oae(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(Oae,"renamed");var Zfn=WFe.load,edn=WFe.loadAll,Uae=zwt.dump;var tdn=Oae("safeLoad","load"),rdn=Oae("safeLoadAll","loadAll"),ndn=Oae("safeDump","dump");var iE=ct(ef());var qae=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},_l=class{constructor(){this.dump=new Rn(25);this.promptsDump=new Rn(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new qae,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function tLe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(tLe,"filterConversationTurns");function Tae(e){return tLe(e).getLastTurn()?.id}o(Tae,"getLastTurnId");async function cFe(e){let t=tLe(e.conversation),r=Tae(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(_l).getDump(r),s=Jwt(i,t.turns);ei.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await Xwt(i,e.ctx);return iE.default`
        ${Kwt(e.conversation,r)}
        ${Ywt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(cFe,"getConversationDump");function Ywt(e){let t=e.get(sn);return iE.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o(Ywt,"getEditorInfoDumpMessage");function Kwt(e,t){return iE.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(Kwt,"getInfoDumpMessage");async function uFe(e,t,r){let n=e.ctx.get(Ma),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(Wi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&nn(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${nn(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=iE.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=iE.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${Uae(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.makePrompt(1e3);i+=iE.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(uFe,"getSkillsDump");function Jwt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:nn(n.request.message)};return n.response&&(s.response=nn(n.response.message)),s})};return Uae(r)}o(Jwt,"toSimulationFormat");async function Xwt(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(Wr).getTextDocument(s),l=a?.getText();ei.debug(t,`conversation.dump.file
`,l),i+=`
**${s.uri}**

\`\`\`${a?.languageId}
${l}
\`\`\``}return i}o(Xwt,"fileDump");d();function Gae(e,t){let r=So(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(nn(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(Gae,"countMessagesTokens");d();async function rLe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(rLe,"chatBasePrompt");d();d();d();d();d();var Zwt=".github/copilot-instructions.md",e_t=".github/git-commit-instructions.md",dG=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=ks(r,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new py(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,Zwt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,e_t,void 0,i,0)),c});return await Promise.all(a),i}};var W8=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await dG.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function nLe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([vu(i.join(`
`)),1]),i=[],r.push([new rr([s]),1])):r.push([new rr([s]),1]),n=!n):n?i.push(s):r.push([new rr([s]),.8]);return n&&(r.push([vu(i.join(`
`)),1]),r.push([new rr(["```"]),1])),new rr(r)}o(nLe,"fromMessage");function H8(e){let t=Wae(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=iLe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?iLe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(nLe(l))}return r.length>0?new rr([[new rr(["Consider the following conversation history:"]),1],[Ty(r,"inverseLinear"),1]]):null}o(H8,"fromHistory");var t_t=5;function Wae(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&nn(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,t_t).reverse()}o(Wae,"filterTurns");function iLe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=nn(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${nn(e.message)}`}o(iLe,"formatTurnMessage");d();d();d();var r_t=4,Hae={skillIds:[]},mG=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(Xn).getBestChatModelConfig(Xo("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(Jl).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(_n.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(La).inspectFetchResult(h),await this.handleResult(h,f,nn(a),s,u.toolConfig)}else return Hae}async handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),Hae;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,r_t);else return _n.error(this.ctx,"Missing tool call in meta prompt response"),Hae;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return Xt(this.ctx,`${Wc(i)}.metaPrompt`,c,0),Xt(this.ctx,`${Wc(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});Xt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var hG=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return me(t,r,"org.springframework.boot","Spring Boot"),me(t,r,"jakarta.jakartaee-api","Jakarta EE"),me(t,r,"javax:javaee-api","Java EE"),me(t,r,"org.apache.struts:struts2-core","Apache Struts"),me(t,r,"org.hibernate:hibernate-core","Hibernate"),me(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),me(t,r,"javax.faces:jsf-api","JSF"),me(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return me(t,r,"com.google.guava","Google Guava"),me(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),me(t,r,"org.apache.commons:commons-io","Apache Commons IO"),me(t,r,"joda-time:joda-time","Joda-Time"),me(t,r,"com.google.code.gson:gson","Google Gson"),me(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),me(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),me(t,r,"org.apache.commons:commons-net","Apache Commons Net"),me(t,r,"org.apache.poi:poi","Apache POI"),me(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),me(t,r,"junit:junit","JUnit"),me(t,r,"org.testng:testng","TestNG"),me(t,r,"org.spockframework:spock-core","Spock"),me(t,r,"io.cucumber:cucumber-java","Cucumber"),me(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return me(t,r,"org.mockito","Mockito"),me(t,r,"org.assertj","AssertJ"),me(t,r,"org.hamcrest","Hamcrest"),me(t,r,"org.powermock","PowerMock"),me(t,r,"org.jmock","JMock"),me(t,r,"org.easymock","EasyMock"),me(t,r,"org.jmockit:jmockit","JMockit"),me(t,r,"com.github.tomakehurst:wiremock","WireMock"),me(t,r,"org.dbunit:dbunit","DBUnit"),me(t,r,"com.icegreen:greenmail","GreenMail"),me(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),me(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),me(t,r,"io.rest-assured:rest-assured","Rest-Assured"),me(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),me(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},pG=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"@types/node","Node.js"),me(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||me(t,r,"react","React"),me(t,r,"angular","Angular"),me(t,r,"vue","Vue.js"),me(t,r,"ember","Ember.js"),me(t,r,"backbone","Backbone.js"),me(t,r,"meteor","Meteor"),me(t,r,"polymer","Polymer"),me(t,r,"aurelia","Aurelia"),me(t,r,"knockout","Knockout.js"),me(t,r,"dojo","Dojo Toolkit"),me(t,r,"mithril","Mithril.js"),me(t,r,"marionette","Marionette.js"),me(t,r,"marko","Marko.js"),me(t,r,"svelte","Svelte"),me(t,r,"hyperapp","Hyperapp"),me(t,r,"inferno","Inferno.js"),me(t,r,"preact","Preact"),me(t,r,"riot","Riot.js"),me(t,r,"moon","Moon.js"),me(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return me(t,r,"lodash","Lodash"),me(t,r,"moment","Moment.js"),me(t,r,"axios","Axios"),me(t,r,"redux","Redux"),me(t,r,"recoil","Recoil"),me(t,r,"jquery","jQuery"),me(t,r,"d3","D3.js"),me(t,r,"underscore","Underscore.js"),me(t,r,"ramda","Ramda"),me(t,r,"immutable","Immutable.js"),me(t,r,"rxjs","RxJS"),me(t,r,"three","Three.js"),me(t,r,"socket.io","Socket.IO"),me(t,r,"express","Express.js"),me(t,r,"next","Next.js"),me(t,r,"puppeteer","Puppeteer"),me(t,r,"cheerio","Cheerio"),me(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"jest","Jest"),me(t,r,"mocha","Mocha"),me(t,r,"jasmine","Jasmine"),me(t,r,"ava","AVA"),me(t,r,"qunit","QUnit"),me(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return me(t,r,"chai","Chai"),me(t,r,"sinon","Sinon"),me(t,r,"enzyme","Enzyme"),me(t,r,"protractor","Protractor"),me(t,r,"supertest","Supertest"),me(t,r,"nock","Nock"),me(t,r,"cypress","Cypress"),me(t,r,"@testing-library/react","React Testing Library"),r}},gG=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"github.com/gorilla/mux","Gorilla Mux"),me(t,r,"github.com/go-chi/chi","Chi"),me(t,r,"github.com/gin-gonic/gin","Gin"),me(t,r,"github.com/labstack/echo","Echo"),me(t,r,"github.com/revel/revel","Revel"),me(t,r,"github.com/astaxie/beego","Beego"),me(t,r,"github.com/go-martini/martini","Martini"),me(t,r,"github.com/gobuffalo/buffalo","Buffalo"),me(t,r,"github.com/goji/goji","Goji"),me(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return me(t,r,"net/http","net/http"),me(t,r,"fmt","fmt"),me(t,r,"io","io"),me(t,r,"time","time"),me(t,r,"math","math"),me(t,r,"strconv","strconv"),me(t,r,"strings","strings"),me(t,r,"sort","sort"),me(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"github.com/onsi/ginkgo","ginkgo"),me(t,r,"github.com/onsi/gomega","gomega"),me(t,r,"github.com/stretchr/testify","testify"),me(t,r,"gopkg.in/check.v1","gocheck"),me(t,r,"github.com/franela/goblin","goblin"),me(t,r,"github.com/DATA-DOG/godog","godog"),me(t,r,"github.com/stesla/gospec","gospec"),me(t,r,"github.com/rjeczalik/gotest","gotest"),me(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return me(t,r,"github.com/stretchr/testify","Testify"),me(t,r,"github.com/smartystreets/goconvey","GoConvey"),me(t,r,"github.com/onsi/ginkgo","Ginkgo"),me(t,r,"github.com/golang/mock","GoMock"),me(t,r,"gopkg.in/check.v1","GoCheck"),me(t,r,"github.com/franela/goblin","Goblin"),me(t,r,"github.com/DATA-DOG/godog","GoDog"),me(t,r,"github.com/onsi/gomega","Gomega"),me(t,r,"github.com/stesla/gospec","GoSpec"),me(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},AG=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flask","Flask"),me(t,r,"django","Django"),me(t,r,"pyramid","Pyramid"),me(t,r,"tornado","Tornado"),me(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return me(t,r,"requests","requests"),me(t,r,"numpy","numpy"),me(t,r,"pandas","pandas"),me(t,r,"scipy","scipy"),me(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"pytest","Pytest"),me(t,r,"unittest","Unittest"),me(t,r,"doctest","Doctest"),me(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mock","Mock"),me(t,r,"hypothesis","Hypothesis"),me(t,r,"behave","Behave"),me(t,r,"lettuce","Lettuce"),me(t,r,"testify","Testify"),me(t,r,"pyhamcrest","PyHamcrest"),r}},yG=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"laravel/framework","Laravel"),me(t,r,"symfony/symfony","Symfony"),me(t,r,"slim/slim","Slim"),me(t,r,"cakephp/cakephp","CakePHP"),me(t,r,"yiisoft/yii2","Yii"),me(t,r,"zendframework/zendframework","Zend Framework"),me(t,r,"phalcon/cphalcon","Phalcon"),me(t,r,"bcosca/fatfree","Fat-Free"),me(t,r,"fuel/fuel","FuelPHP"),me(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return me(t,r,"monolog/monolog","Monolog"),me(t,r,"vlucas/phpdotenv","PHP dotenv"),me(t,r,"symfony/console","Symfony Console"),me(t,r,"guzzlehttp/guzzle","GuzzleHttp"),me(t,r,"ramsey/uuid","Ramsey UUID"),me(t,r,"doctrine/orm","Doctrine ORM"),me(t,r,"php-di/php-di","PHP-DI"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"symfony/finder","Symfony Finder"),me(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"phpunit/phpunit","PHPUnit"),me(t,r,"behat/behat","Behat"),me(t,r,"phpspec/phpspec","PHPSpec"),me(t,r,"codeception/codeception","Codeception"),me(t,r,"atoum/atoum","Atoum"),me(t,r,"pestphp/pest","PestPHP"),me(t,r,"kahlan/kahlan","Kahlan"),me(t,r,"peridot-php/peridot","Peridot"),me(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockery/mockery","Mockery"),me(t,r,"php-mock/php-mock","PHP-Mock"),me(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),me(t,r,"padraic/mockery","Padraic Mockery"),me(t,r,"phpspec/prophecy","PHPSpec Prophecy"),me(t,r,"phpunit/php-invoker","PHPUnit Invoker"),me(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),me(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},CG=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"Microsoft.NETCore.App",".NET Core"),me(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return me(t,r,"EntityFramework","Entity Framework"),me(t,r,"Newtonsoft.Json","Newtonsoft.Json"),me(t,r,"AutoMapper","AutoMapper"),me(t,r,"Serilog","Serilog"),me(t,r,"Dapper","Dapper"),me(t,r,"Polly","Polly"),me(t,r,"FluentValidation","FluentValidation"),me(t,r,"MediatR","MediatR"),me(t,r,"Hangfire","Hangfire"),me(t,r,"RabbitMQ.Client","RabbitMQ.Client"),me(t,r,"MassTransit","MassTransit"),me(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),me(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),me(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),me(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"xunit","xUnit"),me(t,r,"NUnit","NUnit"),me(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return me(t,r,"Moq","Moq"),me(t,r,"FluentAssertions","FluentAssertions"),me(t,r,"Bogus","Bogus"),me(t,r,"RestSharp","RestSharp"),me(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},EG=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flutter","Flutter"),me(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return me(t,r,"dartx","dartx"),me(t,r,"provider","Provider"),me(t,r,"rxdart","RxDart"),me(t,r,"dio","Dio"),me(t,r,"json_serializable","json_serializable"),me(t,r,"freezed","Freezed"),me(t,r,"moor","Moor"),me(t,r,"hive","Hive"),me(t,r,"http","http"),me(t,r,"path","path"),me(t,r,"intl","intl"),me(t,r,"equatable","equatable"),me(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test","test"),me(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockito","mockito"),me(t,r,"bloc_test","bloc_test"),r}},xG=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"rails","Rails"),me(t,r,"sinatra","Sinatra"),me(t,r,"hanami","Hanami"),me(t,r,"grape","Grape"),me(t,r,"roda","Roda"),me(t,r,"padrino","Padrino"),me(t,r,"cuba","Cuba"),me(t,r,"ramaze","Ramaze"),me(t,r,"nyara","Nyara"),me(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return me(t,r,"active_record","ActiveRecord"),me(t,r,"sequel","Sequel"),me(t,r,"rom","ROM"),me(t,r,"datamapper","DataMapper"),me(t,r,"mongoid","Mongoid"),me(t,r,"neo4j","Neo4j"),me(t,r,"redis","Redis"),me(t,r,"cassandra","Cassandra"),me(t,r,"couchrest","CouchRest"),me(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"rspec","RSpec"),me(t,r,"minitest","Minitest"),me(t,r,"cucumber","Cucumber"),me(t,r,"spinach","Spinach"),me(t,r,"turnip","Turnip"),me(t,r,"bacon","Bacon"),me(t,r,"shoulda","Shoulda"),me(t,r,"test-unit","Test::Unit"),me(t,r,"wrong","Wrong"),me(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return me(t,r,"factory_bot","FactoryBot"),me(t,r,"faker","Faker"),me(t,r,"ffaker","FFaker"),me(t,r,"fabrication","Fabrication"),me(t,r,"machinist","Machinist"),me(t,r,"mocha","Mocha"),me(t,r,"flexmock","FlexMock"),me(t,r,"rr","RR"),me(t,r,"bourne","Bourne"),me(t,r,"not_a_mock","NotAMock"),r}},bG=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"tokio","tokio"),me(t,r,"async-std","async-std"),me(t,r,"hyper","hyper"),me(t,r,"actix-web","actix-web"),me(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return me(t,r,"serde","serde"),me(t,r,"regex","regex"),me(t,r,"rand","rand"),me(t,r,"log","log"),me(t,r,"lazy_static","lazy_static"),me(t,r,"libc","libc"),me(t,r,"futures","futures"),me(t,r,"rayon","rayon"),me(t,r,"reqwest","reqwest"),me(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test-case","test-case"),me(t,r,"proptest","proptest"),me(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockall","mockall"),me(t,r,"double","double"),me(t,r,"rstest","rstest"),me(t,r,"mockiato","mockiato"),me(t,r,"mock_derive","mock_derive"),me(t,r,"mocktopus","mocktopus"),me(t,r,"mockers","mockers"),me(t,r,"mock_it","mock_it"),r}},vG=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function me(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(me,"addFromLibraries");var IG=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function sLe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(sLe,"determineProgrammingLanguage");var oLe=[new hG,new pG,new gG,new AG,new yG,new CG,new EG,new xG,new bG,new vG];function aLe(e){let t=oLe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new IG(e,oLe);return new Vae(t)}o(aLe,"getMetadataLookup");var Vae=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var lLe=T.Object({name:T.String(),version:T.Optional(T.String())}),cLe=T.Object({language:T.Object({id:T.String(),name:T.String(),version:T.Optional(T.String())}),libraries:T.Array(lLe),buildTools:T.Array(lLe)}),jae=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}async processSkill(t){let r=[];r.push([new rr([`The user is working on a project with the following characteristics:
`]),1]);let n=aLe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new rr(r)}addProgrammingLanguage(t,r){let n=sLe(t);this.turnContext.collectLabel(zp,n),r.push([new rr([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(zp,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new rr([`${r}
${i}`]),1])}}},zp="project-metadata",TG=class{constructor(t){this._resolver=t;this.id=zp;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new jae(t)}};d();var uLe=ct(require("path"));var $ae=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=[],i=await this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new rr(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new rr(n)}async filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.readFile(r.uri),i=os(n);if(await this.turnContext.collectFile(_G,r.uri,i),n.status==="valid"){let s=await t.getRelativePath(n.document);if(i==="included"){let a=new Hp(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new rr([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new rr([`The referenced file \`${uLe.basename(r.uri)}\` is content excluded.`]),1]]}},zae=class{static{o(this,"ReferencesSkillResolver")}async resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},_G="references",wG=class{constructor(){this.id=_G;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new zae}processor(t){return new $ae(t)}};var oE=o(()=>[zp,Jm,_G,b0],"mandatorySkills"),SG=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new mG(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!oE().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!oE().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!oE().includes(u)))}return l.push(...oE()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Wi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(Wi).getSupportedSkills(r.id),a=t.get(Ma).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await jp(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...oE(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var BG=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):_n.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};var V8=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new Yae(this),this.steps=new BG(t,r,n,t.get(Qa)),this.collector=new Kae(r,n,t.get(Qa))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?Y0.user("conversation-inline",this.turn.id):Y0.user("conversation-panel",this.turn.id)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(Qa).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},kG=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},X_=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},Yae=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Wi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(_l).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new kG(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Ma).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(_l).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof kG||i instanceof X_)throw i;_n.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},Kae=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function fLe(e,t){let[r,n,i]=await n_t(e,t);return i.push(...s_t(e)),r.length>0||n.length>0?[new rr([[new rr(["Consider the additional context:"]),1],[Ty(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(fLe,"fromSkills");async function n_t(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await a_t(e,a.skillId,t?.languageId??""))continue;let[l,c]=await i_t(e,a.skillId);l&&(oE().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(n_t,"handleSkillsInReverse");async function i_t(e,t){let n=e.ctx.get(Ma).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await o_t(e,n,l,u,a,f):[void 0,await RG(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await RG(e,n,"unresolvable",void 0,a)]}catch(i){if(_n.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof X_)throw i;return[void 0,await RG(e,n,"failed")]}}o(i_t,"safelyProcessSkill");async function o_t(e,t,r,n,i,s){let a;return typeof n=="string"?a=new rr([[n,1]]):a=n,[[a,r?.value()||0],await RG(e,t,"resolved",a,i,s)]}o(o_t,"handleProcessedSkill");async function RG(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(Xn).getBestChatModelConfig(Xo("user")),f=n.makePrompt(u.maxRequestTokens);c.tokensPreEliding=So(u.tokenizer).tokenLength(f)}return e.ctx.get(_l).addResolution(e.turn.id,c),c}o(RG,"determineResolution");function s_t(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(s_t,"handleIgnoredSkills");async function a_t(e,t,r){if(t!==zp&&t!==Jm)return!0;let n=e.ctx.get(er),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===zp:t===Jm}o(a_t,"includeSkill");var dLe=ct(ef());var sE=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=H8(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new rr(n),a]}async elidableSkills(t,r){return await fLe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await W8.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},DG=class extends sE{static{o(this,"PanelUserPromptStrategy")}suffix(t){return dLe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var mLe=ct(ef());var PG=class extends sE{static{o(this,"InlineUserPromptStrategy")}suffix(t){return mLe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var Jae=ct(ef());var NG=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=H8(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new rr(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return Jae.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=fRe(t.map(n=>n.id));return T.Object({skillIds:T.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:r.function.arguments.skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}async promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:Jae.default`
                    This is the user's question: 
                    ${nn(i).trim()} 
                `.trim()}],[]]}};d();var hLe=ct(ef());var FG=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:T.Object({suggestedTitle:T.String({description:"The suggested title for the conversation"}),followUp:T.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){return{suggestedTitle:t.function.arguments.suggestedTitle,followUp:t.function.arguments.followUp}}}}suffix(t){return hLe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}async elidableContent(t){let r=H8(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new rr(n)}async promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:await this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var l_t=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:T.Object({keywords:T.Array(T.Object({keyword:T.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:T.Array(T.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],LG=class extends sE{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}async promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message;return[[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}],[]]}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:l_t,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=r.function.arguments.keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!CF(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!CF(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var Xae=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function Z_(e,t,r){return new Xae(e,t,r)}o(Z_,"descriptor");var pLe=[Z_("user",Xo("user"),async()=>new DG),Z_("inline",Xo("inline"),async()=>new PG),Z_("meta",Xo("meta"),async()=>new NG),Z_("suggestions",Xo("suggestions"),async()=>new FG),Z_("synonyms",Xo("synonyms"),async()=>new LG)],QG=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=pLe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return pLe}};var ALe=require("console");var Jl=class{constructor(t,r=new QG){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=await this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(La).inspectPrompt({type:r.promptType,prompt:gLe(a),tokens:l}),this.ctx.get(_l).addPrompt(t.turn.id,gLe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}async elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,ALe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:c_t(l.content.makePrompt(s))}).filter(l=>l.content.length>0);return[a,Gae(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),Gae(n,r)}async safetyPrompt(t){let r=await this.ctx.get(In).getAuthRecord(),n=this.ctx.get(sn).getEditorInfo().readableName??this.ctx.get(sn).getEditorInfo().name,i=u_t(process.platform);return await rLe(this.ctx,n,r?.user,i,t)}};function c_t(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(c_t,"processResultOfElidableText");function gLe(e){return e.map(t=>nn(t.content)).join(`

`)}o(gLe,"debugChatMessages");function u_t(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(u_t,"mapPlatformToOs");var MG=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(Xn).getBestChatModelConfig(Xo("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(Jl).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(_n.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){_n.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){_n.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){_n.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){_n.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{_n.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var j8=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(nRe(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(Oa).workspaceCount})),await this.turnContext.ctx.get(La).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return await this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:nn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:p8.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},iRe(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:nn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new MG(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return _n.debug(this.turnContext.ctx,"Computed followup",l),_n.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:Sr(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return cRe(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}async processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",oRe(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};var Zae="generate-response",OG=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},eS=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(Qa),this.chatFetcher=this.chatFetcher??new ua(r.ctx),this.postProcessor=new j8(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){_n.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof OG?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await Ka(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:i?.languageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(La).inspectPrompt(l),await n.steps.start(Zae,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return Sr()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return Wae(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=ANe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await _Ne(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new D8((m,h,p,A,E)=>{let x=E?{...E,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:A.map(v=>({message:v.message,severity:"warning"})),confirmationRequest:x}),this.turn.response?(this.turn.response.message=Lq(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),x&&(this.turn.confirmationRequest=x)}),c=await this.turnContext.ctx.get(jr).getGitHubToken(),u={enginePath:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:nn(this.turn.request.message)},authToken:c,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,async(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),nn(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new OG("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return l_(this.conversation,"conversationPanel",nn(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(Zae,t.error.message):await r.steps.finish(Zae)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var tS=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}async additionalSkills(t){return[]}turnProcessor(t){return new eS(this,t)}},UG=class extends tS{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new eS(this,t)}};d();var f_t="github",Zm=class{static{o(this,"RemoteAgentRegistry")}},qG=class extends Zm{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await mC(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(ei.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||ei.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||ei.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==f_t).map(i=>new tS(i.id,i.slug,i.name,i.description,i.avatar_url))}};var ele=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}async additionalSkills(t){return[M8]}};async function jp(e){let t=[];t.push(new UG),t.push(...await e.get(Zm).agents());let r=e.get(er),n=await r.updateExPValuesAndAssignments();return r.ideChatEnableProjectContext(n)&&t.push(new ele),t}o(jp,"getAgents");d();var yLe=ct(L0());async function tle(e,t){let r=await e.get(In).checkAndUpdateStatus(e);if(r.status!=="OK")throw new yLe.ResponseError(Fr.NoCopilotToken,`Not authenticated: ${r.status}`)}o(tle,"verifyAuthenticated");function ui(e){return async(t,r,n)=>(await tle(t,r),e(t,r,n))}o(ui,"ensureAuthenticated");var d_t=T.Object({options:T.Optional(Dn)});async function m_t(e,t,r){return[(await jp(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(m_t,"handleConversationAgentsChecked");var CLe=ui(ut(d_t,m_t));d();d();var GG=ct(L0());async function Yp(e,t){return await e.get(Wr).getTextDocumentWithValidation({uri:t})}o(Yp,"getTextDocumentChecked");function h_t(e,t,r){let n=tn.createAndMarkAsIssued({languageId:String(t.languageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return Xt(e,"getCompletions.docVersionMismatch",n)}o(h_t,"telemetryVersionMismatch");async function Kp(e,t,r){let i=e.get(Wr).getOpenTextDocumentWithValidation(t);await tle(e,r);let s=await i;if(s.status==="notfound")throw new GG.ResponseError(Fr.InvalidParams,s.message);if(s.status==="invalid")throw e.get(Yi).setInactive(s.reason),new GG.ResponseError(Fr.CopilotNotAvailable,s.reason);if(t.version!==void 0&&s.document.version!==t.version)throw r.isCancellationRequested||(h_t(e,s.document,t.version),rf.debug(e,`Requested document version was ${t.version} but actual document version was ${s.document.version}.`)),new GG.ResponseError(Fr.ContentModified,"Document Version Mismatch");return s.document}o(Kp,"getOpenTextDocumentChecked");var p_t=T.Union([T.Literal("keyboard"),T.Literal("toolbar")]),g_t=T.Object({turnId:T.String(),codeBlockIndex:T.Number(),source:p_t,copiedCharacters:T.Number(),totalCharacters:T.Number(),copiedText:T.String(),doc:T.Optional(X0),options:T.Optional(Dn),conversationSource:T.Optional(vd)});async function A_t(e,t,r){let n;if(r.doc){let l=await Yp(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Fr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters};n&&r.doc?.position&&(i={...i,currentLine:r.doc.position.line});let s=dy(r.conversationSource),a=await Ka(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return Yu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s},i,`${Wc(s)}.acceptedCopy`,a),["OK",null]}o(A_t,"handleConversationCodeCopyChecked");var ELe=ui(ut(g_t,A_t));d();var y_t=T.Union([T.Literal("keyboard"),T.Literal("toolbar"),T.Literal("diff")]),C_t=T.Object({turnId:T.String(),source:y_t,codeBlockIndex:T.Number(),acceptedLength:T.Optional(T.Number()),totalCharacters:T.Number(),newFile:T.Optional(T.Boolean()),doc:T.Optional(X0),options:T.Optional(Dn),conversationSource:T.Optional(vd)});async function E_t(e,t,r){let n;if(r.doc){let l=await Yp(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Fr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters};n&&r.doc?.position&&(i={...i,insertionOffset:n.offsetAt(r.doc.position),currentLine:r.doc.position.line});let s=dy(r.conversationSource),a=await Ka(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return Yu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${Wc(s)}.acceptedInsert`,a),["OK",null]}o(E_t,"handleConversationCodeInsertChecked");var xLe=ui(ut(C_t,E_t));d();d();d();d();var bLe="```",rle=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,x_t=String.raw`${bLe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${bLe}`,b_t=new RegExp(rle+`
`+x_t,"gs"),nle=["replace","delete"];function ile(e,t){let r=e.matchAll(b_t),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!nle.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((E,x)=>{f[x]=E.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=ole([h],t);if(!p)continue;let A={text:p,uri:t.uri};i.push({...h,updatedDocument:A})}return i}o(ile,"extractEditsFromTaggedCodeblocks");function ole(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(ole,"applyEditsToDocument");var sle="collect-context",ale="generate-response",WG=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(Qa),this.chatFetcher=this.chatFetcher??new ua(t.ctx),this.postProcessor=new j8(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){_n.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await Ka(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:s?.languageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=j_().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await jp(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(sle,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(Xn).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.languageId??"",void 0,f);if(!m)await n.steps.error(sle,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(sle),await n.steps.start(ale,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),A=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:A}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){_n.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new SG(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new D8((p,A,E,x)=>{let v=p.trim().match(rle)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:A,references:E,hideText:v,notifications:x.map(b=>({severity:"warning",message:b.message}))}),this.turn.response?this.turn.response.message=Lq(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...A??[]),l+=p,this.strategy.currentDocument){let b=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);b&&b.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:b}),c+=b.length)}}),f=await q1.getModelConfiguration(this.turnContext.ctx,"user",a);t=q1.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:nn(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,async(p,A)=>u.isFinishedAfter(p,A));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,nn(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",sRe(this.turnContext.ctx,this.conversation,this.strategy.uiKind,nn(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=l_(this.conversation,this.strategy.uiKind,nn(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=l_(this.conversation,this.strategy.uiKind,nn(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(ale,t.error.message):await r.steps.finish(ale)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var HG=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}async processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(Xn).getBestChatModelConfig(Xo(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(Jl).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},VG=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(Xn).getBestChatModelConfig(Xo(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(Jl).toPrompt(t,c)}async processResponse(t){let r=[],n=nn(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(b0);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(zn).readFile(t);if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=ile(t,r).filter(a=>nle.includes(a.mode)),s=ole(i,r);if(s)return await this.ctx.get(La).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return ile(t,r)}};d();var TLe=ct(require("node:timers/promises"));d();var vLe=ct(L0()),ILe=ct(n1());var tc=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new vLe.ProtocolRequestType("conversation/context");this.typeCheck=ta.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(Kr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new ILe.ResponseError(l.code,l.message,l.data);_n.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){_n.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new Xu(this.typeCheck.Errors(i));return i}}};var lle=class{constructor(t,r,n="",i="",s=[],a=[]){this.workDoneToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},Jp=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){this.turns.push(new lle(t,r,n,i,s,a))}get(t){return this.turns.find(r=>r.workDoneToken===t)}},jG=class{constructor(t){this.turnContext=t;this.conversationProgress=t.ctx.get(Qa)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{let n=this.turnContext.ctx.get(Jp)?.get(t);await this.processWithSyntheticTurns(n,t,r)}catch(n){_n.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Wi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new tc(this.turnContext.ctx,s,T.Object({value:T.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await TLe.setTimeout(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:Sr()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var eA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){if(t.ctx.get(Jp)?.get(r)!==void 0)return new jG(t);let a=(await jp(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new VG(t.ctx):l=new HG(t.ctx),n!==void 0&&(l.computeSuggestions=n),new WG(t,l)}};d();d();var v_t=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),zc=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?v_t(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var rc=class{constructor(){this.tokens=new Rn(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new si.CancellationTokenSource,i=new zc([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var I_t=T.Object({workDoneToken:T.Union([T.String(),T.Number()]),turns:T.Array(CNe,{minItems:1}),options:T.Optional(Dn),capabilities:T.Object({allSkills:T.Optional(T.Boolean()),skills:T.Array(T.String())}),doc:T.Optional(X0),computeSuggestions:T.Optional(T.Boolean()),references:T.Optional(T.Array(P8)),source:T.Optional(vd),workspaceFolder:T.Optional(T.String()),ignoredSkills:T.Optional(T.Array(T.String())),userLanguage:T.Optional(T.String()),model:T.Optional(T.String())});async function T_t(e,t,r){let n;if(r.doc){let f=await Yp(e,r.doc.uri);if(f.status==="notfound")return[null,{code:Fr.InvalidParams,message:f.message}];f.status==="valid"&&(n=f.document)}r.capabilities.allSkills&&(r.capabilities.skills=e.get(Ma).getDescriptors().map(f=>f.id));let i=r.source??"panel",s=await e.get(Wi).create(r.capabilities,i,r.userLanguage);await w_t(e,s,r);let a=s.turns[s.turns.length-1],l=e.get(rc).add(r.workDoneToken,t),c=new V8(e,s,a,l);return await(await e.get(eA).createProcessor(c,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,l,void 0,n,r.model),[{conversationId:s.id,turnId:a.id,agentSlug:a.agent?.agentSlug,modelFamily:r.model},null]}o(T_t,"handleConversationCreateChecked");async function w_t(e,t,r){for(let n of r.turns){let i=Fq(n.request),s=new L8({message:i,type:"user"});n.response&&(s.response={message:n.response,type:"model"}),n.agentSlug&&(s.agent={agentSlug:n.agentSlug}),await e.get(Wi).addTurn(t.id,s,r.references,r.workspaceFolder,r.ignoredSkills)}}o(w_t,"addTurns");var wLe=ui(ut(I_t,T_t));d();var __t=T.Object({conversationId:T.String(),options:T.Optional(Dn)});async function S_t(e,t,r){return e.get(Wi).destroy(r.conversationId),["OK",null]}o(S_t,"handleConversationDestroyChecked");var _Le=ui(ut(__t,S_t));d();var B_t=T.Object({options:T.Optional(Dn)});async function k_t(e,t,r){return[{path:e.get(Xa).directory},null]}o(k_t,"handleConversationPersistenceChecked");var SLe=ui(ut(B_t,k_t));d();d();var kLe=ct(require("node:events"));var cle=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(In).getAuthRecord(),n=t.get(Ms),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},ule=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(jr).getToken()).envelope.chat_enabled?"ok":"failed"}}},R_t=[new cle,new ule],BLe="onPreconditionsChanged",wd=class{constructor(t,r=R_t){this.ctx=t;this.checks=r;this.emitter=new kLe.default;Va(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(BLe,t)}emit(t){this.emitter.emit(BLe,t)}};var D_t=T.Object({options:T.Optional(Dn),forceCheck:T.Optional(T.Boolean())});async function P_t(e,t,r){let n=r.forceCheck??!1;return[await e.get(wd).check(n),null]}o(P_t,"handleConversationPreconditionsChecked");var RLe=ui(ut(D_t,P_t));d();var N_t=T.Object({turnId:T.String(),rating:T.Number(),doc:T.Optional(X0),options:T.Optional(Dn),source:T.Optional(vd)});async function F_t(e,t,r){let n;if(r.doc){let l=await Yp(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Fr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i=dy(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await Ka(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return Yu(e,n,{rating:s,messageId:r.turnId,conversationId:e.get(Wi).findByTurnId(r.turnId)?.id??"",uiKind:i},{},`${Wc(i)}.messageRating`,a),["OK",null]}o(F_t,"handleConversationRatingChecked");var DLe=ui(ut(N_t,F_t));d();var L_t=T.Object({options:T.Optional(Dn)});async function Q_t(e,t,r){return[Iae(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(Q_t,"handleConversationTemplatesChecked");var PLe=ui(ut(L_t,Q_t));d();var M_t=T.Object({workDoneToken:T.Union([T.String(),T.Number()]),conversationId:T.String(),message:Lse,followUp:T.Optional(T.Object({id:T.String(),type:T.String()})),options:T.Optional(Dn),doc:T.Optional(X0),computeSuggestions:T.Optional(T.Boolean()),references:T.Optional(T.Array(P8)),workspaceFolder:T.Optional(T.String()),ignoredSkills:T.Optional(T.Array(T.String())),confirmationResponse:dRe,model:T.Optional(T.String())});async function O_t(e,t,r){let n;if(r.doc){let m=await Yp(e,r.doc.uri);if(m.status==="notfound")return[null,{code:Fr.InvalidParams,message:m.message}];m.status==="valid"&&(n=m.document)}let i=e.get(Wi),s=i.get(r.conversationId),a=Fq(r.message),l=await i.addTurn(s.id,new L8({message:a,type:"user"}),r.references,r.workspaceFolder,r.ignoredSkills,r.confirmationResponse),c=e.get(rc).add(r.workDoneToken,t),u=new V8(e,s,l,c);return await(await e.get(eA).createProcessor(u,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,c,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(O_t,"handleConversationTurnChecked");var NLe=ut(M_t,O_t);d();var U_t=T.Object({conversationId:T.String(),turnId:T.String(),options:T.Optional(Dn),source:T.Optional(vd)});async function q_t(e,t,r){e.get(Wi).deleteTurn(r.conversationId,r.turnId);let i=dy(r.source),s=await Ka(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:""});return Yu(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${Wc(i)}.messageDelete`,s),["OK",null]}o(q_t,"handleConversationTurnDeleteChecked");var FLe=ui(ut(U_t,q_t));d();var G_t=T.Object({document:T.Object({uri:T.String(),text:T.String(),languageId:T.String(),version:T.Number()}),selection:T.Object({start:T.Object({line:T.Number(),character:T.Number()}),end:T.Object({line:T.Number(),character:T.Number()})}),options:T.Optional(Dn)});function W_t(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o(W_t,"buildSystemMessage");function H_t(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o(H_t,"buildUserMessage");function V_t(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let A=n[p],E=Math.max(A.search(/\S/),0),x=A.trimEnd().length,v={uri:e.uri,range:{start:{line:p,character:E},end:{line:p,character:x}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(v)}return r}o(V_t,"parseReviewComments");async function j_t(e,t,r){if(!r.document.text)return[null,{code:Fr.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:Fr.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:Fr.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:Fr.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:Fr.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(ua),s=await e.get(Xn).getBestChatModelConfig([Qi.Gpt4]),a=[{role:"system",content:W_t()},{role:"user",content:H_t(r)}],l=await e.get(er).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Y0.user("code-review",Sr())},t,l);if(c.type!=="success")return[null,{code:Fr.InternalError,message:"Failed to generate code review"}];let u=V_t(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(j_t,"handleCopilotCodeReviewChecked");var LLe=ui(ut(G_t,j_t));d();d();var By=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,U1.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return Y0.user("conversation-edit-panel",this.editTurnId)}};d();async function $G(e,t,r,n){let s=e.get(Fa).create("panel","en"),a=new gy({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new By(e,s,a,n,Qi.Gpt4o),u=e.get(Il);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o($G,"streamMockedResult");d();var $_t=T.Object({enableMock:T.Boolean()}),Xp=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};async function z_t(e,t,r){return e.get(Xp).setMockEnabled(r.enableMock),["OK",null]}o(z_t,"handleTestingSetCopilotEditsResponseChecked");var QLe=ut($_t,z_t);var Y_t=T.Object({request:T.String(),response:T.Optional(T.String())}),K_t=T.Union([T.Literal("panel")]),J_t=T.Object({partialResultToken:T.Union([T.String(),T.Number()]),turns:T.Array(Y_t,{minItems:1}),workingSet:T.Optional(T.Array(O_)),source:T.Optional(K_t),workspaceFolder:T.Optional(T.String()),userLanguage:T.Optional(T.String()),model:T.Optional(T.String())});function X_t(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new gy({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(X_t,"buildEditConversation");async function Z_t(e,t,r){if(e.get(Xp).isMockEnabled())return await $G(e,Sr(),Sr(),r.partialResultToken),[[],null];let n=X_t(e.get(Fa),r),i=n.getLastTurn(),s=new By(e,n,i,r.partialResultToken,r.model),a=e.get(rc).add(r.partialResultToken,t);return[await e.get(G1).createOrContinueEditConversation(s,a),null]}o(Z_t,"handleEditConversationCreateChecked");var MLe=ui(ut(J_t,Z_t));d();var eSt=T.Object({editConversationId:T.String()});async function tSt(e,t,r){return e.get(Fa).destroy(r.editConversationId),["OK",null]}o(tSt,"handleEditConversationDestroyChecked");var OLe=ui(ut(eSt,tSt));d();var rSt=T.Object({partialResultToken:T.Union([T.String(),T.Number()]),editConversationId:T.String(),message:T.String(),workingSet:T.Optional(T.Array(O_)),workspaceFolder:T.Optional(T.String()),userLanguage:T.Optional(T.String()),model:T.Optional(T.String())});function nSt(e,t,r){let n=e.get(t),i=new gy({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(nSt,"buildEditConversation");async function iSt(e,t,r){if(e.get(Xp).isMockEnabled())return await $G(e,r.editConversationId,Sr(),r.partialResultToken),[[],null];let n=e.get(Fa),i=nSt(n,r.editConversationId,r),s=i.getLastTurn(),a=new By(e,i,s,r.partialResultToken,r.model),l=e.get(rc).add(r.partialResultToken,t);return[await e.get(G1).createOrContinueEditConversation(a,l),null]}o(iSt,"handleEditConversationTurnChecked");var ULe=ui(ut(rSt,iSt));d();var oSt=T.Object({editConversationId:T.String(),editTurnId:T.String(),options:T.Optional(Dn),source:T.Optional(vd)});async function sSt(e,t,r){e.get(Fa).deleteTurn(r.editConversationId,r.editTurnId);let i=await Ka(e,r.editTurnId,r.editConversationId,{languageId:""});return Yu(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${Wc("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(sSt,"handleEditConversationTurnDeleteChecked");var qLe=ui(ut(oSt,sSt));d();var aSt=T.Object({options:T.Optional(Dn)});async function lSt(e,t,r){let n=await e.get(jr).getToken();return[cSt(await e.get(xu).getMetadata(),n),null]}o(lSt,"handleCopilotModelsChecked");function cSt(e,t){let r=new Map,n=[];e.forEach(a=>{if(a.model_picker_enabled===!0){let l=[];a.capabilities.type==="chat"?(l.push("chat-panel"),l.push("edit-panel"),l.push("inline"),r.set(a.capabilities.family,{modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})):a.capabilities.type!=="completion"&&n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}});let i=t.getTokenValue("editor_preview_features")=="0";return Uf.filterCompletionModels(e,i).forEach(a=>{n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:["completion"],id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}),[...r.values(),...n]}o(cSt,"filterModels");var GLe=ui(ut(aSt,lSt));d();var uSt=T.Object({model:T.Optional(T.String()),status:T.Optional(T.String())});async function fSt(e,t,r){return r.model&&r.status==="enabled"?await e.get(xu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:Fr.InternalError,message:"Failed to accept model policy"}]:[null,{code:Fr.InvalidRequest,message:"Invalid model or status"}]}o(fSt,"handleCopilotModelsPolicyChecked");var WLe=ui(ut(uSt,fSt));d();d();var tA=10;function HLe(e){switch(e){case 2:return"open copilot";default:return"unknown"}}o(HLe,"completionTypeToString");var fle=class{constructor(t,r,n){this.appendToCompletion="";this.indentation=null;this.completionType=2;this.position=oo.position(r.line,r.character),this.completionType=n}static{o(this,"CompletionContext")}};function zG(e,t,r){let n=r,i=t.lineAt(r.line);return i.isEmptyOrWhitespace||(n=i.range.end),new fle(e,n,2)}o(zG,"completionContextForDocument");d();var dle=new Er("solutions");async function*dSt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(dSt,"trimChoices");var $8=class{constructor(t,r,n,i,s){this.textDocument=t;this.startPosition=r;this.completionContext=n;this.cancellationToken=i;this.solutionCountTarget=s}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function YG(e){return e.replace(/\s+/g,"")}o(YG,"normalizeCompletionText");async function mSt(e,t){let r=t.completionContext.position,n=t.completionContext.indentation,i=t.textDocument,s=X2(e,i.uri),a=Sr(),l=tn.createAndMarkAsIssued({headerRequestId:a,languageId:i.languageId,source:HLe(t.completionContext.completionType)},{});t.savedTelemetryData=await e.get(er).updateExPValuesAndAssignments({uri:i.uri,languageId:i.languageId},l);let c=await eI(e,i,r,t.savedTelemetryData);if(c.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(c.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(c.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(c.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(c.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let u=c.prompt,f=c.trailingWs;f.length>0&&(t.startPosition=oo.position(t.startPosition.line,t.startPosition.character-f.length));let m=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...Mb(u),solutionCount:t.solutionCountTarget,promptEndPos:i.offsetAt(r)}),dle.debug(e,"prompt:",u),Xt(e,"solution.requested",t.savedTelemetryData);let h=await e.get(Em).forLanguage(e,i.languageId,t.savedTelemetryData),p=np.isSupportedLanguageId(i.languageId),A=mT(i,r),E={stream:!0,extra:{language:i.languageId,next_indent:A.next??0,prompt_tokens:u.prefixTokens??0,suffix_tokens:u.suffixTokens??0}};h==="parsing"&&!p&&(E.stop=[`

`,`\r
\r
`]);let x=J2(e,t.savedTelemetryData),v={prompt:u,languageId:i.languageId,repoInfo:s,ourRequestId:a,engineUrl:x.url,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:E,requestLogProbs:!0,headers:x.headers},b;switch(h){case"server":b=o(async te=>{},"finishedCb"),E.extra.force_indent=A.prev??-1,E.extra.trim_by_indentation=!0;break;case"parsingandserver":b=p?dT(e,i,t.startPosition):async te=>{},E.extra.force_indent=A.prev??-1,E.extra.trim_by_indentation=!0;break;case"parsing":default:b=p?dT(e,i,t.startPosition):async te=>{};break}let S=t.savedTelemetryData,k=await e.get(Kf).fetchAndStreamCompletions(e,v,S.extendedBy(),b,m);if(k.type==="failed"||k.type==="canceled")return{status:"FinishedWithError",error:`${k.type}: ${k.reason}`};let P=k.choices;P=dSt(P),n!==null&&(P=kCe(P,n)),P=OC(P,async te=>SQ(e,i,r,te,!1,dle));let N=OC(P,async te=>{let ge=te.completionText;dle.info(e,`Open Copilot completion: [${te.completionText}]`);let re=await Z4e(e,i,r,te.completionText)??oo.position(r.line,0),[G]=s4(i.getText(oo.range(re,r)));ge=G+ge;let q=te.completionText;f.length>0&&q.startsWith(f)&&(q=q.substring(f.length));let se=te.meanLogProb,ne=se!==void 0?Math.exp(se):0,H=S.extendedBy({choiceIndex:te.choiceIndex.toString()});return{completionText:q,insertText:ge,range:oo.range(re,r),meanProb:ne,meanLogProb:se||0,requestId:te.requestId,choiceIndex:te.choiceIndex,telemetryData:H,copilotAnnotations:te.copilotAnnotations}});return jLe(m,N[Symbol.asyncIterator]())}o(mSt,"launchSolutions");async function VLe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await VLe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(VLe,"reportSolutions");async function KG(e,t,r){return e.get(Yi).withProgress(async()=>{let i=mSt(e,t);return await VLe(i,r)})}o(KG,"runSolutions");async function jLe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:jLe(e,t)}}o(jLe,"generateSolutionsStream");var zLe=ct(I2()),nS=ct(L0());d();d();function JG(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(JG,"parseChallengeDoc");var hSt=T.Object({text:T.String(),score:T.Number()}),pSt=T.Object({documents:T.Array(hSt),options:T.Optional(T.Object({}))});async function XG(e,t,r){let n=Sr();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=JG(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:Sr(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:Kg.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o(XG,"runTestSolutions");var eh=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};async function gSt(e,t,r){return e.forceSet(eh,new eh(r.documents)),["OK",null]}o(gSt,"handleTestingSetPanelCompletionDocumentsChecked");var $Le=ut(pSt,gSt);var YLe=ID.type;function ASt(e,t,r,n,i){let s=YG(n.completionText),a=(0,zLe.SHA256)(s).toString();return e.get(Go).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:Pse,title:`Accept completion ${i}`,arguments:[a]}}}o(ASt,"makeCompletion");function hle(e,t){return`${e}/${t}`}o(hle,"progressMessage");var mle=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(Kr)}async onSolution(t){this.count+=1;let r=ASt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(nS.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:hle(this.count,tA),percentage:Math.round(100*this.count/tA)})}onFinishedNormally(){return ySt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(nS.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function ySt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(nS.WorkDoneProgress.type,e,{kind:"end",message:hle(r,tA)})}o(ySt,"reportDone");var rS;async function CSt(e,t,r){let n=await Kp(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(Kr).connection.sendProgress(nS.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:hle(0,tA),percentage:0});let s=[],a=o(async f=>{s.push(f)},"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get(Kr).connection.sendProgress(ID.partialResult,l,{items:[f]})},"onCompletion"));let c=new mle(e,r,a),u=e.get(eh);if(u.documents){let f=u.documents;await XG(i,f,c)}else{c.offset=n.offsetAt(i);let f=zG(e,n,i),m=new $8(n,i,f,t,tA);await KG(e,m,c)}return c.error!==void 0?[null,{code:Fr.InternalError,message:c.error}]:[{items:s},null]}o(CSt,"handleChecked");async function ESt(e,t,r){rS&&(rS.cancel(),rS.dispose()),rS=new si.CancellationTokenSource;let n=rS.token,i=new zc([t,n]);try{return await CSt(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:Fr.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(ESt,"handleCheckedWithAbort");var KLe=ut(lAe,ESt);d();d();d();function bSt(e){let t=e.get(vn).getLoginReachabilityUrl(),r=e.get(vn).getAPIUrl(),n=e.get(vn).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(vn).getLastKnownEndpointUrl("api","_ping"),s=e.get(vn).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(bSt,"urlsToCheck");async function JLe(e){let t=bSt(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await vSt(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(JLe,"checkReachability");async function vSt(e,t){try{let r=await e.get(Nr).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(vSt,"determineReachability");var _d=ct(require("os")),z8=ct(require("tls"));async function XLe(e){return{sections:[ISt(e),TSt(),await _St(e),wSt(),SSt(e),await BSt(e)]}}o(XLe,"collectDiagnostics");function ZLe(e){return e.sections.map(kSt).join(_d.EOL+_d.EOL)}o(ZLe,"formatDiagnosticsAsMarkdown");function ISt(e){return{name:"Copilot",items:{Version:uC(e),Build:Lf(e),Editor:i0(e)["Editor-Version"]}}}o(ISt,"collectCopilotSection");function TSt(){return{name:"Environment",items:{http_proxy:rA("http_proxy"),https_proxy:rA("https_proxy"),no_proxy:rA("no_proxy"),SSL_CERT_FILE:rA("SSL_CERT_FILE"),SSL_CERT_DIR:rA("SSL_CERT_DIR"),OPENSSL_CONF:rA("OPENSSL_CONF")}}}o(TSt,"collectEnvironmentSection");function wSt(){return{name:"Node setup",items:{"Number of root certificates":z8.rootCertificates.length,"Operating system":_d.type(),"Operating system version":_d.release(),"Operating system architecture":_d.arch(),NODE_OPTIONS:rA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:rA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:rA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":z8.DEFAULT_MIN_VERSION,"tls default max version":z8.DEFAULT_MAX_VERSION}}}o(wSt,"collectNodeSection");async function _St(e){let t={};try{let r=await e.get(jr).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(_St,"collectFeatureFlagsSection");function SSt(e){let t=e.get(Nr);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(SSt,"collectNetworkConfigSection");async function BSt(e){return{name:"Reachability",items:Object.fromEntries((await JLe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(BSt,"collectReachabilitySection");function rA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(rA,"findEnvironmentVariable");function kSt(e){return`## ${e.name}`+_d.EOL+_d.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(_d.EOL)}o(kSt,"formatSectionAsMarkdown");var RSt=T.Object({});async function DSt(e){return[{report:ZLe(await XLe(e))},null]}o(DSt,"handleDiagnosticsChecked");var eQe=ut(RSt,DSt);d();d();d();d();function tQe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(tQe,"normalizeIndentCharacter");function rQe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=oo.range(oo.position(i.line,0),oo.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=tQe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=oo.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:Sr(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(rQe,"completionsFromGhostTextResults");async function ple(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=PF(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await Cee(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=oIe(e,t,r,c),f=rQe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:A}=h.range,E=si.Range.create(p,si.Position.create(A.line,A.character-s));return{...h,range:E}});return{...a,value:m}}o(ple,"getInlineCompletionsResult");async function ZG(e,t,r,n,i={}){PSt(e,t,r);let s=await ple(e,t,r,n,i);return VCe(e,s)}o(ZG,"getInlineCompletions");function PSt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});TF.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(PSt,"logCompletionLocation");var lQe=ct(L0());d();var nQe=require("crypto");var Y8=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new Ale(t,this.id)}},Ale=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(Kr),s=(0,nQe.randomUUID)(),a=i.connection.onProgress(xD.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(xD.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function K8(e,t,r){try{let n=e.get(Al),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof Y8&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof Y8&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){ei.error(e,"Failed to set context items on context providers",n)}}o(K8,"setContextItems");var gle={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function iQe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return na(r.uri,i,gle);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=na(r.uri,i.scheme||"",gle)),"pattern"in i&&(s&&=na(r.uri,i.pattern||"",gle)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(iQe,"match");d();var NSt=T.Object({documents:T.Array(T.String()),basename:T.Optional(T.String()),options:T.Optional(T.Object({}))}),ky=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};async function FSt(e,t,r){return e.forceSet(ky,new ky(r.documents,r.basename||"")),["OK",null]}o(FSt,"handleTestingSetCompletionDocumentsChecked");var oQe=new Er("setCompletionDocuments"),aQe=ut(NSt,FSt);function eW(e,t,r,n){let i=e.get(ky);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){oQe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=LSt(i,r);return a&&a.length>0?sQe(a,s,t):void 0}else return oQe.debug(e,"Returning completions for all pre-set documents"),sQe(i.documents,s,t)}}o(eW,"getTestCompletions");function sQe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=JG(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(sQe,"sliceAndMapCompletions");function LSt(e,t){return e.basename===Qs(t)?e.documents||[]:[]}o(LSt,"getFilteredDocs");var cQe=T.Object({doc:T.Object({position:Pf,insertSpaces:T.Optional(T.Boolean()),tabSize:T.Optional(T.Number()),uri:p7,version:T.Number()}),contextItems:T.Optional(vX),options:T.Optional(Dn)}),iS;async function uQe(e,t,r,n){iS&&(iS.cancel(),iS.dispose()),iS=new si.CancellationTokenSource;let i=new zc([t,iS.token]);r.contextItems&&K8(e,r.contextItems);let s=eW(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:Sr(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await Kp(e,r.doc,i)}catch(m){if(!(m instanceof lQe.ResponseError))throw m;switch(m.code){case Fr.CopilotNotAvailable:case Fr.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await ZG(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(Go);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(uQe,"handleGetCompletionsHelper");var fQe=ut(cQe,(e,t,r)=>uQe(e,t,r,!1)),dQe=ut(cQe,(e,t,r)=>uQe(e,t,r,!0));d();var mQe=ct(I2()),J8=ct(L0());var QSt=T.Object({doc:T.Object({position:Pf,uri:p7,version:T.Number()}),panelId:T.String(),options:T.Optional(Dn)});function MSt(e,t,r,n,i){let s=YG(i.completionText),a=(0,mQe.SHA256)(s).toString();return e.get(Go).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o(MSt,"makeSolution");var yle=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(Kr)}onSolution(t){return this.service.connection.sendNotification(new J8.NotificationType("PanelSolution"),MSt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return hQe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new J8.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function hQe(e,t){return t.connection.sendNotification(new J8.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(hQe,"reportDone");var oS;async function OSt(e,t,r){oS&&(oS.cancel(),oS.dispose()),oS=new si.CancellationTokenSource;let n=new zc([t,oS.token]),i=r.doc.position,s=oo.range(i,i),a=new yle(e,r,s),l=e.get(eh);if(l.documents){let c=l.documents;XG(i,c,a)}else{let c;try{c=await Kp(e,r.doc,n)}catch(m){if(!(m instanceof J8.ResponseError))throw m;switch(m.code){case Fr.CopilotNotAvailable:case Fr.ContentModified:return USt(e,r)}throw m}a.offset=c.offsetAt(i);let u=zG(e,c,i),f=new $8(c,i,u,n,tA);KG(e,f,a)}return[{solutionCountTarget:tA},null]}o(OSt,"handleGetPanelCompletionsChecked");async function USt(e,t){return await hQe(t.panelId,e.get(Kr)),[{solutionCountTarget:0},null]}o(USt,"produceEmptySolutions");var pQe=ut(QSt,OSt);d();var qSt=T.Object({});async function GSt(e,t,r){return[{version:e.get(io).getDisplayVersion(),buildType:Lf(e),runtimeVersion:`node/${process.versions.node}`},null]}o(GSt,"handleGetVersionChecked");var gQe=ut(qSt,GSt);d();var WSt=T.Object({changes:T.Array(T.String()),userCommits:T.Array(T.String()),recentCommits:T.Array(T.String()),workspaceFolder:T.Optional(T.String()),options:T.Optional(Dn)});function HSt(){return["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"].join(`
`)}o(HSt,"buildSystemMessage");function VSt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(VSt,"buildUserMessage");async function jSt(e,t,r){if(r.changes.length===0)return[null,{code:Fr.InvalidRequest,message:"No changes provided"}];let n=new ua(e),i=await e.get(Xn).getBestChatModelConfig([Qi.Gpt4oMini,Qi.Gpt4o,Qi.Gpt4]),s=r.workspaceFolder?[r.workspaceFolder]:[process.cwd()],a=await W8.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=[{role:"system",content:HSt()},{role:"user",content:VSt(r,a)}],c=await e.get(er).updateExPValuesAndAssignments(),u=await n.fetchResponse({modelConfiguration:i,messages:l,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Y0.user("git-commit",Sr())},t,c);if(u.type!=="success")return[null,{code:Fr.InternalError,message:"Failed to generate commit message"}];let f=u.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:f?f[1].trim():u.value.trim()},null]}o(jSt,"handleGitCommitGenerateChecked");var AQe=ui(ut(WSt,jSt));d();var CQe=Hz.type,sS;function yQe(e){return{title:"Completion Accepted",command:Q_,arguments:[e]}}o(yQe,"makeCommand");async function $St(e,t,r){sS&&(sS.cancel(),sS.dispose());let n=r.context.triggerKind===1;sS=new si.CancellationTokenSource;let i=sS.token,s=new zc([t,i]);r.contextItems&&K8(e,r.contextItems,r.data);let a=eW(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:yQe(Sr()),...p}))},null];let l=await Kp(e,r.textDocument,s),c=r.position,u=await ZG(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:Fr.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:Fr.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(Go);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:yQe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o($St,"handleChecked");var EQe=ut(JF,(e,t,r)=>$St(e,t,r));d();var xQe=$z.type,aS;async function YSt(e,t,r){aS&&(aS.cancel(),aS.dispose());let n=r.context.triggerKind===1;aS=new si.CancellationTokenSource;let i=aS.token,s=new zc([t,i]);r.contextItems&&K8(e,r.contextItems);let a=await Kp(e,r.textDocument,s),l=await ple(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(YSt,"handleChecked");var bQe=ut(JF,(e,t,r)=>YSt(e,t,r));d();d();function Cle(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return X8(i)}o(Cle,"asReadableCert");function X8(e){return e.replace(/\s/g,"")}o(X8,"normalizeNewlines");var JSt=T.Object({});async function XSt(e){return[{certificates:(await e.get(Na).getAllRootCAs()).map(X8)},null]}o(XSt,"handleListCertificatesChecked");var vQe=ut(JSt,XSt);d();async function ZSt(e,t,r){let n=e.get(j1);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=dm(r.textDocument.uri);e.get(dp).onUserPositionChange(i,new so(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:Q_,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(ZSt,"handleChecked");var IQe=ut(aAe,ZSt);d();var eBt=T.Object({uuid:T.String({minLength:1}),acceptedLength:T.Optional(T.Number({minimum:1})),options:T.Optional(Dn)});async function tBt(e,t,r){let n=e.get(Go),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=rBt(r,i);l4(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(tBt,"notifyAcceptedChecked");function rBt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(rBt,"getSuggestionStatus");var TQe=ut(eBt,tBt);d();var nBt=T.Object({uuids:T.Array(T.String()),options:T.Optional(Dn)});async function iBt(e,t,r){let n=e.get(Go),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));BQ(e,"ghostText",s.offset,s.uri,a),e.get(q0).resetState()}return["OK",null]}o(iBt,"notifyRejectedChecked");var wQe=ut(nBt,iBt);d();var oBt=T.Object({uuid:T.String({minLength:1}),options:T.Optional(Dn)});async function sBt(e,t,r){let i=e.get(Go).get(r.uuid);return i&&wF(e,i.triggerCategory,i),["OK",null]}o(sBt,"notifyShownChecked");var _Qe=ut(oBt,sBt);d();var aBt=GEe;async function lBt(e,t,r){let n=e.get(Al),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new Y8(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(lBt,"registerContextProviders");var SQe=ut(aBt,lBt);d();d();var BQe=require("net");function Ele(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(Ele,"getProxyFromEnvironment");function cBt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(cBt,"getRejectUnauthorizedFromEnvironment");var kQe=T.Object({proxy:T.Optional(T.String()),proxyStrictSSL:T.Optional(T.Boolean()),proxyAuthorization:T.Optional(T.String()),proxyKerberosServicePrincipal:T.Optional(T.String())});function RQe(e){let r={proxy:Ele(e),proxyStrictSSL:cBt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(RQe,"getHttpSettingsFromEnvironment");function lS(e){(0,BQe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:uBt(r),proxyAuth:fBt(n,i)}}o(lS,"proxySettingFromUrl");function uBt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(uBt,"parsePort");function fBt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(fBt,"getAuth");d();var ble=T.Object({host:T.String(),port:T.Number(),username:T.Optional(T.String()),password:T.Optional(T.String()),rejectUnauthorized:T.Optional(T.Boolean())}),dBt=T.Object({uri:T.Optional(T.String())}),mBt=T.Object({showEditorCompletions:T.Optional(T.Boolean()),enableAutoCompletions:T.Optional(T.Boolean()),delayCompletions:T.Optional(T.Boolean()),filterCompletions:T.Optional(T.Boolean())}),PQe=T.Object({github:T.Optional(T.Object({copilot:T.Optional(T.Object({}))})),"github-enterprise":T.Optional(dBt),http:T.Optional(kQe),telemetry:T.Optional(T.Object({telemetryLevel:T.Optional(T.String())}))}),vle=Object.keys(PQe.properties).filter(e=>e!=="github"),hBt=T.Intersect([PQe,mBt]),Ile=T.Object({url:T.Optional(T.String())}),pBt=T.Object({settings:T.Optional(T.Union([T.Object({}),T.Array(T.Unknown(),{maxItems:0})])),networkProxy:T.Optional(ble),authProvider:T.Optional(Ile),options:T.Optional(Dn)}),DQe=ta.Compile(pBt),xle=ta.Compile(hBt);async function NQe(e,t){if(!DQe.Check(t))throw new Xu(DQe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&Tle(e,r),t.networkProxy!==void 0&&tW(e,t.networkProxy),t.authProvider&&e.get(vn).updateBaseUrl(e,t.authProvider.url),await cS(e,r)}o(NQe,"notifyChangeConfiguration");function Tle(e,t){for(let i of xle.Errors(t)){let s=i.path.split("/")?.[1];rf.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!xle.Check(t))throw new Xu(xle.Errors(t));let r=e.get(Zu);r.setConfig(qt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(qt.DelayCompletions,t.delayCompletions),r.setConfig(qt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(qt.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(vn).updateBaseUrl(e,n.uri),t.http&&wle(e,t.http),t.github?.copilot&&gBt(e,t.github.copilot)}o(Tle,"applySettingsToConfiguration");function gBt(e,t){let r=e.get(Zu);for(let n of Object.values(qt)){let i=Iye(t,n);r.setConfig(n,i)}}o(gBt,"applyCopilotConfiguration");function wle(e,t){let r=e.get(Zu),n=e.get(Nr);if(t.proxy===void 0&&(t=RQe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=lS(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;rf.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(wle,"applyHttpConfiguration");function tW(e,t){if(!t){e.get(Nr).proxySettings=void 0,e.get(Nr).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Nr).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Nr).rejectUnauthorized=t.rejectUnauthorized??!0}o(tW,"applyNetworkProxyConfiguration");async function cS(e,t){if(!e.get(js).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await $2(e,"agent",r)}await e.get(jr).primeToken()}o(cS,"initializePostConfigurationDependencies");var FQe=T.Object({name:T.String(),version:T.String(),readableName:T.Optional(T.String())}),ABt=T.Object({editorInfo:FQe,editorPluginInfo:FQe,editorConfiguration:T.Optional(T.Object({})),networkProxy:T.Optional(ble),authProvider:T.Optional(Ile),redirectTelemetry:T.Optional(T.Boolean()),options:T.Optional(T.Object({}))});async function yBt(e,t,r){e.get(sn).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),Aq(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&Tle(e,r.editorConfiguration);let n=e.get(Nr),i=e.get(Zu).env,s=Ele(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=lS(s);else if(r.networkProxy){tW(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?tW(e,r.networkProxy):s&&(n.proxySettings=lS(s));return r.authProvider&&e.get(vn).updateBaseUrl(e,r.authProvider.url),await cS(e,r.editorConfiguration),["OK",null]}o(yBt,"handleSetEditorInfoChecked");var LQe=ut(ABt,yBt);d();var CBt=T.Object({options:T.Optional(T.Object({}))});async function EBt(e,t,r){let n=e.get(In).pendingSignIn?.status;if(n===void 0)return[null,{code:Fr.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:Fr.DeviceFlowFailed,message:String(s)}]}finally{e.get(In).pendingSignIn=void 0}}o(EBt,"handleSignInConfirmChecked");var QQe=ut(CBt,EBt);d();var xBt=T.Object({options:T.Optional(T.Object({})),githubAppId:T.Optional(T.String())});async function bBt(e,t,r){try{let n=await e.get(In).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(Ms).findAppIdToAuthenticate(),s=await e.get(MC).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(Ms).githubAppId=i,await e.get(In).setAuthRecord(e,{...l,githubAppId:i}),await e.get(In).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(In).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:Bq,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Ns))throw n;return[null,{code:Fr.DeviceFlowFailed,message:n.message}]}}o(bBt,"handleSignInInitiateChecked");var _le=ut(xBt,bBt);d();var vBt=T.Object({githubToken:T.String({minLength:1}),user:T.String({minLength:1}),githubAppId:T.Optional(T.String({minLength:1}))});async function IBt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(In).setAuthRecord(e,{user:i,oauth_token:n,githubAppId:s}),[await e.get(In).checkAndUpdateStatus(e),null]}o(IBt,"handleSignInWithGithubTokenChecked");var MQe=ut(vBt,IBt);d();var TBt=T.Object({options:T.Optional(T.Object({}))});async function wBt(e,t,r){return await e.get(In).deleteAuthRecord(e),[await e.get(In).checkAndUpdateStatus(e),null]}o(wBt,"handleSignOutChecked");var OQe=ut(TBt,wBt);d();var _Bt=T.Object({});async function SBt(e,t,r){return TCe(e),["OK",null]}o(SBt,"handleTelemetryAuthNotifyDismissedChecked");var UQe=ut(_Bt,SBt);d();var BBt=T.Object({authSource:T.Union([T.Literal("toast"),T.Literal("goldbar"),T.Literal("menu")])});async function kBt(e,t,r){return ICe(e,r.authSource),["OK",null]}o(kBt,"handleTelemetryAuthNotifyShownChecked");var qQe=ut(BBt,kBt);d();var RBt=T.Object({authType:T.Union([T.Literal("editorAuth"),T.Literal("deviceFlow")])});async function DBt(e,t,r){return mF(e,r.authType),["OK",null]}o(DBt,"handleTelemetryGitHubLoginSuccessChecked");var GQe=ut(RBt,DBt);d();var PBt=T.Object({authSource:T.Union([T.Literal("toast"),T.Literal("goldbar"),T.Literal("menu")]),authType:T.Union([T.Literal("editorAuth"),T.Literal("deviceFlow")])});async function NBt(e,t,r){return dF(e,r.authSource,r.authType),["OK",null]}o(NBt,"handleTelemetryNewGitHubLoginChecked");var WQe=ut(PBt,NBt);d();var FBt=T.Object({transaction:T.Optional(T.String()),stacktrace:T.Optional(T.String()),properties:T.Optional(T.Record(T.String(),T.String())),platform:T.Optional(T.String()),exception_detail:T.Optional(T.Array(T.Object({type:T.Optional(T.String()),value:T.Optional(T.String()),stacktrace:T.Optional(T.Array(T.Object({filename:T.Optional(T.String()),lineno:T.Optional(T.Union([T.String(),T.Integer()])),colno:T.Optional(T.Union([T.String(),T.Integer()])),function:T.Optional(T.String()),in_app:T.Optional(T.Boolean())})))})))}),Sle=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};async function LBt(e,t,r){let n=e.get(io),i=e.get(sn).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&Up.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:Kz(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},Up.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Sle(r.stacktrace??"N/A",i.name);return l.stack=void 0,Lo(e,l,void 0,s,a),["OK",null]}o(LBt,"handleTelemetryExceptionChecked");var HQe=ut(FBt,LBt);d();d();d();d();d();d();var VQe=ct(require("tls"));var rW=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Na)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=VQe.createSecureContext({_vscodeAdditionalCaCerts:t});for(let i of t)n.context.addCACert(i);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};var Z8=class extends Nr{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new rW(r),this.proxySocketFactory=r.get(Mp)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(io);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),rde({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new G9(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new S2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new aR}};d();d();d();d();var Ble=class extends Na{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}async getAllRootCAs(){return this.certificates}},jQe=o(e=>new Ble(e),"createTestCertificateReader");function Dle(e,t,r){let n=new kle;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new S2(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(Dle,"createFakeResponse");function $Qe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),Dle(e,n,Object.assign({"content-type":"application/json"},r))}o($Qe,"createFakeJsonResponse");var uS=class extends Nr{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new Rle}};var nW=class extends uS{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var kle=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},Rle=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};var iW=class extends uS{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve($Qe(200,this.fullConfig)):Promise.resolve(Dle(404,""))}},oW=class extends iW{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var sW=class extends Zm{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}async agents(){return this._agents}};d();var aW=class extends La{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}async inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}async inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}async documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var lW=class extends Qa{constructor(){super(...arguments);this.openConversations=new Map;this.steps=[]}static{o(this,"TestConversationProgress")}async begin(r,n,i){this.openConversations.set(r.id,i),this.steps.push({workDoneToken:i,conversationId:r.id,turnId:n.id,type:"BEGIN",agentSlug:n.agent?.agentSlug})}async cancel(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"CANCEL",error:i}),this.openConversations.delete(r.id)}async end(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"END",...i}),this.openConversations.delete(r.id)}async report(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"REPORT",...i,steps:this.copyPayloadSteps(i)})}copyPayloadSteps(r){return r.steps?.map(n=>({id:n.id,title:n.title,description:n.description,status:n.status,error:n.error}))||[]}getWorkDoneToken(r){let n=this.openConversations.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n}};d();function QBt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(QBt,"fakeChatModelConfiguration");function MBt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o(MBt,"fakeEmbeddingModelConfiguration");var cW=class extends Xn{static{o(this,"TestModelConfigurationProvider")}async getBestChatModelConfig(t){let r=t[0];return QBt(r)}async getFirstMatchingEmbeddingModelConfiguration(t){return MBt(t)}};d();var uW=class extends Xa{constructor(){super(...arguments);this.settings=new Map}static{o(this,"InMemoryPersistenceManager")}get directory(){throw new Error("Not supported")}async read(r,n){try{return this.readJsonObject(r)[n]}catch{return}}async update(r,n,i){let s=this.readJsonObject(r);s[n]=i,this.settings.set(r,s)}async delete(r,n){let i=this.readJsonObject(r);delete i[n],this.settings.set(r,i)}async deleteSetting(r){this.settings.delete(r)}async listSettings(){return[...this.settings.keys()]}async listKeys(r){return Object.keys(this.readJsonObject(r))}readJsonObject(r){return this.settings.get(r)??{}}};d();var fW=class extends Gl{constructor(){super(...arguments);this.openedUrls=[];this.opened=new hv}static{o(this,"TestUrlOpener")}async open(r){this.openedUrls.push(r),this.opened.resolve()}},dW=class extends dl{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function Ple(e,t,r,n){return M0.create(xo.parse(e.toString(),!0).toString(),t,r,n,t)}o(Ple,"createTextDocument");var Nle=class extends Wr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r}async openTextDocument(r){return super.openTextDocument(r)}getOpenTextDocuments(){return this._openTextDocuments}setTextDocument(r,n,i){let s=Ple(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=Ple(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},mW=class extends Nle{constructor(r){super(r);this._closedTextDocuments=[]}static{o(this,"TestTextDocumentManager")}async openTextDocument(r){return this._closedTextDocuments.find(n=>n.uri===r)}setClosedTextDocument(r,n,i){this._closedTextDocuments.push(Ple(r,n,0,i))}};var Fle=class extends ba{static{o(this,"NullLog")}logIt(...t){}};function OBt(e){let t=new pv;return t.set(ep,e),t.set(io,new io),t.set(Nf,new Nf({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Na,jQe([])),t.set(Mp,fU(t)),t.set(Lh,new Lh),t.set(Qf,new zD),t.set(Du,new Du),t.set(Vh,new Vh),t.set($h,new $h),t.set(Ml,new Ml(t,"tid=test",!0)),t.set(ps,new ps),t.set(dl,new dW),t.set(Gl,new fW),t.set(zh,new rI),t.set(ba,new Fle),t.set(xc,new xc),t.set(us,new us("test-session","test-machine")),t.set(vn,new g8(t)),t.set(yu,new yu),$2(t,"copilot-test",!0),t.set(er,new er(t)),t.set(Ru,new Ru),t.set(Em,new rv),t.set(jr,new Ry("tid=test")),t.set(Yi,new oP),t.set(yo,new yo),t.set(id,TQ(t)),t.set(Cm,new Cm),t.set(q0,new q0),t.set(od,new od),t.set(E1,E1.default),t.set(zu,new zu),t.set(Uf,new Uf(t,!1)),t.set(Ms,new Ms),t.set(zn,new zn(t)),t.set(Bu,new hF),t.set(Ba,new Ba),t.set(Al,gQ(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),UBt(t),t.set(Im,new Im(t)),t}o(OBt,"_createBaselineContext");function UBt(e){e.set(Wi,new Wi(e)),e.set(Qa,new lW),e.set(Jl,new Jl(e)),e.set(Ma,new Ma),e.set(_l,new _l),e.set(La,new aW),e.set(wd,new wd(e,[])),e.set(Xn,new cW),e.set(Zm,new sW),e.set(Wp,new Wp(e)),e.set(vy,new vy),e.set(Oa,new Oa(e)),e.set(ec,new ec),e.set(tf,new tf)}o(UBt,"registerConversation");function zQe(){let e=OBt(new nv);return e.set(Nr,new nW),e.set(sn,new Lle),e.set(Wr,new mW(e)),e.set(Qo,new $b),e.set(Sa,new Sa(e)),e.set(Xa,new uW),e.set(Fa,new Fa(e)),e.set(Il,new gU(e)),e}o(zQe,"createLibTestingContext");var Lle=class extends sn{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var KQe=ct(require("fs"));var YQe=`${process.env.HOME}/.copilot-testing-gh-token`,hW,pW;async function JQe(e){e.forceSet(jr,new Ry(await qBt()))}o(JQe,"setTestingCopilotTokenManager");var qBt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(pW)return pW;let t=e||process.env.GITHUB_COPILOT_TOKEN||await GBt(),r=zQe(),n=new Z8(r);return r.forceSet(Nr,n),pW=iP(r,{token:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Ns('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),pW},"getCopilotToken");async function GBt(){try{hW??=(await KQe.promises.readFile(YQe)).toString().trim()}catch{hW??=process.env.GITHUB_TOKEN??""}if(!hW)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${YQe}. Run "npm run get_token" to get one.`);return hW}o(GBt,"getTestingGitHubToken");function XQe(e){return new Jg({token:`test token ${Sr()}`,refresh_in:0,expires_at:0,...e})}o(XQe,"createTestCopilotToken");var Ry=class extends jr{constructor(r){super();this.token=r;this.wasReset=!1}static{o(this,"FixedCopilotTokenManager")}async getGitHubSession(){return Promise.resolve({token:`copilot-client test oauth token ${Sr()}`})}async getToken(){return XQe({token:this.token})}resetToken(){this.wasReset=!0}async checkCopilotToken(){return{status:"OK"}}};var gW=class extends In{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getAuthRecord(){return Promise.resolve(void 0)}async checkAndUpdateStatus(t,r){return{status:"NotSignedIn"}}},AW=class extends In{static{o(this,"AlwaysAuthManager")}constructor(){super(null,new Ry("tid=valid-copilot-token"))}getAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:""})}};var WBt=T.Object({options:T.Optional(T.Object({}))});async function HBt(e,t,r){return e.forceSet(In,new AW),e.get(jr).resetToken(),e.get(Yi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(HBt,"handleTestingAlwaysAuthChecked");var ZQe=ut(WBt,HBt);d();var VBt=T.Object({options:T.Optional(Dn),messages:T.Array(T.Object({role:T.Enum(Kl),content:T.String(),name:T.Optional(T.String())})),modelFamily:T.Optional(T.Enum(Qi)),stop:T.Optional(T.Array(T.String())),conversationOptions:T.Optional(T.Object({maxResponseTokens:T.Optional(T.Number()),temperature:T.Optional(T.Number())}))});async function jBt(e,t,r){let n=new ua(e),i=await e.get(Xn).getBestChatModelConfig([r.modelFamily??Qi.Gpt35turbo]),s=await Ka(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:Y0.user("test",Sr())},t,s),null]}o(jBt,"handleChatMLChecked");var eMe=ui(ut(VBt,jBt));d();d();var tMe=require("crypto"),rMe=require("http"),nMe=require("stream"),iMe=require("util"),t6=ct(n1());var $Bt=9e4,zBt=new t6.ProtocolRequestType("copilot/fetch"),YBt=new t6.ProtocolRequestType("copilot/fetchCancel"),KBt=new t6.ProgressType,JBt=new t6.ProtocolRequestType("copilot/fetchDisconnectAll"),Zp=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},e6=class extends Nr{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(io).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(Kr).connection.sendRequest(JBt,{})}makeAbortController(){return new aR}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get(Kr).connection,a=(0,tMe.randomUUID)(),l=new si.CancellationTokenSource,c=new nMe.PassThrough,u=o(()=>{s.sendRequest(YBt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new Mx("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof ide))throw new Zp("EditorFetcher received unexpected abort signal");if(i.aborted)throw new Mx("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress(KBt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new Zp(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let A=setTimeout(()=>{p(new Zp("Request timed out from lsp server"))},n.timeout??$Bt),E=o(()=>{p(new Mx("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",E),s.sendRequest(zBt,ZBt(r,a,n),l.token).then(h).catch(x=>{let v="EditorFetcher request failed";x&&typeof x=="object"&&"message"in x&&(v+=`: ${String(x.message)}`),x&&typeof x=="object"&&"data"in x&&(v+=`: ${(0,iMe.inspect)(x.data)}`),p(new Zp(v))}).finally(()=>{i?.removeEventListener("abort",E),clearTimeout(A)})});if(!m.status)throw new Zp("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new S2(m.status,rMe.STATUS_CODES[m.status]??"",new nde(m.headers),()=>XBt(c),()=>c)}};function XBt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(XBt,"consumeStream");function ZBt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(ZBt,"convertOptionsToParams");var ekt=T.Object({url:T.String(),headers:T.Optional(T.Record(T.String(),T.String())),body:T.Optional(T.String()),timeout:T.Optional(T.Number()),method:T.Optional(T.Union([T.Literal("GET"),T.Literal("POST")])),cancelBeforeRequest:T.Optional(T.Boolean()),cancelAfterRequest:T.Optional(T.Boolean()),cancelAfterFirstChunk:T.Optional(T.Boolean())});async function tkt(e,t,r){let n=new e6(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(E){return[{error:`Fetch stream error: ${E instanceof Zp?E.message:String(E)}`},null]}let{status:p}=h,A=Object.fromEntries(Array.from(h.headers));try{if(u){let x=h.body();for await(let v of x){let b=v.toString();return i.abort(),[{status:p,headers:A,body:b},null]}}let E=await h.text();return[{status:p,headers:A,body:E},null]}catch(E){return[{error:`Fetch stream error: ${E instanceof Zp?E.message:String(E)}`},null]}}o(tkt,"handleTestingFetchChecked");var oMe=ut(ekt,tkt);d();var rkt=T.Object({});async function nkt(e,t,r){return await e.get(yo).flush(),["OK",null]}o(nkt,"handleTestingFlushPromiseQueueChecked");var sMe=ut(rkt,nkt);d();var ikt=T.Object({uri:T.String()});async function okt(e,t,r){let i=await e.get(Wr).getTextDocument(r);return[{uri:r.uri,languageId:i?.languageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(okt,"handleGetDocumentChecked");var aMe=ut(ikt,okt);d();var skt=T.Object({});async function akt(e,t,r){let n=e.get(ps),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof jg)||!(s instanceof jg||s===void 0))return[null,{code:Fr.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(yo);return a instanceof kb&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(akt,"handleTestingGetTelemetryChecked");var lMe=ut(skt,akt);d();var lkt=T.Object({options:T.Optional(T.Object({}))});async function ckt(e,t,r){e.forceSet(In,new gW),e.get(jr).resetToken();try{await e.get(jr).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(ckt,"handleTestingNeverAuthChecked");var cMe=ut(lkt,ckt);d();var ukt=T.Object({expFlags:T.Record(T.String(),T.Union([T.String(),T.Number(),T.Boolean()]))});async function fkt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Nr,new oW(n,e.get(Nr)))}return["OK",null]}o(fkt,"handleTestingOverrideExpFlagsChecked");var uMe=ut(ukt,fkt);d();var dkt=T.Object({rules:EX});async function mkt(e,t,r){let n=e.get(Sa);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:Fr.InternalError,message:"Could not set content exclusion rules"}]}o(mkt,"handleTestingSetContentExclusionRulesChecked");var fMe=ut(dkt,mkt);d();var hkt=T.Object({workDoneToken:T.Union([T.String(),T.Number()]),chunks:T.Array(T.String()),followUp:T.Optional(T.String()),suggestedTitle:T.Optional(T.String()),skills:T.Optional(T.Array(T.String())),references:T.Optional(T.Array(P8)),options:T.Optional(T.Object({}))});async function pkt(e,t,r){return e.get(Jp).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(pkt,"handleTestingSetSyntheticTurnsChecked");var dMe=ut(hkt,pkt);d();var gkt=T.Object({telemetryCapture:T.Boolean()});async function Akt(e,t,r){return r.telemetryCapture?(await $2(e,"agent",!1),e.get(ps).setReporter(new jg),e.get(ps).setRestrictedReporter(new jg),e.forceSet(yo,new kb)):(await $2(e,"agent",!0),e.forceSet(yo,new yo)),["OK",null]}o(Akt,"handleTestingSetTelemetryCaptureChecked");var mMe=ut(gkt,Akt);d();var ykt=T.Object({});async function Ckt(e,t,r){let n=e.get(dl),i=e.get(ba);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];async function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(Ckt,"handleTriggerShowMessageChecked");var hMe=ut(ykt,Ckt);d();var Ekt=T.Object({options:T.Optional(T.Object({})),githubAppId:T.Optional(T.String())}),Qle=class extends In{constructor(r,n){super(void 0,r);this.githubAppId=n;this.user="user"}static{o(this,"FakeAuthManager")}getAuthRecord(){return Promise.resolve({user:this.user,oauth_token:"",githubAppId:this.githubAppId})}};async function xkt(e,t,r){return await JQe(e),e.forceSet(In,new Qle(e.get(jr),r.githubAppId)),["OK",null]}o(xkt,"handleTestingUseTestingTokenChecked");var pMe=ut(Ekt,xkt);d();var bkt=T.Object({});async function vkt(e,t,r){return await new R8().uninstall(e),["OK",null]}o(vkt,"handleUninstallChecked");var gMe=ut(bkt,vkt);d();var Ikt=WEe;async function Tkt(e,t,r){let n=e.get(Al),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(Tkt,"unregisterContextProviders");var AMe=ut(Ikt,Tkt);d();var Mle=ct(require("os"));var wkt=T.Object({expectedCertificate:T.String()});async function _kt(e,t,r){let i=(await cU(e).getAllRootCAs()).map(X8),s=X8(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${Cle(s)}. Only found those installed on the system:${Mle.EOL}${i.map(a=>"- "+Cle(a)).join(Mle.EOL)}`},null]}o(_kt,"handleVerifyCertificateChecked");var yMe=ut(wkt,_kt);d();var Skt=T.Object({});async function Bkt(){return[{status:!!new a_().load()},null]}o(Bkt,"handleVerifyKerberosChecked");var CMe=ut(Skt,Bkt);d();var kkt=T.Object({source:T.String(),version:T.Number(),uri:T.String()});async function Rkt(e,t,r){let i=await e.get(Wr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(Rkt,"handleVerifyStateChecked");var EMe=ut(kkt,Rkt);d();var Dkt=T.Object({});async function Pkt(e,t,r){return[e.get(Wr).getWorkspaceFolders().map(i=>({...i,...xo.parse(i.uri)})),null]}o(Pkt,"handleVerifyWorkspaceStateChecked");var xMe=ut(Dkt,Pkt);var aE=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function bMe(){let e=new Map;return e.set(CQe.method,EQe),e.set(xQe.method,bQe),e.set("getCompletions",fQe),e.set("getCompletionsCycling",dQe),e.set("getPanelCompletions",pQe),e.set(YLe.method,KLe),e.set("getVersion",gQe),e.set("setEditorInfo",LQe),e.set("checkStatus",pNe),e.set("checkFileStatus",hNe),e.set("signInInitiate",_le),e.set("signIn",_le),e.set("signInConfirm",QQe),e.set("signInWithGithubToken",MQe),e.set("signOut",OQe),e.set("notifyShown",_Qe),e.set("notifyAccepted",TQe),e.set("notifyRejected",wQe),e.set("telemetry/exception",HQe),e.set("telemetry/authNotifyDismissed",UQe),e.set("telemetry/authNotifyShown",qQe),e.set("telemetry/gitHubLoginSuccess",GQe),e.set("telemetry/newGitHubLogin",WQe),e.set("textDocument/copilotInlineEdit",IQe),e.set("testing/overrideExpFlags",uMe),e.set("testing/alwaysAuth",ZQe),e.set("testing/neverAuth",cMe),e.set("testing/useTestingToken",pMe),e.set("testing/setCompletionDocuments",aQe),e.set("testing/setPanelCompletionDocuments",$Le),e.set("testing/triggerShowMessageRequest",hMe),e.set("testing/getTelemetry",lMe),e.set("testing/setTelemetryCapture",mMe),e.set("testing/flushPromiseQueue",sMe),e.set("testing/getDocument",aMe),e.set("testing/chatml",eMe),e.set("testing/setSyntheticTurns",dMe),e.set("testing/fetch",oMe),e.set("testing/setContentExclusionRules",fMe),e.set("testing/setCopilotEditsResponse",QLe),e.set("uninstall",gMe),e.set("debug/diagnostics",eQe),e.set("debug/listCertificates",vQe),e.set("debug/verifyState",EMe),e.set("debug/verifyCertificate",yMe),e.set("debug/verifyKerberos",CMe),e.set("debug/verifyWorkspaceState",xMe),e.set("context/registerProviders",SQe),e.set("context/unregisterProviders",AMe),e.set("conversation/preconditions",RLe),e.set("conversation/persistence",SLe),e.set("conversation/create",wLe),e.set("conversation/turn",NLe),e.set("conversation/turnDelete",FLe),e.set("conversation/destroy",_Le),e.set("conversation/rating",DLe),e.set("conversation/copyCode",ELe),e.set("conversation/insertCode",xLe),e.set("conversation/templates",PLe),e.set("conversation/agents",CLe),e.set("copilot/models",GLe),e.set("copilot/setModelPolicy",WLe),e.set("copilot/codeReview",LLe),e.set("git/commitGenerate",AQe),e.set("editConversation/create",MLe),e.set("editConversation/turn",ULe),e.set("editConversation/turnDelete",qLe),e.set("editConversation/destroy",OLe),new aE(e)}o(bMe,"getAllMethods");d();d();d();var vMe=ct(n1());var nA=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new vMe.NotificationType(this.name)}};var Ole=class extends nA{constructor(){super(...arguments);this.name=Uz.method;this.params=K1e}static{o(this,"DidChangeAuthNotificationHandler")}async handle(r){let n=this.ctx.get(In);r?.handle&&r?.accessToken?n.setTransientAuthRecord(this.ctx,{oauth_token:r.accessToken,user:r.handle,githubAppId:r.githubAppId}):n.setTransientAuthRecord(this.ctx,null)}},IMe=[Ole];d();var Ule=class extends nA{constructor(){super(...arguments);this.name=Vz.method;this.params=iAe}static{o(this,"DidShowCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(Go).get(n);s&&sIe(this.ctx,s)}},qle=class extends nA{constructor(){super(...arguments);this.name=jz.method;this.params=oAe}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(Go),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?kQ(this.ctx,a):aIe(this.ctx,a,i))}},TMe=[Ule,qle];d();var yW=class extends nA{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=T.Object({token:T.Union([T.String(),T.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(rc).cancel(r.token)}};var Nkt=[...IMe,...TMe,yW];function wMe(e,t){for(let r of Nkt){let n=new r(e),i=ta.Compile(n.params);t.onNotification(n.type,pu(e,async s=>{$1(s),i.Check(s)?await n.handle(s):rf.error(e,`Notification ${n.name}:`,new Xu(i.Errors(s)))},`Notification ${n.name}`))}}o(wMe,"registerNotifications");d();var SMe=ct(require("events")),CW=ct(L0());var _Me=new Er("AgentTextDocumentConfiguration"),Gle=class{constructor(t){this.ctx=t;this.emitter=new SMe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return M0.create(t,r,n,i)}catch(s){throw _Me.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(CW.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:t,contentChanges:i};return this.emitter.emit("change",s),M0.withChanges(t,r,n)}catch(i){throw _Me.exception(this.ctx,i,".update"),i}}},Dy=class extends Wr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(Wz.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new Gle(r),this._notebookDocuments=new CW.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(Kr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(dm(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:s,contentChanges:[]})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=dm(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=dm(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getOpenTextDocuments(){return[...this._documents.values()]}getOpenTextDocument(r){return this._documents.get(dm(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var BMe=ta.Compile(tAe);function $1(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=$1(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=$1(t[r])}return e}}o($1,"purgeNulls");var Kr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(ba)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),wMe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(io).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...vle].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of vle)f[m]=u.shift();c.settings=f}return NQe(t,$1(c))}catch(u){rf.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(Dy).didChangeWorkspaceFolders(c),t.get(zu).emit(c)}catch(u){rf.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=$1(c.initializationOptions);if(f){if(!BMe.Check(f))throw new Xu(BMe.Errors(f));let A=f,E=t.get(sn);A.editorPluginInfo?E.setEditorAndPluginInfo({version:"unknown",...A.editorPluginInfo},A.editorInfo&&{version:"unknown",...A.editorInfo},A.relatedPluginInfo??[]):rf.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),A.copilotIntegrationId&&E.setCopilotIntegrationId(A.copilotIntegrationId),A.githubAppId&&(t.get(Ms).githubAppId=A.githubAppId),A.copilotCapabilities&&(u=A.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(Dy).init(c.workspaceFolders??[]),gve(this.ctx),t.get(zu).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(js).setCapabilities(u),"openURL"in u&&Aq(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,rf.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await s({}):await cS(t),this.installationTelemetryTimer=setTimeout(()=>{new R8().startup(t).catch(()=>{})},1e3),t.get(z1).emit(),Rve(t))},"onInitialized");return r.onInitialized(pu(t,p,"onInitialized")),t.get(Km).init(),u?.token&&t.get(In).setTransientAuthRecord(t,null),u?.redirectedTelemetry&&await dNe(t),kMe.lt(process.versions.node,"20.8.0")&&rf.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:th.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:sNe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(pu(t,s,"onDidChangeConfiguration")),r.listen();let l=new Rq;this.ctx.forceSet(ba,l)}async messageHandler(t,r,n){let i=this.ctx.get(aE).handlers.get(t);if(!i)return new th.ResponseError(Fr.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new th.ResponseError(Fr.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new th.ResponseError(Fr.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!lNe(this.ctx.get(sn)))throw new th.ResponseError(Fr.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),$1(r);try{let[s,a]=await i(this.ctx,n,r);return a?new th.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new th.ResponseError(Fr.RequestCancelled,"Request was canceled");if(s instanceof Ns)return new th.ResponseError(Fr.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof th.ResponseError||rf.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){this.ctx.forceSet(ba,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),Iee(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(yo).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(ps).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},rf=new Er("lsp");var EW=class e extends o4{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(Kr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),za.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){za.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(js).getCapabilities().related??!1;if(await e.relatedCapabilityTelemetry(this.context,n,s),!s)return za.debug(this.context,"`copilot/related` not supported"),Ave;try{let a=await this.service.connection.sendRequest(zz.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){return za.exception(this.context,a,".copilotRelated"),null}}static{this.telemetrySent=!1}static async relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,Xt(r,"copilotRelated.hasRelatedCapability",n)}catch(s){za.exception(r,s,"copilotRelated")}}};d();var DMe=ct(L0());var RMe=new Er("copilotTokenManager"),Wle=class e extends Hb{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new DMe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(Kr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw RMe.debug(this.ctx,"Envelope missing from copilot/token response"),new Mf({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;RMe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new Jg(a);if(c.isExpired())throw new Ns("Expired token in copilot/token response");if(i&&n)this.ctx.get(In).setTransientAuthRecord(this.ctx,{user:i,oauth_token:n,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new Mf({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(vn).updateBaseUrlFromTokenEndpoint(this.ctx,l),A7(this.ctx,c),a}catch(r){throw r instanceof Error?new Ns(r.message,r):r}}},fS=class extends jr{constructor(r,n=new Hb(r)){super();this.ctx=r;this.fallback=n;this.client=new Wle(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(js).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var Fkt=new Er("Public Code References"),xW=class extends Bu{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");Fkt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(js).getCapabilities().ipCodeCitation===!0&&await t.get(Kr).connection.sendNotification(qz.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function PMe(e){Lkt(e)}o(PMe,"activateExtensibilityPlatformFeature");function Lkt(e){e.set(Zm,new qG(e)),e.set(Wp,new Wp(e))}o(Lkt,"registerContextDependencies");d();var NMe=T.String(),Hle=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(vW,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},vW="build-logs",bW=class extends Tl{static{o(this,"BuildLogsSkill")}constructor(t){super(vW,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new Hle(r))}};d();var FMe=T.Object({files:T.Array(X0)}),Qkt=3,Vle=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=await this.toElidableDocs(r),i=Ty(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=await this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(zn),i=[];for(let s of r){let a=await n.readFile(s.uri),l=os(a);if(await this.turnContext.collectFile(TW,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===Qkt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}async filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}async toElidableDocs(t){return await Promise.all(t.map(async r=>{let[n,i]=r,s=await this.turnContext.ctx.get(zn).getRelativePath(n),a=new Hp(n,void 0,i.visibleRange);return new rr([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])}))}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(Xn).getBestChatModelConfig(Xo("user"))).maxRequestTokens,n=t.makePrompt(Math.floor(r*.1));return new rr([n])}},TW="recent-files",IW=class extends Tl{static{o(this,"RecentFilesSkill")}constructor(t){super(TW,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new Vle(r))}};d();var LMe=T.String(),jle=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(_W,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},_W="runtime-logs",wW=class extends Tl{static{o(this,"RuntimeLogsSkill")}constructor(t){super(_W,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new jle(r))}};d();var SW=ct(n1());var BW=class extends La{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return BD(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(Kr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new SW.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new SW.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new SW.NotificationType("conversation/documentDiff"),r)}};d();var QMe=ct(L0());var kW=new QMe.ProgressType,RW=class extends Qa{constructor(r){super();this.ctx=r;this.workDoneTokens=new Rn(250)}static{o(this,"AgentConversationProgress")}async begin(r,n,i){this.workDoneTokens.set(r.id,{status:"open",token:i}),await this.ctx.get(Kr).connection.sendProgress(kW,i,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&await this.ctx.get(Kr).connection.sendProgress(kW,s.token,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"done",token:s.token,updatedAt:Date.now()}),await this.ctx.get(Kr).connection.sendProgress(kW,s.token,{kind:"end",conversationId:r.id,turnId:n.id,...i}))}async cancel(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"cancelled",token:s.token,updatedAt:Date.now()}),await this.ctx.get(Kr).connection.sendProgress(kW,s.token,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i}))}getWorkDoneToken(r){let n=this.workDoneTokens.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n.status!=="open"&&_n.error(this.ctx,`Work done token for conversation ${r.id} is already ${n.status}, last updated at ${n.updatedAt}`),n}};d();var MMe=ct(L0());var dS=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(wd).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(Kr).connection.sendNotification(new MMe.NotificationType(this.notificationEndpoint),t)}};function OMe(e){Mkt(e),Okt(e),PMe(e)}o(OMe,"activateConversationFeature");function Mkt(e){e.set(Wi,new Wi(e)),e.set(_l,new _l),e.set(Jl,new Jl(e)),e.set(Xn,new _U(e)),e.set(Jp,new Jp),e.set(Qa,new RW(e)),e.set(wd,new wd(e)),e.set(dS,new dS(e)),e.set(xu,new lP(e,new aP(e))),e.set(eA,new eA),e.set(vy,new vy),e.set(La,new BW(e)),e.set(Oa,new Oa(e)),e.set(ec,new ec),e.set(tf,new tf)}o(Mkt,"registerContextDependencies");function Okt(e){let t=new Ma;t.registerSkill(new Xq(new Jq(e))),t.registerSkill(new TG(new tc(e,zp,cLe))),t.registerSkill(new eG(new tc(e,Jm,tFe))),t.registerSkill(new Qq(new tc(e,b0,vNe))),t.registerSkill(new wG),t.registerSkill(new IW(new tc(e,TW,FMe))),t.registerSkill(new Mq(new tc(e,J4,TNe))),t.registerSkill(new rG(new tc(e,wy,fFe))),t.registerSkill(new wW(new tc(e,_W,LMe))),t.registerSkill(new bW(new tc(e,vW,NMe))),t.registerSkill(new iG(new tc(e,Xm,dFe))),t.registerSkill(new oG(new tc(e,eE,hFe))),e.set(Ma,t)}o(Okt,"registerSkills");d();var UMe=ct(Ii());var DW=class extends Il{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(Kr).connection.sendProgress(new UMe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var qMe=ct(n1());var mS=class{constructor(t){this.ctx=t;this.notificationEndpoint="featureFlagsNotification";Va(t,async r=>{let n=!1,i=t.get(er),s=await i.updateExPValuesAndAssignments(),a=i.contextProviders(s).includes("java-lsp-context-provider"),l=!1;r.envelope.chat_enabled&&(n=i.ideChatEnableProjectContext(s),l=i.ideEnableCopilotEdits(s));let c={};r.envelope.xcode_chat&&r.envelope.chat_enabled&&(c.xc=!0);let u={},f=i.contextProviders(s);f.length>0&&(u.ExpContextProviders=f);let m=new Map;pQ(t,m,s);for(let[h,p]of m.entries())u[h]=p;await this.sendNotification({rt:r.getTokenValue("rt")==="1",sn:r.getTokenValue("sn")==="1",chat:r.envelope.chat_enabled??!1,ic:r.envelope.chat_enabled??!1,pc:n,jcp:a||iC(t),ce:l,ae:u,...c})})}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){await this.ctx.get(Kr).connection.sendNotification(new qMe.NotificationType(this.notificationEndpoint),t)}};d();var PW=class extends Yi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(Kr).connection.sendNotification(Yz.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(Kr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var GMe=new $b;d();d();var Ukt=new Er("fetcher"),qkt="https://default.exp-tas.com/",NW=class extends Nr{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(ou(i)||`${r}/`.startsWith(qkt))throw i;Ukt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var WMe=new Er("fetcher"),FW=class extends Nr{constructor(r,n=new Z8(r),i=new e6(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new NW(r,n,i,()=>{WMe.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(z1).once(()=>{this.updateFetcher()}),r.get(Zu).onConfigChange(qt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=ai(r,qt.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(js).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=ai(this.ctx,qt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(WMe.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var LW=class extends dl{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(Kr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var HMe=ct(require("crypto")),VMe=require("os");var Gkt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function Wkt(e){let t=e.replace(/-/g,":").toLowerCase();return!Gkt.has(t)}o(Wkt,"validateMacAddress");function Hkt(){let e=(0,VMe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(Wkt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(Hkt,"getMac");var $le;function Vkt(){try{let e=Hkt();return HMe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(Vkt,"getMacMachineId");function jMe(){return $le||($le=Vkt()||Sr()),$le}o(jMe,"getMachineId");var jkt=Sr()+Date.now(),$Me=new us(jkt,jMe());d();var QW=class extends Gl{constructor(r,n=new nP){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(Kr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}};d();d();var MW=class extends gq{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(Km).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(Km).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(Km).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var OW=class extends Ym{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new MW(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(js).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function zMe(e){let t=new Zu(process.env),r=rRe(t);r.set(Zu,t),r.set(js,new js),r.set(z1,new z1),r.set(Nr,new FW(r)),r.set(ua,new ua(r)),wle(r,{});let n=lDe();r.set(Xa,n);let i=new fS(r);r.set(jr,i),r.set(fS,i);let s=new eT(r,n);r.set(eT,s),r.set(In,new In(s,i)),r.set(MC,new MC),r.set(us,$Me),r.set(sn,new kq),r.set(aE,bMe()),r.set(Go,new Go),r.set(Qo,GMe),r.set(o4,new EW(r)),r.set(Ym,new OW(r)),r.set(Km,new Km(r)),r.set(Ba,new Ba),r.set(Al,gQ(r,iQe)),QEe(r),r.set(Kr,new Kr(r,e)),r.set(dl,new LW(r)),r.set(Gl,new QW(r)),r.set(Yi,new PW(r)),r.set(mS,new mS(r));let a=new Dy(r);return r.set(Wr,a),r.set(Dy,a),r.set(zn,new zn(r)),r.set(vn,new g8(r)),r.set(Sa,new Sa(r)),OMe(r),IRe(r),r.set(rc,new rc),r.set(ky,new ky),r.set(eh,new eh),r.set(Bu,new xW),r.set(Xp,new Xp),r.set(dp,new zv(r)),r.set(j1,new j1(r)),r.set(G1,new G1(r)),r.set(Fa,new Fa(r)),r.set(Il,new DW(r)),r}o(zMe,"createLanguageServerContext");d();var zle=require("events"),hS=ct(require("fs"));var qW=ct(L0());d();var KMe=ct(require("fs")),JMe=ct(require("http")),r6=ct(require("path"));var UW=class{constructor(t,r){this.port=t;let n;this.server=JMe.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{YMe(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{YMe(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;r6.basename(__dirname)!=="debug"&&(a=r6.dirname(__dirname)),n??=KMe.readFileSync(r6.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function YMe(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(YMe,"writeData");var Yle=class extends qW.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},Kle=class extends qW.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function XMe(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new zle.EventEmitter;let l=new UW(i,n).listen();i===0&&await rP(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=hS.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=hS.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&hS.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new zle.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new Kle(t,n),r=new Yle(r,n)),[t,r]}o(XMe,"wrapTransports");async function tOe(){let e=vCe(process.argv.slice(2)).version(new io().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new Sd.IPCMessageReader(process),n=new Sd.IPCMessageWriter(process)):t.stdio?(r=new Sd.StreamMessageReader(process.stdin),n=new Sd.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await ZMe.mkdtemp(eOe.default.tmpdir()+"/github-copilot-"));let i=(0,Sd.createConnection)(Sd.ProposedFeatures.all,...await XMe(process.env,r,n)),s=zMe(i);console=Tye(s);let a=s.get(Kr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(tOe,"main");require.main===module&&tOe();0&&(module.exports={getTokenizer,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
